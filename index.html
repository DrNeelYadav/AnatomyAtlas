<!DOCTYPE html>
<html lang="en" class="js">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>e-Anatomy - Advanced MRI Brain Atlas</title>
    <!-- External Stylesheets -->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Roboto+Mono&display=swap" rel="stylesheet">
</head>
<body class="flex flex-col min-h-screen">

    <!-- SVG Icons Definition -->
    <svg width="0" height="0" class="hidden">
        <symbol id="icon-axial" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM4 12H2.21c.33-4.93 4.39-8.79 9.45-8.79v1.8c-4.01 0-7.26 3.01-7.66 6.99z"/></symbol>
        <symbol id="icon-coronal" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2c-3.31 0-6 2.69-6 6v8c0 3.31 2.69 6 6 6s6-2.69 6-6V8c0-3.31-2.69-6-6-6zm4 14c0 2.21-1.79 4-4 4s-4-1.79-4-4V8c0-2.21 1.79-4 4-4s4 1.79 4 4v8zM4 12H2v-1c0-4.97 4.03-9 9-9h1v2H11c-3.86 0-7 3.14-7 7v1z"/></symbol>
        <symbol id="icon-sagittal" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-5-9h10v2H7v-2z"/></symbol>
        <symbol id="icon-layout-1x1" viewBox="0 0 24 24"><path fill="currentColor" d="M3 3v18h18V3H3zm16 16H5V5h14v14z"/></symbol>
        <symbol id="icon-layout-2x2" viewBox="0 0 24 24"><path fill="currentColor" d="M3 3v18h18V3H3zm8 16H5v-8h6v8zm0-10H5V5h6v4zm8 10h-6v-8h6v8zm0-10h-6V5h6v4z"/></symbol>
    </svg>

    <!-- Header -->
    <header class="header shadow-md">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-3"><i class="fas fa-brain text-3xl text-blue-600"></i><h1 class="text-2xl font-extrabold text-gray-800">e-Anatomy</h1></div>
            <nav class="hidden lg:flex items-center space-x-8 font-medium">
                <div class="relative dropdown">
                    <a href="#" class="text-gray-600 hover:text-blue-600 transition dropdown-toggle">Anatomy <i class="fas fa-chevron-down text-xs ml-1"></i></a>
                    <div class="dropdown-menu mega-menu absolute hidden bg-white shadow-lg rounded-md mt-2 p-6 w-[600px]">
                        <div class="grid grid-cols-3 gap-6">
                            <div>
                                <h4 class="font-bold text-gray-800 mb-2">Head & Neck</h4>
                                <a href="#" class="block text-gray-600 hover:text-blue-500 text-sm mb-1">Brain</a>
                                <a href="#" class="block text-gray-600 hover:text-blue-500 text-sm mb-1">Skull Base</a>
                            </div>
                            <div>
                                <h4 class="font-bold text-gray-800 mb-2">Thorax & Abdomen</h4>
                                <a href="#" class="block text-gray-600 hover:text-blue-500 text-sm mb-1">Lungs</a>
                                <a href="#" class="block text-gray-600 hover:text-blue-500 text-sm mb-1">Heart</a>
                            </div>
                            <div>
                                <h4 class="font-bold text-gray-800 mb-2">Musculoskeletal</h4>
                                <a href="#" class="block text-gray-600 hover:text-blue-500 text-sm mb-1">Shoulder</a>
                                <a href="#" class="block text-gray-600 hover:text-blue-500 text-sm mb-1">Knee</a>
                            </div>
                        </div>
                    </div>
                </div>
                <a href="#" class="text-gray-600 hover:text-blue-600 transition">Cases</a>
                <a href="#" class="text-gray-600 hover:text-blue-600 transition">Courses</a>
                <a href="#" class="text-gray-600 hover:text-blue-600 transition">Pricing</a>
            </nav>
            <div class="flex items-center space-x-2 md:space-x-4">
                <button id="search-btn" class="icon-btn text-gray-600 hover:text-blue-600" title="Search"><i class="fas fa-search"></i></button>
                <button id="shortcuts-btn" class="icon-btn text-gray-600 hover:text-blue-600 hidden md:block" title="Keyboard Shortcuts"><i class="fas fa-keyboard"></i></button>
                <div class="relative dropdown">
                    <button class="icon-btn text-gray-600 hover:text-blue-600 dropdown-toggle" title="User Profile"><i class="fas fa-user-circle text-2xl"></i></button>
                    <div class="dropdown-menu right-0 absolute hidden bg-white shadow-lg rounded-md mt-2 py-2 w-64">
                        <div class="px-4 py-3 border-b"><p class="font-semibold">Dr. Alex Ray</p><p class="text-sm text-gray-500">alex.ray@example.com</p></div>
                        <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-blue-50"><i class="fas fa-cog mr-2 w-5"></i>Settings</a>
                        <a href="#" class="block px-4 py-2 text-red-600 hover:bg-red-50"><i class="fas fa-sign-out-alt mr-2 w-5"></i>Logout</a>
                    </div>
                </div>
                <button id="mobile-menu-btn" class="lg:hidden text-gray-600 text-2xl"><i class="fas fa-bars"></i></button>
            </div>
        </div>
    </header>

    <!-- Breadcrumbs -->
    <div class="bg-gray-100 border-b">
        <div class="container mx-auto px-4 py-2 text-sm text-gray-600">
            <span><a href="#" class="hover:underline">Anatomy</a></span> &gt;
            <span><a href="#" class="hover:underline">Head & Neck</a></span> &gt;
            <span class="font-semibold">Brain MRI</span>
        </div>
    </div>

    <!-- Main Content Area -->
    <div id="main-container" class="flex-grow container mx-auto px-4 py-6 flex flex-col lg:flex-row space-y-4 lg:space-y-0 lg:space-x-4">
        <aside id="sidebar" class="lg:w-1/3 xl:w-1/4 flex-shrink-0 transition-all duration-300">
            <div class="sidebar rounded-lg shadow-lg h-full flex flex-col">
                <div class="flex border-b">
                    <button class="sidebar-tab active" data-tab="structures" title="Structures"><i class="fas fa-sitemap"></i><span class="tab-text">Structures</span></button>
                    <button class="sidebar-tab" data-tab="annotations" title="Annotations"><i class="fas fa-edit"></i><span class="tab-text">Annotations</span></button>
                    <button id="toggle-sidebar" class="ml-auto icon-btn text-gray-500 hover:text-blue-600 p-3"><i class="fas fa-chevron-left"></i></button>
                </div>
                <div class="sidebar-panel active" id="panel-structures">
                    <div class="p-4 border-b"><div class="relative"><input type="text" id="structure-search" placeholder="Search structures..." class="w-full pl-10 pr-4 py-2 border rounded-full"><i class="fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i></div></div>
                    <div id="structure-list" class="flex-grow overflow-y-auto sidebar-scrollable"></div>
                </div>
                <div class="sidebar-panel" id="panel-annotations">
                    <div class="p-4 border-b"><h3 class="font-bold text-lg">Annotation Details</h3></div>
                    <div id="annotation-details" class="p-4 space-y-3">
                        <p class="text-gray-500">Select an annotation to see details.</p>
                    </div>
                </div>
            </div>
        </aside>

        <main class="flex-grow flex flex-col">
            <div class="bg-white rounded-lg shadow-lg overflow-hidden h-full flex flex-col">
                <div class="module-anatomy-container">
                    <div class="anatomy-top-bar p-2 flex justify-between items-center">
                        <div class="flex items-center space-x-4">
                            <div class="flex items-center space-x-1 bg-gray-700 rounded-md p-1">
                                <button class="layout-btn active" data-layout="1x1" title="1x1 Layout"><svg class="w-5 h-5"><use xlink:href="#icon-layout-1x1"></use></svg></button>
                                <button class="layout-btn" data-layout="2x2" title="2x2 Layout"><svg class="w-5 h-5"><use xlink:href="#icon-layout-2x2"></use></svg></button>
                            </div>
                        </div>
                        <div class="text-center"><h2 id="image-title" class="font-semibold text-lg">MRI axial brain</h2><span id="image-modality" class="text-sm bg-gray-600 px-2 py-1 rounded">T2</span></div>
                        <div class="anatomy-controls flex items-center space-x-1 md:space-x-2">
                            <button class="icon-btn p-2 tool-btn active" data-tool="pointer" title="Pointer"><i class="fas fa-mouse-pointer"></i></button>
                            <button id="reset-view" class="icon-btn p-2" title="Reset View"><i class="fas fa-expand"></i></button>
                            <button id="settings-btn" class="icon-btn p-2" title="Settings"><i class="fas fa-cog"></i></button>
                        </div>
                    </div>
                    <div id="viewer-grid" class="flex-grow grid grid-cols-1 grid-rows-1 relative">
                        <div id="anatomy-viewer-1" class="anatomy-viewer relative"><canvas class="annotation-canvas absolute top-0 left-0 w-full h-full"></canvas><img class="main-anatomy-image" src="https://placehold.co/1200x900/000000/FFFFFF?text=Anatomy+Image+14" alt="MRI axial brain"><div class="viewer-info-overlay absolute bottom-2 left-2 text-white text-xs font-mono"><p>Zoom: <span class="zoom-level-text">100%</span></p></div></div>
                        <div id="loading-overlay" class="absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden"><div class="loader"></div></div>
                    </div>
                    <div class="anatomy-bottom-bar p-2 flex items-center space-x-3 bg-gray-800 border-t border-gray-700">
                        <button id="prev-image" class="icon-btn p-2" title="Previous Image"><i class="fas fa-arrow-left"></i></button>
                        <span id="image-counter" class="text-gray-300 font-mono text-sm w-20 text-center">14 / 25</span>
                        <input type="range" id="image-slider" class="w-full" min="0" max="24" value="13">
                        <button id="next-image" class="icon-btn p-2" title="Next Image"><i class="fas fa-arrow-right"></i></button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <footer class="footer mt-auto pt-10 pb-6">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-8">
                <div class="col-span-2 lg:col-span-1"><h4 class="font-bold text-lg text-white mb-4">e-Anatomy</h4><p class="text-gray-400 text-sm">The definitive, interactive atlas of human anatomy.</p></div>
                <div><h5 class="font-semibold text-white mb-3">Products</h5><ul class="space-y-2 text-sm"><a href="#" class="hover:text-white">Atlas</a> | <a href="#" class="hover:text-white">Cases</a></ul></div>
                <div><h5 class="font-semibold text-white mb-3">Company</h5><ul class="space-y-2 text-sm"><a href="#" class="hover:text-white">About</a> | <a href="#" class="hover:text-white">Contact</a></ul></div>
                <div><h5 class="font-semibold text-white mb-3">Legal</h5><ul class="space-y-2 text-sm"><a href="#" class="hover:text-white">Privacy</a> | <a href="#" class="hover:text-white">Terms</a></ul></div>
                <div><h5 class="font-semibold text-white mb-3">Follow Us</h5><div class="flex space-x-4 text-xl"><a href="#"><i class="fab fa-facebook"></i></a> <a href="#"><i class="fab fa-twitter"></i></a></div></div>
            </div>
            <div class="mt-8 pt-6 border-t border-gray-700 text-center text-gray-500 text-sm"><p>&copy; 2025 e-Anatomy. All Rights Reserved.</p></div>
        </div>
    </footer>

    <!-- Modals -->
    <div id="settings-modal" class="modal-overlay">
        <div class="modal-content">
            <h2 class="text-2xl font-bold mb-4">Viewer Settings</h2>
            <div class="space-y-4">
                <div class="flex items-center justify-between"><label for="theme-select" class="text-gray-700">Theme</label><select id="theme-select" class="p-2 border rounded"><option value="light">Light</option><option value="dark">Dark</option></select></div>
                <div class="flex items-center justify-between"><label for="language-select" class="text-gray-700">Language</label><select id="language-select" class="p-2 border rounded"><option value="en">English</option><option value="fr">Français</option></select></div>
            </div>
            <button type="button" class="close-modal-btn w-full mt-6 bg-blue-600 text-white p-2 rounded">Save & Close</button>
        </div>
    </div>

    <!-- Context Menu -->
    <div id="context-menu" class="absolute hidden bg-white shadow-lg rounded-md py-2 w-48 z-50">
        <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-blue-50" data-action="add-annotation">Add Annotation</a>
        <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-blue-50" data-action="center-view">Center View Here</a>
    </div>

    <div id="toast-container" class="fixed bottom-5 right-5 z-50 space-y-2"></div>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="script.js"></script>
</body>
</html>
