var $p = Object.defineProperty
  , jp = Object.defineProperties;
var Yp = Object.getOwnPropertyDescriptors;
var Jl = Object.getOwnPropertySymbols
  , Wp = Object.getPrototypeOf
  , Kp = Object.prototype.hasOwnProperty
  , Zp = Object.prototype.propertyIsEnumerable
  , Qp = Reflect.get;
var Kn = (t, e, i) => e in t ? $p(t, e, {
    enumerable: !0,
    configurable: !0,
    writable: !0,
    value: i
}) : t[e] = i
  , T = (t, e) => {
    for (var i in e || (e = {}))
        Kp.call(e, i) && Kn(t, i, e[i]);
    if (Jl)
        for (var i of Jl(e))
            Zp.call(e, i) && Kn(t, i, e[i]);
    return t
}
  , Y = (t, e) => jp(t, Yp(e));
var Ie = (t, e, i) => Kn(t, typeof e != "symbol" ? e + "" : e, i);
var je = (t, e, i) => Qp(Wp(t), i, e);
var _ = (t, e, i) => new Promise( (s, r) => {
    var n = l => {
        try {
            o(i.next(l))
        } catch (c) {
            r(c)
        }
    }
      , a = l => {
        try {
            o(i.throw(l))
        } catch (c) {
            r(c)
        }
    }
      , o = l => l.done ? s(l.value) : Promise.resolve(l.value).then(n, a);
    o((i = i.apply(t, e)).next())
}
);
import {L as ec} from "./login-management-service-AsiTy0FF.js";
import {p as tc} from "./imaios-global-BEKmHNS5.js";
import {b as Me, O as Zu, L as Qu, x as Xp, F as qp, o as li, M as Qs, I as At, r as Jp, X as tn} from "./jszip.min-CyYQaS4k.js";
import {O as e1, t as us} from "./index-BcJHWPkR.js";
import {t as mr} from "./sha256-DHPrLCgn.js";
import {t as t1, R as i1} from "./tippy.esm-B00VeVX7.js";
/* empty css                  */
import {r as sn, _ as rn, C as nn, a as jo, E as Xu, o as s1, F as qu, L as r1, g as Yo, i as n1, b as a1, v as o1, c as ic, d as l1, e as c1, f as u1} from "./index.esm-CfaZAp1P.js";
import {c as d1, a as h1} from "./_commonjsHelpers-Chg3vePA.js";
import "./utils-BACTbHDn.js";
import "./config.constant-BTOtLmfz.js";
import "./notifications.constant-CpYlRevd.js";
import "./___vite-browser-external_commonjs-proxy-BO2NxzQX.js";
const Ju = "@firebase/installations"
  , Wo = "0.6.18";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ed = 1e4
  , td = `w:${Wo}`
  , id = "FIS_v2"
  , p1 = "https://firebaseinstallations.googleapis.com/v1"
  , m1 = 60 * 60 * 1e3
  , g1 = "installations"
  , f1 = "Installations";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const v1 = {
    "missing-app-config-values": 'Missing App configuration value: "{$valueName}"',
    "not-registered": "Firebase Installation is not registered.",
    "installation-not-found": "Firebase Installation not found.",
    "request-failed": '{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',
    "app-offline": "Could not process request. Application offline.",
    "delete-pending-registration": "Can't delete installation while there is a pending registration request."
}
  , Yi = new Xu(g1,f1,v1);
function sd(t) {
    return t instanceof qu && t.code.includes("request-failed")
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function rd({projectId: t}) {
    return `${p1}/projects/${t}/installations`
}
function nd(t) {
    return {
        token: t.token,
        requestStatus: 2,
        expiresIn: E1(t.expiresIn),
        creationTime: Date.now()
    }
}
function ad(t, e) {
    return _(this, null, function*() {
        const s = (yield e.json()).error;
        return Yi.create("request-failed", {
            requestName: t,
            serverCode: s.code,
            serverMessage: s.message,
            serverStatus: s.status
        })
    })
}
function od({apiKey: t}) {
    return new Headers({
        "Content-Type": "application/json",
        Accept: "application/json",
        "x-goog-api-key": t
    })
}
function y1(t, {refreshToken: e}) {
    const i = od(t);
    return i.append("Authorization", I1(e)),
    i
}
function ld(t) {
    return _(this, null, function*() {
        const e = yield t();
        return e.status >= 500 && e.status < 600 ? t() : e
    })
}
function E1(t) {
    return Number(t.replace("s", "000"))
}
function I1(t) {
    return `${id} ${t}`
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function C1(s, r) {
    return _(this, arguments, function*({appConfig: t, heartbeatServiceProvider: e}, {fid: i}) {
        const n = rd(t)
          , a = od(t)
          , o = e.getImmediate({
            optional: !0
        });
        if (o) {
            const h = yield o.getHeartbeatsHeader();
            h && a.append("x-firebase-client", h)
        }
        const l = {
            fid: i,
            authVersion: id,
            appId: t.appId,
            sdkVersion: td
        }
          , c = {
            method: "POST",
            headers: a,
            body: JSON.stringify(l)
        }
          , u = yield ld( () => fetch(n, c));
        if (u.ok) {
            const h = yield u.json();
            return {
                fid: h.fid || i,
                registrationStatus: 2,
                refreshToken: h.refreshToken,
                authToken: nd(h.authToken)
            }
        } else
            throw yield ad("Create Installation", u)
    })
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function cd(t) {
    return new Promise(e => {
        setTimeout(e, t)
    }
    )
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function b1(t) {
    return btoa(String.fromCharCode(...t)).replace(/\+/g, "-").replace(/\//g, "_")
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const S1 = /^[cdef][\w-]{21}$/
  , eo = "";
function T1() {
    try {
        const t = new Uint8Array(17);
        (self.crypto || self.msCrypto).getRandomValues(t),
        t[0] = 112 + t[0] % 16;
        const i = A1(t);
        return S1.test(i) ? i : eo
    } catch (t) {
        return eo
    }
}
function A1(t) {
    return b1(t).substr(0, 22)
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Mn(t) {
    return `${t.appName}!${t.appId}`
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ud = new Map;
function dd(t, e) {
    const i = Mn(t);
    hd(i, e),
    w1(i, e)
}
function hd(t, e) {
    const i = ud.get(t);
    if (i)
        for (const s of i)
            s(e)
}
function w1(t, e) {
    const i = _1();
    i && i.postMessage({
        key: t,
        fid: e
    }),
    L1()
}
let Ri = null;
function _1() {
    return !Ri && "BroadcastChannel"in self && (Ri = new BroadcastChannel("[Firebase] FID Change"),
    Ri.onmessage = t => {
        hd(t.data.key, t.data.fid)
    }
    ),
    Ri
}
function L1() {
    ud.size === 0 && Ri && (Ri.close(),
    Ri = null)
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const O1 = "firebase-installations-database"
  , x1 = 1
  , Wi = "firebase-installations-store";
let Zn = null;
function Ko() {
    return Zn || (Zn = s1(O1, x1, {
        upgrade: (t, e) => {
            switch (e) {
            case 0:
                t.createObjectStore(Wi)
            }
        }
    })),
    Zn
}
function an(t, e) {
    return _(this, null, function*() {
        const i = Mn(t)
          , r = (yield Ko()).transaction(Wi, "readwrite")
          , n = r.objectStore(Wi)
          , a = yield n.get(i);
        return yield n.put(e, i),
        yield r.done,
        (!a || a.fid !== e.fid) && dd(t, e.fid),
        e
    })
}
function pd(t) {
    return _(this, null, function*() {
        const e = Mn(t)
          , s = (yield Ko()).transaction(Wi, "readwrite");
        yield s.objectStore(Wi).delete(e),
        yield s.done
    })
}
function Nn(t, e) {
    return _(this, null, function*() {
        const i = Mn(t)
          , r = (yield Ko()).transaction(Wi, "readwrite")
          , n = r.objectStore(Wi)
          , a = yield n.get(i)
          , o = e(a);
        return o === void 0 ? yield n.delete(i) : yield n.put(o, i),
        yield r.done,
        o && (!a || a.fid !== o.fid) && dd(t, o.fid),
        o
    })
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Zo(t) {
    return _(this, null, function*() {
        let e;
        const i = yield Nn(t.appConfig, s => {
            const r = M1(s)
              , n = N1(t, r);
            return e = n.registrationPromise,
            n.installationEntry
        }
        );
        return i.fid === eo ? {
            installationEntry: yield e
        } : {
            installationEntry: i,
            registrationPromise: e
        }
    })
}
function M1(t) {
    const e = t || {
        fid: T1(),
        registrationStatus: 0
    };
    return md(e)
}
function N1(t, e) {
    if (e.registrationStatus === 0) {
        if (!navigator.onLine) {
            const r = Promise.reject(Yi.create("app-offline"));
            return {
                installationEntry: e,
                registrationPromise: r
            }
        }
        const i = {
            fid: e.fid,
            registrationStatus: 1,
            registrationTime: Date.now()
        }
          , s = R1(t, i);
        return {
            installationEntry: i,
            registrationPromise: s
        }
    } else
        return e.registrationStatus === 1 ? {
            installationEntry: e,
            registrationPromise: P1(t)
        } : {
            installationEntry: e
        }
}
function R1(t, e) {
    return _(this, null, function*() {
        try {
            const i = yield C1(t, e);
            return an(t.appConfig, i)
        } catch (i) {
            throw sd(i) && i.customData.serverCode === 409 ? yield pd(t.appConfig) : yield an(t.appConfig, {
                fid: e.fid,
                registrationStatus: 0
            }),
            i
        }
    })
}
function P1(t) {
    return _(this, null, function*() {
        let e = yield sc(t.appConfig);
        for (; e.registrationStatus === 1; )
            yield cd(100),
            e = yield sc(t.appConfig);
        if (e.registrationStatus === 0) {
            const {installationEntry: i, registrationPromise: s} = yield Zo(t);
            return s || i
        }
        return e
    })
}
function sc(t) {
    return Nn(t, e => {
        if (!e)
            throw Yi.create("installation-not-found");
        return md(e)
    }
    )
}
function md(t) {
    return D1(t) ? {
        fid: t.fid,
        registrationStatus: 0
    } : t
}
function D1(t) {
    return t.registrationStatus === 1 && t.registrationTime + ed < Date.now()
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function k1(s, r) {
    return _(this, arguments, function*({appConfig: t, heartbeatServiceProvider: e}, i) {
        const n = H1(t, i)
          , a = y1(t, i)
          , o = e.getImmediate({
            optional: !0
        });
        if (o) {
            const h = yield o.getHeartbeatsHeader();
            h && a.append("x-firebase-client", h)
        }
        const l = {
            installation: {
                sdkVersion: td,
                appId: t.appId
            }
        }
          , c = {
            method: "POST",
            headers: a,
            body: JSON.stringify(l)
        }
          , u = yield ld( () => fetch(n, c));
        if (u.ok) {
            const h = yield u.json();
            return nd(h)
        } else
            throw yield ad("Generate Auth Token", u)
    })
}
function H1(t, {fid: e}) {
    return `${rd(t)}/${e}/authTokens:generate`
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Qo(t, e=!1) {
    return _(this, null, function*() {
        let i;
        const s = yield Nn(t.appConfig, n => {
            if (!gd(n))
                throw Yi.create("not-registered");
            const a = n.authToken;
            if (!e && F1(a))
                return n;
            if (a.requestStatus === 1)
                return i = z1(t, e),
                n;
            {
                if (!navigator.onLine)
                    throw Yi.create("app-offline");
                const o = U1(n);
                return i = B1(t, o),
                o
            }
        }
        );
        return i ? yield i : s.authToken
    })
}
function z1(t, e) {
    return _(this, null, function*() {
        let i = yield rc(t.appConfig);
        for (; i.authToken.requestStatus === 1; )
            yield cd(100),
            i = yield rc(t.appConfig);
        const s = i.authToken;
        return s.requestStatus === 0 ? Qo(t, e) : s
    })
}
function rc(t) {
    return Nn(t, e => {
        if (!gd(e))
            throw Yi.create("not-registered");
        const i = e.authToken;
        return G1(i) ? Object.assign(Object.assign({}, e), {
            authToken: {
                requestStatus: 0
            }
        }) : e
    }
    )
}
function B1(t, e) {
    return _(this, null, function*() {
        try {
            const i = yield k1(t, e)
              , s = Object.assign(Object.assign({}, e), {
                authToken: i
            });
            return yield an(t.appConfig, s),
            i
        } catch (i) {
            if (sd(i) && (i.customData.serverCode === 401 || i.customData.serverCode === 404))
                yield pd(t.appConfig);
            else {
                const s = Object.assign(Object.assign({}, e), {
                    authToken: {
                        requestStatus: 0
                    }
                });
                yield an(t.appConfig, s)
            }
            throw i
        }
    })
}
function gd(t) {
    return t !== void 0 && t.registrationStatus === 2
}
function F1(t) {
    return t.requestStatus === 2 && !V1(t)
}
function V1(t) {
    const e = Date.now();
    return e < t.creationTime || t.creationTime + t.expiresIn < e + m1
}
function U1(t) {
    const e = {
        requestStatus: 1,
        requestTime: Date.now()
    };
    return Object.assign(Object.assign({}, t), {
        authToken: e
    })
}
function G1(t) {
    return t.requestStatus === 1 && t.requestTime + ed < Date.now()
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function $1(t) {
    return _(this, null, function*() {
        const e = t
          , {installationEntry: i, registrationPromise: s} = yield Zo(e);
        return s ? s.catch(console.error) : Qo(e).catch(console.error),
        i.fid
    })
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function j1(t, e=!1) {
    return _(this, null, function*() {
        const i = t;
        return yield Y1(i),
        (yield Qo(i, e)).token
    })
}
function Y1(t) {
    return _(this, null, function*() {
        const {registrationPromise: e} = yield Zo(t);
        e && (yield e)
    })
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function W1(t) {
    if (!t || !t.options)
        throw Qn("App Configuration");
    if (!t.name)
        throw Qn("App Name");
    const e = ["projectId", "apiKey", "appId"];
    for (const i of e)
        if (!t.options[i])
            throw Qn(i);
    return {
        appName: t.name,
        projectId: t.options.projectId,
        apiKey: t.options.apiKey,
        appId: t.options.appId
    }
}
function Qn(t) {
    return Yi.create("missing-app-config-values", {
        valueName: t
    })
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const fd = "installations"
  , K1 = "installations-internal"
  , Z1 = t => {
    const e = t.getProvider("app").getImmediate()
      , i = W1(e)
      , s = jo(e, "heartbeat");
    return {
        app: e,
        appConfig: i,
        heartbeatServiceProvider: s,
        _delete: () => Promise.resolve()
    }
}
  , Q1 = t => {
    const e = t.getProvider("app").getImmediate()
      , i = jo(e, fd).getImmediate();
    return {
        getId: () => $1(i),
        getToken: r => j1(i, r)
    }
}
;
function X1() {
    rn(new nn(fd,Z1,"PUBLIC")),
    rn(new nn(K1,Q1,"PRIVATE"))
}
X1();
sn(Ju, Wo);
sn(Ju, Wo, "esm2017");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const to = "analytics"
  , q1 = "firebase_id"
  , J1 = "origin"
  , em = 60 * 1e3
  , tm = "https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig"
  , Xo = "https://www.googletagmanager.com/gtag/js";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Xe = new r1("@firebase/analytics");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const im = {
    "already-exists": "A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",
    "already-initialized": "initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.",
    "already-initialized-settings": "Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",
    "interop-component-reg-failed": "Firebase Analytics Interop Component failed to instantiate: {$reason}",
    "invalid-analytics-context": "Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",
    "indexeddb-unavailable": "IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",
    "fetch-throttle": "The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",
    "config-fetch-failed": "Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",
    "no-api-key": 'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',
    "no-app-id": 'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',
    "no-client-id": 'The "client_id" field is empty.',
    "invalid-gtag-resource": "Trusted Types detected an invalid gtag resource: {$gtagURL}."
}
  , pt = new Xu("analytics","Analytics",im);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function sm(t) {
    if (!t.startsWith(Xo)) {
        const e = pt.create("invalid-gtag-resource", {
            gtagURL: t
        });
        return Xe.warn(e.message),
        ""
    }
    return t
}
function vd(t) {
    return Promise.all(t.map(e => e.catch(i => i)))
}
function rm(t, e) {
    let i;
    return window.trustedTypes && (i = window.trustedTypes.createPolicy(t, e)),
    i
}
function nm(t, e) {
    const i = rm("firebase-js-sdk-policy", {
        createScriptURL: sm
    })
      , s = document.createElement("script")
      , r = `${Xo}?l=${t}&id=${e}`;
    s.src = i ? i == null ? void 0 : i.createScriptURL(r) : r,
    s.async = !0,
    document.head.appendChild(s)
}
function am(t) {
    let e = [];
    return Array.isArray(window[t]) ? e = window[t] : window[t] = e,
    e
}
function om(t, e, i, s, r, n) {
    return _(this, null, function*() {
        const a = s[r];
        try {
            if (a)
                yield e[a];
            else {
                const l = (yield vd(i)).find(c => c.measurementId === r);
                l && (yield e[l.appId])
            }
        } catch (o) {
            Xe.error(o)
        }
        t("config", r, n)
    })
}
function lm(t, e, i, s, r) {
    return _(this, null, function*() {
        try {
            let n = [];
            if (r && r.send_to) {
                let a = r.send_to;
                Array.isArray(a) || (a = [a]);
                const o = yield vd(i);
                for (const l of a) {
                    const c = o.find(h => h.measurementId === l)
                      , u = c && e[c.appId];
                    if (u)
                        n.push(u);
                    else {
                        n = [];
                        break
                    }
                }
            }
            n.length === 0 && (n = Object.values(e)),
            yield Promise.all(n),
            t("event", s, r || {})
        } catch (n) {
            Xe.error(n)
        }
    })
}
function cm(t, e, i, s) {
    function r(n, ...a) {
        return _(this, null, function*() {
            try {
                if (n === "event") {
                    const [o,l] = a;
                    yield lm(t, e, i, o, l)
                } else if (n === "config") {
                    const [o,l] = a;
                    yield om(t, e, i, s, o, l)
                } else if (n === "consent") {
                    const [o,l] = a;
                    t("consent", o, l)
                } else if (n === "get") {
                    const [o,l,c] = a;
                    t("get", o, l, c)
                } else if (n === "set") {
                    const [o] = a;
                    t("set", o)
                } else
                    t(n, ...a)
            } catch (o) {
                Xe.error(o)
            }
        })
    }
    return r
}
function um(t, e, i, s, r) {
    let n = function(...a) {
        window[s].push(arguments)
    };
    return window[r] && typeof window[r] == "function" && (n = window[r]),
    window[r] = cm(n, t, e, i),
    {
        gtagCore: n,
        wrappedGtag: window[r]
    }
}
function dm(t) {
    const e = window.document.getElementsByTagName("script");
    for (const i of Object.values(e))
        if (i.src && i.src.includes(Xo) && i.src.includes(t))
            return i;
    return null
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const hm = 30
  , pm = 1e3;
class mm {
    constructor(e={}, i=pm) {
        this.throttleMetadata = e,
        this.intervalMillis = i
    }
    getThrottleMetadata(e) {
        return this.throttleMetadata[e]
    }
    setThrottleMetadata(e, i) {
        this.throttleMetadata[e] = i
    }
    deleteThrottleMetadata(e) {
        delete this.throttleMetadata[e]
    }
}
const yd = new mm;
function gm(t) {
    return new Headers({
        Accept: "application/json",
        "x-goog-api-key": t
    })
}
function fm(t) {
    return _(this, null, function*() {
        var e;
        const {appId: i, apiKey: s} = t
          , r = {
            method: "GET",
            headers: gm(s)
        }
          , n = tm.replace("{app-id}", i)
          , a = yield fetch(n, r);
        if (a.status !== 200 && a.status !== 304) {
            let o = "";
            try {
                const l = yield a.json();
                !((e = l.error) === null || e === void 0) && e.message && (o = l.error.message)
            } catch (l) {}
            throw pt.create("config-fetch-failed", {
                httpStatus: a.status,
                responseMessage: o
            })
        }
        return a.json()
    })
}
function vm(s) {
    return _(this, arguments, function*(t, e=yd, i) {
        const {appId: r, apiKey: n, measurementId: a} = t.options;
        if (!r)
            throw pt.create("no-app-id");
        if (!n) {
            if (a)
                return {
                    measurementId: a,
                    appId: r
                };
            throw pt.create("no-api-key")
        }
        const o = e.getThrottleMetadata(r) || {
            backoffCount: 0,
            throttleEndTimeMillis: Date.now()
        }
          , l = new Im;
        return setTimeout( () => _(this, null, function*() {
            l.abort()
        }), em),
        Ed({
            appId: r,
            apiKey: n,
            measurementId: a
        }, o, l, e)
    })
}
function Ed(n, a, o) {
    return _(this, arguments, function*(t, {throttleEndTimeMillis: e, backoffCount: i}, s, r=yd) {
        var l;
        const {appId: c, measurementId: u} = t;
        try {
            yield ym(s, e)
        } catch (h) {
            if (u)
                return Xe.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h == null ? void 0 : h.message}]`),
                {
                    appId: c,
                    measurementId: u
                };
            throw h
        }
        try {
            const h = yield fm(t);
            return r.deleteThrottleMetadata(c),
            h
        } catch (h) {
            const d = h;
            if (!Em(d)) {
                if (r.deleteThrottleMetadata(c),
                u)
                    return Xe.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d == null ? void 0 : d.message}]`),
                    {
                        appId: c,
                        measurementId: u
                    };
                throw h
            }
            const m = Number((l = d == null ? void 0 : d.customData) === null || l === void 0 ? void 0 : l.httpStatus) === 503 ? ic(i, r.intervalMillis, hm) : ic(i, r.intervalMillis)
              , p = {
                throttleEndTimeMillis: Date.now() + m,
                backoffCount: i + 1
            };
            return r.setThrottleMetadata(c, p),
            Xe.debug(`Calling attemptFetch again in ${m} millis`),
            Ed(t, p, s, r)
        }
    })
}
function ym(t, e) {
    return new Promise( (i, s) => {
        const r = Math.max(e - Date.now(), 0)
          , n = setTimeout(i, r);
        t.addEventListener( () => {
            clearTimeout(n),
            s(pt.create("fetch-throttle", {
                throttleEndTimeMillis: e
            }))
        }
        )
    }
    )
}
function Em(t) {
    if (!(t instanceof qu) || !t.customData)
        return !1;
    const e = Number(t.customData.httpStatus);
    return e === 429 || e === 500 || e === 503 || e === 504
}
class Im {
    constructor() {
        this.listeners = []
    }
    addEventListener(e) {
        this.listeners.push(e)
    }
    abort() {
        this.listeners.forEach(e => e())
    }
}
function Cm(t, e, i, s, r) {
    return _(this, null, function*() {
        if (r && r.global) {
            t("event", i, s);
            return
        } else {
            const n = yield e
              , a = Object.assign(Object.assign({}, s), {
                send_to: n
            });
            t("event", i, a)
        }
    })
}
function bm(t, e, i, s) {
    return _(this, null, function*() {
        {
            const r = yield e;
            t("config", r, {
                update: !0,
                user_id: i
            })
        }
    })
}
function Sm(t, e, i, s) {
    return _(this, null, function*() {
        {
            const r = yield e;
            t("config", r, {
                update: !0,
                user_properties: i
            })
        }
    })
}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Tm() {
    return _(this, null, function*() {
        if (a1())
            try {
                yield o1()
            } catch (t) {
                return Xe.warn(pt.create("indexeddb-unavailable", {
                    errorInfo: t == null ? void 0 : t.toString()
                }).message),
                !1
            }
        else
            return Xe.warn(pt.create("indexeddb-unavailable", {
                errorInfo: "IndexedDB is not available in this environment."
            }).message),
            !1;
        return !0
    })
}
function Am(t, e, i, s, r, n, a) {
    return _(this, null, function*() {
        var o;
        const l = vm(t);
        l.then(m => {
            i[m.measurementId] = m.appId,
            t.options.measurementId && m.measurementId !== t.options.measurementId && Xe.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)
        }
        ).catch(m => Xe.error(m)),
        e.push(l);
        const c = Tm().then(m => {
            if (m)
                return s.getId()
        }
        )
          , [u,h] = yield Promise.all([l, c]);
        dm(n) || nm(n, u.measurementId),
        r("js", new Date);
        const d = (o = a == null ? void 0 : a.config) !== null && o !== void 0 ? o : {};
        return d[J1] = "firebase",
        d.update = !0,
        h != null && (d[q1] = h),
        r("config", u.measurementId, d),
        u.measurementId
    })
}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class wm {
    constructor(e) {
        this.app = e
    }
    _delete() {
        return delete zi[this.app.options.appId],
        Promise.resolve()
    }
}
let zi = {}
  , nc = [];
const ac = {};
let Xn = "dataLayer", _m = "gtag", oc, Rn, lc = !1;
function Lm() {
    const t = [];
    if (n1() && t.push("This is a browser extension environment."),
    c1() || t.push("Cookies are not available."),
    t.length > 0) {
        const e = t.map( (s, r) => `(${r + 1}) ${s}`).join(" ")
          , i = pt.create("invalid-analytics-context", {
            errorInfo: e
        });
        Xe.warn(i.message)
    }
}
function Om(t, e, i) {
    Lm();
    const s = t.options.appId;
    if (!s)
        throw pt.create("no-app-id");
    if (!t.options.apiKey)
        if (t.options.measurementId)
            Xe.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);
        else
            throw pt.create("no-api-key");
    if (zi[s] != null)
        throw pt.create("already-exists", {
            id: s
        });
    if (!lc) {
        am(Xn);
        const {wrappedGtag: n, gtagCore: a} = um(zi, nc, ac, Xn, _m);
        Rn = n,
        oc = a,
        lc = !0
    }
    return zi[s] = Am(t, nc, ac, e, oc, Xn, i),
    new wm(t)
}
function xm(t, e={}) {
    const i = jo(t, to);
    if (i.isInitialized()) {
        const r = i.getImmediate();
        if (l1(e, i.getOptions()))
            return r;
        throw pt.create("already-initialized")
    }
    return i.initialize({
        options: e
    })
}
function Mm(t, e, i) {
    t = Yo(t),
    bm(Rn, zi[t.app.options.appId], e).catch(s => Xe.error(s))
}
function Nm(t, e, i) {
    t = Yo(t),
    Sm(Rn, zi[t.app.options.appId], e).catch(s => Xe.error(s))
}
function Id(t, e, i, s) {
    t = Yo(t),
    Cm(Rn, zi[t.app.options.appId], e, i, s).catch(r => Xe.error(r))
}
const cc = "@firebase/analytics"
  , uc = "0.10.17";
function Rm() {
    rn(new nn(to, (e, {options: i}) => {
        const s = e.getProvider("app").getImmediate()
          , r = e.getProvider("installations-internal").getImmediate();
        return Om(s, r, i)
    }
    ,"PUBLIC")),
    rn(new nn("analytics-internal",t,"PRIVATE")),
    sn(cc, uc),
    sn(cc, uc, "esm2017");
    function t(e) {
        try {
            const i = e.getProvider(to).getImmediate();
            return {
                logEvent: (s, r, n) => Id(i, s, r, n)
            }
        } catch (i) {
            throw pt.create("interop-component-reg-failed", {
                reason: i
            })
        }
    }
}
Rm();
var io = {
    exports: {}
};
(function(t, e) {
    (function(i, s) {
        var r = "1.0.40"
          , n = ""
          , a = "?"
          , o = "function"
          , l = "undefined"
          , c = "object"
          , u = "string"
          , h = "major"
          , d = "model"
          , m = "name"
          , p = "type"
          , f = "vendor"
          , g = "version"
          , E = "architecture"
          , I = "console"
          , C = "mobile"
          , w = "tablet"
          , O = "smarttv"
          , M = "wearable"
          , z = "embedded"
          , B = 500
          , D = "Amazon"
          , R = "Apple"
          , P = "ASUS"
          , b = "BlackBerry"
          , S = "Browser"
          , L = "Chrome"
          , H = "Edge"
          , U = "Firefox"
          , Z = "Google"
          , q = "Huawei"
          , Q = "LG"
          , le = "Microsoft"
          , oe = "Motorola"
          , be = "Opera"
          , we = "Samsung"
          , Je = "Sharp"
          , Lt = "Sony"
          , Ot = "Xiaomi"
          , yt = "Zebra"
          , Vs = "Facebook"
          , os = "Chromium OS"
          , Wl = "Mac OS"
          , Kl = " Browser"
          , Vp = function(pe, ye) {
            var ne = {};
            for (var _e in pe)
                ye[_e] && ye[_e].length % 2 === 0 ? ne[_e] = ye[_e].concat(pe[_e]) : ne[_e] = pe[_e];
            return ne
        }
          , _r = function(pe) {
            for (var ye = {}, ne = 0; ne < pe.length; ne++)
                ye[pe[ne].toUpperCase()] = pe[ne];
            return ye
        }
          , Zl = function(pe, ye) {
            return typeof pe === u ? ls(ye).indexOf(ls(pe)) !== -1 : !1
        }
          , ls = function(pe) {
            return pe.toLowerCase()
        }
          , Up = function(pe) {
            return typeof pe === u ? pe.replace(/[^\d\.]/g, n).split(".")[0] : s
        }
          , Yn = function(pe, ye) {
            if (typeof pe === u)
                return pe = pe.replace(/^\s\s*/, n),
                typeof ye === l ? pe : pe.substring(0, B)
        }
          , Us = function(pe, ye) {
            for (var ne = 0, _e, Xt, Ut, Ee, te, Gt; ne < ye.length && !te; ) {
                var Wn = ye[ne]
                  , ql = ye[ne + 1];
                for (_e = Xt = 0; _e < Wn.length && !te && Wn[_e]; )
                    if (te = Wn[_e++].exec(pe),
                    te)
                        for (Ut = 0; Ut < ql.length; Ut++)
                            Gt = te[++Xt],
                            Ee = ql[Ut],
                            typeof Ee === c && Ee.length > 0 ? Ee.length === 2 ? typeof Ee[1] == o ? this[Ee[0]] = Ee[1].call(this, Gt) : this[Ee[0]] = Ee[1] : Ee.length === 3 ? typeof Ee[1] === o && !(Ee[1].exec && Ee[1].test) ? this[Ee[0]] = Gt ? Ee[1].call(this, Gt, Ee[2]) : s : this[Ee[0]] = Gt ? Gt.replace(Ee[1], Ee[2]) : s : Ee.length === 4 && (this[Ee[0]] = Gt ? Ee[3].call(this, Gt.replace(Ee[1], Ee[2])) : s) : this[Ee] = Gt || s;
                ne += 2
            }
        }
          , Lr = function(pe, ye) {
            for (var ne in ye)
                if (typeof ye[ne] === c && ye[ne].length > 0) {
                    for (var _e = 0; _e < ye[ne].length; _e++)
                        if (Zl(ye[ne][_e], pe))
                            return ne === a ? s : ne
                } else if (Zl(ye[ne], pe))
                    return ne === a ? s : ne;
            return ye.hasOwnProperty("*") ? ye["*"] : pe
        }
          , Gp = {
            "1.0": "/8",
            "1.2": "/1",
            "1.3": "/3",
            "2.0": "/412",
            "2.0.2": "/416",
            "2.0.3": "/417",
            "2.0.4": "/419",
            "?": "/"
        }
          , Ql = {
            ME: "4.90",
            "NT 3.11": "NT3.51",
            "NT 4.0": "NT4.0",
            2e3: "NT 5.0",
            XP: ["NT 5.1", "NT 5.2"],
            Vista: "NT 6.0",
            7: "NT 6.1",
            8: "NT 6.2",
            "8.1": "NT 6.3",
            10: ["NT 6.4", "NT 10.0"],
            RT: "ARM"
        }
          , Xl = {
            browser: [[/\b(?:crmo|crios)\/([\w\.]+)/i], [g, [m, "Chrome"]], [/edg(?:e|ios|a)?\/([\w\.]+)/i], [g, [m, "Edge"]], [/(opera mini)\/([-\w\.]+)/i, /(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i, /(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i], [m, g], [/opios[\/ ]+([\w\.]+)/i], [g, [m, be + " Mini"]], [/\bop(?:rg)?x\/([\w\.]+)/i], [g, [m, be + " GX"]], [/\bopr\/([\w\.]+)/i], [g, [m, be]], [/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i], [g, [m, "Baidu"]], [/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i], [g, [m, "Maxthon"]], [/(kindle)\/([\w\.]+)/i, /(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i, /(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i, /(?:ms|\()(ie) ([\w\.]+)/i, /(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i, /(heytap|ovi|115)browser\/([\d\.]+)/i, /(weibo)__([\d\.]+)/i], [m, g], [/quark(?:pc)?\/([-\w\.]+)/i], [g, [m, "Quark"]], [/\bddg\/([\w\.]+)/i], [g, [m, "DuckDuckGo"]], [/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i], [g, [m, "UC" + S]], [/microm.+\bqbcore\/([\w\.]+)/i, /\bqbcore\/([\w\.]+).+microm/i, /micromessenger\/([\w\.]+)/i], [g, [m, "WeChat"]], [/konqueror\/([\w\.]+)/i], [g, [m, "Konqueror"]], [/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i], [g, [m, "IE"]], [/ya(?:search)?browser\/([\w\.]+)/i], [g, [m, "Yandex"]], [/slbrowser\/([\w\.]+)/i], [g, [m, "Smart Lenovo " + S]], [/(avast|avg)\/([\w\.]+)/i], [[m, /(.+)/, "$1 Secure " + S], g], [/\bfocus\/([\w\.]+)/i], [g, [m, U + " Focus"]], [/\bopt\/([\w\.]+)/i], [g, [m, be + " Touch"]], [/coc_coc\w+\/([\w\.]+)/i], [g, [m, "Coc Coc"]], [/dolfin\/([\w\.]+)/i], [g, [m, "Dolphin"]], [/coast\/([\w\.]+)/i], [g, [m, be + " Coast"]], [/miuibrowser\/([\w\.]+)/i], [g, [m, "MIUI" + Kl]], [/fxios\/([\w\.-]+)/i], [g, [m, U]], [/\bqihoobrowser\/?([\w\.]*)/i], [g, [m, "360"]], [/\b(qq)\/([\w\.]+)/i], [[m, /(.+)/, "$1Browser"], g], [/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i], [[m, /(.+)/, "$1" + Kl], g], [/samsungbrowser\/([\w\.]+)/i], [g, [m, we + " Internet"]], [/metasr[\/ ]?([\d\.]+)/i], [g, [m, "Sogou Explorer"]], [/(sogou)mo\w+\/([\d\.]+)/i], [[m, "Sogou Mobile"], g], [/(electron)\/([\w\.]+) safari/i, /(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i, /m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i], [m, g], [/(lbbrowser|rekonq)/i, /\[(linkedin)app\]/i], [m], [/ome\/([\w\.]+) \w* ?(iron) saf/i, /ome\/([\w\.]+).+qihu (360)[es]e/i], [g, m], [/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i], [[m, Vs], g], [/(Klarna)\/([\w\.]+)/i, /(kakao(?:talk|story))[\/ ]([\w\.]+)/i, /(naver)\(.*?(\d+\.[\w\.]+).*\)/i, /safari (line)\/([\w\.]+)/i, /\b(line)\/([\w\.]+)\/iab/i, /(alipay)client\/([\w\.]+)/i, /(twitter)(?:and| f.+e\/([\w\.]+))/i, /(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i], [m, g], [/\bgsa\/([\w\.]+) .*safari\//i], [g, [m, "GSA"]], [/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i], [g, [m, "TikTok"]], [/headlesschrome(?:\/([\w\.]+)| )/i], [g, [m, L + " Headless"]], [/ wv\).+(chrome)\/([\w\.]+)/i], [[m, L + " WebView"], g], [/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i], [g, [m, "Android " + S]], [/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i], [m, g], [/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i], [g, [m, "Mobile Safari"]], [/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i], [g, m], [/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i], [m, [g, Lr, Gp]], [/(webkit|khtml)\/([\w\.]+)/i], [m, g], [/(navigator|netscape\d?)\/([-\w\.]+)/i], [[m, "Netscape"], g], [/(wolvic|librewolf)\/([\w\.]+)/i], [m, g], [/mobile vr; rv:([\w\.]+)\).+firefox/i], [g, [m, U + " Reality"]], [/ekiohf.+(flow)\/([\w\.]+)/i, /(swiftfox)/i, /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i, /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i, /(firefox)\/([\w\.]+)/i, /(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i, /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i, /(links) \(([\w\.]+)/i], [m, [g, /_/g, "."]], [/(cobalt)\/([\w\.]+)/i], [m, [g, /master.|lts./, ""]]],
            cpu: [[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i], [[E, "amd64"]], [/(ia32(?=;))/i], [[E, ls]], [/((?:i[346]|x)86)[;\)]/i], [[E, "ia32"]], [/\b(aarch64|arm(v?8e?l?|_?64))\b/i], [[E, "arm64"]], [/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i], [[E, "armhf"]], [/windows (ce|mobile); ppc;/i], [[E, "arm"]], [/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i], [[E, /ower/, n, ls]], [/(sun4\w)[;\)]/i], [[E, "sparc"]], [/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i], [[E, ls]]],
            device: [[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i], [d, [f, we], [p, w]], [/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i, /samsung[- ]((?!sm-[lr])[-\w]+)/i, /sec-(sgh\w+)/i], [d, [f, we], [p, C]], [/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i], [d, [f, R], [p, C]], [/\((ipad);[-\w\),; ]+apple/i, /applecoremedia\/[\w\.]+ \((ipad)/i, /\b(ipad)\d\d?,\d\d?[;\]].+ios/i], [d, [f, R], [p, w]], [/(macintosh);/i], [d, [f, R]], [/\b(sh-?[altvz]?\d\d[a-ekm]?)/i], [d, [f, Je], [p, C]], [/(?:honor)([-\w ]+)[;\)]/i], [d, [f, "Honor"], [p, C]], [/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i], [d, [f, q], [p, w]], [/(?:huawei)([-\w ]+)[;\)]/i, /\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i], [d, [f, q], [p, C]], [/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i, /\b; (\w+) build\/hm\1/i, /\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i, /\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i, /oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i, /\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i], [[d, /_/g, " "], [f, Ot], [p, C]], [/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i, /\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i], [[d, /_/g, " "], [f, Ot], [p, w]], [/; (\w+) bui.+ oppo/i, /\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i], [d, [f, "OPPO"], [p, C]], [/\b(opd2\d{3}a?) bui/i], [d, [f, "OPPO"], [p, w]], [/vivo (\w+)(?: bui|\))/i, /\b(v[12]\d{3}\w?[at])(?: bui|;)/i], [d, [f, "Vivo"], [p, C]], [/\b(rmx[1-3]\d{3})(?: bui|;|\))/i], [d, [f, "Realme"], [p, C]], [/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i, /\bmot(?:orola)?[- ](\w*)/i, /((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i], [d, [f, oe], [p, C]], [/\b(mz60\d|xoom[2 ]{0,2}) build\//i], [d, [f, oe], [p, w]], [/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i], [d, [f, Q], [p, w]], [/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i, /\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i, /\blg-?([\d\w]+) bui/i], [d, [f, Q], [p, C]], [/(ideatab[-\w ]+)/i, /lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i], [d, [f, "Lenovo"], [p, w]], [/(?:maemo|nokia).*(n900|lumia \d+)/i, /nokia[-_ ]?([-\w\.]*)/i], [[d, /_/g, " "], [f, "Nokia"], [p, C]], [/(pixel c)\b/i], [d, [f, Z], [p, w]], [/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i], [d, [f, Z], [p, C]], [/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i], [d, [f, Lt], [p, C]], [/sony tablet [ps]/i, /\b(?:sony)?sgp\w+(?: bui|\))/i], [[d, "Xperia Tablet"], [f, Lt], [p, w]], [/ (kb2005|in20[12]5|be20[12][59])\b/i, /(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i], [d, [f, "OnePlus"], [p, C]], [/(alexa)webm/i, /(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i, /(kf[a-z]+)( bui|\)).+silk\//i], [d, [f, D], [p, w]], [/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i], [[d, /(.+)/g, "Fire Phone $1"], [f, D], [p, C]], [/(playbook);[-\w\),; ]+(rim)/i], [d, f, [p, w]], [/\b((?:bb[a-f]|st[hv])100-\d)/i, /\(bb10; (\w+)/i], [d, [f, b], [p, C]], [/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i], [d, [f, P], [p, w]], [/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i], [d, [f, P], [p, C]], [/(nexus 9)/i], [d, [f, "HTC"], [p, w]], [/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i, /(zte)[- ]([\w ]+?)(?: bui|\/|\))/i, /(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i], [f, [d, /_/g, " "], [p, C]], [/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i], [d, [f, "TCL"], [p, w]], [/(itel) ((\w+))/i], [[f, ls], d, [p, Lr, {
                tablet: ["p10001l", "w7001"],
                "*": "mobile"
            }]], [/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i], [d, [f, "Acer"], [p, w]], [/droid.+; (m[1-5] note) bui/i, /\bmz-([-\w]{2,})/i], [d, [f, "Meizu"], [p, C]], [/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i], [d, [f, "Ulefone"], [p, C]], [/; (energy ?\w+)(?: bui|\))/i, /; energizer ([\w ]+)(?: bui|\))/i], [d, [f, "Energizer"], [p, C]], [/; cat (b35);/i, /; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i], [d, [f, "Cat"], [p, C]], [/((?:new )?andromax[\w- ]+)(?: bui|\))/i], [d, [f, "Smartfren"], [p, C]], [/droid.+; (a(?:015|06[35]|142p?))/i], [d, [f, "Nothing"], [p, C]], [/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i, /; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i, /(hp) ([\w ]+\w)/i, /(asus)-?(\w+)/i, /(microsoft); (lumia[\w ]+)/i, /(lenovo)[-_ ]?([-\w]+)/i, /(jolla)/i, /(oppo) ?([\w ]+) bui/i], [f, d, [p, C]], [/(imo) (tab \w+)/i, /(kobo)\s(ereader|touch)/i, /(archos) (gamepad2?)/i, /(hp).+(touchpad(?!.+tablet)|tablet)/i, /(kindle)\/([\w\.]+)/i, /(nook)[\w ]+build\/(\w+)/i, /(dell) (strea[kpr\d ]*[\dko])/i, /(le[- ]+pan)[- ]+(\w{1,9}) bui/i, /(trinity)[- ]*(t\d{3}) bui/i, /(gigaset)[- ]+(q\w{1,9}) bui/i, /(vodafone) ([\w ]+)(?:\)| bui)/i], [f, d, [p, w]], [/(surface duo)/i], [d, [f, le], [p, w]], [/droid [\d\.]+; (fp\du?)(?: b|\))/i], [d, [f, "Fairphone"], [p, C]], [/(u304aa)/i], [d, [f, "AT&T"], [p, C]], [/\bsie-(\w*)/i], [d, [f, "Siemens"], [p, C]], [/\b(rct\w+) b/i], [d, [f, "RCA"], [p, w]], [/\b(venue[\d ]{2,7}) b/i], [d, [f, "Dell"], [p, w]], [/\b(q(?:mv|ta)\w+) b/i], [d, [f, "Verizon"], [p, w]], [/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i], [d, [f, "Barnes & Noble"], [p, w]], [/\b(tm\d{3}\w+) b/i], [d, [f, "NuVision"], [p, w]], [/\b(k88) b/i], [d, [f, "ZTE"], [p, w]], [/\b(nx\d{3}j) b/i], [d, [f, "ZTE"], [p, C]], [/\b(gen\d{3}) b.+49h/i], [d, [f, "Swiss"], [p, C]], [/\b(zur\d{3}) b/i], [d, [f, "Swiss"], [p, w]], [/\b((zeki)?tb.*\b) b/i], [d, [f, "Zeki"], [p, w]], [/\b([yr]\d{2}) b/i, /\b(dragon[- ]+touch |dt)(\w{5}) b/i], [[f, "Dragon Touch"], d, [p, w]], [/\b(ns-?\w{0,9}) b/i], [d, [f, "Insignia"], [p, w]], [/\b((nxa|next)-?\w{0,9}) b/i], [d, [f, "NextBook"], [p, w]], [/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i], [[f, "Voice"], d, [p, C]], [/\b(lvtel\-)?(v1[12]) b/i], [[f, "LvTel"], d, [p, C]], [/\b(ph-1) /i], [d, [f, "Essential"], [p, C]], [/\b(v(100md|700na|7011|917g).*\b) b/i], [d, [f, "Envizen"], [p, w]], [/\b(trio[-\w\. ]+) b/i], [d, [f, "MachSpeed"], [p, w]], [/\btu_(1491) b/i], [d, [f, "Rotor"], [p, w]], [/(shield[\w ]+) b/i], [d, [f, "Nvidia"], [p, w]], [/(sprint) (\w+)/i], [f, d, [p, C]], [/(kin\.[onetw]{3})/i], [[d, /\./g, " "], [f, le], [p, C]], [/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i], [d, [f, yt], [p, w]], [/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i], [d, [f, yt], [p, C]], [/smart-tv.+(samsung)/i], [f, [p, O]], [/hbbtv.+maple;(\d+)/i], [[d, /^/, "SmartTV"], [f, we], [p, O]], [/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i], [[f, Q], [p, O]], [/(apple) ?tv/i], [f, [d, R + " TV"], [p, O]], [/crkey/i], [[d, L + "cast"], [f, Z], [p, O]], [/droid.+aft(\w+)( bui|\))/i], [d, [f, D], [p, O]], [/\(dtv[\);].+(aquos)/i, /(aquos-tv[\w ]+)\)/i], [d, [f, Je], [p, O]], [/(bravia[\w ]+)( bui|\))/i], [d, [f, Lt], [p, O]], [/(mitv-\w{5}) bui/i], [d, [f, Ot], [p, O]], [/Hbbtv.*(technisat) (.*);/i], [f, d, [p, O]], [/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i, /hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i], [[f, Yn], [d, Yn], [p, O]], [/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i], [[p, O]], [/(ouya)/i, /(nintendo) ([wids3utch]+)/i], [f, d, [p, I]], [/droid.+; (shield) bui/i], [d, [f, "Nvidia"], [p, I]], [/(playstation [345portablevi]+)/i], [d, [f, Lt], [p, I]], [/\b(xbox(?: one)?(?!; xbox))[\); ]/i], [d, [f, le], [p, I]], [/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i], [d, [f, we], [p, M]], [/((pebble))app/i], [f, d, [p, M]], [/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i], [d, [f, R], [p, M]], [/droid.+; (glass) \d/i], [d, [f, Z], [p, M]], [/droid.+; (wt63?0{2,3})\)/i], [d, [f, yt], [p, M]], [/droid.+; (glass) \d/i], [d, [f, Z], [p, M]], [/(pico) (4|neo3(?: link|pro)?)/i], [f, d, [p, M]], [/; (quest( \d| pro)?)/i], [d, [f, Vs], [p, M]], [/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i], [f, [p, z]], [/(aeobc)\b/i], [d, [f, D], [p, z]], [/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i], [d, [p, C]], [/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i], [d, [p, w]], [/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i], [[p, w]], [/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i], [[p, C]], [/(android[-\w\. ]{0,9});.+buil/i], [d, [f, "Generic"]]],
            engine: [[/windows.+ edge\/([\w\.]+)/i], [g, [m, H + "HTML"]], [/(arkweb)\/([\w\.]+)/i], [m, g], [/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i], [g, [m, "Blink"]], [/(presto)\/([\w\.]+)/i, /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i, /ekioh(flow)\/([\w\.]+)/i, /(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i, /(icab)[\/ ]([23]\.[\d\.]+)/i, /\b(libweb)/i], [m, g], [/rv\:([\w\.]{1,9})\b.+(gecko)/i], [g, m]],
            os: [[/microsoft (windows) (vista|xp)/i], [m, g], [/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i], [m, [g, Lr, Ql]], [/windows nt 6\.2; (arm)/i, /windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i, /(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i], [[g, Lr, Ql], [m, "Windows"]], [/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i, /(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i, /cfnetwork\/.+darwin/i], [[g, /_/g, "."], [m, "iOS"]], [/(mac os x) ?([\w\. ]*)/i, /(macintosh|mac_powerpc\b)(?!.+haiku)/i], [[m, Wl], [g, /_/g, "."]], [/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i], [g, m], [/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i, /(blackberry)\w*\/([\w\.]*)/i, /(tizen|kaios)[\/ ]([\w\.]+)/i, /\((series40);/i], [m, g], [/\(bb(10);/i], [g, [m, b]], [/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i], [g, [m, "Symbian"]], [/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i], [g, [m, U + " OS"]], [/web0s;.+rt(tv)/i, /\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i], [g, [m, "webOS"]], [/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i], [g, [m, "watchOS"]], [/crkey\/([\d\.]+)/i], [g, [m, L + "cast"]], [/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i], [[m, os], g], [/panasonic;(viera)/i, /(netrange)mmh/i, /(nettv)\/(\d+\.[\w\.]+)/i, /(nintendo|playstation) ([wids345portablevuch]+)/i, /(xbox); +xbox ([^\);]+)/i, /\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i, /(mint)[\/\(\) ]?(\w*)/i, /(mageia|vectorlinux)[; ]/i, /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i, /(hurd|linux) ?([\w\.]*)/i, /(gnu) ?([\w\.]*)/i, /\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i, /(haiku) (\w+)/i], [m, g], [/(sunos) ?([\w\.\d]*)/i], [[m, "Solaris"], g], [/((?:open)?solaris)[-\/ ]?([\w\.]*)/i, /(aix) ((\d)(?=\.|\)| )[\w\.])*/i, /\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i, /(unix) ?([\w\.]*)/i], [m, g]]
        }
          , xt = function(pe, ye) {
            if (typeof pe === c && (ye = pe,
            pe = s),
            !(this instanceof xt))
                return new xt(pe,ye).getResult();
            var ne = typeof i !== l && i.navigator ? i.navigator : s
              , _e = pe || (ne && ne.userAgent ? ne.userAgent : n)
              , Xt = ne && ne.userAgentData ? ne.userAgentData : s
              , Ut = ye ? Vp(Xl, ye) : Xl
              , Ee = ne && ne.userAgent == _e;
            return this.getBrowser = function() {
                var te = {};
                return te[m] = s,
                te[g] = s,
                Us.call(te, _e, Ut.browser),
                te[h] = Up(te[g]),
                Ee && ne && ne.brave && typeof ne.brave.isBrave == o && (te[m] = "Brave"),
                te
            }
            ,
            this.getCPU = function() {
                var te = {};
                return te[E] = s,
                Us.call(te, _e, Ut.cpu),
                te
            }
            ,
            this.getDevice = function() {
                var te = {};
                return te[f] = s,
                te[d] = s,
                te[p] = s,
                Us.call(te, _e, Ut.device),
                Ee && !te[p] && Xt && Xt.mobile && (te[p] = C),
                Ee && te[d] == "Macintosh" && ne && typeof ne.standalone !== l && ne.maxTouchPoints && ne.maxTouchPoints > 2 && (te[d] = "iPad",
                te[p] = w),
                te
            }
            ,
            this.getEngine = function() {
                var te = {};
                return te[m] = s,
                te[g] = s,
                Us.call(te, _e, Ut.engine),
                te
            }
            ,
            this.getOS = function() {
                var te = {};
                return te[m] = s,
                te[g] = s,
                Us.call(te, _e, Ut.os),
                Ee && !te[m] && Xt && Xt.platform && Xt.platform != "Unknown" && (te[m] = Xt.platform.replace(/chrome os/i, os).replace(/macos/i, Wl)),
                te
            }
            ,
            this.getResult = function() {
                return {
                    ua: this.getUA(),
                    browser: this.getBrowser(),
                    engine: this.getEngine(),
                    os: this.getOS(),
                    device: this.getDevice(),
                    cpu: this.getCPU()
                }
            }
            ,
            this.getUA = function() {
                return _e
            }
            ,
            this.setUA = function(te) {
                return _e = typeof te === u && te.length > B ? Yn(te, B) : te,
                this
            }
            ,
            this.setUA(_e),
            this
        };
        xt.VERSION = r,
        xt.BROWSER = _r([m, g, h]),
        xt.CPU = _r([E]),
        xt.DEVICE = _r([d, f, p, I, C, O, w, M, z]),
        xt.ENGINE = xt.OS = _r([m, g]),
        t.exports && (e = t.exports = xt),
        e.UAParser = xt;
        var cs = typeof i !== l && (i.jQuery || i.Zepto);
        if (cs && !cs.ua) {
            var Or = new xt;
            cs.ua = Or.getResult(),
            cs.ua.get = function() {
                return Or.getUA()
            }
            ,
            cs.ua.set = function(pe) {
                Or.setUA(pe);
                var ye = Or.getResult();
                for (var ne in ye)
                    cs.ua[ne] = ye[ne]
            }
        }
    }
    )(typeof window == "object" ? window : d1)
}
)(io, io.exports);
var Pm = io.exports;
const Dm = h1(Pm);
var km = {};
/*!
 * Vue.js v2.7.16
 * (c) 2014-2023 Evan You
 * Released under the MIT License.
 */
var ht = Object.freeze({})
  , ue = Array.isArray;
function ee(t) {
    return t == null
}
function A(t) {
    return t != null
}
function Re(t) {
    return t === !0
}
function Hm(t) {
    return t === !1
}
function gr(t) {
    return typeof t == "string" || typeof t == "number" || typeof t == "symbol" || typeof t == "boolean"
}
function Ne(t) {
    return typeof t == "function"
}
function qe(t) {
    return t !== null && typeof t == "object"
}
var qo = Object.prototype.toString;
function mt(t) {
    return qo.call(t) === "[object Object]"
}
function zm(t) {
    return qo.call(t) === "[object RegExp]"
}
function Cd(t) {
    var e = parseFloat(String(t));
    return e >= 0 && Math.floor(e) === e && isFinite(t)
}
function so(t) {
    return A(t) && typeof t.then == "function" && typeof t.catch == "function"
}
function Bm(t) {
    return t == null ? "" : Array.isArray(t) || mt(t) && t.toString === qo ? JSON.stringify(t, Fm, 2) : String(t)
}
function Fm(t, e) {
    return e && e.__v_isRef ? e.value : e
}
function sr(t) {
    var e = parseFloat(t);
    return isNaN(e) ? t : e
}
function Bt(t, e) {
    for (var i = Object.create(null), s = t.split(","), r = 0; r < s.length; r++)
        i[s[r]] = !0;
    return e ? function(n) {
        return i[n.toLowerCase()]
    }
    : function(n) {
        return i[n]
    }
}
Bt("slot,component", !0);
var Vm = Bt("key,ref,slot,slot-scope,is");
function Ti(t, e) {
    var i = t.length;
    if (i) {
        if (e === t[i - 1]) {
            t.length = i - 1;
            return
        }
        var s = t.indexOf(e);
        if (s > -1)
            return t.splice(s, 1)
    }
}
var Um = Object.prototype.hasOwnProperty;
function it(t, e) {
    return Um.call(t, e)
}
function rs(t) {
    var e = Object.create(null);
    return function(i) {
        var s = e[i];
        return s || (e[i] = t(i))
    }
}
var Gm = /-(\w)/g
  , Ki = rs(function(t) {
    return t.replace(Gm, function(e, i) {
        return i ? i.toUpperCase() : ""
    })
})
  , $m = rs(function(t) {
    return t.charAt(0).toUpperCase() + t.slice(1)
})
  , jm = /\B([A-Z])/g
  , fr = rs(function(t) {
    return t.replace(jm, "-$1").toLowerCase()
});
function Ym(t, e) {
    function i(s) {
        var r = arguments.length;
        return r ? r > 1 ? t.apply(e, arguments) : t.call(e, s) : t.call(e)
    }
    return i._length = t.length,
    i
}
function Wm(t, e) {
    return t.bind(e)
}
var bd = Function.prototype.bind ? Wm : Ym;
function ro(t, e) {
    e = e || 0;
    for (var i = t.length - e, s = new Array(i); i--; )
        s[i] = t[i + e];
    return s
}
function Oe(t, e) {
    for (var i in e)
        t[i] = e[i];
    return t
}
function Sd(t) {
    for (var e = {}, i = 0; i < t.length; i++)
        t[i] && Oe(e, t[i]);
    return e
}
function Ue(t, e, i) {}
var xr = function(t, e, i) {
    return !1
}
  , Td = function(t) {
    return t
};
function Zi(t, e) {
    if (t === e)
        return !0;
    var i = qe(t)
      , s = qe(e);
    if (i && s)
        try {
            var r = Array.isArray(t)
              , n = Array.isArray(e);
            if (r && n)
                return t.length === e.length && t.every(function(l, c) {
                    return Zi(l, e[c])
                });
            if (t instanceof Date && e instanceof Date)
                return t.getTime() === e.getTime();
            if (!r && !n) {
                var a = Object.keys(t)
                  , o = Object.keys(e);
                return a.length === o.length && a.every(function(l) {
                    return Zi(t[l], e[l])
                })
            } else
                return !1
        } catch (l) {
            return !1
        }
    else
        return !i && !s ? String(t) === String(e) : !1
}
function Ad(t, e) {
    for (var i = 0; i < t.length; i++)
        if (Zi(t[i], e))
            return i;
    return -1
}
function on(t) {
    var e = !1;
    return function() {
        e || (e = !0,
        t.apply(this, arguments))
    }
}
function Km(t, e) {
    return t === e ? t === 0 && 1 / t !== 1 / e : t === t || e === e
}
var dc = "data-server-rendered"
  , Pn = ["component", "directive", "filter"]
  , wd = ["beforeCreate", "created", "beforeMount", "mounted", "beforeUpdate", "updated", "beforeDestroy", "destroyed", "activated", "deactivated", "errorCaptured", "serverPrefetch", "renderTracked", "renderTriggered"]
  , Ct = {
    optionMergeStrategies: Object.create(null),
    silent: !1,
    productionTip: !1,
    devtools: !1,
    performance: !1,
    errorHandler: null,
    warnHandler: null,
    ignoredElements: [],
    keyCodes: Object.create(null),
    isReservedTag: xr,
    isReservedAttr: xr,
    isUnknownElement: xr,
    getTagNamespace: Ue,
    parsePlatformTagName: Td,
    mustUseProp: xr,
    async: !0,
    _lifecycleHooks: wd
}
  , Zm = /a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;
function _d(t) {
    var e = (t + "").charCodeAt(0);
    return e === 36 || e === 95
}
function Dt(t, e, i, s) {
    Object.defineProperty(t, e, {
        value: i,
        enumerable: !1,
        writable: !0,
        configurable: !0
    })
}
var Qm = new RegExp("[^".concat(Zm.source, ".$_\\d]"));
function Xm(t) {
    if (!Qm.test(t)) {
        var e = t.split(".");
        return function(i) {
            for (var s = 0; s < e.length; s++) {
                if (!i)
                    return;
                i = i[e[s]]
            }
            return i
        }
    }
}
var qm = "__proto__"in {}
  , ft = typeof window < "u"
  , St = ft && window.navigator.userAgent.toLowerCase()
  , Ms = St && /msie|trident/.test(St)
  , Ns = St && St.indexOf("msie 9.0") > 0
  , Ld = St && St.indexOf("edge/") > 0;
St && St.indexOf("android") > 0;
var Jm = St && /iphone|ipad|ipod|ios/.test(St)
  , hc = St && St.match(/firefox\/(\d+)/)
  , no = {}.watch
  , Od = !1;
if (ft)
    try {
        var pc = {};
        Object.defineProperty(pc, "passive", {
            get: function() {
                Od = !0
            }
        }),
        window.addEventListener("test-passive", null, pc)
    } catch (t) {}
var Mr, Rs = function() {
    return Mr === void 0 && (!ft && typeof global < "u" ? Mr = global.process && km.VUE_ENV === "server" : Mr = !1),
    Mr
}, ln = ft && window.__VUE_DEVTOOLS_GLOBAL_HOOK__;
function Ss(t) {
    return typeof t == "function" && /native code/.test(t.toString())
}
var vr = typeof Symbol < "u" && Ss(Symbol) && typeof Reflect < "u" && Ss(Reflect.ownKeys), rr;
typeof Set < "u" && Ss(Set) ? rr = Set : rr = function() {
    function t() {
        this.set = Object.create(null)
    }
    return t.prototype.has = function(e) {
        return this.set[e] === !0
    }
    ,
    t.prototype.add = function(e) {
        this.set[e] = !0
    }
    ,
    t.prototype.clear = function() {
        this.set = Object.create(null)
    }
    ,
    t
}();
var Bi = null;
function fi(t) {
    t === void 0 && (t = null),
    t || Bi && Bi._scope.off(),
    Bi = t,
    t && t._scope.on()
}
var gt = function() {
    function t(e, i, s, r, n, a, o, l) {
        this.tag = e,
        this.data = i,
        this.children = s,
        this.text = r,
        this.elm = n,
        this.ns = void 0,
        this.context = a,
        this.fnContext = void 0,
        this.fnOptions = void 0,
        this.fnScopeId = void 0,
        this.key = i && i.key,
        this.componentOptions = o,
        this.componentInstance = void 0,
        this.parent = void 0,
        this.raw = !1,
        this.isStatic = !1,
        this.isRootInsert = !0,
        this.isComment = !1,
        this.isCloned = !1,
        this.isOnce = !1,
        this.asyncFactory = l,
        this.asyncMeta = void 0,
        this.isAsyncPlaceholder = !1
    }
    return Object.defineProperty(t.prototype, "child", {
        get: function() {
            return this.componentInstance
        },
        enumerable: !1,
        configurable: !0
    }),
    t
}()
  , Fi = function(t) {
    t === void 0 && (t = "");
    var e = new gt;
    return e.text = t,
    e.isComment = !0,
    e
};
function ys(t) {
    return new gt(void 0,void 0,void 0,String(t))
}
function ao(t) {
    var e = new gt(t.tag,t.data,t.children && t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);
    return e.ns = t.ns,
    e.isStatic = t.isStatic,
    e.key = t.key,
    e.isComment = t.isComment,
    e.fnContext = t.fnContext,
    e.fnOptions = t.fnOptions,
    e.fnScopeId = t.fnScopeId,
    e.asyncMeta = t.asyncMeta,
    e.isCloned = !0,
    e
}
var eg = 0
  , Wr = []
  , tg = function() {
    for (var t = 0; t < Wr.length; t++) {
        var e = Wr[t];
        e.subs = e.subs.filter(function(i) {
            return i
        }),
        e._pending = !1
    }
    Wr.length = 0
}
  , vi = function() {
    function t() {
        this._pending = !1,
        this.id = eg++,
        this.subs = []
    }
    return t.prototype.addSub = function(e) {
        this.subs.push(e)
    }
    ,
    t.prototype.removeSub = function(e) {
        this.subs[this.subs.indexOf(e)] = null,
        this._pending || (this._pending = !0,
        Wr.push(this))
    }
    ,
    t.prototype.depend = function(e) {
        t.target && t.target.addDep(this)
    }
    ,
    t.prototype.notify = function(e) {
        for (var i = this.subs.filter(function(a) {
            return a
        }), s = 0, r = i.length; s < r; s++) {
            var n = i[s];
            n.update()
        }
    }
    ,
    t
}();
vi.target = null;
var Kr = [];
function Ps(t) {
    Kr.push(t),
    vi.target = t
}
function Ds() {
    Kr.pop(),
    vi.target = Kr[Kr.length - 1]
}
var xd = Array.prototype
  , cn = Object.create(xd)
  , ig = ["push", "pop", "shift", "unshift", "splice", "sort", "reverse"];
ig.forEach(function(t) {
    var e = xd[t];
    Dt(cn, t, function() {
        for (var i = [], s = 0; s < arguments.length; s++)
            i[s] = arguments[s];
        var r = e.apply(this, i), n = this.__ob__, a;
        switch (t) {
        case "push":
        case "unshift":
            a = i;
            break;
        case "splice":
            a = i.slice(2);
            break
        }
        return a && n.observeArray(a),
        n.dep.notify(),
        r
    })
});
var mc = Object.getOwnPropertyNames(cn)
  , Md = {}
  , Jo = !0;
function yi(t) {
    Jo = t
}
var sg = {
    notify: Ue,
    depend: Ue,
    addSub: Ue,
    removeSub: Ue
}
  , gc = function() {
    function t(e, i, s) {
        if (i === void 0 && (i = !1),
        s === void 0 && (s = !1),
        this.value = e,
        this.shallow = i,
        this.mock = s,
        this.dep = s ? sg : new vi,
        this.vmCount = 0,
        Dt(e, "__ob__", this),
        ue(e)) {
            if (!s)
                if (qm)
                    e.__proto__ = cn;
                else
                    for (var r = 0, n = mc.length; r < n; r++) {
                        var a = mc[r];
                        Dt(e, a, cn[a])
                    }
            i || this.observeArray(e)
        } else
            for (var o = Object.keys(e), r = 0; r < o.length; r++) {
                var a = o[r];
                Ei(e, a, Md, void 0, i, s)
            }
    }
    return t.prototype.observeArray = function(e) {
        for (var i = 0, s = e.length; i < s; i++)
            si(e[i], !1, this.mock)
    }
    ,
    t
}();
function si(t, e, i) {
    if (t && it(t, "__ob__") && t.__ob__ instanceof gc)
        return t.__ob__;
    if (Jo && (i || !Rs()) && (ue(t) || mt(t)) && Object.isExtensible(t) && !t.__v_skip && !kt(t) && !(t instanceof gt))
        return new gc(t,e,i)
}
function Ei(t, e, i, s, r, n, a) {
    a === void 0 && (a = !1);
    var o = new vi
      , l = Object.getOwnPropertyDescriptor(t, e);
    if (!(l && l.configurable === !1)) {
        var c = l && l.get
          , u = l && l.set;
        (!c || u) && (i === Md || arguments.length === 2) && (i = t[e]);
        var h = r ? i && i.__ob__ : si(i, !1, n);
        return Object.defineProperty(t, e, {
            enumerable: !0,
            configurable: !0,
            get: function() {
                var d = c ? c.call(t) : i;
                return vi.target && (o.depend(),
                h && (h.dep.depend(),
                ue(d) && Rd(d))),
                kt(d) && !r ? d.value : d
            },
            set: function(d) {
                var m = c ? c.call(t) : i;
                if (Km(m, d)) {
                    if (u)
                        u.call(t, d);
                    else {
                        if (c)
                            return;
                        if (!r && kt(m) && !kt(d)) {
                            m.value = d;
                            return
                        } else
                            i = d
                    }
                    h = r ? d && d.__ob__ : si(d, !1, n),
                    o.notify()
                }
            }
        }),
        o
    }
}
function el(t, e, i) {
    if (!tl(t)) {
        var s = t.__ob__;
        return ue(t) && Cd(e) ? (t.length = Math.max(t.length, e),
        t.splice(e, 1, i),
        s && !s.shallow && s.mock && si(i, !1, !0),
        i) : e in t && !(e in Object.prototype) ? (t[e] = i,
        i) : t._isVue || s && s.vmCount ? i : s ? (Ei(s.value, e, i, void 0, s.shallow, s.mock),
        s.dep.notify(),
        i) : (t[e] = i,
        i)
    }
}
function Nd(t, e) {
    if (ue(t) && Cd(e)) {
        t.splice(e, 1);
        return
    }
    var i = t.__ob__;
    t._isVue || i && i.vmCount || tl(t) || it(t, e) && (delete t[e],
    i && i.dep.notify())
}
function Rd(t) {
    for (var e = void 0, i = 0, s = t.length; i < s; i++)
        e = t[i],
        e && e.__ob__ && e.__ob__.dep.depend(),
        ue(e) && Rd(e)
}
function Pd(t) {
    return rg(t, !0),
    Dt(t, "__v_isShallow", !0),
    t
}
function rg(t, e) {
    tl(t) || si(t, e, Rs())
}
function tl(t) {
    return !!(t && t.__v_isReadonly)
}
var ng = "__v_isRef";
function kt(t) {
    return !!(t && t.__v_isRef === !0)
}
function ag(t) {
    return og(t, !1)
}
function og(t, e) {
    if (kt(t))
        return t;
    var i = {};
    return Dt(i, ng, !0),
    Dt(i, "__v_isShallow", e),
    Dt(i, "dep", Ei(i, "value", t, null, e, Rs())),
    i
}
function oo(t, e, i) {
    Object.defineProperty(t, i, {
        enumerable: !0,
        configurable: !0,
        get: function() {
            var s = e[i];
            if (kt(s))
                return s.value;
            var r = s && s.__ob__;
            return r && r.dep.depend(),
            s
        },
        set: function(s) {
            var r = e[i];
            kt(r) && !kt(s) ? r.value = s : e[i] = s
        }
    })
}
var rt, lg = function() {
    function t(e) {
        e === void 0 && (e = !1),
        this.detached = e,
        this.active = !0,
        this.effects = [],
        this.cleanups = [],
        this.parent = rt,
        !e && rt && (this.index = (rt.scopes || (rt.scopes = [])).push(this) - 1)
    }
    return t.prototype.run = function(e) {
        if (this.active) {
            var i = rt;
            try {
                return rt = this,
                e()
            } finally {
                rt = i
            }
        }
    }
    ,
    t.prototype.on = function() {
        rt = this
    }
    ,
    t.prototype.off = function() {
        rt = this.parent
    }
    ,
    t.prototype.stop = function(e) {
        if (this.active) {
            var i = void 0
              , s = void 0;
            for (i = 0,
            s = this.effects.length; i < s; i++)
                this.effects[i].teardown();
            for (i = 0,
            s = this.cleanups.length; i < s; i++)
                this.cleanups[i]();
            if (this.scopes)
                for (i = 0,
                s = this.scopes.length; i < s; i++)
                    this.scopes[i].stop(!0);
            if (!this.detached && this.parent && !e) {
                var r = this.parent.scopes.pop();
                r && r !== this && (this.parent.scopes[this.index] = r,
                r.index = this.index)
            }
            this.parent = void 0,
            this.active = !1
        }
    }
    ,
    t
}();
function cg(t, e) {
    e === void 0 && (e = rt),
    e && e.active && e.effects.push(t)
}
function ug() {
    return rt
}
function dg(t) {
    var e = t._provided
      , i = t.$parent && t.$parent._provided;
    return i === e ? t._provided = Object.create(i) : e
}
var fc = rs(function(t) {
    var e = t.charAt(0) === "&";
    t = e ? t.slice(1) : t;
    var i = t.charAt(0) === "~";
    t = i ? t.slice(1) : t;
    var s = t.charAt(0) === "!";
    return t = s ? t.slice(1) : t,
    {
        name: t,
        once: i,
        capture: s,
        passive: e
    }
});
function lo(t, e) {
    function i() {
        var s = i.fns;
        if (ue(s))
            for (var r = s.slice(), n = 0; n < r.length; n++)
                Ii(r[n], null, arguments, e, "v-on handler");
        else
            return Ii(s, null, arguments, e, "v-on handler")
    }
    return i.fns = t,
    i
}
function Dd(t, e, i, s, r, n) {
    var a, o, l, c;
    for (a in t)
        o = t[a],
        l = e[a],
        c = fc(a),
        ee(o) || (ee(l) ? (ee(o.fns) && (o = t[a] = lo(o, n)),
        Re(c.once) && (o = t[a] = r(c.name, o, c.capture)),
        i(c.name, o, c.capture, c.passive, c.params)) : o !== l && (l.fns = o,
        t[a] = l));
    for (a in e)
        ee(t[a]) && (c = fc(a),
        s(c.name, e[a], c.capture))
}
function ui(t, e, i) {
    t instanceof gt && (t = t.data.hook || (t.data.hook = {}));
    var s, r = t[e];
    function n() {
        i.apply(this, arguments),
        Ti(s.fns, n)
    }
    ee(r) ? s = lo([n]) : A(r.fns) && Re(r.merged) ? (s = r,
    s.fns.push(n)) : s = lo([r, n]),
    s.merged = !0,
    t[e] = s
}
function hg(t, e, i) {
    var s = e.options.props;
    if (!ee(s)) {
        var r = {}
          , n = t.attrs
          , a = t.props;
        if (A(n) || A(a))
            for (var o in s) {
                var l = fr(o);
                vc(r, a, o, l, !0) || vc(r, n, o, l, !1)
            }
        return r
    }
}
function vc(t, e, i, s, r) {
    if (A(e)) {
        if (it(e, i))
            return t[i] = e[i],
            r || delete e[i],
            !0;
        if (it(e, s))
            return t[i] = e[s],
            r || delete e[s],
            !0
    }
    return !1
}
function pg(t) {
    for (var e = 0; e < t.length; e++)
        if (ue(t[e]))
            return Array.prototype.concat.apply([], t);
    return t
}
function il(t) {
    return gr(t) ? [ys(t)] : ue(t) ? kd(t) : void 0
}
function Gs(t) {
    return A(t) && A(t.text) && Hm(t.isComment)
}
function kd(t, e) {
    var i = [], s, r, n, a;
    for (s = 0; s < t.length; s++)
        r = t[s],
        !(ee(r) || typeof r == "boolean") && (n = i.length - 1,
        a = i[n],
        ue(r) ? r.length > 0 && (r = kd(r, "".concat(e || "", "_").concat(s)),
        Gs(r[0]) && Gs(a) && (i[n] = ys(a.text + r[0].text),
        r.shift()),
        i.push.apply(i, r)) : gr(r) ? Gs(a) ? i[n] = ys(a.text + r) : r !== "" && i.push(ys(r)) : Gs(r) && Gs(a) ? i[n] = ys(a.text + r.text) : (Re(t._isVList) && A(r.tag) && ee(r.key) && A(e) && (r.key = "__vlist".concat(e, "_").concat(s, "__")),
        i.push(r)));
    return i
}
function mg(t, e) {
    var i = null, s, r, n, a;
    if (ue(t) || typeof t == "string")
        for (i = new Array(t.length),
        s = 0,
        r = t.length; s < r; s++)
            i[s] = e(t[s], s);
    else if (typeof t == "number")
        for (i = new Array(t),
        s = 0; s < t; s++)
            i[s] = e(s + 1, s);
    else if (qe(t))
        if (vr && t[Symbol.iterator]) {
            i = [];
            for (var o = t[Symbol.iterator](), l = o.next(); !l.done; )
                i.push(e(l.value, i.length)),
                l = o.next()
        } else
            for (n = Object.keys(t),
            i = new Array(n.length),
            s = 0,
            r = n.length; s < r; s++)
                a = n[s],
                i[s] = e(t[a], a, s);
    return A(i) || (i = []),
    i._isVList = !0,
    i
}
function gg(t, e, i, s) {
    var r = this.$scopedSlots[t], n;
    r ? (i = i || {},
    s && (i = Oe(Oe({}, s), i)),
    n = r(i) || (Ne(e) ? e() : e)) : n = this.$slots[t] || (Ne(e) ? e() : e);
    var a = i && i.slot;
    return a ? this.$createElement("template", {
        slot: a
    }, n) : n
}
function fg(t) {
    return gn(this.$options, "filters", t) || Td
}
function yc(t, e) {
    return ue(t) ? t.indexOf(e) === -1 : t !== e
}
function vg(t, e, i, s, r) {
    var n = Ct.keyCodes[e] || i;
    return r && s && !Ct.keyCodes[e] ? yc(r, s) : n ? yc(n, t) : s ? fr(s) !== e : t === void 0
}
function yg(t, e, i, s, r) {
    if (i && qe(i)) {
        ue(i) && (i = Sd(i));
        var n = void 0
          , a = function(l) {
            if (l === "class" || l === "style" || Vm(l))
                n = t;
            else {
                var c = t.attrs && t.attrs.type;
                n = s || Ct.mustUseProp(e, c, l) ? t.domProps || (t.domProps = {}) : t.attrs || (t.attrs = {})
            }
            var u = Ki(l)
              , h = fr(l);
            if (!(u in n) && !(h in n) && (n[l] = i[l],
            r)) {
                var d = t.on || (t.on = {});
                d["update:".concat(l)] = function(m) {
                    i[l] = m
                }
            }
        };
        for (var o in i)
            a(o)
    }
    return t
}
function Eg(t, e) {
    var i = this._staticTrees || (this._staticTrees = [])
      , s = i[t];
    return s && !e || (s = i[t] = this.$options.staticRenderFns[t].call(this._renderProxy, this._c, this),
    Hd(s, "__static__".concat(t), !1)),
    s
}
function Ig(t, e, i) {
    return Hd(t, "__once__".concat(e).concat(i ? "_".concat(i) : ""), !0),
    t
}
function Hd(t, e, i) {
    if (ue(t))
        for (var s = 0; s < t.length; s++)
            t[s] && typeof t[s] != "string" && Ec(t[s], "".concat(e, "_").concat(s), i);
    else
        Ec(t, e, i)
}
function Ec(t, e, i) {
    t.isStatic = !0,
    t.key = e,
    t.isOnce = i
}
function Cg(t, e) {
    if (e && mt(e)) {
        var i = t.on = t.on ? Oe({}, t.on) : {};
        for (var s in e) {
            var r = i[s]
              , n = e[s];
            i[s] = r ? [].concat(r, n) : n
        }
    }
    return t
}
function zd(t, e, i, s) {
    e = e || {
        $stable: !i
    };
    for (var r = 0; r < t.length; r++) {
        var n = t[r];
        ue(n) ? zd(n, e, i) : n && (n.proxy && (n.fn.proxy = !0),
        e[n.key] = n.fn)
    }
    return s && (e.$key = s),
    e
}
function bg(t, e) {
    for (var i = 0; i < e.length; i += 2) {
        var s = e[i];
        typeof s == "string" && s && (t[e[i]] = e[i + 1])
    }
    return t
}
function Sg(t, e) {
    return typeof t == "string" ? e + t : t
}
function Bd(t) {
    t._o = Ig,
    t._n = sr,
    t._s = Bm,
    t._l = mg,
    t._t = gg,
    t._q = Zi,
    t._i = Ad,
    t._m = Eg,
    t._f = fg,
    t._k = vg,
    t._b = yg,
    t._v = ys,
    t._e = Fi,
    t._u = zd,
    t._g = Cg,
    t._d = bg,
    t._p = Sg
}
function sl(t, e) {
    if (!t || !t.length)
        return {};
    for (var i = {}, s = 0, r = t.length; s < r; s++) {
        var n = t[s]
          , a = n.data;
        if (a && a.attrs && a.attrs.slot && delete a.attrs.slot,
        (n.context === e || n.fnContext === e) && a && a.slot != null) {
            var o = a.slot
              , l = i[o] || (i[o] = []);
            n.tag === "template" ? l.push.apply(l, n.children || []) : l.push(n)
        } else
            (i.default || (i.default = [])).push(n)
    }
    for (var c in i)
        i[c].every(Tg) && delete i[c];
    return i
}
function Tg(t) {
    return t.isComment && !t.asyncFactory || t.text === " "
}
function nr(t) {
    return t.isComment && t.asyncFactory
}
function qs(t, e, i, s) {
    var r, n = Object.keys(i).length > 0, a = e ? !!e.$stable : !n, o = e && e.$key;
    if (!e)
        r = {};
    else {
        if (e._normalized)
            return e._normalized;
        if (a && s && s !== ht && o === s.$key && !n && !s.$hasNormal)
            return s;
        r = {};
        for (var l in e)
            e[l] && l[0] !== "$" && (r[l] = Ag(t, i, l, e[l]))
    }
    for (var c in i)
        c in r || (r[c] = wg(i, c));
    return e && Object.isExtensible(e) && (e._normalized = r),
    Dt(r, "$stable", a),
    Dt(r, "$key", o),
    Dt(r, "$hasNormal", n),
    r
}
function Ag(t, e, i, s) {
    var r = function() {
        var n = Bi;
        fi(t);
        var a = arguments.length ? s.apply(null, arguments) : s({});
        a = a && typeof a == "object" && !ue(a) ? [a] : il(a);
        var o = a && a[0];
        return fi(n),
        a && (!o || a.length === 1 && o.isComment && !nr(o)) ? void 0 : a
    };
    return s.proxy && Object.defineProperty(e, i, {
        get: r,
        enumerable: !0,
        configurable: !0
    }),
    r
}
function wg(t, e) {
    return function() {
        return t[e]
    }
}
function _g(t) {
    var e = t.$options
      , i = e.setup;
    if (i) {
        var s = t._setupContext = Lg(t);
        fi(t),
        Ps();
        var r = Ii(i, null, [t._props || Pd({}), s], t, "setup");
        if (Ds(),
        fi(),
        Ne(r))
            e.render = r;
        else if (qe(r))
            if (t._setupState = r,
            r.__sfc) {
                var n = t._setupProxy = {};
                for (var a in r)
                    a !== "__sfc" && oo(n, r, a)
            } else
                for (var a in r)
                    _d(a) || oo(t, r, a)
    }
}
function Lg(t) {
    return {
        get attrs() {
            if (!t._attrsProxy) {
                var e = t._attrsProxy = {};
                Dt(e, "_v_attr_proxy", !0),
                un(e, t.$attrs, ht, t, "$attrs")
            }
            return t._attrsProxy
        },
        get listeners() {
            if (!t._listenersProxy) {
                var e = t._listenersProxy = {};
                un(e, t.$listeners, ht, t, "$listeners")
            }
            return t._listenersProxy
        },
        get slots() {
            return xg(t)
        },
        emit: bd(t.$emit, t),
        expose: function(e) {
            e && Object.keys(e).forEach(function(i) {
                return oo(t, e, i)
            })
        }
    }
}
function un(t, e, i, s, r) {
    var n = !1;
    for (var a in e)
        a in t ? e[a] !== i[a] && (n = !0) : (n = !0,
        Og(t, a, s, r));
    for (var a in t)
        a in e || (n = !0,
        delete t[a]);
    return n
}
function Og(t, e, i, s) {
    Object.defineProperty(t, e, {
        enumerable: !0,
        configurable: !0,
        get: function() {
            return i[s][e]
        }
    })
}
function xg(t) {
    return t._slotsProxy || Fd(t._slotsProxy = {}, t.$scopedSlots),
    t._slotsProxy
}
function Fd(t, e) {
    for (var i in e)
        t[i] = e[i];
    for (var i in t)
        i in e || delete t[i]
}
function Mg(t) {
    t._vnode = null,
    t._staticTrees = null;
    var e = t.$options
      , i = t.$vnode = e._parentVnode
      , s = i && i.context;
    t.$slots = sl(e._renderChildren, s),
    t.$scopedSlots = i ? qs(t.$parent, i.data.scopedSlots, t.$slots) : ht,
    t._c = function(n, a, o, l) {
        return dn(t, n, a, o, l, !1)
    }
    ,
    t.$createElement = function(n, a, o, l) {
        return dn(t, n, a, o, l, !0)
    }
    ;
    var r = i && i.data;
    Ei(t, "$attrs", r && r.attrs || ht, null, !0),
    Ei(t, "$listeners", e._parentListeners || ht, null, !0)
}
var Zr = null;
function Ng(t) {
    Bd(t.prototype),
    t.prototype.$nextTick = function(e) {
        return rl(e, this)
    }
    ,
    t.prototype._render = function() {
        var e = this
          , i = e.$options
          , s = i.render
          , r = i._parentVnode;
        r && e._isMounted && (e.$scopedSlots = qs(e.$parent, r.data.scopedSlots, e.$slots, e.$scopedSlots),
        e._slotsProxy && Fd(e._slotsProxy, e.$scopedSlots)),
        e.$vnode = r;
        var n = Bi, a = Zr, o;
        try {
            fi(e),
            Zr = e,
            o = s.call(e._renderProxy, e.$createElement)
        } catch (l) {
            Qi(l, e, "render"),
            o = e._vnode
        } finally {
            Zr = a,
            fi(n)
        }
        return ue(o) && o.length === 1 && (o = o[0]),
        o instanceof gt || (o = Fi()),
        o.parent = r,
        o
    }
}
function qn(t, e) {
    return (t.__esModule || vr && t[Symbol.toStringTag] === "Module") && (t = t.default),
    qe(t) ? e.extend(t) : t
}
function Rg(t, e, i, s, r) {
    var n = Fi();
    return n.asyncFactory = t,
    n.asyncMeta = {
        data: e,
        context: i,
        children: s,
        tag: r
    },
    n
}
function Pg(t, e) {
    if (Re(t.error) && A(t.errorComp))
        return t.errorComp;
    if (A(t.resolved))
        return t.resolved;
    var i = Zr;
    if (i && A(t.owners) && t.owners.indexOf(i) === -1 && t.owners.push(i),
    Re(t.loading) && A(t.loadingComp))
        return t.loadingComp;
    if (i && !A(t.owners)) {
        var s = t.owners = [i]
          , r = !0
          , n = null
          , a = null;
        i.$on("hook:destroyed", function() {
            return Ti(s, i)
        });
        var o = function(h) {
            for (var d = 0, m = s.length; d < m; d++)
                s[d].$forceUpdate();
            h && (s.length = 0,
            n !== null && (clearTimeout(n),
            n = null),
            a !== null && (clearTimeout(a),
            a = null))
        }
          , l = on(function(h) {
            t.resolved = qn(h, e),
            r ? s.length = 0 : o(!0)
        })
          , c = on(function(h) {
            A(t.errorComp) && (t.error = !0,
            o(!0))
        })
          , u = t(l, c);
        return qe(u) && (so(u) ? ee(t.resolved) && u.then(l, c) : so(u.component) && (u.component.then(l, c),
        A(u.error) && (t.errorComp = qn(u.error, e)),
        A(u.loading) && (t.loadingComp = qn(u.loading, e),
        u.delay === 0 ? t.loading = !0 : n = setTimeout(function() {
            n = null,
            ee(t.resolved) && ee(t.error) && (t.loading = !0,
            o(!1))
        }, u.delay || 200)),
        A(u.timeout) && (a = setTimeout(function() {
            a = null,
            ee(t.resolved) && c(null)
        }, u.timeout)))),
        r = !1,
        t.loading ? t.loadingComp : t.resolved
    }
}
function Vd(t) {
    if (ue(t))
        for (var e = 0; e < t.length; e++) {
            var i = t[e];
            if (A(i) && (A(i.componentOptions) || nr(i)))
                return i
        }
}
var Dg = 1
  , Ud = 2;
function dn(t, e, i, s, r, n) {
    return (ue(i) || gr(i)) && (r = s,
    s = i,
    i = void 0),
    Re(n) && (r = Ud),
    kg(t, e, i, s, r)
}
function kg(t, e, i, s, r) {
    if (A(i) && A(i.__ob__) || (A(i) && A(i.is) && (e = i.is),
    !e))
        return Fi();
    ue(s) && Ne(s[0]) && (i = i || {},
    i.scopedSlots = {
        default: s[0]
    },
    s.length = 0),
    r === Ud ? s = il(s) : r === Dg && (s = pg(s));
    var n, a;
    if (typeof e == "string") {
        var o = void 0;
        a = t.$vnode && t.$vnode.ns || Ct.getTagNamespace(e),
        Ct.isReservedTag(e) ? n = new gt(Ct.parsePlatformTagName(e),i,s,void 0,void 0,t) : (!i || !i.pre) && A(o = gn(t.$options, "components", e)) ? n = _c(o, i, t, s, e) : n = new gt(e,i,s,void 0,void 0,t)
    } else
        n = _c(e, i, t, s);
    return ue(n) ? n : A(n) ? (A(a) && Gd(n, a),
    A(i) && Hg(i),
    n) : Fi()
}
function Gd(t, e, i) {
    if (t.ns = e,
    t.tag === "foreignObject" && (e = void 0,
    i = !0),
    A(t.children))
        for (var s = 0, r = t.children.length; s < r; s++) {
            var n = t.children[s];
            A(n.tag) && (ee(n.ns) || Re(i) && n.tag !== "svg") && Gd(n, e, i)
        }
}
function Hg(t) {
    qe(t.style) && hn(t.style),
    qe(t.class) && hn(t.class)
}
function Qi(t, e, i) {
    Ps();
    try {
        if (e)
            for (var s = e; s = s.$parent; ) {
                var r = s.$options.errorCaptured;
                if (r)
                    for (var n = 0; n < r.length; n++)
                        try {
                            var a = r[n].call(s, t, e, i) === !1;
                            if (a)
                                return
                        } catch (o) {
                            Ic(o, s, "errorCaptured hook")
                        }
            }
        Ic(t, e, i)
    } finally {
        Ds()
    }
}
function Ii(t, e, i, s, r) {
    var n;
    try {
        n = i ? t.apply(e, i) : t.call(e),
        n && !n._isVue && so(n) && !n._handled && (n.catch(function(a) {
            return Qi(a, s, r + " (Promise/async)")
        }),
        n._handled = !0)
    } catch (a) {
        Qi(a, s, r)
    }
    return n
}
function Ic(t, e, i) {
    if (Ct.errorHandler)
        try {
            return Ct.errorHandler.call(null, t, e, i)
        } catch (s) {
            s !== t && Cc(s)
        }
    Cc(t)
}
function Cc(t, e, i) {
    if (!(ft && typeof console < "u"))
        throw t
}
var co = !1
  , uo = []
  , ho = !1;
function Nr() {
    ho = !1;
    var t = uo.slice(0);
    uo.length = 0;
    for (var e = 0; e < t.length; e++)
        t[e]()
}
var Xs;
if (typeof Promise < "u" && Ss(Promise)) {
    var zg = Promise.resolve();
    Xs = function() {
        zg.then(Nr),
        Jm && setTimeout(Ue)
    }
    ,
    co = !0
} else if (!Ms && typeof MutationObserver < "u" && (Ss(MutationObserver) || MutationObserver.toString() === "[object MutationObserverConstructor]")) {
    var Rr = 1
      , Bg = new MutationObserver(Nr)
      , bc = document.createTextNode(String(Rr));
    Bg.observe(bc, {
        characterData: !0
    }),
    Xs = function() {
        Rr = (Rr + 1) % 2,
        bc.data = String(Rr)
    }
    ,
    co = !0
} else
    typeof setImmediate < "u" && Ss(setImmediate) ? Xs = function() {
        setImmediate(Nr)
    }
    : Xs = function() {
        setTimeout(Nr, 0)
    }
    ;
function rl(t, e) {
    var i;
    if (uo.push(function() {
        if (t)
            try {
                t.call(e)
            } catch (s) {
                Qi(s, e, "nextTick")
            }
        else
            i && i(e)
    }),
    ho || (ho = !0,
    Xs()),
    !t && typeof Promise < "u")
        return new Promise(function(s) {
            i = s
        }
        )
}
function Fg(t) {
    return function(e, i) {
        if (i === void 0 && (i = Bi),
        !!i)
            return Vg(i, t, e)
    }
}
function Vg(t, e, i) {
    var s = t.$options;
    s[e] = Qd(s[e], i)
}
var Ug = Fg("mounted")
  , Gg = "2.7.16"
  , Sc = new rr;
function hn(t) {
    return Qr(t, Sc),
    Sc.clear(),
    t
}
function Qr(t, e) {
    var i, s, r = ue(t);
    if (!(!r && !qe(t) || t.__v_skip || Object.isFrozen(t) || t instanceof gt)) {
        if (t.__ob__) {
            var n = t.__ob__.dep.id;
            if (e.has(n))
                return;
            e.add(n)
        }
        if (r)
            for (i = t.length; i--; )
                Qr(t[i], e);
        else if (kt(t))
            Qr(t.value, e);
        else
            for (s = Object.keys(t),
            i = s.length; i--; )
                Qr(t[s[i]], e)
    }
}
var $g = 0
  , nl = function() {
    function t(e, i, s, r, n) {
        cg(this, rt && !rt._vm ? rt : e ? e._scope : void 0),
        (this.vm = e) && n && (e._watcher = this),
        r ? (this.deep = !!r.deep,
        this.user = !!r.user,
        this.lazy = !!r.lazy,
        this.sync = !!r.sync,
        this.before = r.before) : this.deep = this.user = this.lazy = this.sync = !1,
        this.cb = s,
        this.id = ++$g,
        this.active = !0,
        this.post = !1,
        this.dirty = this.lazy,
        this.deps = [],
        this.newDeps = [],
        this.depIds = new rr,
        this.newDepIds = new rr,
        this.expression = "",
        Ne(i) ? this.getter = i : (this.getter = Xm(i),
        this.getter || (this.getter = Ue)),
        this.value = this.lazy ? void 0 : this.get()
    }
    return t.prototype.get = function() {
        Ps(this);
        var e, i = this.vm;
        try {
            e = this.getter.call(i, i)
        } catch (s) {
            if (this.user)
                Qi(s, i, 'getter for watcher "'.concat(this.expression, '"'));
            else
                throw s
        } finally {
            this.deep && hn(e),
            Ds(),
            this.cleanupDeps()
        }
        return e
    }
    ,
    t.prototype.addDep = function(e) {
        var i = e.id;
        this.newDepIds.has(i) || (this.newDepIds.add(i),
        this.newDeps.push(e),
        this.depIds.has(i) || e.addSub(this))
    }
    ,
    t.prototype.cleanupDeps = function() {
        for (var e = this.deps.length; e--; ) {
            var i = this.deps[e];
            this.newDepIds.has(i.id) || i.removeSub(this)
        }
        var s = this.depIds;
        this.depIds = this.newDepIds,
        this.newDepIds = s,
        this.newDepIds.clear(),
        s = this.deps,
        this.deps = this.newDeps,
        this.newDeps = s,
        this.newDeps.length = 0
    }
    ,
    t.prototype.update = function() {
        this.lazy ? this.dirty = !0 : this.sync ? this.run() : of(this)
    }
    ,
    t.prototype.run = function() {
        if (this.active) {
            var e = this.get();
            if (e !== this.value || qe(e) || this.deep) {
                var i = this.value;
                if (this.value = e,
                this.user) {
                    var s = 'callback for watcher "'.concat(this.expression, '"');
                    Ii(this.cb, this.vm, [e, i], this.vm, s)
                } else
                    this.cb.call(this.vm, e, i)
            }
        }
    }
    ,
    t.prototype.evaluate = function() {
        this.value = this.get(),
        this.dirty = !1
    }
    ,
    t.prototype.depend = function() {
        for (var e = this.deps.length; e--; )
            this.deps[e].depend()
    }
    ,
    t.prototype.teardown = function() {
        if (this.vm && !this.vm._isBeingDestroyed && Ti(this.vm._scope.effects, this),
        this.active) {
            for (var e = this.deps.length; e--; )
                this.deps[e].removeSub(this);
            this.active = !1,
            this.onStop && this.onStop()
        }
    }
    ,
    t
}();
function jg(t) {
    t._events = Object.create(null),
    t._hasHookEvent = !1;
    var e = t.$options._parentListeners;
    e && $d(t, e)
}
var ar;
function Yg(t, e) {
    ar.$on(t, e)
}
function Wg(t, e) {
    ar.$off(t, e)
}
function Kg(t, e) {
    var i = ar;
    return function s() {
        var r = e.apply(null, arguments);
        r !== null && i.$off(t, s)
    }
}
function $d(t, e, i) {
    ar = t,
    Dd(e, i || {}, Yg, Wg, Kg, t),
    ar = void 0
}
function Zg(t) {
    var e = /^hook:/;
    t.prototype.$on = function(i, s) {
        var r = this;
        if (ue(i))
            for (var n = 0, a = i.length; n < a; n++)
                r.$on(i[n], s);
        else
            (r._events[i] || (r._events[i] = [])).push(s),
            e.test(i) && (r._hasHookEvent = !0);
        return r
    }
    ,
    t.prototype.$once = function(i, s) {
        var r = this;
        function n() {
            r.$off(i, n),
            s.apply(r, arguments)
        }
        return n.fn = s,
        r.$on(i, n),
        r
    }
    ,
    t.prototype.$off = function(i, s) {
        var r = this;
        if (!arguments.length)
            return r._events = Object.create(null),
            r;
        if (ue(i)) {
            for (var n = 0, a = i.length; n < a; n++)
                r.$off(i[n], s);
            return r
        }
        var o = r._events[i];
        if (!o)
            return r;
        if (!s)
            return r._events[i] = null,
            r;
        for (var l, c = o.length; c--; )
            if (l = o[c],
            l === s || l.fn === s) {
                o.splice(c, 1);
                break
            }
        return r
    }
    ,
    t.prototype.$emit = function(i) {
        var s = this
          , r = s._events[i];
        if (r) {
            r = r.length > 1 ? ro(r) : r;
            for (var n = ro(arguments, 1), a = 'event handler for "'.concat(i, '"'), o = 0, l = r.length; o < l; o++)
                Ii(r[o], s, n, s, a)
        }
        return s
    }
}
var Vi = null;
function jd(t) {
    var e = Vi;
    return Vi = t,
    function() {
        Vi = e
    }
}
function Qg(t) {
    var e = t.$options
      , i = e.parent;
    if (i && !e.abstract) {
        for (; i.$options.abstract && i.$parent; )
            i = i.$parent;
        i.$children.push(t)
    }
    t.$parent = i,
    t.$root = i ? i.$root : t,
    t.$children = [],
    t.$refs = {},
    t._provided = i ? i._provided : Object.create(null),
    t._watcher = null,
    t._inactive = null,
    t._directInactive = !1,
    t._isMounted = !1,
    t._isDestroyed = !1,
    t._isBeingDestroyed = !1
}
function Xg(t) {
    t.prototype._update = function(e, i) {
        var s = this
          , r = s.$el
          , n = s._vnode
          , a = jd(s);
        s._vnode = e,
        n ? s.$el = s.__patch__(n, e) : s.$el = s.__patch__(s.$el, e, i, !1),
        a(),
        r && (r.__vue__ = null),
        s.$el && (s.$el.__vue__ = s);
        for (var o = s; o && o.$vnode && o.$parent && o.$vnode === o.$parent._vnode; )
            o.$parent.$el = o.$el,
            o = o.$parent
    }
    ,
    t.prototype.$forceUpdate = function() {
        var e = this;
        e._watcher && e._watcher.update()
    }
    ,
    t.prototype.$destroy = function() {
        var e = this;
        if (!e._isBeingDestroyed) {
            Ht(e, "beforeDestroy"),
            e._isBeingDestroyed = !0;
            var i = e.$parent;
            i && !i._isBeingDestroyed && !e.$options.abstract && Ti(i.$children, e),
            e._scope.stop(),
            e._data.__ob__ && e._data.__ob__.vmCount--,
            e._isDestroyed = !0,
            e.__patch__(e._vnode, null),
            Ht(e, "destroyed"),
            e.$off(),
            e.$el && (e.$el.__vue__ = null),
            e.$vnode && (e.$vnode.parent = null)
        }
    }
}
function qg(t, e, i) {
    t.$el = e,
    t.$options.render || (t.$options.render = Fi),
    Ht(t, "beforeMount");
    var s;
    s = function() {
        t._update(t._render(), i)
    }
    ;
    var r = {
        before: function() {
            t._isMounted && !t._isDestroyed && Ht(t, "beforeUpdate")
        }
    };
    new nl(t,s,Ue,r,!0),
    i = !1;
    var n = t._preWatchers;
    if (n)
        for (var a = 0; a < n.length; a++)
            n[a].run();
    return t.$vnode == null && (t._isMounted = !0,
    Ht(t, "mounted")),
    t
}
function Jg(t, e, i, s, r) {
    var n = s.data.scopedSlots
      , a = t.$scopedSlots
      , o = !!(n && !n.$stable || a !== ht && !a.$stable || n && t.$scopedSlots.$key !== n.$key || !n && t.$scopedSlots.$key)
      , l = !!(r || t.$options._renderChildren || o)
      , c = t.$vnode;
    t.$options._parentVnode = s,
    t.$vnode = s,
    t._vnode && (t._vnode.parent = s),
    t.$options._renderChildren = r;
    var u = s.data.attrs || ht;
    t._attrsProxy && un(t._attrsProxy, u, c.data && c.data.attrs || ht, t, "$attrs") && (l = !0),
    t.$attrs = u,
    i = i || ht;
    var h = t.$options._parentListeners;
    if (t._listenersProxy && un(t._listenersProxy, i, h || ht, t, "$listeners"),
    t.$listeners = t.$options._parentListeners = i,
    $d(t, i, h),
    e && t.$options.props) {
        yi(!1);
        for (var d = t._props, m = t.$options._propKeys || [], p = 0; p < m.length; p++) {
            var f = m[p]
              , g = t.$options.props;
            d[f] = dl(f, g, e, t)
        }
        yi(!0),
        t.$options.propsData = e
    }
    l && (t.$slots = sl(r, s.context),
    t.$forceUpdate())
}
function Yd(t) {
    for (; t && (t = t.$parent); )
        if (t._inactive)
            return !0;
    return !1
}
function al(t, e) {
    if (e) {
        if (t._directInactive = !1,
        Yd(t))
            return
    } else if (t._directInactive)
        return;
    if (t._inactive || t._inactive === null) {
        t._inactive = !1;
        for (var i = 0; i < t.$children.length; i++)
            al(t.$children[i]);
        Ht(t, "activated")
    }
}
function Wd(t, e) {
    if (!(e && (t._directInactive = !0,
    Yd(t))) && !t._inactive) {
        t._inactive = !0;
        for (var i = 0; i < t.$children.length; i++)
            Wd(t.$children[i]);
        Ht(t, "deactivated")
    }
}
function Ht(t, e, i, s) {
    s === void 0 && (s = !0),
    Ps();
    var r = Bi
      , n = ug();
    s && fi(t);
    var a = t.$options[e]
      , o = "".concat(e, " hook");
    if (a)
        for (var l = 0, c = a.length; l < c; l++)
            Ii(a[l], t, null, t, o);
    t._hasHookEvent && t.$emit("hook:" + e),
    s && (fi(r),
    n && n.on()),
    Ds()
}
var ei = []
  , ol = []
  , pn = {}
  , po = !1
  , ll = !1
  , Es = 0;
function ef() {
    Es = ei.length = ol.length = 0,
    pn = {},
    po = ll = !1
}
var Kd = 0
  , mo = Date.now;
if (ft && !Ms) {
    var Jn = window.performance;
    Jn && typeof Jn.now == "function" && mo() > document.createEvent("Event").timeStamp && (mo = function() {
        return Jn.now()
    }
    )
}
var tf = function(t, e) {
    if (t.post) {
        if (!e.post)
            return 1
    } else if (e.post)
        return -1;
    return t.id - e.id
};
function sf() {
    Kd = mo(),
    ll = !0;
    var t, e;
    for (ei.sort(tf),
    Es = 0; Es < ei.length; Es++)
        t = ei[Es],
        t.before && t.before(),
        e = t.id,
        pn[e] = null,
        t.run();
    var i = ol.slice()
      , s = ei.slice();
    ef(),
    af(i),
    rf(s),
    tg(),
    ln && Ct.devtools && ln.emit("flush")
}
function rf(t) {
    for (var e = t.length; e--; ) {
        var i = t[e]
          , s = i.vm;
        s && s._watcher === i && s._isMounted && !s._isDestroyed && Ht(s, "updated")
    }
}
function nf(t) {
    t._inactive = !1,
    ol.push(t)
}
function af(t) {
    for (var e = 0; e < t.length; e++)
        t[e]._inactive = !0,
        al(t[e], !0)
}
function of(t) {
    var e = t.id;
    if (pn[e] == null && !(t === vi.target && t.noRecurse)) {
        if (pn[e] = !0,
        !ll)
            ei.push(t);
        else {
            for (var i = ei.length - 1; i > Es && ei[i].id > t.id; )
                i--;
            ei.splice(i + 1, 0, t)
        }
        po || (po = !0,
        rl(sf))
    }
}
function lf(t) {
    var e = t.$options.provide;
    if (e) {
        var i = Ne(e) ? e.call(t) : e;
        if (!qe(i))
            return;
        for (var s = dg(t), r = vr ? Reflect.ownKeys(i) : Object.keys(i), n = 0; n < r.length; n++) {
            var a = r[n];
            Object.defineProperty(s, a, Object.getOwnPropertyDescriptor(i, a))
        }
    }
}
function cf(t) {
    var e = Zd(t.$options.inject, t);
    e && (yi(!1),
    Object.keys(e).forEach(function(i) {
        Ei(t, i, e[i])
    }),
    yi(!0))
}
function Zd(t, e) {
    if (t) {
        for (var i = Object.create(null), s = vr ? Reflect.ownKeys(t) : Object.keys(t), r = 0; r < s.length; r++) {
            var n = s[r];
            if (n !== "__ob__") {
                var a = t[n].from;
                if (a in e._provided)
                    i[n] = e._provided[a];
                else if ("default"in t[n]) {
                    var o = t[n].default;
                    i[n] = Ne(o) ? o.call(e) : o
                }
            }
        }
        return i
    }
}
function cl(t, e, i, s, r) {
    var n = this, a = r.options, o;
    it(s, "_uid") ? (o = Object.create(s),
    o._original = s) : (o = s,
    s = s._original);
    var l = Re(a._compiled)
      , c = !l;
    this.data = t,
    this.props = e,
    this.children = i,
    this.parent = s,
    this.listeners = t.on || ht,
    this.injections = Zd(a.inject, s),
    this.slots = function() {
        return n.$slots || qs(s, t.scopedSlots, n.$slots = sl(i, s)),
        n.$slots
    }
    ,
    Object.defineProperty(this, "scopedSlots", {
        enumerable: !0,
        get: function() {
            return qs(s, t.scopedSlots, this.slots())
        }
    }),
    l && (this.$options = a,
    this.$slots = this.slots(),
    this.$scopedSlots = qs(s, t.scopedSlots, this.$slots)),
    a._scopeId ? this._c = function(u, h, d, m) {
        var p = dn(o, u, h, d, m, c);
        return p && !ue(p) && (p.fnScopeId = a._scopeId,
        p.fnContext = s),
        p
    }
    : this._c = function(u, h, d, m) {
        return dn(o, u, h, d, m, c)
    }
}
Bd(cl.prototype);
function uf(t, e, i, s, r) {
    var n = t.options
      , a = {}
      , o = n.props;
    if (A(o))
        for (var l in o)
            a[l] = dl(l, o, e || ht);
    else
        A(i.attrs) && Ac(a, i.attrs),
        A(i.props) && Ac(a, i.props);
    var c = new cl(i,a,r,s,t)
      , u = n.render.call(null, c._c, c);
    if (u instanceof gt)
        return Tc(u, i, c.parent, n);
    if (ue(u)) {
        for (var h = il(u) || [], d = new Array(h.length), m = 0; m < h.length; m++)
            d[m] = Tc(h[m], i, c.parent, n);
        return d
    }
}
function Tc(t, e, i, s, r) {
    var n = ao(t);
    return n.fnContext = i,
    n.fnOptions = s,
    e.slot && ((n.data || (n.data = {})).slot = e.slot),
    n
}
function Ac(t, e) {
    for (var i in e)
        t[Ki(i)] = e[i]
}
function mn(t) {
    return t.name || t.__name || t._componentTag
}
var ul = {
    init: function(t, e) {
        if (t.componentInstance && !t.componentInstance._isDestroyed && t.data.keepAlive) {
            var i = t;
            ul.prepatch(i, i)
        } else {
            var s = t.componentInstance = df(t, Vi);
            s.$mount(e ? t.elm : void 0, e)
        }
    },
    prepatch: function(t, e) {
        var i = e.componentOptions
          , s = e.componentInstance = t.componentInstance;
        Jg(s, i.propsData, i.listeners, e, i.children)
    },
    insert: function(t) {
        var e = t.context
          , i = t.componentInstance;
        i._isMounted || (i._isMounted = !0,
        Ht(i, "mounted")),
        t.data.keepAlive && (e._isMounted ? nf(i) : al(i, !0))
    },
    destroy: function(t) {
        var e = t.componentInstance;
        e._isDestroyed || (t.data.keepAlive ? Wd(e, !0) : e.$destroy())
    }
}
  , wc = Object.keys(ul);
function _c(t, e, i, s, r) {
    if (!ee(t)) {
        var n = i.$options._base;
        if (qe(t) && (t = n.extend(t)),
        typeof t != "function")
            return;
        var a;
        if (ee(t.cid) && (a = t,
        t = Pg(a, n),
        t === void 0))
            return Rg(a, e, i, s, r);
        e = e || {},
        pl(t),
        A(e.model) && mf(t.options, e);
        var o = hg(e, t);
        if (Re(t.options.functional))
            return uf(t, o, e, i, s);
        var l = e.on;
        if (e.on = e.nativeOn,
        Re(t.options.abstract)) {
            var c = e.slot;
            e = {},
            c && (e.slot = c)
        }
        hf(e);
        var u = mn(t.options) || r
          , h = new gt("vue-component-".concat(t.cid).concat(u ? "-".concat(u) : ""),e,void 0,void 0,void 0,i,{
            Ctor: t,
            propsData: o,
            listeners: l,
            tag: r,
            children: s
        },a);
        return h
    }
}
function df(t, e) {
    var i = {
        _isComponent: !0,
        _parentVnode: t,
        parent: e
    }
      , s = t.data.inlineTemplate;
    return A(s) && (i.render = s.render,
    i.staticRenderFns = s.staticRenderFns),
    new t.componentOptions.Ctor(i)
}
function hf(t) {
    for (var e = t.hook || (t.hook = {}), i = 0; i < wc.length; i++) {
        var s = wc[i]
          , r = e[s]
          , n = ul[s];
        r !== n && !(r && r._merged) && (e[s] = r ? pf(n, r) : n)
    }
}
function pf(t, e) {
    var i = function(s, r) {
        t(s, r),
        e(s, r)
    };
    return i._merged = !0,
    i
}
function mf(t, e) {
    var i = t.model && t.model.prop || "value"
      , s = t.model && t.model.event || "input";
    (e.attrs || (e.attrs = {}))[i] = e.model.value;
    var r = e.on || (e.on = {})
      , n = r[s]
      , a = e.model.callback;
    A(n) ? (ue(n) ? n.indexOf(a) === -1 : n !== a) && (r[s] = [a].concat(n)) : r[s] = a
}
var gf = Ue
  , $t = Ct.optionMergeStrategies;
function or(t, e, i) {
    if (i === void 0 && (i = !0),
    !e)
        return t;
    for (var s, r, n, a = vr ? Reflect.ownKeys(e) : Object.keys(e), o = 0; o < a.length; o++)
        s = a[o],
        s !== "__ob__" && (r = t[s],
        n = e[s],
        !i || !it(t, s) ? el(t, s, n) : r !== n && mt(r) && mt(n) && or(r, n));
    return t
}
function Lc(t, e, i) {
    return i ? function() {
        var s = Ne(e) ? e.call(i, i) : e
          , r = Ne(t) ? t.call(i, i) : t;
        return s ? or(s, r) : r
    }
    : e ? t ? function() {
        return or(Ne(e) ? e.call(this, this) : e, Ne(t) ? t.call(this, this) : t)
    }
    : e : t
}
$t.data = function(t, e, i) {
    return i ? Lc(t, e, i) : e && typeof e != "function" ? t : Lc(t, e)
}
;
function Qd(t, e) {
    var i = e ? t ? t.concat(e) : ue(e) ? e : [e] : t;
    return i && ff(i)
}
function ff(t) {
    for (var e = [], i = 0; i < t.length; i++)
        e.indexOf(t[i]) === -1 && e.push(t[i]);
    return e
}
wd.forEach(function(t) {
    $t[t] = Qd
});
function vf(t, e, i, s) {
    var r = Object.create(t || null);
    return e ? Oe(r, e) : r
}
Pn.forEach(function(t) {
    $t[t + "s"] = vf
});
$t.watch = function(t, e, i, s) {
    if (t === no && (t = void 0),
    e === no && (e = void 0),
    !e)
        return Object.create(t || null);
    if (!t)
        return e;
    var r = {};
    Oe(r, t);
    for (var n in e) {
        var a = r[n]
          , o = e[n];
        a && !ue(a) && (a = [a]),
        r[n] = a ? a.concat(o) : ue(o) ? o : [o]
    }
    return r
}
;
$t.props = $t.methods = $t.inject = $t.computed = function(t, e, i, s) {
    if (!t)
        return e;
    var r = Object.create(null);
    return Oe(r, t),
    e && Oe(r, e),
    r
}
;
$t.provide = function(t, e) {
    return t ? function() {
        var i = Object.create(null);
        return or(i, Ne(t) ? t.call(this) : t),
        e && or(i, Ne(e) ? e.call(this) : e, !1),
        i
    }
    : e
}
;
var yf = function(t, e) {
    return e === void 0 ? t : e
};
function Ef(t, e) {
    var i = t.props;
    if (i) {
        var s = {}, r, n, a;
        if (ue(i))
            for (r = i.length; r--; )
                n = i[r],
                typeof n == "string" && (a = Ki(n),
                s[a] = {
                    type: null
                });
        else if (mt(i))
            for (var o in i)
                n = i[o],
                a = Ki(o),
                s[a] = mt(n) ? n : {
                    type: n
                };
        t.props = s
    }
}
function If(t, e) {
    var i = t.inject;
    if (i) {
        var s = t.inject = {};
        if (ue(i))
            for (var r = 0; r < i.length; r++)
                s[i[r]] = {
                    from: i[r]
                };
        else if (mt(i))
            for (var n in i) {
                var a = i[n];
                s[n] = mt(a) ? Oe({
                    from: n
                }, a) : {
                    from: a
                }
            }
    }
}
function Cf(t) {
    var e = t.directives;
    if (e)
        for (var i in e) {
            var s = e[i];
            Ne(s) && (e[i] = {
                bind: s,
                update: s
            })
        }
}
function Xi(t, e, i) {
    if (Ne(e) && (e = e.options),
    Ef(e),
    If(e),
    Cf(e),
    !e._base && (e.extends && (t = Xi(t, e.extends, i)),
    e.mixins))
        for (var s = 0, r = e.mixins.length; s < r; s++)
            t = Xi(t, e.mixins[s], i);
    var n = {}, a;
    for (a in t)
        o(a);
    for (a in e)
        it(t, a) || o(a);
    function o(l) {
        var c = $t[l] || yf;
        n[l] = c(t[l], e[l], i, l)
    }
    return n
}
function gn(t, e, i, s) {
    if (typeof i == "string") {
        var r = t[e];
        if (it(r, i))
            return r[i];
        var n = Ki(i);
        if (it(r, n))
            return r[n];
        var a = $m(n);
        if (it(r, a))
            return r[a];
        var o = r[i] || r[n] || r[a];
        return o
    }
}
function dl(t, e, i, s) {
    var r = e[t]
      , n = !it(i, t)
      , a = i[t]
      , o = xc(Boolean, r.type);
    if (o > -1) {
        if (n && !it(r, "default"))
            a = !1;
        else if (a === "" || a === fr(t)) {
            var l = xc(String, r.type);
            (l < 0 || o < l) && (a = !0)
        }
    }
    if (a === void 0) {
        a = bf(s, r, t);
        var c = Jo;
        yi(!0),
        si(a),
        yi(c)
    }
    return a
}
function bf(t, e, i) {
    if (it(e, "default")) {
        var s = e.default;
        return t && t.$options.propsData && t.$options.propsData[i] === void 0 && t._props[i] !== void 0 ? t._props[i] : Ne(s) && go(e.type) !== "Function" ? s.call(t) : s
    }
}
var Sf = /^\s*function (\w+)/;
function go(t) {
    var e = t && t.toString().match(Sf);
    return e ? e[1] : ""
}
function Oc(t, e) {
    return go(t) === go(e)
}
function xc(t, e) {
    if (!ue(e))
        return Oc(e, t) ? 0 : -1;
    for (var i = 0, s = e.length; i < s; i++)
        if (Oc(e[i], t))
            return i;
    return -1
}
var ci = {
    enumerable: !0,
    configurable: !0,
    get: Ue,
    set: Ue
};
function hl(t, e, i) {
    ci.get = function() {
        return this[e][i]
    }
    ,
    ci.set = function(s) {
        this[e][i] = s
    }
    ,
    Object.defineProperty(t, i, ci)
}
function Tf(t) {
    var e = t.$options;
    if (e.props && Af(t, e.props),
    _g(t),
    e.methods && xf(t, e.methods),
    e.data)
        wf(t);
    else {
        var i = si(t._data = {});
        i && i.vmCount++
    }
    e.computed && Of(t, e.computed),
    e.watch && e.watch !== no && Mf(t, e.watch)
}
function Af(t, e) {
    var i = t.$options.propsData || {}
      , s = t._props = Pd({})
      , r = t.$options._propKeys = []
      , n = !t.$parent;
    n || yi(!1);
    var a = function(l) {
        r.push(l);
        var c = dl(l, e, i, t);
        Ei(s, l, c, void 0, !0),
        l in t || hl(t, "_props", l)
    };
    for (var o in e)
        a(o);
    yi(!0)
}
function wf(t) {
    var e = t.$options.data;
    e = t._data = Ne(e) ? _f(e, t) : e || {},
    mt(e) || (e = {});
    for (var i = Object.keys(e), s = t.$options.props, r = t.$options.methods, n = i.length; n--; ) {
        var a = i[n];
        s && it(s, a) || _d(a) || hl(t, "_data", a)
    }
    var o = si(e);
    o && o.vmCount++
}
function _f(t, e) {
    Ps();
    try {
        return t.call(e, e)
    } catch (i) {
        return Qi(i, e, "data()"),
        {}
    } finally {
        Ds()
    }
}
var Lf = {
    lazy: !0
};
function Of(t, e) {
    var i = t._computedWatchers = Object.create(null)
      , s = Rs();
    for (var r in e) {
        var n = e[r]
          , a = Ne(n) ? n : n.get;
        s || (i[r] = new nl(t,a || Ue,Ue,Lf)),
        r in t || Xd(t, r, n)
    }
}
function Xd(t, e, i) {
    var s = !Rs();
    Ne(i) ? (ci.get = s ? Mc(e) : Nc(i),
    ci.set = Ue) : (ci.get = i.get ? s && i.cache !== !1 ? Mc(e) : Nc(i.get) : Ue,
    ci.set = i.set || Ue),
    Object.defineProperty(t, e, ci)
}
function Mc(t) {
    return function() {
        var e = this._computedWatchers && this._computedWatchers[t];
        if (e)
            return e.dirty && e.evaluate(),
            vi.target && e.depend(),
            e.value
    }
}
function Nc(t) {
    return function() {
        return t.call(this, this)
    }
}
function xf(t, e) {
    t.$options.props;
    for (var i in e)
        t[i] = typeof e[i] != "function" ? Ue : bd(e[i], t)
}
function Mf(t, e) {
    for (var i in e) {
        var s = e[i];
        if (ue(s))
            for (var r = 0; r < s.length; r++)
                fo(t, i, s[r]);
        else
            fo(t, i, s)
    }
}
function fo(t, e, i, s) {
    return mt(i) && (s = i,
    i = i.handler),
    typeof i == "string" && (i = t[i]),
    t.$watch(e, i, s)
}
function Nf(t) {
    var e = {};
    e.get = function() {
        return this._data
    }
    ;
    var i = {};
    i.get = function() {
        return this._props
    }
    ,
    Object.defineProperty(t.prototype, "$data", e),
    Object.defineProperty(t.prototype, "$props", i),
    t.prototype.$set = el,
    t.prototype.$delete = Nd,
    t.prototype.$watch = function(s, r, n) {
        var a = this;
        if (mt(r))
            return fo(a, s, r, n);
        n = n || {},
        n.user = !0;
        var o = new nl(a,s,r,n);
        if (n.immediate) {
            var l = 'callback for immediate watcher "'.concat(o.expression, '"');
            Ps(),
            Ii(r, a, [o.value], a, l),
            Ds()
        }
        return function() {
            o.teardown()
        }
    }
}
var Rf = 0;
function Pf(t) {
    t.prototype._init = function(e) {
        var i = this;
        i._uid = Rf++,
        i._isVue = !0,
        i.__v_skip = !0,
        i._scope = new lg(!0),
        i._scope.parent = void 0,
        i._scope._vm = !0,
        e && e._isComponent ? Df(i, e) : i.$options = Xi(pl(i.constructor), e || {}, i),
        i._renderProxy = i,
        i._self = i,
        Qg(i),
        jg(i),
        Mg(i),
        Ht(i, "beforeCreate", void 0, !1),
        cf(i),
        Tf(i),
        lf(i),
        Ht(i, "created"),
        i.$options.el && i.$mount(i.$options.el)
    }
}
function Df(t, e) {
    var i = t.$options = Object.create(t.constructor.options)
      , s = e._parentVnode;
    i.parent = e.parent,
    i._parentVnode = s;
    var r = s.componentOptions;
    i.propsData = r.propsData,
    i._parentListeners = r.listeners,
    i._renderChildren = r.children,
    i._componentTag = r.tag,
    e.render && (i.render = e.render,
    i.staticRenderFns = e.staticRenderFns)
}
function pl(t) {
    var e = t.options;
    if (t.super) {
        var i = pl(t.super)
          , s = t.superOptions;
        if (i !== s) {
            t.superOptions = i;
            var r = kf(t);
            r && Oe(t.extendOptions, r),
            e = t.options = Xi(i, t.extendOptions),
            e.name && (e.components[e.name] = t)
        }
    }
    return e
}
function kf(t) {
    var e, i = t.options, s = t.sealedOptions;
    for (var r in i)
        i[r] !== s[r] && (e || (e = {}),
        e[r] = i[r]);
    return e
}
function Te(t) {
    this._init(t)
}
Pf(Te);
Nf(Te);
Zg(Te);
Xg(Te);
Ng(Te);
function Hf(t) {
    t.use = function(e) {
        var i = this._installedPlugins || (this._installedPlugins = []);
        if (i.indexOf(e) > -1)
            return this;
        var s = ro(arguments, 1);
        return s.unshift(this),
        Ne(e.install) ? e.install.apply(e, s) : Ne(e) && e.apply(null, s),
        i.push(e),
        this
    }
}
function zf(t) {
    t.mixin = function(e) {
        return this.options = Xi(this.options, e),
        this
    }
}
function Bf(t) {
    t.cid = 0;
    var e = 1;
    t.extend = function(i) {
        i = i || {};
        var s = this
          , r = s.cid
          , n = i._Ctor || (i._Ctor = {});
        if (n[r])
            return n[r];
        var a = mn(i) || mn(s.options)
          , o = function(l) {
            this._init(l)
        };
        return o.prototype = Object.create(s.prototype),
        o.prototype.constructor = o,
        o.cid = e++,
        o.options = Xi(s.options, i),
        o.super = s,
        o.options.props && Ff(o),
        o.options.computed && Vf(o),
        o.extend = s.extend,
        o.mixin = s.mixin,
        o.use = s.use,
        Pn.forEach(function(l) {
            o[l] = s[l]
        }),
        a && (o.options.components[a] = o),
        o.superOptions = s.options,
        o.extendOptions = i,
        o.sealedOptions = Oe({}, o.options),
        n[r] = o,
        o
    }
}
function Ff(t) {
    var e = t.options.props;
    for (var i in e)
        hl(t.prototype, "_props", i)
}
function Vf(t) {
    var e = t.options.computed;
    for (var i in e)
        Xd(t.prototype, i, e[i])
}
function Uf(t) {
    Pn.forEach(function(e) {
        t[e] = function(i, s) {
            return s ? (e === "component" && mt(s) && (s.name = s.name || i,
            s = this.options._base.extend(s)),
            e === "directive" && Ne(s) && (s = {
                bind: s,
                update: s
            }),
            this.options[e + "s"][i] = s,
            s) : this.options[e + "s"][i]
        }
    })
}
function Rc(t) {
    return t && (mn(t.Ctor.options) || t.tag)
}
function Pr(t, e) {
    return ue(t) ? t.indexOf(e) > -1 : typeof t == "string" ? t.split(",").indexOf(e) > -1 : zm(t) ? t.test(e) : !1
}
function Pc(t, e) {
    var i = t.cache
      , s = t.keys
      , r = t._vnode
      , n = t.$vnode;
    for (var a in i) {
        var o = i[a];
        if (o) {
            var l = o.name;
            l && !e(l) && vo(i, a, s, r)
        }
    }
    n.componentOptions.children = void 0
}
function vo(t, e, i, s) {
    var r = t[e];
    r && (!s || r.tag !== s.tag) && r.componentInstance.$destroy(),
    t[e] = null,
    Ti(i, e)
}
var Dc = [String, RegExp, Array]
  , Gf = {
    name: "keep-alive",
    abstract: !0,
    props: {
        include: Dc,
        exclude: Dc,
        max: [String, Number]
    },
    methods: {
        cacheVNode: function() {
            var t = this
              , e = t.cache
              , i = t.keys
              , s = t.vnodeToCache
              , r = t.keyToCache;
            if (s) {
                var n = s.tag
                  , a = s.componentInstance
                  , o = s.componentOptions;
                e[r] = {
                    name: Rc(o),
                    tag: n,
                    componentInstance: a
                },
                i.push(r),
                this.max && i.length > parseInt(this.max) && vo(e, i[0], i, this._vnode),
                this.vnodeToCache = null
            }
        }
    },
    created: function() {
        this.cache = Object.create(null),
        this.keys = []
    },
    destroyed: function() {
        for (var t in this.cache)
            vo(this.cache, t, this.keys)
    },
    mounted: function() {
        var t = this;
        this.cacheVNode(),
        this.$watch("include", function(e) {
            Pc(t, function(i) {
                return Pr(e, i)
            })
        }),
        this.$watch("exclude", function(e) {
            Pc(t, function(i) {
                return !Pr(e, i)
            })
        })
    },
    updated: function() {
        this.cacheVNode()
    },
    render: function() {
        var t = this.$slots.default
          , e = Vd(t)
          , i = e && e.componentOptions;
        if (i) {
            var s = Rc(i)
              , r = this
              , n = r.include
              , a = r.exclude;
            if (n && (!s || !Pr(n, s)) || a && s && Pr(a, s))
                return e;
            var o = this
              , l = o.cache
              , c = o.keys
              , u = e.key == null ? i.Ctor.cid + (i.tag ? "::".concat(i.tag) : "") : e.key;
            l[u] ? (e.componentInstance = l[u].componentInstance,
            Ti(c, u),
            c.push(u)) : (this.vnodeToCache = e,
            this.keyToCache = u),
            e.data.keepAlive = !0
        }
        return e || t && t[0]
    }
}
  , $f = {
    KeepAlive: Gf
};
function jf(t) {
    var e = {};
    e.get = function() {
        return Ct
    }
    ,
    Object.defineProperty(t, "config", e),
    t.util = {
        warn: gf,
        extend: Oe,
        mergeOptions: Xi,
        defineReactive: Ei
    },
    t.set = el,
    t.delete = Nd,
    t.nextTick = rl,
    t.observable = function(i) {
        return si(i),
        i
    }
    ,
    t.options = Object.create(null),
    Pn.forEach(function(i) {
        t.options[i + "s"] = Object.create(null)
    }),
    t.options._base = t,
    Oe(t.options.components, $f),
    Hf(t),
    zf(t),
    Bf(t),
    Uf(t)
}
jf(Te);
Object.defineProperty(Te.prototype, "$isServer", {
    get: Rs
});
Object.defineProperty(Te.prototype, "$ssrContext", {
    get: function() {
        return this.$vnode && this.$vnode.ssrContext
    }
});
Object.defineProperty(Te, "FunctionalRenderContext", {
    value: cl
});
Te.version = Gg;
var Yf = Bt("style,class")
  , Wf = Bt("input,textarea,option,select,progress")
  , Kf = function(t, e, i) {
    return i === "value" && Wf(t) && e !== "button" || i === "selected" && t === "option" || i === "checked" && t === "input" || i === "muted" && t === "video"
}
  , qd = Bt("contenteditable,draggable,spellcheck")
  , Zf = Bt("events,caret,typing,plaintext-only")
  , Qf = function(t, e) {
    return fn(e) || e === "false" ? "false" : t === "contenteditable" && Zf(e) ? e : "true"
}
  , Xf = Bt("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible")
  , yo = "http://www.w3.org/1999/xlink"
  , ml = function(t) {
    return t.charAt(5) === ":" && t.slice(0, 5) === "xlink"
}
  , Jd = function(t) {
    return ml(t) ? t.slice(6, t.length) : ""
}
  , fn = function(t) {
    return t == null || t === !1
};
function qf(t) {
    for (var e = t.data, i = t, s = t; A(s.componentInstance); )
        s = s.componentInstance._vnode,
        s && s.data && (e = kc(s.data, e));
    for (; A(i = i.parent); )
        i && i.data && (e = kc(e, i.data));
    return Jf(e.staticClass, e.class)
}
function kc(t, e) {
    return {
        staticClass: gl(t.staticClass, e.staticClass),
        class: A(t.class) ? [t.class, e.class] : e.class
    }
}
function Jf(t, e) {
    return A(t) || A(e) ? gl(t, fl(e)) : ""
}
function gl(t, e) {
    return t ? e ? t + " " + e : t : e || ""
}
function fl(t) {
    return Array.isArray(t) ? ev(t) : qe(t) ? tv(t) : typeof t == "string" ? t : ""
}
function ev(t) {
    for (var e = "", i, s = 0, r = t.length; s < r; s++)
        A(i = fl(t[s])) && i !== "" && (e && (e += " "),
        e += i);
    return e
}
function tv(t) {
    var e = "";
    for (var i in t)
        t[i] && (e && (e += " "),
        e += i);
    return e
}
var iv = {
    svg: "http://www.w3.org/2000/svg",
    math: "http://www.w3.org/1998/Math/MathML"
}
  , sv = Bt("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot")
  , vl = Bt("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view", !0)
  , eh = function(t) {
    return sv(t) || vl(t)
};
function rv(t) {
    if (vl(t))
        return "svg";
    if (t === "math")
        return "math"
}
var Dr = Object.create(null);
function nv(t) {
    if (!ft)
        return !0;
    if (eh(t))
        return !1;
    if (t = t.toLowerCase(),
    Dr[t] != null)
        return Dr[t];
    var e = document.createElement(t);
    return t.indexOf("-") > -1 ? Dr[t] = e.constructor === window.HTMLUnknownElement || e.constructor === window.HTMLElement : Dr[t] = /HTMLUnknownElement/.test(e.toString())
}
var Eo = Bt("text,number,password,search,email,tel,url");
function av(t) {
    if (typeof t == "string") {
        var e = document.querySelector(t);
        return e || document.createElement("div")
    } else
        return t
}
function ov(t, e) {
    var i = document.createElement(t);
    return t !== "select" || e.data && e.data.attrs && e.data.attrs.multiple !== void 0 && i.setAttribute("multiple", "multiple"),
    i
}
function lv(t, e) {
    return document.createElementNS(iv[t], e)
}
function cv(t) {
    return document.createTextNode(t)
}
function uv(t) {
    return document.createComment(t)
}
function dv(t, e, i) {
    t.insertBefore(e, i)
}
function hv(t, e) {
    t.removeChild(e)
}
function pv(t, e) {
    t.appendChild(e)
}
function mv(t) {
    return t.parentNode
}
function gv(t) {
    return t.nextSibling
}
function fv(t) {
    return t.tagName
}
function vv(t, e) {
    t.textContent = e
}
function yv(t, e) {
    t.setAttribute(e, "")
}
var Ev = Object.freeze({
    __proto__: null,
    createElement: ov,
    createElementNS: lv,
    createTextNode: cv,
    createComment: uv,
    insertBefore: dv,
    removeChild: hv,
    appendChild: pv,
    parentNode: mv,
    nextSibling: gv,
    tagName: fv,
    setTextContent: vv,
    setStyleScope: yv
})
  , Iv = {
    create: function(t, e) {
        Is(e)
    },
    update: function(t, e) {
        t.data.ref !== e.data.ref && (Is(t, !0),
        Is(e))
    },
    destroy: function(t) {
        Is(t, !0)
    }
};
function Is(t, e) {
    var i = t.data.ref;
    if (A(i)) {
        var s = t.context
          , r = t.componentInstance || t.elm
          , n = e ? null : r
          , a = e ? void 0 : r;
        if (Ne(i)) {
            Ii(i, s, [n], s, "template ref function");
            return
        }
        var o = t.data.refInFor
          , l = typeof i == "string" || typeof i == "number"
          , c = kt(i)
          , u = s.$refs;
        if (l || c) {
            if (o) {
                var h = l ? u[i] : i.value;
                e ? ue(h) && Ti(h, r) : ue(h) ? h.includes(r) || h.push(r) : l ? (u[i] = [r],
                Hc(s, i, u[i])) : i.value = [r]
            } else if (l) {
                if (e && u[i] !== r)
                    return;
                u[i] = a,
                Hc(s, i, n)
            } else if (c) {
                if (e && i.value !== r)
                    return;
                i.value = n
            }
        }
    }
}
function Hc(t, e, i) {
    var s = t._setupState;
    s && it(s, e) && (kt(s[e]) ? s[e].value = i : s[e] = i)
}
var di = new gt("",{},[])
  , $s = ["create", "activate", "update", "remove", "destroy"];
function Li(t, e) {
    return t.key === e.key && t.asyncFactory === e.asyncFactory && (t.tag === e.tag && t.isComment === e.isComment && A(t.data) === A(e.data) && Cv(t, e) || Re(t.isAsyncPlaceholder) && ee(e.asyncFactory.error))
}
function Cv(t, e) {
    if (t.tag !== "input")
        return !0;
    var i, s = A(i = t.data) && A(i = i.attrs) && i.type, r = A(i = e.data) && A(i = i.attrs) && i.type;
    return s === r || Eo(s) && Eo(r)
}
function bv(t, e, i) {
    var s, r, n = {};
    for (s = e; s <= i; ++s)
        r = t[s].key,
        A(r) && (n[r] = s);
    return n
}
function Sv(t) {
    var e, i, s = {}, r = t.modules, n = t.nodeOps;
    for (e = 0; e < $s.length; ++e)
        for (s[$s[e]] = [],
        i = 0; i < r.length; ++i)
            A(r[i][$s[e]]) && s[$s[e]].push(r[i][$s[e]]);
    function a(b) {
        return new gt(n.tagName(b).toLowerCase(),{},[],void 0,b)
    }
    function o(b, S) {
        function L() {
            --L.listeners === 0 && l(b)
        }
        return L.listeners = S,
        L
    }
    function l(b) {
        var S = n.parentNode(b);
        A(S) && n.removeChild(S, b)
    }
    function c(b, S, L, H, U, Z, q) {
        if (A(b.elm) && A(Z) && (b = Z[q] = ao(b)),
        b.isRootInsert = !U,
        !u(b, S, L, H)) {
            var Q = b.data
              , le = b.children
              , oe = b.tag;
            A(oe) ? (b.elm = b.ns ? n.createElementNS(b.ns, oe) : n.createElement(oe, b),
            E(b),
            p(b, le, S),
            A(Q) && g(b, S),
            m(L, b.elm, H)) : Re(b.isComment) ? (b.elm = n.createComment(b.text),
            m(L, b.elm, H)) : (b.elm = n.createTextNode(b.text),
            m(L, b.elm, H))
        }
    }
    function u(b, S, L, H) {
        var U = b.data;
        if (A(U)) {
            var Z = A(b.componentInstance) && U.keepAlive;
            if (A(U = U.hook) && A(U = U.init) && U(b, !1),
            A(b.componentInstance))
                return h(b, S),
                m(L, b.elm, H),
                Re(Z) && d(b, S, L, H),
                !0
        }
    }
    function h(b, S) {
        A(b.data.pendingInsert) && (S.push.apply(S, b.data.pendingInsert),
        b.data.pendingInsert = null),
        b.elm = b.componentInstance.$el,
        f(b) ? (g(b, S),
        E(b)) : (Is(b),
        S.push(b))
    }
    function d(b, S, L, H) {
        for (var U, Z = b; Z.componentInstance; )
            if (Z = Z.componentInstance._vnode,
            A(U = Z.data) && A(U = U.transition)) {
                for (U = 0; U < s.activate.length; ++U)
                    s.activate[U](di, Z);
                S.push(Z);
                break
            }
        m(L, b.elm, H)
    }
    function m(b, S, L) {
        A(b) && (A(L) ? n.parentNode(L) === b && n.insertBefore(b, S, L) : n.appendChild(b, S))
    }
    function p(b, S, L) {
        if (ue(S))
            for (var H = 0; H < S.length; ++H)
                c(S[H], L, b.elm, null, !0, S, H);
        else
            gr(b.text) && n.appendChild(b.elm, n.createTextNode(String(b.text)))
    }
    function f(b) {
        for (; b.componentInstance; )
            b = b.componentInstance._vnode;
        return A(b.tag)
    }
    function g(b, S) {
        for (var L = 0; L < s.create.length; ++L)
            s.create[L](di, b);
        e = b.data.hook,
        A(e) && (A(e.create) && e.create(di, b),
        A(e.insert) && S.push(b))
    }
    function E(b) {
        var S;
        if (A(S = b.fnScopeId))
            n.setStyleScope(b.elm, S);
        else
            for (var L = b; L; )
                A(S = L.context) && A(S = S.$options._scopeId) && n.setStyleScope(b.elm, S),
                L = L.parent;
        A(S = Vi) && S !== b.context && S !== b.fnContext && A(S = S.$options._scopeId) && n.setStyleScope(b.elm, S)
    }
    function I(b, S, L, H, U, Z) {
        for (; H <= U; ++H)
            c(L[H], Z, b, S, !1, L, H)
    }
    function C(b) {
        var S, L, H = b.data;
        if (A(H))
            for (A(S = H.hook) && A(S = S.destroy) && S(b),
            S = 0; S < s.destroy.length; ++S)
                s.destroy[S](b);
        if (A(S = b.children))
            for (L = 0; L < b.children.length; ++L)
                C(b.children[L])
    }
    function w(b, S, L) {
        for (; S <= L; ++S) {
            var H = b[S];
            A(H) && (A(H.tag) ? (O(H),
            C(H)) : l(H.elm))
        }
    }
    function O(b, S) {
        if (A(S) || A(b.data)) {
            var L, H = s.remove.length + 1;
            for (A(S) ? S.listeners += H : S = o(b.elm, H),
            A(L = b.componentInstance) && A(L = L._vnode) && A(L.data) && O(L, S),
            L = 0; L < s.remove.length; ++L)
                s.remove[L](b, S);
            A(L = b.data.hook) && A(L = L.remove) ? L(b, S) : S()
        } else
            l(b.elm)
    }
    function M(b, S, L, H, U) {
        var Z = 0, q = 0, Q = S.length - 1, le = S[0], oe = S[Q], be = L.length - 1, we = L[0], Je = L[be], Lt, Ot, yt, Vs, os = !U;
        for (!1; Z <= Q && q <= be; )
            ee(le) ? le = S[++Z] : ee(oe) ? oe = S[--Q] : Li(le, we) ? (B(le, we, H, L, q),
            le = S[++Z],
            we = L[++q]) : Li(oe, Je) ? (B(oe, Je, H, L, be),
            oe = S[--Q],
            Je = L[--be]) : Li(le, Je) ? (B(le, Je, H, L, be),
            os && n.insertBefore(b, le.elm, n.nextSibling(oe.elm)),
            le = S[++Z],
            Je = L[--be]) : Li(oe, we) ? (B(oe, we, H, L, q),
            os && n.insertBefore(b, oe.elm, le.elm),
            oe = S[--Q],
            we = L[++q]) : (ee(Lt) && (Lt = bv(S, Z, Q)),
            Ot = A(we.key) ? Lt[we.key] : z(we, S, Z, Q),
            ee(Ot) ? c(we, H, b, le.elm, !1, L, q) : (yt = S[Ot],
            Li(yt, we) ? (B(yt, we, H, L, q),
            S[Ot] = void 0,
            os && n.insertBefore(b, yt.elm, le.elm)) : c(we, H, b, le.elm, !1, L, q)),
            we = L[++q]);
        Z > Q ? (Vs = ee(L[be + 1]) ? null : L[be + 1].elm,
        I(b, Vs, L, q, be, H)) : q > be && w(S, Z, Q)
    }
    function z(b, S, L, H) {
        for (var U = L; U < H; U++) {
            var Z = S[U];
            if (A(Z) && Li(b, Z))
                return U
        }
    }
    function B(b, S, L, H, U, Z) {
        if (b !== S) {
            A(S.elm) && A(H) && (S = H[U] = ao(S));
            var q = S.elm = b.elm;
            if (Re(b.isAsyncPlaceholder)) {
                A(S.asyncFactory.resolved) ? P(b.elm, S, L) : S.isAsyncPlaceholder = !0;
                return
            }
            if (Re(S.isStatic) && Re(b.isStatic) && S.key === b.key && (Re(S.isCloned) || Re(S.isOnce))) {
                S.componentInstance = b.componentInstance;
                return
            }
            var Q, le = S.data;
            A(le) && A(Q = le.hook) && A(Q = Q.prepatch) && Q(b, S);
            var oe = b.children
              , be = S.children;
            if (A(le) && f(S)) {
                for (Q = 0; Q < s.update.length; ++Q)
                    s.update[Q](b, S);
                A(Q = le.hook) && A(Q = Q.update) && Q(b, S)
            }
            ee(S.text) ? A(oe) && A(be) ? oe !== be && M(q, oe, be, L, Z) : A(be) ? (A(b.text) && n.setTextContent(q, ""),
            I(q, null, be, 0, be.length - 1, L)) : A(oe) ? w(oe, 0, oe.length - 1) : A(b.text) && n.setTextContent(q, "") : b.text !== S.text && n.setTextContent(q, S.text),
            A(le) && A(Q = le.hook) && A(Q = Q.postpatch) && Q(b, S)
        }
    }
    function D(b, S, L) {
        if (Re(L) && A(b.parent))
            b.parent.data.pendingInsert = S;
        else
            for (var H = 0; H < S.length; ++H)
                S[H].data.hook.insert(S[H])
    }
    var R = Bt("attrs,class,staticClass,staticStyle,key");
    function P(b, S, L, H) {
        var U, Z = S.tag, q = S.data, Q = S.children;
        if (H = H || q && q.pre,
        S.elm = b,
        Re(S.isComment) && A(S.asyncFactory))
            return S.isAsyncPlaceholder = !0,
            !0;
        if (A(q) && (A(U = q.hook) && A(U = U.init) && U(S, !0),
        A(U = S.componentInstance)))
            return h(S, L),
            !0;
        if (A(Z)) {
            if (A(Q))
                if (!b.hasChildNodes())
                    p(S, Q, L);
                else if (A(U = q) && A(U = U.domProps) && A(U = U.innerHTML)) {
                    if (U !== b.innerHTML)
                        return !1
                } else {
                    for (var le = !0, oe = b.firstChild, be = 0; be < Q.length; be++) {
                        if (!oe || !P(oe, Q[be], L, H)) {
                            le = !1;
                            break
                        }
                        oe = oe.nextSibling
                    }
                    if (!le || oe)
                        return !1
                }
            if (A(q)) {
                var we = !1;
                for (var Je in q)
                    if (!R(Je)) {
                        we = !0,
                        g(S, L);
                        break
                    }
                !we && q.class && hn(q.class)
            }
        } else
            b.data !== S.text && (b.data = S.text);
        return !0
    }
    return function(b, S, L, H) {
        if (ee(S)) {
            A(b) && C(b);
            return
        }
        var U = !1
          , Z = [];
        if (ee(b))
            U = !0,
            c(S, Z);
        else {
            var q = A(b.nodeType);
            if (!q && Li(b, S))
                B(b, S, Z, null, null, H);
            else {
                if (q) {
                    if (b.nodeType === 1 && b.hasAttribute(dc) && (b.removeAttribute(dc),
                    L = !0),
                    Re(L) && P(b, S, Z))
                        return D(S, Z, !0),
                        b;
                    b = a(b)
                }
                var Q = b.elm
                  , le = n.parentNode(Q);
                if (c(S, Z, Q._leaveCb ? null : le, n.nextSibling(Q)),
                A(S.parent))
                    for (var oe = S.parent, be = f(S); oe; ) {
                        for (var we = 0; we < s.destroy.length; ++we)
                            s.destroy[we](oe);
                        if (oe.elm = S.elm,
                        be) {
                            for (var Je = 0; Je < s.create.length; ++Je)
                                s.create[Je](di, oe);
                            var Lt = oe.data.hook.insert;
                            if (Lt.merged)
                                for (var Ot = Lt.fns.slice(1), yt = 0; yt < Ot.length; yt++)
                                    Ot[yt]()
                        } else
                            Is(oe);
                        oe = oe.parent
                    }
                A(le) ? w([b], 0, 0) : A(b.tag) && C(b)
            }
        }
        return D(S, Z, U),
        S.elm
    }
}
var Tv = {
    create: ea,
    update: ea,
    destroy: function(t) {
        ea(t, di)
    }
};
function ea(t, e) {
    (t.data.directives || e.data.directives) && Av(t, e)
}
function Av(t, e) {
    var i = t === di, s = e === di, r = zc(t.data.directives, t.context), n = zc(e.data.directives, e.context), a = [], o = [], l, c, u;
    for (l in n)
        c = r[l],
        u = n[l],
        c ? (u.oldValue = c.value,
        u.oldArg = c.arg,
        js(u, "update", e, t),
        u.def && u.def.componentUpdated && o.push(u)) : (js(u, "bind", e, t),
        u.def && u.def.inserted && a.push(u));
    if (a.length) {
        var h = function() {
            for (var d = 0; d < a.length; d++)
                js(a[d], "inserted", e, t)
        };
        i ? ui(e, "insert", h) : h()
    }
    if (o.length && ui(e, "postpatch", function() {
        for (var d = 0; d < o.length; d++)
            js(o[d], "componentUpdated", e, t)
    }),
    !i)
        for (l in r)
            n[l] || js(r[l], "unbind", t, t, s)
}
var wv = Object.create(null);
function zc(t, e) {
    var i = Object.create(null);
    if (!t)
        return i;
    var s, r;
    for (s = 0; s < t.length; s++) {
        if (r = t[s],
        r.modifiers || (r.modifiers = wv),
        i[_v(r)] = r,
        e._setupState && e._setupState.__sfc) {
            var n = r.def || gn(e, "_setupState", "v-" + r.name);
            typeof n == "function" ? r.def = {
                bind: n,
                update: n
            } : r.def = n
        }
        r.def = r.def || gn(e.$options, "directives", r.name)
    }
    return i
}
function _v(t) {
    return t.rawName || "".concat(t.name, ".").concat(Object.keys(t.modifiers || {}).join("."))
}
function js(t, e, i, s, r) {
    var n = t.def && t.def[e];
    if (n)
        try {
            n(i.elm, t, i, s, r)
        } catch (a) {
            Qi(a, i.context, "directive ".concat(t.name, " ").concat(e, " hook"))
        }
}
var Lv = [Iv, Tv];
function Bc(t, e) {
    var i = e.componentOptions;
    if (!(A(i) && i.Ctor.options.inheritAttrs === !1) && !(ee(t.data.attrs) && ee(e.data.attrs))) {
        var s, r, n, a = e.elm, o = t.data.attrs || {}, l = e.data.attrs || {};
        (A(l.__ob__) || Re(l._v_attr_proxy)) && (l = e.data.attrs = Oe({}, l));
        for (s in l)
            r = l[s],
            n = o[s],
            n !== r && Fc(a, s, r, e.data.pre);
        (Ms || Ld) && l.value !== o.value && Fc(a, "value", l.value);
        for (s in o)
            ee(l[s]) && (ml(s) ? a.removeAttributeNS(yo, Jd(s)) : qd(s) || a.removeAttribute(s))
    }
}
function Fc(t, e, i, s) {
    s || t.tagName.indexOf("-") > -1 ? Vc(t, e, i) : Xf(e) ? fn(i) ? t.removeAttribute(e) : (i = e === "allowfullscreen" && t.tagName === "EMBED" ? "true" : e,
    t.setAttribute(e, i)) : qd(e) ? t.setAttribute(e, Qf(e, i)) : ml(e) ? fn(i) ? t.removeAttributeNS(yo, Jd(e)) : t.setAttributeNS(yo, e, i) : Vc(t, e, i)
}
function Vc(t, e, i) {
    if (fn(i))
        t.removeAttribute(e);
    else {
        if (Ms && !Ns && t.tagName === "TEXTAREA" && e === "placeholder" && i !== "" && !t.__ieph) {
            var s = function(r) {
                r.stopImmediatePropagation(),
                t.removeEventListener("input", s)
            };
            t.addEventListener("input", s),
            t.__ieph = !0
        }
        t.setAttribute(e, i)
    }
}
var Ov = {
    create: Bc,
    update: Bc
};
function Uc(t, e) {
    var i = e.elm
      , s = e.data
      , r = t.data;
    if (!(ee(s.staticClass) && ee(s.class) && (ee(r) || ee(r.staticClass) && ee(r.class)))) {
        var n = qf(e)
          , a = i._transitionClasses;
        A(a) && (n = gl(n, fl(a))),
        n !== i._prevClass && (i.setAttribute("class", n),
        i._prevClass = n)
    }
}
var xv = {
    create: Uc,
    update: Uc
}
  , ta = "__r"
  , ia = "__c";
function Mv(t) {
    if (A(t[ta])) {
        var e = Ms ? "change" : "input";
        t[e] = [].concat(t[ta], t[e] || []),
        delete t[ta]
    }
    A(t[ia]) && (t.change = [].concat(t[ia], t.change || []),
    delete t[ia])
}
var lr;
function Nv(t, e, i) {
    var s = lr;
    return function r() {
        var n = e.apply(null, arguments);
        n !== null && th(t, r, i, s)
    }
}
var Rv = co && !(hc && Number(hc[1]) <= 53);
function Pv(t, e, i, s) {
    if (Rv) {
        var r = Kd
          , n = e;
        e = n._wrapper = function(a) {
            if (a.target === a.currentTarget || a.timeStamp >= r || a.timeStamp <= 0 || a.target.ownerDocument !== document)
                return n.apply(this, arguments)
        }
    }
    lr.addEventListener(t, e, Od ? {
        capture: i,
        passive: s
    } : i)
}
function th(t, e, i, s) {
    (s || lr).removeEventListener(t, e._wrapper || e, i)
}
function sa(t, e) {
    if (!(ee(t.data.on) && ee(e.data.on))) {
        var i = e.data.on || {}
          , s = t.data.on || {};
        lr = e.elm || t.elm,
        Mv(i),
        Dd(i, s, Pv, th, Nv, e.context),
        lr = void 0
    }
}
var Dv = {
    create: sa,
    update: sa,
    destroy: function(t) {
        return sa(t, di)
    }
}, kr;
function Gc(t, e) {
    if (!(ee(t.data.domProps) && ee(e.data.domProps))) {
        var i, s, r = e.elm, n = t.data.domProps || {}, a = e.data.domProps || {};
        (A(a.__ob__) || Re(a._v_attr_proxy)) && (a = e.data.domProps = Oe({}, a));
        for (i in n)
            i in a || (r[i] = "");
        for (i in a) {
            if (s = a[i],
            i === "textContent" || i === "innerHTML") {
                if (e.children && (e.children.length = 0),
                s === n[i])
                    continue;
                r.childNodes.length === 1 && r.removeChild(r.childNodes[0])
            }
            if (i === "value" && r.tagName !== "PROGRESS") {
                r._value = s;
                var o = ee(s) ? "" : String(s);
                kv(r, o) && (r.value = o)
            } else if (i === "innerHTML" && vl(r.tagName) && ee(r.innerHTML)) {
                kr = kr || document.createElement("div"),
                kr.innerHTML = "<svg>".concat(s, "</svg>");
                for (var l = kr.firstChild; r.firstChild; )
                    r.removeChild(r.firstChild);
                for (; l.firstChild; )
                    r.appendChild(l.firstChild)
            } else if (s !== n[i])
                try {
                    r[i] = s
                } catch (c) {}
        }
    }
}
function kv(t, e) {
    return !t.composing && (t.tagName === "OPTION" || Hv(t, e) || zv(t, e))
}
function Hv(t, e) {
    var i = !0;
    try {
        i = document.activeElement !== t
    } catch (s) {}
    return i && t.value !== e
}
function zv(t, e) {
    var i = t.value
      , s = t._vModifiers;
    if (A(s)) {
        if (s.number)
            return sr(i) !== sr(e);
        if (s.trim)
            return i.trim() !== e.trim()
    }
    return i !== e
}
var Bv = {
    create: Gc,
    update: Gc
}
  , Fv = rs(function(t) {
    var e = {}
      , i = /;(?![^(]*\))/g
      , s = /:(.+)/;
    return t.split(i).forEach(function(r) {
        if (r) {
            var n = r.split(s);
            n.length > 1 && (e[n[0].trim()] = n[1].trim())
        }
    }),
    e
});
function ra(t) {
    var e = ih(t.style);
    return t.staticStyle ? Oe(t.staticStyle, e) : e
}
function ih(t) {
    return Array.isArray(t) ? Sd(t) : typeof t == "string" ? Fv(t) : t
}
function Vv(t, e) {
    for (var i = {}, s, r = t; r.componentInstance; )
        r = r.componentInstance._vnode,
        r && r.data && (s = ra(r.data)) && Oe(i, s);
    (s = ra(t.data)) && Oe(i, s);
    for (var n = t; n = n.parent; )
        n.data && (s = ra(n.data)) && Oe(i, s);
    return i
}
var Uv = /^--/, $c = /\s*!important$/, jc = function(t, e, i) {
    if (Uv.test(e))
        t.style.setProperty(e, i);
    else if ($c.test(i))
        t.style.setProperty(fr(e), i.replace($c, ""), "important");
    else {
        var s = Gv(e);
        if (Array.isArray(i))
            for (var r = 0, n = i.length; r < n; r++)
                t.style[s] = i[r];
        else
            t.style[s] = i
    }
}, Yc = ["Webkit", "Moz", "ms"], Hr, Gv = rs(function(t) {
    if (Hr = Hr || document.createElement("div").style,
    t = Ki(t),
    t !== "filter" && t in Hr)
        return t;
    for (var e = t.charAt(0).toUpperCase() + t.slice(1), i = 0; i < Yc.length; i++) {
        var s = Yc[i] + e;
        if (s in Hr)
            return s
    }
});
function Wc(t, e) {
    var i = e.data
      , s = t.data;
    if (!(ee(i.staticStyle) && ee(i.style) && ee(s.staticStyle) && ee(s.style))) {
        var r, n, a = e.elm, o = s.staticStyle, l = s.normalizedStyle || s.style || {}, c = o || l, u = ih(e.data.style) || {};
        e.data.normalizedStyle = A(u.__ob__) ? Oe({}, u) : u;
        var h = Vv(e);
        for (n in c)
            ee(h[n]) && jc(a, n, "");
        for (n in h)
            r = h[n],
            jc(a, n, r != null ? r : "")
    }
}
var $v = {
    create: Wc,
    update: Wc
}
  , sh = /\s+/;
function rh(t, e) {
    if (!(!e || !(e = e.trim())))
        if (t.classList)
            e.indexOf(" ") > -1 ? e.split(sh).forEach(function(s) {
                return t.classList.add(s)
            }) : t.classList.add(e);
        else {
            var i = " ".concat(t.getAttribute("class") || "", " ");
            i.indexOf(" " + e + " ") < 0 && t.setAttribute("class", (i + e).trim())
        }
}
function nh(t, e) {
    if (!(!e || !(e = e.trim())))
        if (t.classList)
            e.indexOf(" ") > -1 ? e.split(sh).forEach(function(r) {
                return t.classList.remove(r)
            }) : t.classList.remove(e),
            t.classList.length || t.removeAttribute("class");
        else {
            for (var i = " ".concat(t.getAttribute("class") || "", " "), s = " " + e + " "; i.indexOf(s) >= 0; )
                i = i.replace(s, " ");
            i = i.trim(),
            i ? t.setAttribute("class", i) : t.removeAttribute("class")
        }
}
function ah(t) {
    if (t) {
        if (typeof t == "object") {
            var e = {};
            return t.css !== !1 && Oe(e, Kc(t.name || "v")),
            Oe(e, t),
            e
        } else if (typeof t == "string")
            return Kc(t)
    }
}
var Kc = rs(function(t) {
    return {
        enterClass: "".concat(t, "-enter"),
        enterToClass: "".concat(t, "-enter-to"),
        enterActiveClass: "".concat(t, "-enter-active"),
        leaveClass: "".concat(t, "-leave"),
        leaveToClass: "".concat(t, "-leave-to"),
        leaveActiveClass: "".concat(t, "-leave-active")
    }
})
  , oh = ft && !Ns
  , fs = "transition"
  , na = "animation"
  , Xr = "transition"
  , vn = "transitionend"
  , Io = "animation"
  , lh = "animationend";
oh && (window.ontransitionend === void 0 && window.onwebkittransitionend !== void 0 && (Xr = "WebkitTransition",
vn = "webkitTransitionEnd"),
window.onanimationend === void 0 && window.onwebkitanimationend !== void 0 && (Io = "WebkitAnimation",
lh = "webkitAnimationEnd"));
var Zc = ft ? window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : setTimeout : function(t) {
    return t()
}
;
function ch(t) {
    Zc(function() {
        Zc(t)
    })
}
function Ui(t, e) {
    var i = t._transitionClasses || (t._transitionClasses = []);
    i.indexOf(e) < 0 && (i.push(e),
    rh(t, e))
}
function ti(t, e) {
    t._transitionClasses && Ti(t._transitionClasses, e),
    nh(t, e)
}
function uh(t, e, i) {
    var s = dh(t, e)
      , r = s.type
      , n = s.timeout
      , a = s.propCount;
    if (!r)
        return i();
    var o = r === fs ? vn : lh
      , l = 0
      , c = function() {
        t.removeEventListener(o, u),
        i()
    }
      , u = function(h) {
        h.target === t && ++l >= a && c()
    };
    setTimeout(function() {
        l < a && c()
    }, n + 1),
    t.addEventListener(o, u)
}
var jv = /\b(transform|all)(,|$)/;
function dh(t, e) {
    var i = window.getComputedStyle(t), s = (i[Xr + "Delay"] || "").split(", "), r = (i[Xr + "Duration"] || "").split(", "), n = Qc(s, r), a = (i[Io + "Delay"] || "").split(", "), o = (i[Io + "Duration"] || "").split(", "), l = Qc(a, o), c, u = 0, h = 0;
    e === fs ? n > 0 && (c = fs,
    u = n,
    h = r.length) : e === na ? l > 0 && (c = na,
    u = l,
    h = o.length) : (u = Math.max(n, l),
    c = u > 0 ? n > l ? fs : na : null,
    h = c ? c === fs ? r.length : o.length : 0);
    var d = c === fs && jv.test(i[Xr + "Property"]);
    return {
        type: c,
        timeout: u,
        propCount: h,
        hasTransform: d
    }
}
function Qc(t, e) {
    for (; t.length < e.length; )
        t = t.concat(t);
    return Math.max.apply(null, e.map(function(i, s) {
        return Xc(i) + Xc(t[s])
    }))
}
function Xc(t) {
    return Number(t.slice(0, -1).replace(",", ".")) * 1e3
}
function Co(t, e) {
    var i = t.elm;
    A(i._leaveCb) && (i._leaveCb.cancelled = !0,
    i._leaveCb());
    var s = ah(t.data.transition);
    if (!ee(s) && !(A(i._enterCb) || i.nodeType !== 1)) {
        for (var r = s.css, n = s.type, a = s.enterClass, o = s.enterToClass, l = s.enterActiveClass, c = s.appearClass, u = s.appearToClass, h = s.appearActiveClass, d = s.beforeEnter, m = s.enter, p = s.afterEnter, f = s.enterCancelled, g = s.beforeAppear, E = s.appear, I = s.afterAppear, C = s.appearCancelled, w = s.duration, O = Vi, M = Vi.$vnode; M && M.parent; )
            O = M.context,
            M = M.parent;
        var z = !O._isMounted || !t.isRootInsert;
        if (!(z && !E && E !== "")) {
            var B = z && c ? c : a
              , D = z && h ? h : l
              , R = z && u ? u : o
              , P = z && g || d
              , b = z && Ne(E) ? E : m
              , S = z && I || p
              , L = z && C || f
              , H = sr(qe(w) ? w.enter : w)
              , U = r !== !1 && !Ns
              , Z = yl(b)
              , q = i._enterCb = on(function() {
                U && (ti(i, R),
                ti(i, D)),
                q.cancelled ? (U && ti(i, B),
                L && L(i)) : S && S(i),
                i._enterCb = null
            });
            t.data.show || ui(t, "insert", function() {
                var Q = i.parentNode
                  , le = Q && Q._pending && Q._pending[t.key];
                le && le.tag === t.tag && le.elm._leaveCb && le.elm._leaveCb(),
                b && b(i, q)
            }),
            P && P(i),
            U && (Ui(i, B),
            Ui(i, D),
            ch(function() {
                ti(i, B),
                q.cancelled || (Ui(i, R),
                Z || (ph(H) ? setTimeout(q, H) : uh(i, n, q)))
            })),
            t.data.show && (e && e(),
            b && b(i, q)),
            !U && !Z && q()
        }
    }
}
function hh(t, e) {
    var i = t.elm;
    A(i._enterCb) && (i._enterCb.cancelled = !0,
    i._enterCb());
    var s = ah(t.data.transition);
    if (ee(s) || i.nodeType !== 1)
        return e();
    if (A(i._leaveCb))
        return;
    var r = s.css
      , n = s.type
      , a = s.leaveClass
      , o = s.leaveToClass
      , l = s.leaveActiveClass
      , c = s.beforeLeave
      , u = s.leave
      , h = s.afterLeave
      , d = s.leaveCancelled
      , m = s.delayLeave
      , p = s.duration
      , f = r !== !1 && !Ns
      , g = yl(u)
      , E = sr(qe(p) ? p.leave : p)
      , I = i._leaveCb = on(function() {
        i.parentNode && i.parentNode._pending && (i.parentNode._pending[t.key] = null),
        f && (ti(i, o),
        ti(i, l)),
        I.cancelled ? (f && ti(i, a),
        d && d(i)) : (e(),
        h && h(i)),
        i._leaveCb = null
    });
    m ? m(C) : C();
    function C() {
        I.cancelled || (!t.data.show && i.parentNode && ((i.parentNode._pending || (i.parentNode._pending = {}))[t.key] = t),
        c && c(i),
        f && (Ui(i, a),
        Ui(i, l),
        ch(function() {
            ti(i, a),
            I.cancelled || (Ui(i, o),
            g || (ph(E) ? setTimeout(I, E) : uh(i, n, I)))
        })),
        u && u(i, I),
        !f && !g && I())
    }
}
function ph(t) {
    return typeof t == "number" && !isNaN(t)
}
function yl(t) {
    if (ee(t))
        return !1;
    var e = t.fns;
    return A(e) ? yl(Array.isArray(e) ? e[0] : e) : (t._length || t.length) > 1
}
function qc(t, e) {
    e.data.show !== !0 && Co(e)
}
var Yv = ft ? {
    create: qc,
    activate: qc,
    remove: function(t, e) {
        t.data.show !== !0 ? hh(t, e) : e()
    }
} : {}
  , Wv = [Ov, xv, Dv, Bv, $v, Yv]
  , Kv = Wv.concat(Lv)
  , Zv = Sv({
    nodeOps: Ev,
    modules: Kv
});
Ns && document.addEventListener("selectionchange", function() {
    var t = document.activeElement;
    t && t.vmodel && El(t, "input")
});
var mh = {
    inserted: function(t, e, i, s) {
        i.tag === "select" ? (s.elm && !s.elm._vOptions ? ui(i, "postpatch", function() {
            mh.componentUpdated(t, e, i)
        }) : Jc(t, e, i.context),
        t._vOptions = [].map.call(t.options, yn)) : (i.tag === "textarea" || Eo(t.type)) && (t._vModifiers = e.modifiers,
        e.modifiers.lazy || (t.addEventListener("compositionstart", Qv),
        t.addEventListener("compositionend", iu),
        t.addEventListener("change", iu),
        Ns && (t.vmodel = !0)))
    },
    componentUpdated: function(t, e, i) {
        if (i.tag === "select") {
            Jc(t, e, i.context);
            var s = t._vOptions
              , r = t._vOptions = [].map.call(t.options, yn);
            if (r.some(function(a, o) {
                return !Zi(a, s[o])
            })) {
                var n = t.multiple ? e.value.some(function(a) {
                    return tu(a, r)
                }) : e.value !== e.oldValue && tu(e.value, r);
                n && El(t, "change")
            }
        }
    }
};
function Jc(t, e, i) {
    eu(t, e),
    (Ms || Ld) && setTimeout(function() {
        eu(t, e)
    }, 0)
}
function eu(t, e, i) {
    var s = e.value
      , r = t.multiple;
    if (!(r && !Array.isArray(s))) {
        for (var n, a, o = 0, l = t.options.length; o < l; o++)
            if (a = t.options[o],
            r)
                n = Ad(s, yn(a)) > -1,
                a.selected !== n && (a.selected = n);
            else if (Zi(yn(a), s)) {
                t.selectedIndex !== o && (t.selectedIndex = o);
                return
            }
        r || (t.selectedIndex = -1)
    }
}
function tu(t, e) {
    return e.every(function(i) {
        return !Zi(i, t)
    })
}
function yn(t) {
    return "_value"in t ? t._value : t.value
}
function Qv(t) {
    t.target.composing = !0
}
function iu(t) {
    t.target.composing && (t.target.composing = !1,
    El(t.target, "input"))
}
function El(t, e) {
    var i = document.createEvent("HTMLEvents");
    i.initEvent(e, !0, !0),
    t.dispatchEvent(i)
}
function bo(t) {
    return t.componentInstance && (!t.data || !t.data.transition) ? bo(t.componentInstance._vnode) : t
}
var Xv = {
    bind: function(t, e, i) {
        var s = e.value;
        i = bo(i);
        var r = i.data && i.data.transition
          , n = t.__vOriginalDisplay = t.style.display === "none" ? "" : t.style.display;
        s && r ? (i.data.show = !0,
        Co(i, function() {
            t.style.display = n
        })) : t.style.display = s ? n : "none"
    },
    update: function(t, e, i) {
        var s = e.value
          , r = e.oldValue;
        if (!s != !r) {
            i = bo(i);
            var n = i.data && i.data.transition;
            n ? (i.data.show = !0,
            s ? Co(i, function() {
                t.style.display = t.__vOriginalDisplay
            }) : hh(i, function() {
                t.style.display = "none"
            })) : t.style.display = s ? t.__vOriginalDisplay : "none"
        }
    },
    unbind: function(t, e, i, s, r) {
        r || (t.style.display = t.__vOriginalDisplay)
    }
}
  , qv = {
    model: mh,
    show: Xv
}
  , gh = {
    name: String,
    appear: Boolean,
    css: Boolean,
    mode: String,
    type: String,
    enterClass: String,
    leaveClass: String,
    enterToClass: String,
    leaveToClass: String,
    enterActiveClass: String,
    leaveActiveClass: String,
    appearClass: String,
    appearActiveClass: String,
    appearToClass: String,
    duration: [Number, String, Object]
};
function So(t) {
    var e = t && t.componentOptions;
    return e && e.Ctor.options.abstract ? So(Vd(e.children)) : t
}
function fh(t) {
    var e = {}
      , i = t.$options;
    for (var s in i.propsData)
        e[s] = t[s];
    var r = i._parentListeners;
    for (var s in r)
        e[Ki(s)] = r[s];
    return e
}
function su(t, e) {
    if (/\d-keep-alive$/.test(e.tag))
        return t("keep-alive", {
            props: e.componentOptions.propsData
        })
}
function Jv(t) {
    for (; t = t.parent; )
        if (t.data.transition)
            return !0
}
function ey(t, e) {
    return e.key === t.key && e.tag === t.tag
}
var ty = function(t) {
    return t.tag || nr(t)
}
  , iy = function(t) {
    return t.name === "show"
}
  , sy = {
    name: "transition",
    props: gh,
    abstract: !0,
    render: function(t) {
        var e = this
          , i = this.$slots.default;
        if (i && (i = i.filter(ty),
        !!i.length)) {
            var s = this.mode
              , r = i[0];
            if (Jv(this.$vnode))
                return r;
            var n = So(r);
            if (!n)
                return r;
            if (this._leaving)
                return su(t, r);
            var a = "__transition-".concat(this._uid, "-");
            n.key = n.key == null ? n.isComment ? a + "comment" : a + n.tag : gr(n.key) ? String(n.key).indexOf(a) === 0 ? n.key : a + n.key : n.key;
            var o = (n.data || (n.data = {})).transition = fh(this)
              , l = this._vnode
              , c = So(l);
            if (n.data.directives && n.data.directives.some(iy) && (n.data.show = !0),
            c && c.data && !ey(n, c) && !nr(c) && !(c.componentInstance && c.componentInstance._vnode.isComment)) {
                var u = c.data.transition = Oe({}, o);
                if (s === "out-in")
                    return this._leaving = !0,
                    ui(u, "afterLeave", function() {
                        e._leaving = !1,
                        e.$forceUpdate()
                    }),
                    su(t, r);
                if (s === "in-out") {
                    if (nr(n))
                        return l;
                    var h, d = function() {
                        h()
                    };
                    ui(o, "afterEnter", d),
                    ui(o, "enterCancelled", d),
                    ui(u, "delayLeave", function(m) {
                        h = m
                    })
                }
            }
            return r
        }
    }
}
  , vh = Oe({
    tag: String,
    moveClass: String
}, gh);
delete vh.mode;
var ry = {
    props: vh,
    beforeMount: function() {
        var t = this
          , e = this._update;
        this._update = function(i, s) {
            var r = jd(t);
            t.__patch__(t._vnode, t.kept, !1, !0),
            t._vnode = t.kept,
            r(),
            e.call(t, i, s)
        }
    },
    render: function(t) {
        for (var e = this.tag || this.$vnode.data.tag || "span", i = Object.create(null), s = this.prevChildren = this.children, r = this.$slots.default || [], n = this.children = [], a = fh(this), o = 0; o < r.length; o++) {
            var l = r[o];
            l.tag && l.key != null && String(l.key).indexOf("__vlist") !== 0 && (n.push(l),
            i[l.key] = l,
            (l.data || (l.data = {})).transition = a)
        }
        if (s) {
            for (var c = [], u = [], o = 0; o < s.length; o++) {
                var l = s[o];
                l.data.transition = a,
                l.data.pos = l.elm.getBoundingClientRect(),
                i[l.key] ? c.push(l) : u.push(l)
            }
            this.kept = t(e, null, c),
            this.removed = u
        }
        return t(e, null, n)
    },
    updated: function() {
        var t = this.prevChildren
          , e = this.moveClass || (this.name || "v") + "-move";
        !t.length || !this.hasMove(t[0].elm, e) || (t.forEach(ny),
        t.forEach(ay),
        t.forEach(oy),
        this._reflow = document.body.offsetHeight,
        t.forEach(function(i) {
            if (i.data.moved) {
                var s = i.elm
                  , r = s.style;
                Ui(s, e),
                r.transform = r.WebkitTransform = r.transitionDuration = "",
                s.addEventListener(vn, s._moveCb = function n(a) {
                    a && a.target !== s || (!a || /transform$/.test(a.propertyName)) && (s.removeEventListener(vn, n),
                    s._moveCb = null,
                    ti(s, e))
                }
                )
            }
        }))
    },
    methods: {
        hasMove: function(t, e) {
            if (!oh)
                return !1;
            if (this._hasMove)
                return this._hasMove;
            var i = t.cloneNode();
            t._transitionClasses && t._transitionClasses.forEach(function(r) {
                nh(i, r)
            }),
            rh(i, e),
            i.style.display = "none",
            this.$el.appendChild(i);
            var s = dh(i);
            return this.$el.removeChild(i),
            this._hasMove = s.hasTransform
        }
    }
};
function ny(t) {
    t.elm._moveCb && t.elm._moveCb(),
    t.elm._enterCb && t.elm._enterCb()
}
function ay(t) {
    t.data.newPos = t.elm.getBoundingClientRect()
}
function oy(t) {
    var e = t.data.pos
      , i = t.data.newPos
      , s = e.left - i.left
      , r = e.top - i.top;
    if (s || r) {
        t.data.moved = !0;
        var n = t.elm.style;
        n.transform = n.WebkitTransform = "translate(".concat(s, "px,").concat(r, "px)"),
        n.transitionDuration = "0s"
    }
}
var ly = {
    Transition: sy,
    TransitionGroup: ry
};
Te.config.mustUseProp = Kf;
Te.config.isReservedTag = eh;
Te.config.isReservedAttr = Yf;
Te.config.getTagNamespace = rv;
Te.config.isUnknownElement = nv;
Oe(Te.options.directives, qv);
Oe(Te.options.components, ly);
Te.prototype.__patch__ = ft ? Zv : Ue;
Te.prototype.$mount = function(t, e) {
    return t = t && ft ? av(t) : void 0,
    qg(this, t, e)
}
;
ft && setTimeout(function() {
    Ct.devtools && (ln && ln.emit("init", Te))
}, 0);
function x(t, e, i, s, r, n, a, o) {
    var l = typeof t == "function" ? t.options : t;
    return e && (l.render = e,
    l.staticRenderFns = i,
    l._compiled = !0),
    n && (l._scopeId = "data-v-" + n),
    {
        exports: t,
        options: l
    }
}
const cy = {
    name: "PinSVG"
};
var uy = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        attrs: {
            xmlns: "http://www.w3.org/2000/svg",
            width: "24",
            height: "24"
        }
    }, [e("path", {
        attrs: {
            fill: "currentColor",
            "fill-rule": "evenodd",
            d: "M11.98 21.97c.42 0 .75-.34.76-.75v-6.06h5.4c.45 0 .79-.41.71-.86a7.34 7.34 0 0 0-1.56-3.38 64.23 64.23 0 0 1-2.3-2.89V4.6l1.5-.86a.91.91 0 0 0-.45-1.7H7.9a.9.9 0 0 0-.44 1.7l1.53.86v3.44c-.2.27-1.37 1.74-2.3 2.9a7.59 7.59 0 0 0-1.51 3.33c-.09.47.27.9.74.9h5.34l-.01 6.06c0 .41.33.75.74.75Zm5.15-8.31a5.87 5.87 0 0 0-1-1.79c-.83-1-1.7-2.06-2.47-3.12a1.5 1.5 0 0 1-.18-.72V4.6c0-.4.17-.78.44-1.06h-3.88c.28.28.44.66.44 1.06v3.44c0 .33-.1.65-.3.9-.22.3-1.4 1.79-2.32 2.94a6.1 6.1 0 0 0-.98 1.79h10.25Z",
            "clip-rule": "evenodd"
        }
    })])
}
  , dy = []
  , hy = x(cy, uy, dy, !1, null, "91c8383b");
const ru = hy.exports
  , xi = "__v-click-outside"
  , yh = typeof window < "u"
  , py = typeof navigator < "u"
  , my = yh && ("ontouchstart"in window || py && navigator.msMaxTouchPoints > 0)
  , gy = my ? ["touchstart", "pointerdown"] : ["mousedown"];
function fy(t) {
    const e = typeof t == "function";
    if (!e && typeof t != "object")
        throw new Error("v-click-outside: Binding value must be a function or an object");
    return {
        handler: e ? t : t.handler,
        middleware: t.middleware || (i => i),
        events: t.events || gy,
        isActive: t.isActive !== !1,
        detectIframe: t.detectIframe !== !1,
        capture: !!t.capture
    }
}
function Eh({event: t, handler: e, middleware: i}) {
    i(t) && e(t)
}
function vy({el: t, event: e, handler: i, middleware: s}) {
    setTimeout( () => {
        const {activeElement: r} = document;
        r && r.tagName === "IFRAME" && !t.contains(r) && Eh({
            event: e,
            handler: i,
            middleware: s
        })
    }
    , 0)
}
function yy({el: t, event: e, handler: i, middleware: s}) {
    const r = e.path || e.composedPath && e.composedPath();
    (r ? r.indexOf(t) < 0 : !t.contains(e.target)) && Eh({
        event: e,
        handler: i,
        middleware: s
    })
}
function Ih(t, {value: e}) {
    const {events: i, handler: s, middleware: r, isActive: n, detectIframe: a, capture: o} = fy(e);
    if (n) {
        if (t[xi] = i.map(l => ({
            event: l,
            srcTarget: document.documentElement,
            handler: c => yy({
                el: t,
                event: c,
                handler: s,
                middleware: r
            }),
            capture: o
        })),
        a) {
            const l = {
                event: "blur",
                srcTarget: window,
                handler: c => vy({
                    el: t,
                    event: c,
                    handler: s,
                    middleware: r
                }),
                capture: o
            };
            t[xi] = [...t[xi], l]
        }
        t[xi].forEach( ({event: l, srcTarget: c, handler: u}) => setTimeout( () => {
            t[xi] && c.addEventListener(l, u, o)
        }
        , 0))
    }
}
function Ch(t) {
    (t[xi] || []).forEach( ({event: e, srcTarget: i, handler: s, capture: r}) => i.removeEventListener(e, s, r)),
    delete t[xi]
}
function Ey(t, {value: e, oldValue: i}) {
    JSON.stringify(e) !== JSON.stringify(i) && (Ch(t),
    Ih(t, {
        value: e
    }))
}
const Iy = {
    bind: Ih,
    update: Ey,
    unbind: Ch
}
  , Ft = yh ? Iy : {}
  , nu = "..."
  , aa = " "
  , ds = .1
  , Pi = 64
  , oa = 5
  , Cy = "'Helvetica Neue', Helvetica, arial, verdana, 'lucida sans unicode', tahoma, sans-serif"
  , To = Math.PI / 180
  , bh = -1
  , Gi = {
    STANDARD: "standard",
    QUIZ: "quiz-index",
    PIN: "pin"
}
  , Ve = {
    SCHEMA: 1,
    RX: 2,
    CT: 3,
    IRM: 4,
    RX2: 7,
    XA2: 8,
    PHOTOGRAPHY: 11,
    PHOTOGRAPHY_X2: 13
}
  , la = {
    CODES: {
        CENTER: 1,
        END: 2,
        JUSTIFY: 3,
        LEFT: 4,
        RIGHT: 5,
        START: 6
    },
    1: "center",
    2: "end",
    3: "justify",
    4: "left",
    5: "right",
    6: "start"
}
  , de = {
    SLICE: "slice",
    OVERLAY: "overlay",
    CROSS_REFERENCES: "cross-reference",
    THUMBNAILS: "thumbnails",
    BOTTOM_PREVIEW_SLICE: "bottom-preview-slice",
    GALLERY_THUMB: "gallery-thumb"
}
  , Js = {
    HIGH: 90
}
  , qi = {
    LOWEST: -1,
    LOW: 50,
    HIGH: 75
}
  , ca = {
    LOW: .5,
    HIGH: 1
}
  , by = 30
  , ze = {
    WHITE: "FFFFFF",
    BLACK: "000000",
    RED: "FF0000",
    IMAIOS: "3DA8FE"
}
  , au = {
    DPX_2: 2,
    DPX_1: 1
}
  , We = "contraste_"
  , ou = {
    name: "anatomie-generale",
    version: 1
}
  , Sh = {
    id: -1,
    name_id: -1,
    series_id: -1,
    imaios_code: We,
    sort_order: -1
}
  , Th = {
    STANDARD: "standard",
    SLOW: "slow"
}
  , hi = {
    FORWARD: 1,
    BACKWARD: -1
}
  , Sy = t => t
  , lu = .7
  , cu = {
    ANDROID: "Android",
    IOS: "iOS"
}
  , Yt = {
    ZOOM: "zoom",
    PAN: "pan",
    SCROLL: "scroll"
}
  , Ji = {
    LEFT_CLICK: 0,
    MIDDLE_CLICK: 1,
    RIGHT_CLICK: 2
}
  , zr = {
    LEFT: 5,
    RIGHT: 5,
    BOTTOM: 5,
    TOP: 0
}
  , Ty = 2
  , En = {
    width: 22,
    height: 31
}
  , Ay = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMCAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPG1hc2sgaWQ9InBhdGgtMS1vdXRzaWRlLTFfNTEyXzI2OCIgbWFza1VuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeD0iNC4xMzE1OSIgeT0iMC43ODk0NzQiIHdpZHRoPSIyMiIgaGVpZ2h0PSIzMSIgZmlsbD0iYmxhY2siPgo8cmVjdCBmaWxsPSJ3aGl0ZSIgeD0iNC4xMzE1OSIgeT0iMC43ODk0NzQiIHdpZHRoPSIyMiIgaGVpZ2h0PSIzMSIvPgo8cGF0aCBkPSJNNS4xMzE1OSAxMS40ODY2QzUuMTMxNTkgNi4xMjU0OCA5LjU0NDE4IDEuNzg5NDcgMTUgMS43ODk0N0MyMC40NTU4IDEuNzg5NDcgMjQuODY4NCA2LjEyNTQ4IDI0Ljg2ODQgMTEuNDg2NkMyNC44Njg0IDE1Ljc1OTkgMjIuMjA5MyAxOC42NjY3IDE5Ljc0NjkgMjEuMzU4NkMxNy41MTA1IDIzLjgwMzQgMTYuMzExNCAyNi4zMDA3IDE1LjUzMzkgMjkuNTQ2NEMxNS41MzA5IDI5LjU1ODkgMTUuNTI3OCAyOS41NzE0IDE1LjUyNDYgMjkuNTgzOUMxNS4zNjUyIDMwLjIwNjQgMTQuNTk2NyAzMC4yMzc1IDE0LjQzMDcgMjkuNjE2N0MxNC40MjQ2IDI5LjU5MzUgMTQuNDE4NiAyOS41NzAxIDE0LjQxMjkgMjkuNTQ2NEMxMy42MzM2IDI2LjI5MjggMTIuNDk3NCAyMy44MTIgMTAuMjUzMSAyMS4zNTg2QzcuNzkwNjkgMTguNjY2NyA1LjEzMTU5IDE1Ljc1OTkgNS4xMzE1OSAxMS40ODY2WiIvPgo8L21hc2s+CjxwYXRoIGQ9Ik01LjEzMTU5IDExLjQ4NjZDNS4xMzE1OSA2LjEyNTQ4IDkuNTQ0MTggMS43ODk0NyAxNSAxLjc4OTQ3QzIwLjQ1NTggMS43ODk0NyAyNC44Njg0IDYuMTI1NDggMjQuODY4NCAxMS40ODY2QzI0Ljg2ODQgMTUuNzU5OSAyMi4yMDkzIDE4LjY2NjcgMTkuNzQ2OSAyMS4zNTg2QzE3LjUxMDUgMjMuODAzNCAxNi4zMTE0IDI2LjMwMDcgMTUuNTMzOSAyOS41NDY0QzE1LjUzMDkgMjkuNTU4OSAxNS41Mjc4IDI5LjU3MTQgMTUuNTI0NiAyOS41ODM5QzE1LjM2NTIgMzAuMjA2NCAxNC41OTY3IDMwLjIzNzUgMTQuNDMwNyAyOS42MTY3QzE0LjQyNDYgMjkuNTkzNSAxNC40MTg2IDI5LjU3MDEgMTQuNDEyOSAyOS41NDY0QzEzLjYzMzYgMjYuMjkyOCAxMi40OTc0IDIzLjgxMiAxMC4yNTMxIDIxLjM1ODZDNy43OTA2OSAxOC42NjY3IDUuMTMxNTkgMTUuNzU5OSA1LjEzMTU5IDExLjQ4NjZaIiBmaWxsPSIjRkZEOTFDIi8+CjxwYXRoIGQ9Ik0xOS43NDY5IDIxLjM1ODZMMjAuNDg0OCAyMi4wMzM2TDIwLjQ4NDggMjIuMDMzNUwxOS43NDY5IDIxLjM1ODZaTTE1LjUzMzkgMjkuNTQ2NEwxNi41MDY0IDI5Ljc3OTdMMTYuNTA2NCAyOS43NzkzTDE1LjUzMzkgMjkuNTQ2NFpNMTQuNDEyOSAyOS41NDY0TDE1LjM4NTQgMjkuMzEzNUwxNS4zODU0IDI5LjMxMzRMMTQuNDEyOSAyOS41NDY0Wk0xMC4yNTMxIDIxLjM1ODZMOS41MTUyNCAyMi4wMzM1TDkuNTE1MjQgMjIuMDMzNkwxMC4yNTMxIDIxLjM1ODZaTTE0LjQzMDcgMjkuNjE2N0wxMy40NjQ3IDI5Ljg3NDlMMTQuNDMwNyAyOS42MTY3Wk0xNSAwLjc4OTQ3NEM5LjAwODQ4IDAuNzg5NDc0IDQuMTMxNTkgNS41NTY3NiA0LjEzMTU5IDExLjQ4NjZINi4xMzE1OUM2LjEzMTU5IDYuNjk0MiAxMC4wNzk5IDIuNzg5NDcgMTUgMi43ODk0N1YwLjc4OTQ3NFpNMTUgMi43ODk0N0MxOS45MjAxIDIuNzg5NDcgMjMuODY4NCA2LjY5NDIgMjMuODY4NCAxMS40ODY2SDI1Ljg2ODRDMjUuODY4NCA1LjU1Njc2IDIwLjk5MTUgMC43ODk0NzQgMTUgMC43ODk0NzRWMi43ODk0N1pNMjMuODY4NCAxMS40ODY2QzIzLjg2ODQgMTUuMzE2MSAyMS41MTA5IDE3Ljk0ODcgMTkuMDA5MSAyMC42ODM2TDIwLjQ4NDggMjIuMDMzNUMyMi45MDc3IDE5LjM4NDggMjUuODY4NCAxNi4yMDM2IDI1Ljg2ODQgMTEuNDg2NkgyMy44Njg0Wk00LjEzMTU5IDExLjQ4NjZDNC4xMzE1OSAxNi4yMDM2IDcuMDkyMjggMTkuMzg0OCA5LjUxNTI0IDIyLjAzMzVMMTAuOTkwOSAyMC42ODM2QzguNDg5MDkgMTcuOTQ4NyA2LjEzMTU5IDE1LjMxNjEgNi4xMzE1OSAxMS40ODY2SDQuMTMxNTlaTTEzLjQ0MDQgMjkuNzc5M0MxMy40NDgyIDI5LjgxMTYgMTMuNDU2MyAyOS44NDM1IDEzLjQ2NDcgMjkuODc0OUwxNS4zOTY4IDI5LjM1ODRDMTUuMzkyOSAyOS4zNDM2IDE1LjM4OTEgMjkuMzI4NiAxNS4zODU0IDI5LjMxMzVMMTMuNDQwNCAyOS43NzkzWk0xNC41NjE1IDI5LjMxMzFDMTQuNTU5OCAyOS4zMjA1IDE0LjU1NzkgMjkuMzI4MSAxNC41NTU5IDI5LjMzNTdMMTYuNDkzNCAyOS44MzJDMTYuNDk3OCAyOS44MTQ3IDE2LjUwMjEgMjkuNzk3MyAxNi41MDY0IDI5Ljc3OTdMMTQuNTYxNSAyOS4zMTMxWk05LjUxNTI0IDIyLjAzMzZDMTEuNjIxMiAyNC4zMzU3IDEyLjY5MTQgMjYuNjUyMiAxMy40NDA0IDI5Ljc3OTNMMTUuMzg1NCAyOS4zMTM0QzE0LjU3NTggMjUuOTMzNCAxMy4zNzM2IDIzLjI4ODMgMTAuOTkwOSAyMC42ODM2TDkuNTE1MjQgMjIuMDMzNlpNMTkuMDA5MSAyMC42ODM2QzE2LjY0MTEgMjMuMjcyMiAxNS4zNzIgMjUuOTI5NSAxNC41NjE1IDI5LjMxMzRMMTYuNTA2NCAyOS43NzkzQzE3LjI1MDggMjYuNjcxOCAxOC4zNzk5IDI0LjMzNDUgMjAuNDg0OCAyMi4wMzM2TDE5LjAwOTEgMjAuNjgzNlpNMTMuNDY0NyAyOS44NzQ5QzEzLjY2MTcgMzAuNjExOSAxNC4yOTI2IDMxLjA5MDcgMTUuMDE0NCAzMS4wNjU5QzE1LjcxODYgMzEuMDQxOCAxNi4zMTA1IDMwLjU0NiAxNi40OTM0IDI5LjgzMkwxNC41NTU5IDI5LjMzNTdDMTQuNTc5MyAyOS4yNDQzIDE0LjcwNzMgMjkuMDc1MyAxNC45NDU4IDI5LjA2NzFDMTUuMDUzNiAyOS4wNjM0IDE1LjE2NDggMjkuMDk2NSAxNS4yNTU4IDI5LjE2NTlDMTUuMzQ5OSAyOS4yMzc3IDE1LjM4NjYgMjkuMzIwMiAxNS4zOTY4IDI5LjM1ODRMMTMuNDY0NyAyOS44NzQ5WiIgZmlsbD0iYmxhY2siIG1hc2s9InVybCgjcGF0aC0xLW91dHNpZGUtMV81MTJfMjY4KSIvPgo8ZWxsaXBzZSBjeD0iMTUiIGN5PSIxMi4wNTI2IiByeD0iMy45NDczNyIgcnk9IjMuOTQ3MzciIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo="
  , wy = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMCAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPG1hc2sgaWQ9InBhdGgtMS1vdXRzaWRlLTFfNTI0XzEyMiIgbWFza1VuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeD0iNC4xMzE1OSIgeT0iMC43ODk0NzQiIHdpZHRoPSIyMiIgaGVpZ2h0PSIzMSIgZmlsbD0iYmxhY2siPgo8cmVjdCBmaWxsPSJ3aGl0ZSIgeD0iNC4xMzE1OSIgeT0iMC43ODk0NzQiIHdpZHRoPSIyMiIgaGVpZ2h0PSIzMSIvPgo8cGF0aCBkPSJNNS4xMzE1OSAxMS40ODY2QzUuMTMxNTkgNi4xMjU0OCA5LjU0NDE4IDEuNzg5NDcgMTUgMS43ODk0N0MyMC40NTU4IDEuNzg5NDcgMjQuODY4NCA2LjEyNTQ4IDI0Ljg2ODQgMTEuNDg2NkMyNC44Njg0IDE1Ljc1OTkgMjIuMjA5MyAxOC42NjY3IDE5Ljc0NjkgMjEuMzU4NkMxNy41MTA1IDIzLjgwMzQgMTYuMzExNCAyNi4zMDA3IDE1LjUzMzkgMjkuNTQ2NEMxNS41MzA5IDI5LjU1ODkgMTUuNTI3OCAyOS41NzE0IDE1LjUyNDYgMjkuNTgzOUMxNS4zNjUyIDMwLjIwNjQgMTQuNTk2NyAzMC4yMzc1IDE0LjQzMDcgMjkuNjE2N0MxNC40MjQ2IDI5LjU5MzUgMTQuNDE4NiAyOS41NzAxIDE0LjQxMjkgMjkuNTQ2NEMxMy42MzM2IDI2LjI5MjggMTIuNDk3NCAyMy44MTIgMTAuMjUzMSAyMS4zNTg2QzcuNzkwNjkgMTguNjY2NyA1LjEzMTU5IDE1Ljc1OTkgNS4xMzE1OSAxMS40ODY2WiIvPgo8L21hc2s+CjxwYXRoIGQ9Ik0xOS43NDY5IDIxLjM1ODZMMjAuNDg0OCAyMi4wMzM2TDIwLjQ4NDggMjIuMDMzNUwxOS43NDY5IDIxLjM1ODZaTTE1LjUzMzkgMjkuNTQ2NEwxNi41MDY0IDI5Ljc3OTdMMTYuNTA2NCAyOS43NzkzTDE1LjUzMzkgMjkuNTQ2NFpNMTQuNDEyOSAyOS41NDY0TDE1LjM4NTQgMjkuMzEzNUwxNS4zODU0IDI5LjMxMzRMMTQuNDEyOSAyOS41NDY0Wk0xMC4yNTMxIDIxLjM1ODZMOS41MTUyNCAyMi4wMzM1TDkuNTE1MjQgMjIuMDMzNkwxMC4yNTMxIDIxLjM1ODZaTTE0LjQzMDcgMjkuNjE2N0wxMy40NjQ3IDI5Ljg3NDlMMTQuNDMwNyAyOS42MTY3Wk0xNSAwLjc4OTQ3NEM5LjAwODQ4IDAuNzg5NDc0IDQuMTMxNTkgNS41NTY3NiA0LjEzMTU5IDExLjQ4NjZINi4xMzE1OUM2LjEzMTU5IDYuNjk0MiAxMC4wNzk5IDIuNzg5NDcgMTUgMi43ODk0N1YwLjc4OTQ3NFpNMTUgMi43ODk0N0MxOS45MjAxIDIuNzg5NDcgMjMuODY4NCA2LjY5NDIgMjMuODY4NCAxMS40ODY2SDI1Ljg2ODRDMjUuODY4NCA1LjU1Njc2IDIwLjk5MTUgMC43ODk0NzQgMTUgMC43ODk0NzRWMi43ODk0N1pNMjMuODY4NCAxMS40ODY2QzIzLjg2ODQgMTUuMzE2MSAyMS41MTA5IDE3Ljk0ODcgMTkuMDA5MSAyMC42ODM2TDIwLjQ4NDggMjIuMDMzNUMyMi45MDc3IDE5LjM4NDggMjUuODY4NCAxNi4yMDM2IDI1Ljg2ODQgMTEuNDg2NkgyMy44Njg0Wk00LjEzMTU5IDExLjQ4NjZDNC4xMzE1OSAxNi4yMDM2IDcuMDkyMjggMTkuMzg0OCA5LjUxNTI0IDIyLjAzMzVMMTAuOTkwOSAyMC42ODM2QzguNDg5MDkgMTcuOTQ4NyA2LjEzMTU5IDE1LjMxNjEgNi4xMzE1OSAxMS40ODY2SDQuMTMxNTlaTTEzLjQ0MDQgMjkuNzc5M0MxMy40NDgyIDI5LjgxMTYgMTMuNDU2MyAyOS44NDM1IDEzLjQ2NDcgMjkuODc0OUwxNS4zOTY4IDI5LjM1ODRDMTUuMzkyOSAyOS4zNDM2IDE1LjM4OTEgMjkuMzI4NiAxNS4zODU0IDI5LjMxMzVMMTMuNDQwNCAyOS43NzkzWk0xNC41NjE1IDI5LjMxMzFDMTQuNTU5OCAyOS4zMjA1IDE0LjU1NzkgMjkuMzI4MSAxNC41NTU5IDI5LjMzNTdMMTYuNDkzNCAyOS44MzJDMTYuNDk3OCAyOS44MTQ3IDE2LjUwMjEgMjkuNzk3MyAxNi41MDY0IDI5Ljc3OTdMMTQuNTYxNSAyOS4zMTMxWk05LjUxNTI0IDIyLjAzMzZDMTEuNjIxMiAyNC4zMzU3IDEyLjY5MTQgMjYuNjUyMiAxMy40NDA0IDI5Ljc3OTNMMTUuMzg1NCAyOS4zMTM0QzE0LjU3NTggMjUuOTMzNCAxMy4zNzM2IDIzLjI4ODMgMTAuOTkwOSAyMC42ODM2TDkuNTE1MjQgMjIuMDMzNlpNMTkuMDA5MSAyMC42ODM2QzE2LjY0MTEgMjMuMjcyMiAxNS4zNzIgMjUuOTI5NSAxNC41NjE1IDI5LjMxMzRMMTYuNTA2NCAyOS43NzkzQzE3LjI1MDggMjYuNjcxOCAxOC4zNzk5IDI0LjMzNDUgMjAuNDg0OCAyMi4wMzM2TDE5LjAwOTEgMjAuNjgzNlpNMTMuNDY0NyAyOS44NzQ5QzEzLjY2MTcgMzAuNjExOSAxNC4yOTI2IDMxLjA5MDcgMTUuMDE0NCAzMS4wNjU5QzE1LjcxODYgMzEuMDQxOCAxNi4zMTA1IDMwLjU0NiAxNi40OTM0IDI5LjgzMkwxNC41NTU5IDI5LjMzNTdDMTQuNTc5MyAyOS4yNDQzIDE0LjcwNzMgMjkuMDc1MyAxNC45NDU4IDI5LjA2NzFDMTUuMDUzNiAyOS4wNjM0IDE1LjE2NDggMjkuMDk2NSAxNS4yNTU4IDI5LjE2NTlDMTUuMzQ5OSAyOS4yMzc3IDE1LjM4NjYgMjkuMzIwMiAxNS4zOTY4IDI5LjM1ODRMMTMuNDY0NyAyOS44NzQ5WiIgZmlsbD0iYmxhY2siIG1hc2s9InVybCgjcGF0aC0xLW91dHNpZGUtMV81MjRfMTIyKSIvPgo8ZWxsaXBzZSBjeD0iMTUiIGN5PSIxMi4wNTI2IiByeD0iMy45NDczNyIgcnk9IjMuOTQ3MzciIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo="
  , Br = "'Open Sans', sans-serif"
  , _y = "#A0A6AB"
  , Ly = 5
  , Oy = 25
  , xy = 30
  , My = .15
  , Ny = "back_forward"
  , yr = "faaeb9be3bd98ed09f606fc16d144eca"
  , Ry = "update-anatomy-user-id"
  , Py = "update-anatomy-user-access"
  , Et = {
    full_match: 999,
    word_match: 2,
    name: 20,
    latin_name: 10,
    legacy_eponym: 2,
    synonym: 2,
    acronym: 2,
    patronym: 2,
    fr_anc: 2,
    latin_synonym: 1,
    latin_acronym: 1,
    latin_patronym: 1
}
  , Mt = {
    MAIN: 1,
    DEPRECATED_MAIN: 59,
    DEPRECATED: 60
}
  , ai = {
    1: 1,
    2: 2,
    NAV: 4,
    HUMAN_NEUROLOGY: 5
}
  , Ys = {
    device: "device",
    signature: "s",
    expire: "expires"
}
  , uu = {
    device: "imagix-device",
    signature: "imagix-sig"
}
  , Dy = "https://i4.imaios.com"
  , ua = {
    AVIF: "image/avif",
    DEFAULT: "image/jpeg,image/png"
}
  , er = {
    FREE: "free",
    PREMIUM: "premium"
}
  , ky = "imaios-user-information"
  , Hy = {
    eanatomy: "prd_eanat",
    vetanatomy: "prd_vet"
}
  , Ci = {
    HORIZONTAL: "horizontal",
    VERTICAL: "vertical"
}
  , he = {
    THEME: "im_viewer-theme",
    OVERLAY: "im_viewer-overlay-opacity",
    LANGUAGE: "im_viewer-language",
    LAST_SITE_ACCESS: "im_viewer-last-site-access",
    CROSS_REFERENCES: "im_viewer-cross-references",
    IMAGE_HIGH_QUALITY: "im_viewer-image-high-quality",
    ORIENTATION: "im_viewer-widget-orientation",
    FONT_SIZE: "im_viewer-font-size",
    PIN_MODE: "im_viewer-pin-mode",
    MENU_OPEN: "im_viewer-menu-open",
    REVERSE_SCROLL: "im_viewer-reverse-scroll",
    LAST_SLICE_SEEN: "im_viewer_last_slice_seen",
    PULSE_ANIMATION: "im_viewer-pulse-animation"
}
  , du = [Ve.SCHEMA]
  , zy = [Ve.SCHEMA]
  , Ah = 20
  , By = 40 + Ah
  , Fy = 45 + Ah
  , Vy = 135
  , Mi = {
    DARK: "dark",
    LIGHT: "light"
}
  , hu = {
    WHITE: "#FFFFFF",
    BLACK: "#000000"
}
  , da = "NO_MASK"
  , Ws = {
    CLIENT_URL: "IMAIOS_API_CLIENT_URL",
    CLIENT_USERID: "IMAIOS_API_CLIENT_USERID",
    CLIENT_TIMESTAMP: "IMAIOS_API_CLIENT_TIMESTAMP",
    CLIENT_TOKEN: "IMAIOS_API_CLIENT_TOKEN",
    KEY: "IMAIOS_API_KEY"
}
  , Jt = {
    DESKTOP: 1920,
    LAPTOP: 1280,
    LARGE_TABLET: 1024,
    TABLET: 730,
    MOBILE: 480,
    SMALL_MOBILE: 320
}
  , wh = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MkQxRTZGNTRBQTFFMTFFOUJDMUZFNzQ4MzFGRUExQkYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MkQxRTZGNTVBQTFFMTFFOUJDMUZFNzQ4MzFGRUExQkYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyRDFFNkY1MkFBMUUxMUU5QkMxRkU3NDgzMUZFQTFCRiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyRDFFNkY1M0FBMUUxMUU5QkMxRkU3NDgzMUZFQTFCRiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PiHGgoAAADyTSURBVHja7F0HnFNV1j/pySSZZDK9UaYwdKRKFWlW0EWxYO9t7W3dXf0UWdddde1l3bWsvWJBUBQRRRFEepGhTO99kkkmPfn+5743MAwwTsnAuMv1d2Umk+S9d0/7n3PPPUcRDofp2PjfHcpjS3CMAY6NYwxwbBxjgGPjGAMcG/97Q324P1w7f9p/w/NFY2ZipmLGYsZgajD1mBZMrfw+L6Zd/teP2YBZh1mKmYfZ9FtfiBffWdk5BviNjuMwR2P2kQmsk18PycRtmQGZwC0+sAJThWmSmaKvzCgtGtKH2YhZgrkec8t/vQb4jYwMzNMws2XiBWRJrsDcIEtvIaari99vkpkhU545mOPkdWOtsAfzc8yCYwxw5AYT4jzMLFlqazA3YbKOK4rwtZyYO+TZevTDPBFzKOYDmEHMvZjvYuYfY4DIDyb0BZgzZRVdjPk65rdH6X5Yq/yn1e8MmE7B/KtsYpZjvi2bnmMM0I3BwO1G2bbXY36C+XEvvM+V8uRxFuZszHmyGXpOvvdjDNCJwSr2bvnfnZh3yvb8tzA+kiebqBsw35KxwmOy5jrGAO0MK+Z9mCMwv8H8w2/YBWNMcLsMJFmLvYq5GfNBGaj2itGbAkG/x1yK6cY8Q7anv3n/WwaSf5OfySd7DdcfY4ADfXcGTVNkoHcvZnOPXlEhT/lnhUIhZg8PdkX/iHmh7EF8hTn8f90EMLHPltVij4M7lVZNSrWKQgEG52FSqOBchMMUCkpgXaVRUTgQpKAv0NMexHnyc7+G+YGs7f6nGCBdtokcsJncjUBNxwiv0wjC++wuctc7yNvoZLEnrTmKQv4ABZq9FA6FSGcxUlRCDGnxbwhMEPT5xft6aCzC/BLzRVkbXI5Z9r/AAHMw/4H5kCwBPTPCsG8gPEu9B0R3ldeRu7qR/G4vKZRKofqbK+uFDWD1H8Z/zdV2aiqtJWOyjcx9EkgDBgl6fIJJeogRnLJJuEIGvbfLOOi/lgH+jHku5pmyexd5ukOlqzRqSL2W/E43OfLKQNQaCnoDpDZoSWM00P4tgLbYAIzgD5I9v4KaqxrInJ5AptQ40pgMFADjhNlU9AwjvIL5E+Y7Mi54+L+RAf6DmYA5VkbDEZd4UkKtG/XChjfuLSUnCO+HelfrQXizQdj7wxJf4h5SqJWk0RiECajPLSZXRR20QSKZUmIF8ZkRemhwuJn3GTjYlS1rhf8KL4CvsUwm+mk9Q3xIPRPZoAPB6ql6/S5q2FUiwB5Lr0KllInf8e9TAhBqwEx+l4dqt+VT9aY9Ajvw9ymhYXoomdZDUkg5JLuLit+6BtDJtu07zD/tU5+tF09+jf9RAKgpGZn/CnEOUMPswkHyfQ6XUN1s65ngbL/Fe7tJKJUeOCKsIXeNHViiSWADS78k0oIRQoHg/tuCeWAgyffDJoi1UVtlEwoGJTOCe5KU0WHv7SrMv2OuwpzRI0JzBBggGg/4HYj6oUqreUjYV3nBhETuW5WwkCZeTL+jWYC0ENB3CLaY3TOQFwheKaROCUDHxA7xZwDM+PuYacL4vam4GureQ5oo8JxS2W3CH2BaeKGgDfh69rxy8tQ6yJKRLLwLARBxPf5ZuJHBMLkaGinIpoIZAn9T4HW+b7WOtZReaBexBm0FgteIGUmsS+gPYJh78ctamQkafjsMEKYYPORPsL2vgqAPN5VUC1dLuFWsrrEQjM5ZRQe9PkHooNcv7GvI7wdBWxY+fICWUKoU0iLxwh4g3PhOrUao50hI/WHxgaxZmElrtxcI5mshsoq1F+6B7y0As8HS3qLBFXLgiZlYpdeJZ1dpJA+FTZdarxFMzJM1jngvvksbpf8Ls0LA41uNR5yA1+29mwFYOysVBlWU9kXYzlthjz93VdaRp6GJFEyTFskPyWq8RZ3zA7OkYBGZOX5VIhXtmIeeHszAIJzEgPifbLJCgYBgZn6eFm110Efx3AGXm/xNErHF/SolDSc0ITO5Wvocxy20AK7GlNi/GuJjXHjvZxCQqcJfVfRWBhCcq37fWVITbMwr2xto9tmgCQKaKH1I9nkjE8btDUMOIbdCC1Jksb2PKBmvqA/N1CrpOwVjYLC2dJY3U3NNIxnirE/BHdXqbeY34eFcGElGj6gXAHX2nM/uKoV6DIV8wV1wvfJhGzljp06AwN4xBsngigMuAzDPl3/eTlKM/qgwUwtjS0zCWkE1HibtHWiEFXBF36xalzsVAPcstUH7fxTunRrgdiD4Qe6axung0EUqg4afyRKETWRVqVarH8K/8+VFrjtKxL9LpVQ+4vb5qKquEf6+eqpBq9VIUWEDm6GVuMfb8L4njzKTPo15k8AdYIaWQJSjuOqOqATrQIVaeQvA4lO9SQNMAMdeCVfszObqRtYEWcylQQChKCysyWik8qpqKqusGurz+X9WqVSGo7CoT6lVqkeqG+zkhXo9d+ZkOnHkUGOfpHhtos1KHgaokmg9QVI+wpFVAuDCUDh8vN/v3ySI3wZ3cDDL73Qnu6oargHgvUoOGvUaDfAMGOD/APaaAgBCQLiLOaTJku/xeGlITjZNPn40VdXU0bqNW/rbHU2vRptN54dCRyxl7hos8M31jiZKsJjpgesuomGnTieqhHVqdBDF2ejp51+j1774htIT4vj9nNFzCebqI0b8UOimRrvjaV6zKLiKLDTBYLAtiPyeA1NQrQvx67ORYIJIaABOztwANLtI7KqJeDl9KrgLiNbj9dIPP/1MqQnx9OCni+je++6i8gr7ebvzysrBHI9A7Sb18Pp+jfkixw7cYM5zZ51AwzL7Ue2ajdRcVSN5JjAJKWACJbuYEsDidPOXjgTh8fxD6hsal2zJq3z6ivln0/drV9DUCeOotLyy7dt3KVXKxewuh/zB9/FhPpvw6tHWAOfIcesJTPUW/5ykwxM3YzGfNuj14oUnX3qdivBQI4YMpNeeeZCWr1qdvGrtz3ftyS+7LSEu+nmj0bBEqVDupsindnNeP9Xa7XTxqdNo695CWvDye9Q3KU4whNVsJK/fT2qlimAOIHX7tNJAzJEkpZxHNjauVEb5/P7Lqmpqf+/xhAZn9kumu2+8moYPHkjrvlhONXX1Qgso6IBg4s0cb2BXMwzNAOa5GuvLQaK51I1ciu4ywB2Y90uOcIjg7slxd4Fqn2Epwk3+KcpguF2r0UT9/bWP6ezp4+iZpe/R2DNPo6t/3khvfLxEDUa4ubau/uZmmAsIYLXVYl5hjTY/j8//0M2YO289Zwm3KhCkACRuzvRJtCl3LxmBTS6fPZMKyqto5cZtFMD9q4MHmaRZkWAAaBZVIBg8x+F0TWt2u7Pc7uAEq8VgYEmfNmEszThhEulnnEaP3XAdPfTC2zQ62UJxsTYCHuCdpwcYv2C6WcAYC3CsIOgXSSucSHPv0WKAxzF/ISmpQYRytdFRpDbohA/LgQyS8vvug327D1z/QFac4X4LONu58gcyZWVQ/IypdPu40XTVpm20p7gEJrmW8otLEtZu2Dx/x678+aYofVF8nG0Bq7ouMsK+qFK0yUirft5CZ00aS2dOm0Df4ucpY0dQTl0DnTt9IphgOz27aCn1SYxv/XlOVnmkG5I+0u3x3gZJP12v09oG4pkT42Opf590mornzhkJrJmcSKRRU82nHwDllwris/SD+ExUThKxtw6bc0iadyzJJ9aDN4w4u+hR9nC6ZIYOt7C/cji0H0nJHGwCqvk7WPp5/716424RzDgg3t8SJ1CpLq+oqn6FAc6JE8dhEUbR2OPHkHYAhLTJRVIMGICosoqWfLmC3l38BW3flU/W6KjC+Fjb6QBFv3Ti2TjNinPwOMsmlSONrGH8kBxW+7UAf2owKZuBuVMnkAWu1qtLVhB7BK3GyyRtzHQuHqLC93o8b5dW1M6Pt0XTqOFD6JzZp9C4USC4MYpAYSkCylFPexN99fES+sszL5Lb7aE+qck/hsKhW7GkP7f1BFjq40dkkSHO0npbOoWkPIILqJ2MosMdDu0qA/yLzaoI7sixfVZPVet3iQ0ZjssfdnGUyjHO5uYHqmobpsPFNWT2S6dr5p9Dsy6YRwSU7q+tJ02MhchmA2vV0BfLvqYX336f9uRXUFqK7XGjwbAQGqWxg+p/cVvQ5QHgMxsMEDoV5RaXkV6jEWHomGgTqcG0odAB68FJGuM7S/z6Rvv3AL+TzzvjNDp/zimUNCgHUo41qa+nMJhQkSBpmTV4ttcWLaafNm6lGIt5W4zVMg9MvvtwIWhmgNhBfcmcnkg+5wF5s6yl+CT0dUeCAY6TVc7pmD6WdN7lqt68RyRPaExRHYrJgxhKvG9idV39Qw127wmXnX0y3X3PbUQxVgpCFXJsXWM2ESUlkaegkF58+XX66IuvsbjNYazlL1CTW6NNpg06nfZDPMPhgKNZNlNpLRFXN7ySRFxjEBivptFOBtx7k8tNu0vKxc9tRkeCQkZcfzDAY2wwFEytqKq7BXw27NmH/kyTLjhXED0E91cE+2CGKCGBKjdtpkeffhFAeB3pdaq8lKSEO4ATPg39yrqxh8WbTPEjMkXuog8aVw5HR8nMfgsdfI4x4gzAapEPPYi0JS0Iztk3nD0jduM6bydZLd+TX1z18Ojh2XTvzdfRgPFjoB51RLy5AlxAlmihNosBGldv2EwFYJAymIm9BUVUUdVACXGWDy3R5tsgPbV4Hj7B68LC7JUvwSlo74loJKSTr+fyeGj+rCl04UlTqby2gf7xzie0ZU8hmY2G1lsN7N5eegChiRLxdz++uwRzMPz2++sbm87UadU6tttgRkpLSqTrrriIxpw8g4JFJewLk4pxRXMzhRrs9NX3a+jR51+i6jpHc0afpOugEd8IdRTfgNico8j4Kun4QVJwiHMcJSbgAzWcbHtNTzLAMJKSOedCeoOcX+eus1PVht0iCeJQdr/D/rBCMbG0omqxRqOOnTbpeOqblkrDcrLpeOAEMoDBOZcvOlosJLkwnU6qKK2g5T/8SG8t+oyqaurd2f3Tw5DwqLKKalbx20zGqOcwj1er1ZcrhCvoIAvwB6+XHSrUCMAK11NEAQ28JYulYCbBmlTxPgHuy4F5BtyyPzTa3SNSk2xGK5ixwW4vq6xusGX3TzOcPG0KDR6QSWaTiWyYqdkZpMC9k9PFX0Z4M33xyRJa9v2PVFlVQ3lFxRRtNq2yWSxnwDOwd2GxyA+NxTggcXSOANxhyXvh5JsPSTpN9UtPMcBTsu1fKNKicOGqn3MFIFFhMbFybIfmy2aCAwCbZbzg7qA2UPp8vjurauvOc3tCOWaT1jhq6GCyWS2wDBY6+YSJNGTqJEmXQ7USq1SLhVy79tI///MWvQUwNW/2yXTxvDNp2cpVlFdYQsVlFUwwKq6uo0nDBpILQKsCyN8Gm8/g78dtuZRbVAo8pqEGh1NoAWCEy4OhUCU0ysu4VMqksaPo9Jkn0qo16+gN2Gyb1UqnnDiJrr1kPukzgIdhrohDybhHCvipfO162py7W1wLHg19veonVgTrwDzfmqKMXyuViuXdTSljwB0zIJ2sA9LEz/JYIGOB2zrKAJ1xA+NlxPmQADs6DdXtKCSfo5k00cLuswHdInsIrccfoeJWQOj+BSn/rr3HBrgLQVofSU1KfEQKjwYHb9256xKPxzvQ7Q1NeX/x57YzoFovnjuH0oGsYUCJAKqMg3Po/N+dTp9+9Q3tgVnQACToo4yk1etFogaHnK88fQbdft3F9N7i5fTgi28J8Nc/sy/thBYpWLOd7rlkDuX0SaG7nv1PwOFyP5pgtcQxAWFaYLbjqanZTRu37yS9Vkt/v+dWGn7RueLaBOYTJoo9i/Wb6PUPPqHPwXy10Iy4bLPZqFuT0Sf5Do7ctRC9A8RnwZyNNThOhi6M+Cpk08tC5Wd3255fTjqrifTsFUAr4Br/5LA8po06eCK5MxqA/cxk3vVj4nN+XO2WPOGTijx7yS28pA1wFciad994EyZKp3tTr9OsBtK2QLpi/YFgsj8QSON/cSshjUZVAdVdplGpyqGK92LmajXqXVAMNcwQfr/vyYKSmlt0OhVNn3w8nXHSdKEdXnnnQ9qyYyfcxWiqg5qvqHZQarxJuHQ7iyvEvXz+8mOUPDCLmnPz6PIFj8P21+E9cVRYWU1eEHLxM3+h9AmjKPeLlXT/S2/j9RqyAYRGw21zupwAn3AbNVpSgwHMIHZOv740e+ZUmjpjKlXC1r/36ef02fJvqKra3pySFHMDvJXXwtL69vf6/amBQHAMnoOD+0GsST2ebQ+eiU88N7TeFQYRsx2u5sUmg34gu6nBg4NTTNgT8L4drHk5NzFxTI6UCCXtHTwlR1Mfj7QJ+I8ce/5OHaWjuu0FIg9PTr7kgMn3B6gW2FJWtQy4HrnhMkqJi6En3l0sMQIklxG3CcCOVXEcJAi+L4jXRA1NLnK63VCfXuG3V9Y3wG5HbYmzRn9VVlN3olajGWvG58uh0j3eIDkCUkWGK2eMpvuuvEDE83fBvctITSITmGPthq30+ZoNdNWck6hPWhL0WCw9+8Lr9OAbS0SUaGx2Cv3p8vNo7PBBFAK2UOLvdhA/L79IBI+sYAIDGB4EpCZoBAZsqzdvpyffWUy1TX4akpVM+ZUNVOT0UAr0qdWkqTToDfdDU+Tbna5bvD7/7KTYGPGsHHIWG2QAtyAyfg94Id9lKpVgcEARfyzMw8DJI4aARxQiSillux+UBWMXG0EK2u3HdTk/MSY7jQIekTs6QxbESyNpAngPn9nrOwYhImHTF5CifRID5ZKU0qxv+UB1QyNddcYsKgWh3v7qO5qMBb7/uouoD0ASwf0SiZuc/sRZNBqVpOgY9WN6sNAuuGu8YEUAdP9459MRu4vLR1w1ZxZdie80cLAGWqUZNvu7TTvo9WUracmPG6nR4aKFt15Fw2fPJAIBWUWPnziGxp8wnvz1jeQFc+mwsGdPm0hWMJES15wCqU8flE3+4nLBhApohGgAxVHjR0m2nUOuuA92Ty0xFrJv2UF7SyvJDYYYkpFIg8BUM0YNBaA0EEAdGNiZhHt9sRLMPxoa57QJo2l4Vj8y4nrSljMJ4pfX1VNFbYMOTJ8B85LBn9UDh/RJSqDRORn03IefUyPuN9ZqlvIFD6SHRexThGm3EhqW09U5Esu5A3jvCpJOG01pK5TdYYDp1PYkjzhOtW/UyrtnN+4P+KiERGelJtP3m3fQMx8upTgsoBkPyfvxkGoyYNEEuucgiZwuzXpQD9dSb4ELj/emzJxCN0Lt3rHwScorr6RvN24XEglzQlkpiXTqvNPp1HPnUMm6TXT1oy/S0AvvpA8X3EiT8Dk/fPswCKGQd/k459Brd1IC7uOiS+dJoA3E8OcXC8mWjozB1EADkdvdAkxIy+FaYICFjzxPj33xIw2Pj6YHrjyfTp84mnTs4olUsLDExGAaL1xLO0yRLSme1JB+YvvMTKSQjqQlg+Fz2M2F6yjcXVbd/PwpCVS9Yzf9/vo/kSsgRSw5KzqsoLaxlX+za9sS22A8wPce2m8uOJg0syMM0FET8JKcpbKVf+Gwb2NeGTXsLhWHJ1oNPtXCx77KYb+2V9TUR+HfSemJ8QpW+SwVNTABZhA/GiqRHzDRFgMmSaIR2f1oaEZf0rF0s2bgnUVIeRjaIIAHW7Z2owjV7iktF4gdNpKjiiJ2f/qkMTRn0jh8TEl3PvMqLV61mT549C4aBen3AeGT8kD3VIvv582ff7z9MSWCQJfNniWykQOt8hNEviaWV5OWTOV7Cuj3f32GCqCNnvr9pTQVTMc5BAAGEGenFMJWtuQDhqWf4aMLwrJaDoX2J8Cy1uT7wXM1wdTkQ807YSbZZDITcoiavZL8skoqq62XDqkceP8OGWgL7MCRVz6nEDOwj8i8lgfvYnJ1kqsjYQJYlXhbiC+EAg/GJ2k5O1ZI1n4b9TtMjgb5YDOD8RzSJerjcLlm1jua0sHNuZC+kmA4lN7U3NwHgK3ftryioUtX+8eBoPpMLHYWJmsHVv/sq1fBlDTCp44FGrdZTJRFSUK7WGCfGSOwvd+4K48ee+tjGjkgg/pChaYAAN752D/p/cfuozhoIG9F1YEJm3BhQyDAF2s2Ukmtg06Cuk8BEwpi7gNkTPwUKtieS1cCNFbUO2jO5DFUjXta9sESET9gwGmHBuHnZ4ZmW82/8z2zt8D3EgdNZuQgkVbCEQ5okioIAswE/QI3lTEOQLD4rA/mhoEfC4OLd0ZD4WrgA06fC8kE5ySBFw4EjopDZVJvkk32pF9LaukIA4xvu8nA9l8HYvAxai+8Ac5tbzXa+vzFWKxXtGplqywUJcy+GmAQWtgsAkFR8LtPAl44ZWdhyQhIvAVgyA2pqIO7VoTFy3U2u2sgCeA5dTw8hyxok8FASgMSbZZ4rizDuYfMDLlFZUD3NtpRUEq/f+hZeu/x+0gHKfdCWmVvRRw80YKhxgzKotLvNlI5tFJKVn+xMdNyOEOXmki7t+6gi/74iFDBx2X3JTBr4/J1mwtArMG4Px2u6QYBquTEmhj5X1wIKDxMFgjHQA0oquP8f6VKYAzei/D6An68vt1iivoGXsa3+PoK6AcN1sGN7zYVVlSPUCtVFfjoUnyHr73QMB941cdGC1zWZpTItOs2A6TL246t1GNY5L3rbdHiyJSqm/vl+L5mPPgn0UYDzw5FDjXSdrMatwIXMmzjPXcsJpd2TYUUfj9t9FDjul/20IKnX6b7F9xJOk5MgWQKNcx2WU5gacbKb9q5h8acPoO00DQBRxOpoTXckO4r/u8J8bmBfRIB2hordRr1mL5J8WJ3EfdsxX2Uy9KokIEZjyZZ+njE4n2pUO0x+NcAZvFZTcZ6fC5fVuWHHDqNZnVH4gWcHWRMiRXh+IDnoEOrHC84qbsgME4OMa45KGgDjjOA85rAgcyJXQ0Dd3MEZE4vafVaNRb6K5iHudkwJy8sW0sOz8N0+/lzRNoX02rL6p/p1c++phVwEY3go6ffW0oGaKSLZs8gdSbMK9TyLQufgW320YKrzqU3ln3LFL6plSYsAxFba8UwSaVk2446vK9O1VNFJvC1TANxDvHgsUbGY9bD3FuHGGCMrNIPillzDJorbOihw12V9cSxgd4y9DrNguLKmrnse//5/JPpw5VrafJ1D1D/ZItw1QqrnZSTaqPr5p5CA/qk0pptuXTbS4volaXf0LRRg2jZuu2UX+Og5Y//AWalnPJKy2v6pSQt7U3tdfhMIks+a2FxIungUS/Tjo/jL+8qA3BeXHU7wXsyJFjJVdW76iCGQuEtwAqvAXheevpJU+mmi+fRR198Q7tLKoTUjMruT9PGjSRNYpx4hpNOPpHmnTCe/rXka1q5cQeNyupDH/zlHIELHnzlPYoxm74D8d296Rm5BoIpNV4InsgUPvRg93xQdxgADrA4MXMYG+QTHKiFOyclgvSesoMKpWIlpP1SeyX4d/AAOmve7P3xVk76gI0PwNUKcrgaeGLI2BH01JhhkicQbRIRw/VwO0vgQcRbLN/2JuKLQ6RYaxa+ULDd1HouTJnTHQzARQ73HPZGRAEGPRniLeTd64Q7oibqJVoStreG078a4O4R/GwfnwE4xNYqm2f2IALVdWLfgjN6gnV2cXp3V0k53HUfqWIUa3tTbzUWPENCjNgIOoz6bxm7ZBPAbtoh39gecrPKf9/dHghhMBgFTuTkhHCg99RGhleww+f3U25hqRSY+RX73cII/BkReAXG2QsNoVYqK/Hbtl5l43BDRqy5cGvbX/I9Mg0zD7tO7Xy4r+zONLZvi/wiKCQSFb2+3rRMRdFG4+qftu8if22d2Bru6FBzuLrRQQVgAADJzdSDFTo6b/v9Iv7CW8DScfR2314n07BvVxggtaMPzsIVlRgjRQR7EVK2Rpv+tWNvIX2/aQeRzdLxe7OYacuefNpTXErRRsPy3gNsJPTP+YBqva6jGtcnY7lOM0AsdTCTh7chWQPw5KpcR6DsakfNwOsg+S9f/vgzEUCqWv3rIFUhl/P4AUzjbPbUABP8s/e4fkFRYoaFTSpi2aGPsYtg6woDcLisYxU8Q1JdG2tWmtgiFvvSvYAJ2G+PNhlWFVXUUnN9o6jc8WtDw3sG9ib4/hUcw1/FUcreIv282SMif2apjF0HBzOAoSsMYJA/3BHILYoi6axGcXCBQ6wcpjzaTMBXd7m9w1PirBQFtR4OBDr0LPCtBCBUKZW9o1o51yd0eSkq3kqW/snAWv7OVEphIdZ3hQG0nQI/IlvVQ1HJMZRwXLYID3MK89E0B9BKI4OB4MSpY0YI397vDxyk7tveXwjEJwDGWDAMPIJ+vYH4vI6cdR07tL/IaQj5O1XMuplaHZHrrBvo6ez9+pvcFJVko6SxOUfdHLi9vnNSE+No7JAcKU1bvg/WUOxCaeJsYoqEEflEEOce8DZl/5Qk3qYdQEexorpCJj5zcvzILHEuMAAs00mhCrRH5/YYQEP7d7U6xwSctw4/lU+wkFwD8KiAplAoincN9Zx506owowbSxK//89X36Y13P8XPavFai9rgzB2l2NwKK+lo9VRg4nulFLL44zIlN7vZ0xVh6jIDdGtwuriBbVZGCgWbPUdlDQHifimqqKFFy1aKtDOlvGOpjLHQ9r1FdPebS+jBVz8SR8SUURJO0jIj2B20A3/XabVbjkoMgL1p4BUO88YPzyRjcqw4BtZ1S3j4+Gx7DLC/0mEXh0hXykwBco0TpuGIu4FK5RgGc+tz94pwsLolKwhqNcFmofFpNpo3dQzFx8eK1DMpCqQij6tZZPvotJqj4wFwPUG3j2wD0wXq9zV16zbU7TFAe/bN3p770CHWg+oPY9HjhmUI4OKuaZQOjyrpSOwZKMpr60+ectxgevq2q0Wypk8GT15HE8XHxdL7D99DGq1WpLj54VeLrFq8T28yisTRXcVlXH2D6/CsO5LIlVO9uSZxdN+k9nb6IsIAyl/xHzXddl/kcGXCqGwypScIrcD1dI9AwcdpHrenDxeBoD5p5PPs1+QMADnz12q1kEGrwc8eQXxqgQn4WSWdEeSX7j5SNp89Jz72zcSPHdJPPvfXbfykl3FApzWAp7saoAXJsifAR8g5RsC1AxyFFaJmrkKl6DFN4A8EJsbZrDQio6+UCtY2a4aTMF3N+xhivwCGRY6Adn9J+JFHgvgc2OEj8eK8X1aqAM5cDyACbrSJ2mnC1R4DcM5an4i5M3JRaOZsfmBHQUWPZhG5Pb7fsQuYxmlgze62IULS6PX70thE1XGOY3AaekhmAHgG8rFtVc/SXiECOyzpcUMzyNw3UXhRLfcUgaGndvoUtmcCOJvEGFEVBw7nvQLbwD7iQYOeHgPYU3yBwGhOHY8SBy9CtF+/A+knxpM3GCAXsIC90UF+AEV/KEgaTgRRSPeqEYdKRSl73kkb3WOunk+S8oSRbCLjBeCLcGsaZoAu5QRWthdB6g4TKJQ6qeECh1t7hgHOlSK6AKGh4D4Vz7n3ahD58y+/pbeWrNhn9/n8Xy1cwevPOpWmThonDqbo4Db6A342JaTX6abhXjdEHO8FpeNcDJJ5g6ebaL89BqjsigYokBnEGGkmYPsmypv0ABLkGnxen++8AAjHhzmd7N7J7p/aGk2F+SV082Mv0/bCEnF4lc/obdlbgFlMC1/9gLx8bpELXuHzifFxohaAy9U8rUe8Pc6oMupJF2OKBNo/nP1nGpd2hQFq5FhAv0jbPNGrDw8c6VRyUQTK673boNfHDx+UQ3UNdlGkgdSyngHj6QDuTp8wgvoAHxhgHqwmkziJ5II1mjgsh3TRZj7XRF6PhzL796MZJ0ykmrqG01RKZcS7fHJgigEyF3joobT6/q2EuUuRQD5tMCCiD61RiQdmd4d/jqz0K2YVFtfef/YZp9L0aSdQHaRbnKuTPQ2W7uScDLr/1qtIJ1cM4+NlHAr+2zXz6N6rL5TO80H1c2i4tr6B5uK7svr3oZr6hr9FemOLiR6UGUCp7hFjyBnBrq6CwBYgmBHZh1YJ9S/Aj1IZQeIrdaUVVS9PGD2QLrz5eiotrxDn8bgWAcm+tEo+hfyfDz6j4tp6ccBUYAWo+xmzTiAtPAZvk1PsBXDUsKGujqzQAldffiHAYvOpAISXRRwHAGjKBaB7YvSTNTl1lQG4gkXEizmH5N5BkRyw+9fr1er02265nijWSvbaOhHMUVJLgCdMapuVivKL6P2vVlEaPAFmjuioKCqsqqX3Fi0VeQAtLVvEYV6lisIVFTRr3pk048Tjqbyy6t6Ib28rpIyqcLBHEmoTZRp2mQE2yCAwogZK7A5GmAHq6xtOGztuNA0dBVNdWkEG+YSxn6WfW7kx4fDaRytWU2mDh8qhAbhSR6PLJY6Fm7hWQetGVTJxuFgFn+OfN3cO9z3KhDdwVkTpz+f6A1I7uQgzVwuAX98dBiiQgeC4SN6ZkLIIS5LbExiUzRW7mJBeLzU5XULCGfRxlQ91WjLtWL+FHnt3Gd157iy6/4rzBQawGo0EzUF6PpTKFU+D4YMIRJXVNHbEUBo4aAA12h1nRVxOw+H2m2F1bYyXQ8DF3WGAFhwQWQbg/n+RZYBE0CkhhhE8LySXanE0iUIUOmY2jgbi9+sffIqy4kx06/WX0KnzzxQbQdNGDaWzpk2klxZ9TiFOH2/TWzgscRdpYDJGDR9KDkfzTNx7hEOYip7AAEyz6l+lRQe+iPPisyLI7hLiVUR0H6APXCptDBeS5JQu2H4zbLsLnoaCK47A27j0nr/Tzlonvfzg7aIsSyi/mHEDafHzlXNPoW0Vdnr/69XiSJjYjgUTsQeh3lf+JSx6HWi0qkSYgXERVgE90YqWwfvGSDAA97ZnsUilXjpAyFlcLi6LN354gwdoPzEhlvxY1AbggRvueIgWbd1LHy+4kbJGDBHVO7koBBewMsJTSJo4huYeP5j+8dr75K+uFecCuI4RMwADSaGim1yU3b8vvjcOFsYXUQZo6RQWSYGQI4DLI8EAvJPCG0On9lYGqK2rP3/0yOHUf/BACnEkD/51LLRBKBig2Xc/TF+s3Uor/nITTZ41hQJgCDJF0YZdedDsYRqS1U9UE7v9orOo0OGn599fLApIcBSRgaGSXUfeIHK7KSUxgdJSk8FjzRFrKsX5iYyJhMcROS3AtKqX4zjdZgAeXGxgVC+l/3GBQHjYpOPHiNKxHMLl3bwo2P/8ei9ZDVr69oUFdPy0yRTg4+G8yACFy9dupBHZqTR0QH84SoU0cOQQunPeTHrw7WW08d3F1MwE5+pg+B42BwF4FApgDGYCj8ebFVENAJMYYUzMW9hrO4THOviFi0iqQTswEoAnkgEgn99/osViooFc46fJKYFLTC4sxdZ74c1XUN8xI8hfXCZy/dVRBqovraR123Np2MAsUebVx0krDQ76w9UX0JxROXTu/z1BW3fn0Zjhg0U5Wt60ElvD0AYJcbH4nnBaxDA7d5/l/grKiHHAUJL2AD6KJAOwbiokqfR6ZAIfotV6Nx1dlSqtsLj2vmFQ/VlDBlEY6l/Li4l/N23bQSYt6CcqdjdSuOUMAFB+XkkZ2V0+quUybPWNAIJakSbGjPPygttp1siBVNbop6ycAaCOWrpXce8KskILKJTi1JQ1UuFgLvQUQft/DrUT++8qA/D4AHNI955WIQ40ehubuh0HUKtVIwtKSnelJkXb/njbDeL7eAMHRpp25O6h7Vt3QGBVVFJRLcrC7RsAdVVMdLWC8soqqLC8SvQi4BC1F6BQBbU/deoEYTzX/vgTzIVPFJCQ481im5jjRrKUdU/4gyFRdJsTYyKUOs+LyvH/d3uCAThFmjesr+my/9+y++XydGvzA8i8T2l55feZaWlRb7/yHKUMHEDe0nLSpySJfgIvvvAy+YJBOyS+uYR7A7ZmNj6nwBlBYA5ns5vquHGkRkp95GPhQJS0DeYhyaQKvLtocWjt19+SCnZfilyGRSVyCWYou50tJaqtccd0TSst071xPUlVynb0BAPw4IYEJ3WHP5nruxP25M/VNzY+FW2MMj715F8pflAOeQsKScfEB1q/6+Y/0HfrNlNqctLFGrXqh72M+uEaqlu2W/koO+w6VxnlAo1ct7elkqjKoKcaaIxf8osp3hbzktsTWr/sm1Xi76JgMzTHCRPG0YDMNKqprfubsptaTCGvR0ud3wgMLg/7fqeEspMX4C7bzKoXd5V4UpZOd7KCw+dVVjl/d+XlF1Hy8KHk25NHOluMkNDbb/sjLVmxjjL6plwM6frMaNA3FoOgzrpGUmq1+zQARwh5C5hbs/pYnFsICfdwZ2EJldfUcQj56VibcV1+UQn58LsazOF1OMicnUHXXnkxeb3eyQCV53VXY4tC0KGIxIEvI+kQy5c9yQA83ukqGBQbH3L2a1c0AEDfgLzCitemTxlJ582fR1RcIu0rpCTT08/+ixZ/8zMNzE7hjiVvilZ2anW5s9kDKXdL9YfDUsKnWlQ2DYtyr9qW12WC5EoRwgZI985os2nTXngDGwAoic0Aj6pqmjVtCg0fNgTY0j6nuyaA+y2IvIjuxwAY/L3ZabPchQt9LHPaDV3ReeJkayjcaRAIu68sr6r+KD0pVveX+/8ggT64fer+fWnTsq/pnfc+oqx0G3f4ercloAIJjzGA2FEthZslLqLNuXnk5mYLWjWEXi/qG6jkAs5FwAxajWZbWLrm+yEF1b325nuieKQOmkOcIYAnkJ3Zn5xO95huMQBUP1f6Fm33urcdfJMcsFtyJBiAx1Myx3V68IHHzka8WFu4XM2vhIPBIQsfuIdisPjesnLSpadS4frNdMcfF5BGp91ljDLc3fq73T5/BreIs3LpeT/XBzZRTV4RfbLyx1C02VgLRB/iPQMKyinYcu9jSL9HllBncmLCVd+v2Uoffoy1TYiX7h0eQ2bfdC4xl4PPDeqOBhCtYFXK7kQBmYa8Q/mPrn64KwPISPSwebCzIFDsfXeeAU4uKau/9KILzqFRJ02nQEER6Zhw+K6HH3+WahpczQmxsacEgyF/68/5/YEEzvjl/XzRit1spuU/beROHFUalSovOS5GmZYQK0LBopU9vIBoEfkLtfbxP4kyKNauYpfQ4ZTKzAA48saQJTqKcxDnd0d0922MdX38haSkzzVHkgF4cFvWk6mdClSHCieJjY9OAB5G2hVVNQ+PHpFNN1x5CVFllYjocc/dFV+uoJ/Wb6XMfsnXBYLBwrafhbtnFM0gBYpXigMim3YXkEGr/cnudFUOhSYxJSXANfVITMk9/sAEcMlUraXUFmNdyr0KKxhzgEGCMAfZo4+jWSdOoZKyuj/DVGR1Rwt0w/7zjh+3iLmnO+qjq6NI9gqe7dQFOSjTCYYHsc8P+H0jr7h0Pil4J67RLkmh10dfrvye9312QEO8cYiPsnOvUcrulQKq1lFbTxwXgJRvA3P4BHOIbiJSzQAuIlFUXgWFoTsgkqbX6dbUwBPIKyyGp2ASewNcR/D6qy6m9GSbsq6h8Yku5zd0D/vx2n9K7fQM7kkGINkEcNvSWzts86J0sHkdR731DY3njR45gk6cPB6PWSGkWRVro4Kdu2jjpi2UkBD7zmFMihHMY9a29CWCydhVVEqlYACoBehzhZZd0n2dPKzR9PMOfGfuXu4jvLSNFvrZ4/Hbf9m9V4BIJravuobiBuXQlZdfSPV1Tq5De3bXPCNFV03AnSQd3Plrt0xQBIIP12JeSR1IH2fUy91GVXrNr9W43Qf+m5yesUOHDBJNm3xQ1dzoiYDCv/xmFdXUODi3/53DOBzDQ+FQFHcrE+cCwAT5pRV8UKQKKrsIzDHExhlELaXjYCK+37iN+wPWwt38oI2QOqIM2tXbwHS8z6DlyCETrbyC5s07k8aPG8YJo/cpOxPMCUtusTpK35U1H0xSZ7Cru0u8SDAANzN8jqS2cu0Oljje+GAm6GCho0FYo9R+qclCUoVvn5xApVu20Ucffwbpt74MVZ5/qA/6/IHp3I5uRE6m1LeHpMbRWPhiAL4+eq0mK4PbyAkXUCH2+2vq7YwPNuM6B5XHs1qjv9y5czflAYASNJBocsYdvAEyLzhvLnk9wREAodd2jgNkDdB5DPAKSQ0iC3oDA/DgYopcU/j1X3tmVv+GWEuHbJ/f75/OLtwATvYEgNNyNE+no3++9AZV1Tk8cOUeONxnXW7PqPSkeNE/UPQbZjAHiVerlCaP1zc7ITaGuEeR1B1MysaRqoYduvquTqv9rK7eQV9+/a0gOmcZ805euLScTpw1nU6ZNYW1wP34DkNneKALxOdgD1dw/3ckCBfJdG8ORfJRpHYLKvCZdz4Lx1igveAHFlJfXVt/94hhg2nA0EEUqqsnRZ80Wv7JUlryxUrqm5b4J0jcYc+8ub2+zDSARi2IFRTBp5DoEKbTatJgBk5OjY+lFG4dA+3AvXx4x5CbO3Gvq8Pgl4LExNjn3n53EW1ftZrU8CA4fuDz+UQ2MaeNqxTKZLibZ1LPDfa8uIXPVZH6wkgfSDtDZoS5hzUDIAaXmNdFG9stdR4KhS+DP5Z6Gvx+MhpJCQzQVFhEzz7/b7jz+u/hCTzRzn0YYAKSM3mDiGMA7DbiWskguNVsMrs8ngw+Oi6SQznZgyOTIGK/lET+mStrWw6JKqP0dwTCVPDgwkfJBY9Ay13C+bura+m4wQMoe0Amp41f2EPE58DbBfIaU29lgAZ5n+AxzAnthYS5x0B76LepqemMgTnZNPn40QBejSKI8+RzL1FeUTUlxMfdEGpn+xTkNMG2Gi3mVgebIancuDKWM4D8IXFsnImnaPUhbnOnVquiIe2HLK4MjeNNS048N7+kjC695hZqLCklXTxcU5gYdUqyiAs0NLpnK5XKgRFe18ky2ue1tfdmBiDZPl0m7xmceMiFhNrlitf6GPO+Wnht78vR5ByWCdtviIkRIdg1X6+kTxZ/Sf3S4++Fmt3+K/6mFq6bWtO6VyADSDCcFh6BWqWgeodTdNra108Q6twKrcDnCQEsD3scDiZifd/01FGbdpUGn/73a4Ixxbaw3U4zp06klGQbOV3N10RwPfloOid4cC/gnZEmVk/VCeSWpefLgGX6QfSB7Vfywc1E2yEzYbgvH/giLT0Jggg1Hqyqpmef+zdp9JpfAAQf6kDo2AlpdTsY4InTwdIuoDcQEP17Yeud1Q32YA0ng+g0+7QS1xTgbt2KX6mQCgbclJFifXrtug1UszePNPAK/HUNlAJ3dea0KVRd03A57iE6Aus4Q15D3n7/sScI1ZNVMAGXibdLue3s7LYmQGp7YhUFpts2PfT6/FMSYSKmsPoH4R558gXavKOAUpMS21X9rYbdoNPuXb9zr8jn571/wQAgPp8HjNLr1tY2OupLampFXWBpJZRkd7pEVjH884Zfu4DZGPVaWVktffr5V0RxsRKTgZlnnjgZWEFrhaborq3mz7+IeTrmyp4iUk+XQd0kP8AT1Kaduah9D09AtD3z+9vYf+f4jIy+NGDKBNoB1L9o8edQ/XH3h4LB7zp64RiLeTk3hNyRu5cU1mgRDOLsH64HoFWrV7ia3SXcvpU3gFrSvZrBHPjR2xE7C5ywJTHR+uqbb71Pu1f/RJrMDJErMGJQDg0YkAXYYu8OA1yB+Yi8dpt7kkBHog4u262pmLdg/t9+LSBvhCgO3BpiX7zJ5T4ujdW/zUbLv/0eUhuu0+l0j3fGY9ap1W/VNjbRj9typS7dkHCX2ytMAEDaj3qtZv3m3flEzuZ9FUQ9ggHCHkUHimTzvZhNpls9/mD5PX9cQI0FhUSJ8aSEORg9fCg12D2n4zpxXVivBZi/l/HTrp4mzpEqhMwtVvm0KneweuuAVTw4Heo0COnwkUMHC5Va09AIla3cAtXv7MwFAeQ2m42Gndv2Fko9gfmwiF4n6v/B7/fFRJsXb8ffiopKSSl7C9ywGX9j6Xd05BrAAo60lMST88sqfdffeCf5uJt4tJmmTRpHJqMmyuPxXnsIP4dBRwo4XS2im/uTYxQy2DtOXqvKI0GYI1kJ2ydjAm7zymfWRT+7sOg2ImR7OqTvybr6hnfPnnMizZlzKh/6J6lsn7JL9eRs0aZPtu8toN35RcLnT4y1UhzMAbDAeL1Ou6yytp42cB1hk0lUDmn2iFLsrs5cIxAIbs/slzZt8y/FdN/CR4Q3MGTqZJp9ygzaWly7wOX2cFGJ0zBvkwnMu6hlIP5SgU3V4kjYYHlNuJgDB5L8R4ooR6MUOu9dM5L/BDx/jeg8Hgzfi99XYCFu8fv95skToCgG59DWb3+gnzds4v34Q5ZoYxeS26gcrq6eVqP5Z22DPbx6a644IWwE8Tk83Oz2zsSqBzVq1dr1wAlcSJpjAmwiVEplp9ugQhP8mJ2ZdMPSr36g5Zw5ZIyiu26+jq6dO0MVDAUXejyepU1O5+N+f+A8MHOyCHM7PVMNsdFGfbxlbsjn52xr3ln985EmxtGphS/FCGaAgLNNqXEPG+Ito/1NzcKfjgOiXvjo05T3yRLa8ssuqqhy1Bp0uodbYwcuMSO6kyTGUNyw/lKxJffBzarAUMXRpqilq7fsIKqpF8fAOBroDfgHiB5HZtPS3IISahSHRzQCIIIBnIdxLYXLKhgudDDDqZXKF4Ant34JpuVta12Uge57dCG98eTfxVmC9JQUSoiPJXezm3xN7rDOZv7ONqTfU0BAF4CB2VX+9GgQ4mgxgMAFWNAzQLxd8SOzTea+SS6uIqoMhMgDYn69ei0VlpZRbIxhQzAUckmeg1+Unec6w1xckcvORvdPFjX1Oa7AJVbbEsZmiX57G8DeWgaDIIBZz/H+UBITFGZgRU2DnYorqsReQLPXy+am4VCRSz7Qws2yYwb2EVVEAm16IPBhE5s1elkRHztj97K5mcJNTkqZNY3+/dTf6OxTZ1JdVS3vS1TZctLXJo7Jcam06m8CXt85+P7Ko0WEo9rsV6oh7P+PWqt5N25o/xsMcZYH7Pnl5ljY5FwQrLqxAQQzbJQWW0Eak4Gi+yaTKU1qmsyve0AYbqGaNG4gVW/aIxpV8F5Dy24jJPpD2PzHVqzbnDL+zJMoOz2ZgaA5FAqP5NRvriHUxLWEeY8/LDKQYg4OXElJo1zEmev3c6NMe145Ndc0woYrRVYvD71ev6EKrmAJpmXuGeTeso1ev/NeKi2rpM1bt5Nfp6b+U47L1ViN7wU9vreDHr/9aLfYU9JRHgqpXq4n4PY+bky2ZUIy3k0ekUXb9u6l2uq67wxW031cZj52aD9Rct6anSaqjIuaukCIosgzJJ/Tq5PGDRLhZa63v68/UDjsZ8S/DWAw+MsemjxxLI3MyeTSsDf4A8HpVngAyVwVBBpkQN9UMIPnZDBN1oGha79gOn1sNHlqHYLh4nEvrIW00VLjbDYNaqVitcvtDm5YvwnOby7ddOMf6K+vfOj8dstmhxn3nT115Ntqs+Fiv9P9ArSfvTe01jvqDNA6JoCF4Zp28839kodlTjnum9Sxg8pjh2VMiB3cT2FOSxC5BExsDiIdIDnMBCACp1eDgQQTiEqk8nvg8292wN8v4QbSKYk0b+YUzjU4E38fBUDor2R84A/Q3GmTKDUuhhqanAsP+H6lQmxht5xoZs3DOMQMpkgYNUCYoKikGFYgZYmWmEffe+8zmnX6+bS7vJRmnjbOPuLUiU/EZqflBAOhC3GfJdSLhrI33UxLHWEQebtSo56ht5n/DaLeAO3wARburlAwGNeeJvEzEIRKjhueIU7dtvQuhFrXcG6giVPEQej05AQymozxKqWirs7eVJzPINDtpqScDLrszJOposZ+fktRSL4fLhzF5mdfs0a5y5jU/CJEppQ4XDOT4o/LovjB/R7Vp8TUWXLSaPgpE5+ISrJNxX08gGfaHQoGe01X1V6BAdoN5PAmUSC4Uo6Dj5ZDyc+T1BB5pYyavW2ZgCVfA7AGrUFVG3YJDyEQDPYxm6LIwJm/gYBQ+TEGPdU2uW5JT4xNmTJ6mHidRfjCGy6hutp6emf5qlcSYmN+DgeCO9QxWlIzQ/kP3rhirQBG0EEz/A6MchLMg9bUN/E2qLSPgz6/M+xtaZun6JXr3GsZoM3YQPuLVvJBjFnyZgn77Nza/Ss5wLK/gSVcxJgBadSwu5QMOu0oTuW+45lXKAY2n5M6w1Dr8N/79k1OpATuEwCG2/DzFjLib0Mz+1L0GqMiEAi+C/UxQqlWh8S28YHtWvvJ9zGMtx7APB4g/NXQMBzsaW6t1XrzUBzulM6186f1dqaIl5mACcBbrwFZOxRB+n5RqFVbAAztDbkl5Mgre9sfCs1v8sBr8EvVvzgewE+ulcvJcneR3SXlVFpZR4m2aFFH2C/q+SufjR+ecZM+zjIJyJ2vxQdhYmXhccgMyNqotjcv1ovvrPxNa4BDDQaML7f6nQ9qHi8IpFAMg+q+ENghaM1OLVQbtNHuOgdFiyaWAQEmmfEZ3Yc1yga3UrF7U1nZqJg4i2YIPI4whFYtVxVR63XnQq2HQHzRilgOZX8oa6Tf/FDTf89YT63r4ioUUWCCrEAonA0XLteYGvcs7HUf4ASzt6EpJRQMmXRmI7hBUak26rb4Gp0DXZUN5+NzmRQK1cA1XQMGMvkczYu1FuOrfIS7hwo6904TcGz8bwzlsSU4xgDHxjEGODaOMcCxcYwBjo3/vfH/AgwARNZStzp43n0AAAAASUVORK5CYII="
  , pu = "application/json"
  , Uy = "https://www.imaios.com"
  , Gy = {
    SUCCESS: 200,
    BAD_REQUEST: 400,
    FORBIDDEN: 403,
    NOT_FOUND: 404,
    ERROR_SERVER: 500,
    FIRST_BYTE_TIMEOUT: 503
}
  , Ao = {
    MODULE: 101,
    THUMBS: 102,
    POINTS: 103,
    SERIES: 104,
    ORIENTATION: 105,
    TRANSLATIONS: 106,
    UI_TRANSLATIONS: 107,
    CONTRAST: 108,
    SLICES: 109,
    ICONS: 110,
    STRUCTURES: 111,
    FILTERS: 112,
    IMAGES: 113,
    STRUCTURE_DETAILS: 114,
    STRUCTURE_DETAILS_GALLERY: 115,
    SERIES_DOESNT_HAVE_SLICES: 404
}
  , ha = "en"
  , mu = {
    ANIMAL: "animal",
    HUMAN: "human"
}
  , _h = {
    WORLD: "contact@imaios.com"
}
  , Lh = "switch-theme"
  , $y = "data:image/jpeg;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";
class Il {
    constructor() {
        Ie(this, "isAvailable", !1);
        this.isAvailable = Il.checkIsAvailable()
    }
    static checkIsAvailable() {
        const e = "test";
        try {
            return localStorage.setItem(e, e),
            localStorage.removeItem(e),
            !0
        } catch (i) {
            return !1
        }
    }
    add(e, i) {
        if (this.isAvailable) {
            const s = this.get(e);
            s !== null && typeof s == "object" && (i = T(T({}, s), i)),
            localStorage.setItem(e, JSON.stringify(i))
        }
    }
    get(e) {
        var i;
        if (this.isAvailable)
            try {
                const s = localStorage.getItem(e);
                return (i = JSON.parse(s)) != null ? i : null
            } catch (s) {
                return null
            }
    }
    remove(e, i=null) {
        if (this.isAvailable)
            if (i !== null) {
                const s = this.get(e);
                typeof s == "object" && s !== null ? (delete s[i],
                Object.keys(s).length === 0 ? localStorage.removeItem(e) : localStorage.setItem(e, JSON.stringify(s))) : localStorage.removeItem(e)
            } else
                localStorage.removeItem(e)
    }
}
const se = new Il;
class jy {
    getIEVersion() {
        const e = window.navigator.userAgent
          , i = e.indexOf("MSIE");
        return i > 0 ? parseInt(e.substring(i + 5, e.indexOf(".", i)), 10) : navigator.userAgent.match(/Trident\/7\./) ? 11 : 0
    }
    isIE() {
        return this.getIEVersion() !== 0
    }
    isFirefox() {
        return /Firefox\/[0-9.]+/.test(navigator.userAgent)
    }
    isScreenType(e) {
        switch (e) {
        case "xs":
            return window.innerWidth < 576;
        case "sm":
        case "small":
            return window.innerWidth >= 576;
        case "md":
            return window.innerWidth >= 768;
        case "lg":
            return window.innerWidth >= 992;
        case "xl":
            return window.innerWidth >= 1200;
        default:
            return !1
        }
    }
    getTextHeightFromDiv(e, i) {
        const s = document.createElement("span");
        s.textContent = "Hg",
        s.style.fontFamily = e,
        s.style.fontSize = i;
        const r = document.createElement("div");
        r.blockContent = "Hg",
        r.style.display = "inline-block",
        r.style.width = "1px",
        r.style.height = "0px",
        r.style.webkitTextSizeAdjust = "none";
        const n = document.createElement("div");
        n.appendChild(s),
        n.appendChild(r),
        document.body.appendChild(n);
        const a = {};
        try {
            r.style.verticalAlign = "baseline",
            a.ascent = r.offsetTop - s.offsetTop,
            r.style.verticalAlign = "bottom",
            a.height = r.offsetTop - s.offsetTop,
            a.descent = a.height - a.ascent
        } finally {
            n.parentNode.removeChild(n)
        }
        return a.height
    }
    isMobile() {
        let e = !1;
        const i = navigator.userAgent || navigator.vendor || window.opera;
        return (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(i) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(i.substr(0, 4))) && (e = !0),
        e
    }
    isTablet() {
        let e = !1;
        const i = navigator.userAgent || navigator.vendor || window.opera;
        return (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(i) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(i.substr(0, 4))) && !this.isMobile() && (e = !0),
        e
    }
    isMobileOrTablet() {
        return this.isTablet() || this.isMobile()
    }
    isSafariBrowser() {
        const e = navigator.userAgent || navigator.vendor || window.opera;
        return /safari/igm.test(e) && !/chrome/igm.test(e)
    }
    getMobilePlatform() {
        let e = "Unknown OS";
        return navigator.appVersion.includes("iPad") || navigator.appVersion.includes("iPhone") ? e = cu.IOS : navigator.appVersion.includes("Android") && (e = cu.ANDROID),
        e
    }
    isLeftClick(e) {
        return window.MouseEvent && e instanceof MouseEvent && e.button === Ji.LEFT_CLICK || window.TouchEvent && e instanceof TouchEvent && e.changedTouches.length === 1
    }
    isMacOS() {
        return typeof navigator.platform < "u" && /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform) || typeof navigator.userAgentData < "u" && /(Mac|iPhone|iPod|iPad)/i.test(navigator.userAgentData.platform)
    }
}
const Se = new jy
  , J = {
    la: 1,
    en: 2,
    fr: 3,
    de: 4,
    es: 5,
    cn: 6,
    jp: 7,
    it: 8,
    br: 9,
    ru: 10,
    ar: 12,
    pl: 15,
    ko: 17
};
var wo = {
    exports: {}
}, Yy = wo.exports, gu;
function Wy() {
    return gu || (gu = 1,
    function(t, e) {
        (function(i, s) {
            t.exports = s()
        }
        )(Yy, function() {
            return function() {
                var i = {
                    412: function(a, o, l) {
                        function c(d, m) {
                            for (var p = 0; p < m.length; p++) {
                                var f = m[p];
                                f.enumerable = f.enumerable || !1,
                                f.configurable = !0,
                                "value"in f && (f.writable = !0),
                                Object.defineProperty(d, f.key, f)
                            }
                        }
                        Object.defineProperty(o, "t", {
                            value: !0
                        });
                        var u = l(775)
                          , h = function() {
                            function d() {
                                (function(f, g) {
                                    if (!(f instanceof g))
                                        throw new TypeError("Cannot call a class as a function")
                                }
                                )(this, d)
                            }
                            var m, p;
                            return m = d,
                            p = [{
                                key: "set",
                                value: function(f, g, E) {
                                    for (var I, C = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : ".", w = f.split(C), O = E, M = E, z = 0; z < w.length; z++) {
                                        var B = w[z];
                                        if (B.length === 0)
                                            throw new u.default('"'.concat(f, '" is not a valid property path.'));
                                        O[B] === void 0 && (O[B] = {}),
                                        M = O,
                                        O = O[B],
                                        I = B
                                    }
                                    return M[I] = g,
                                    E
                                }
                            }, {
                                key: "get",
                                value: function(f, g) {
                                    for (var E = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : ".", I = f.split(E), C = g, w = 0; w < I.length; w++) {
                                        var O = I[w];
                                        if (O.length === 0)
                                            throw new u.default('"'.concat(f, '" is not a valid property path.'));
                                        if (C[O] === void 0)
                                            return null;
                                        C = C[O]
                                    }
                                    return C
                                }
                            }],
                            p && c(m.prototype, p),
                            d
                        }();
                        o.default = h
                    },
                    775: function(a, o) {
                        function l(g) {
                            return l = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(E) {
                                return typeof E
                            }
                            : function(E) {
                                return E && typeof Symbol == "function" && E.constructor === Symbol && E !== Symbol.prototype ? "symbol" : typeof E
                            }
                            ,
                            l(g)
                        }
                        function c(g, E) {
                            if (E && (l(E) === "object" || typeof E == "function"))
                                return E;
                            if (E !== void 0)
                                throw new TypeError("Derived constructors may only return object or undefined");
                            return function(I) {
                                if (I === void 0)
                                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                return I
                            }(g)
                        }
                        function u(g) {
                            var E = typeof Map == "function" ? new Map : void 0;
                            return u = function(I) {
                                if (I === null || (C = I,
                                Function.toString.call(C).indexOf("[native code]") === -1))
                                    return I;
                                var C;
                                if (typeof I != "function")
                                    throw new TypeError("Super expression must either be null or a function");
                                if (E !== void 0) {
                                    if (E.has(I))
                                        return E.get(I);
                                    E.set(I, w)
                                }
                                function w() {
                                    return h(I, arguments, p(this).constructor)
                                }
                                return w.prototype = Object.create(I.prototype, {
                                    constructor: {
                                        value: w,
                                        enumerable: !1,
                                        writable: !0,
                                        configurable: !0
                                    }
                                }),
                                m(w, I)
                            }
                            ,
                            u(g)
                        }
                        function h(g, E, I) {
                            return h = d() ? Reflect.construct : function(C, w, O) {
                                var M = [null];
                                M.push.apply(M, w);
                                var z = new (Function.bind.apply(C, M));
                                return O && m(z, O.prototype),
                                z
                            }
                            ,
                            h.apply(null, arguments)
                        }
                        function d() {
                            if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
                                return !1;
                            if (typeof Proxy == "function")
                                return !0;
                            try {
                                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})),
                                !0
                            } catch (g) {
                                return !1
                            }
                        }
                        function m(g, E) {
                            return m = Object.setPrototypeOf || function(I, C) {
                                return I.__proto__ = C,
                                I
                            }
                            ,
                            m(g, E)
                        }
                        function p(g) {
                            return p = Object.setPrototypeOf ? Object.getPrototypeOf : function(E) {
                                return E.__proto__ || Object.getPrototypeOf(E)
                            }
                            ,
                            p(g)
                        }
                        Object.defineProperty(o, "t", {
                            value: !0
                        });
                        var f = function(g) {
                            (function(O, M) {
                                if (typeof M != "function" && M !== null)
                                    throw new TypeError("Super expression must either be null or a function");
                                O.prototype = Object.create(M && M.prototype, {
                                    constructor: {
                                        value: O,
                                        writable: !0,
                                        configurable: !0
                                    }
                                }),
                                M && m(O, M)
                            }
                            )(w, g);
                            var E, I, C = (E = w,
                            I = d(),
                            function() {
                                var O, M = p(E);
                                if (I) {
                                    var z = p(this).constructor;
                                    O = Reflect.construct(M, arguments, z)
                                } else
                                    O = M.apply(this, arguments);
                                return c(this, O)
                            }
                            );
                            function w(O) {
                                var M;
                                return function(z, B) {
                                    if (!(z instanceof B))
                                        throw new TypeError("Cannot call a class as a function")
                                }(this, w),
                                (M = C.call(this, O)).name = "InvalidParameterException",
                                M
                            }
                            return w
                        }(u(Error));
                        o.default = f
                    },
                    524: function(a, o, l) {
                        function c(D) {
                            return c = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(R) {
                                return typeof R
                            }
                            : function(R) {
                                return R && typeof Symbol == "function" && R.constructor === Symbol && R !== Symbol.prototype ? "symbol" : typeof R
                            }
                            ,
                            c(D)
                        }
                        function u(D, R) {
                            if (!(D instanceof R))
                                throw new TypeError("Cannot call a class as a function")
                        }
                        function h(D, R) {
                            if (typeof R != "function" && R !== null)
                                throw new TypeError("Super expression must either be null or a function");
                            D.prototype = Object.create(R && R.prototype, {
                                constructor: {
                                    value: D,
                                    writable: !0,
                                    configurable: !0
                                }
                            }),
                            R && I(D, R)
                        }
                        function d(D) {
                            var R = E();
                            return function() {
                                var P, b = C(D);
                                if (R) {
                                    var S = C(this).constructor;
                                    P = Reflect.construct(b, arguments, S)
                                } else
                                    P = b.apply(this, arguments);
                                return m(this, P)
                            }
                        }
                        function m(D, R) {
                            if (R && (c(R) === "object" || typeof R == "function"))
                                return R;
                            if (R !== void 0)
                                throw new TypeError("Derived constructors may only return object or undefined");
                            return p(D)
                        }
                        function p(D) {
                            if (D === void 0)
                                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                            return D
                        }
                        function f(D) {
                            var R = typeof Map == "function" ? new Map : void 0;
                            return f = function(P) {
                                if (P === null || (b = P,
                                Function.toString.call(b).indexOf("[native code]") === -1))
                                    return P;
                                var b;
                                if (typeof P != "function")
                                    throw new TypeError("Super expression must either be null or a function");
                                if (R !== void 0) {
                                    if (R.has(P))
                                        return R.get(P);
                                    R.set(P, S)
                                }
                                function S() {
                                    return g(P, arguments, C(this).constructor)
                                }
                                return S.prototype = Object.create(P.prototype, {
                                    constructor: {
                                        value: S,
                                        enumerable: !1,
                                        writable: !0,
                                        configurable: !0
                                    }
                                }),
                                I(S, P)
                            }
                            ,
                            f(D)
                        }
                        function g(D, R, P) {
                            return g = E() ? Reflect.construct : function(b, S, L) {
                                var H = [null];
                                H.push.apply(H, S);
                                var U = new (Function.bind.apply(b, H));
                                return L && I(U, L.prototype),
                                U
                            }
                            ,
                            g.apply(null, arguments)
                        }
                        function E() {
                            if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
                                return !1;
                            if (typeof Proxy == "function")
                                return !0;
                            try {
                                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})),
                                !0
                            } catch (D) {
                                return !1
                            }
                        }
                        function I(D, R) {
                            return I = Object.setPrototypeOf || function(P, b) {
                                return P.__proto__ = b,
                                P
                            }
                            ,
                            I(D, R)
                        }
                        function C(D) {
                            return C = Object.setPrototypeOf ? Object.getPrototypeOf : function(R) {
                                return R.__proto__ || Object.getPrototypeOf(R)
                            }
                            ,
                            C(D)
                        }
                        Object.defineProperty(o, "t", {
                            value: !0
                        }),
                        o.SubscriptionNotFoundException = o.SubscriptionAlreadyExistsException = o.InvalidArgumentException = o.DomainException = void 0;
                        var w = function(D) {
                            h(P, D);
                            var R = d(P);
                            function P() {
                                return u(this, P),
                                R.apply(this, arguments)
                            }
                            return P
                        }(f(Error));
                        o.DomainException = w;
                        var O = l(552)
                          , M = function(D) {
                            h(P, D);
                            var R = d(P);
                            function P(b) {
                                var S;
                                return u(this, P),
                                (S = R.call(this, b)).name = S.constructor.name,
                                (0,
                                O.captureStackTrace)(p(S), S.constructor),
                                S
                            }
                            return P
                        }(w);
                        o.InvalidArgumentException = M;
                        var z = function(D) {
                            h(P, D);
                            var R = d(P);
                            function P(b, S) {
                                var L;
                                return u(this, P),
                                (L = R.call(this, 'Unable to add subscription "'.concat(b, '" to component "').concat(S, '" because it already manage a subscription with same id.'))).name = L.constructor.name,
                                (0,
                                O.captureStackTrace)(p(L), L.constructor),
                                L
                            }
                            return P
                        }(w);
                        o.SubscriptionAlreadyExistsException = z;
                        var B = function(D) {
                            h(P, D);
                            var R = d(P);
                            function P(b, S) {
                                var L;
                                return u(this, P),
                                (L = R.call(this, 'Unable to find subscription with id "'.concat(b, '" in component "').concat(S, '".'))).name = L.constructor.name,
                                (0,
                                O.captureStackTrace)(p(L), L.constructor),
                                L
                            }
                            return P
                        }(w);
                        o.SubscriptionNotFoundException = B
                    },
                    413: function(a, o) {
                        Object.defineProperty(o, "t", {
                            value: !0
                        }),
                        o.generateId = void 0;
                        var l = new Map;
                        o.generateId = function(c) {
                            var u, h = (u = l.get(c)) !== null && u !== void 0 ? u : 0;
                            return l.set(c, h + 1),
                            "".concat(c, "_").concat(h)
                        }
                    },
                    552: function(a, o) {
                        Object.defineProperty(o, "t", {
                            value: !0
                        }),
                        o.captureStackTrace = void 0,
                        o.captureStackTrace = function(l, c) {
                            typeof Error.captureStackTrace == "function" && Error.captureStackTrace(l, c)
                        }
                    },
                    322: function(a, o, l) {
                        Object.defineProperty(o, "t", {
                            value: !0
                        }),
                        o.subscribeFromObject = void 0;
                        var c = new (l(412)).default;
                        o.subscribeFromObject = function(u, h, d) {
                            Object.values(d).forEach(function(m) {
                                var p = u[m.action];
                                if (typeof p == "function") {
                                    var f = p.bind(u);
                                    u.subscribe(h, m.notification, function(g) {
                                        var E = {};
                                        if (m.mapAttributes !== void 0) {
                                            var I = m.mapAttributes;
                                            Object.keys(I).forEach(function(C) {
                                                var w, O = (w = I[C]) !== null && w !== void 0 ? w : "";
                                                E[C] = c.get(O, g)
                                            }),
                                            f(E)
                                        } else
                                            f(g)
                                    })
                                }
                            })
                        }
                    },
                    537: function(a, o, l) {
                        Object.defineProperty(o, "t", {
                            value: !0
                        }),
                        o.HIGH_PRIORITY = o.DEFAULT_PRIORITY = o.LOW_PRIORITY = o.ROLE = o.findSubscriptionByRoleAndComponentId = void 0;
                        var c = l(524);
                        o.findSubscriptionByRoleAndComponentId = function(u, h, d) {
                            if (h !== o.ROLE.PUBLISHER_ID && h !== o.ROLE.SUBSCRIBER_ID)
                                throw new c.InvalidArgumentException('Invalid argument given for "role" in "findSubscriptionByRoleAndComponentId". Values expected are "publisher_id" or "subscriber_id" but "'.concat(h, '" was given.'));
                            return u.getSubscriptions().filter(function(m) {
                                return (h === o.ROLE.PUBLISHER_ID ? m.publisher_id : m.subscriber_id) === d
                            })
                        }
                        ,
                        o.ROLE = {
                            PUBLISHER_ID: "publisher_id",
                            SUBSCRIBER_ID: "subscriber_id"
                        },
                        o.LOW_PRIORITY = -100,
                        o.DEFAULT_PRIORITY = 0,
                        o.HIGH_PRIORITY = 100
                    },
                    986: function(a, o, l) {
                        function c(f, g) {
                            for (var E = 0; E < g.length; E++) {
                                var I = g[E];
                                I.enumerable = I.enumerable || !1,
                                I.configurable = !0,
                                "value"in I && (I.writable = !0),
                                Object.defineProperty(f, I.key, I)
                            }
                        }
                        Object.defineProperty(o, "t", {
                            value: !0
                        });
                        var u = l(829)
                          , h = l(757)
                          , d = l(537)
                          , m = l(524)
                          , p = function() {
                            function f(I) {
                                (function(C, w) {
                                    if (!(C instanceof w))
                                        throw new TypeError("Cannot call a class as a function")
                                }
                                )(this, f),
                                this.proxies = new Map,
                                this.removedSelfSubscription = new Set,
                                this.id = I,
                                this.publisher = new u.default(I),
                                this.subscriber = new h.default(I)
                            }
                            var g, E;
                            return g = f,
                            E = [{
                                key: "hasSubscription",
                                value: function(I) {
                                    return this.subscriber.hasSubscription(I) || this.publisher.hasSubscription(I)
                                }
                            }, {
                                key: "addSubscriber",
                                value: function(I, C) {
                                    this.publisher.addSubscriber(I, C)
                                }
                            }, {
                                key: "removeSubscriber",
                                value: function(I) {
                                    this.publisher.removeSubscriber(I)
                                }
                            }, {
                                key: "getNbSubscriptionsAsPublisher",
                                value: function() {
                                    return this.publisher.getNbSubscriptions()
                                }
                            }, {
                                key: "getNbSubscriptionsAsSubscriber",
                                value: function() {
                                    return this.subscriber.getNbSubscriptions()
                                }
                            }, {
                                key: "publish",
                                value: function(I, C) {
                                    this.publisher.publish(I, C)
                                }
                            }, {
                                key: "getId",
                                value: function() {
                                    return this.id
                                }
                            }, {
                                key: "subscribe",
                                value: function(I, C, w, O) {
                                    return this.subscriber.subscribe.apply(this, [I, C, w, O])
                                }
                            }, {
                                key: "getNbSubscriptions",
                                value: function() {
                                    return this.subscriber.getNbSubscriptions()
                                }
                            }, {
                                key: "removeSubscription",
                                value: function(I) {
                                    this.subscriber.removeSubscription(I)
                                }
                            }, {
                                key: "addSubscription",
                                value: function(I, C) {
                                    this.subscriber.addSubscription(I, C)
                                }
                            }, {
                                key: "waitUntil",
                                value: function(I) {
                                    return this.subscriber.waitUntil(I)
                                }
                            }, {
                                key: "destroy",
                                value: function() {
                                    this.publisher.destroy(),
                                    this.subscriber.destroy()
                                }
                            }, {
                                key: "is",
                                value: function(I) {
                                    return this.id === I
                                }
                            }, {
                                key: "findSubscriptionById",
                                value: function(I) {
                                    return this.subscriber.findSubscriptionById(I) || this.publisher.findSubscriptionById(I)
                                }
                            }, {
                                key: "findSubscriptionsByNotificationAndPublisherId",
                                value: function(I, C) {
                                    return this.subscriber.findSubscriptionsByNotificationAndPublisherId(I, C)
                                }
                            }, {
                                key: "findSubscriptionsByNotification",
                                value: function(I) {
                                    return this.subscriber.findSubscriptionsByNotification(I).concat(this.publisher.findSubscriptionsByNotification(I))
                                }
                            }, {
                                key: "getSubscriptions",
                                value: function() {
                                    return this.subscriber.getSubscriptions().concat(this.publisher.getSubscriptions())
                                }
                            }, {
                                key: "unsubscribeFromNotification",
                                value: function(I) {
                                    this.subscriber.unsubscribeFromNotification(I)
                                }
                            }, {
                                key: "unsubscribeFromPublisherId",
                                value: function(I) {
                                    this.subscriber.unsubscribeFromPublisherId(I)
                                }
                            }, {
                                key: "unsubscribeFromSubscriptionId",
                                value: function(I) {
                                    this.subscriber.unsubscribeFromSubscriptionId(I)
                                }
                            }, {
                                key: "continuePublicationOnException",
                                value: function() {
                                    this.publisher.continuePublicationOnException()
                                }
                            }, {
                                key: "findSubscriptionByPublisherId",
                                value: function(I) {
                                    var C = this.subscriber.findSubscriptionByPublisherId(I).concat((0,
                                    d.findSubscriptionByRoleAndComponentId)(this.publisher, d.ROLE.PUBLISHER_ID, I));
                                    return I === this.getId() ? Array.from(new Set(C)) : C
                                }
                            }, {
                                key: "findSubscriptionsByNotificationAndSubscriberId",
                                value: function(I, C) {
                                    return this.publisher.findSubscriptionsByNotificationAndSubscriberId(I, C)
                                }
                            }, {
                                key: "findSubscriptionBySubscriberId",
                                value: function(I) {
                                    var C = this.publisher.findSubscriptionBySubscriberId(I).concat((0,
                                    d.findSubscriptionByRoleAndComponentId)(this.subscriber, d.ROLE.SUBSCRIBER_ID, I));
                                    return I === this.getId() ? Array.from(new Set(C)) : C
                                }
                            }, {
                                key: "stopPublicationOnException",
                                value: function() {
                                    this.publisher.stopPublicationOnException()
                                }
                            }, {
                                key: "clearSubscription",
                                value: function(I) {
                                    if (this.removedSelfSubscription.has(I))
                                        this.removedSelfSubscription.delete(I);
                                    else {
                                        var C = this.findSubscriptionById(I);
                                        if (C === null)
                                            throw new m.SubscriptionNotFoundException(I,this.getId());
                                        (C == null ? void 0 : C.subscriber_id) === this.subscriber.getId() && this.subscriber.clearSubscription(I),
                                        (C == null ? void 0 : C.publisher_id) === this.publisher.getId() && this.publisher.clearSubscription(I),
                                        (C == null ? void 0 : C.publisher_id) === (C == null ? void 0 : C.subscriber_id) && this.removedSelfSubscription.add(I)
                                    }
                                }
                            }, {
                                key: "addProxy",
                                value: function(I, C) {
                                    var w = this
                                      , O = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : function(B) {
                                        return B
                                    }
                                      , M = this.getPublisherProxies(I.getId())
                                      , z = this.subscribe(I, C, function(B) {
                                        w.publish(C, O(B))
                                    });
                                    return M.add(z.id),
                                    this.proxies.set(I.getId(), M),
                                    this
                                }
                            }, {
                                key: "getPublisherProxies",
                                value: function(I) {
                                    var C;
                                    return (C = this.proxies.get(I)) !== null && C !== void 0 ? C : new Set
                                }
                            }, {
                                key: "removeProxy",
                                value: function(I, C) {
                                    var w = this
                                      , O = this.findSubscriptionsByNotificationAndPublisherId(C, I.getId())
                                      , M = this.getPublisherProxies(I.getId());
                                    return O.filter(function(z) {
                                        return M.has(z.id)
                                    }).forEach(function(z) {
                                        w.unsubscribeFromSubscriptionId(z.id),
                                        M.delete(z.id)
                                    }),
                                    this
                                }
                            }],
                            E && c(g.prototype, E),
                            f
                        }();
                        o.default = p
                    },
                    829: function(a, o, l) {
                        function c(C) {
                            return c = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(w) {
                                return typeof w
                            }
                            : function(w) {
                                return w && typeof Symbol == "function" && w.constructor === Symbol && w !== Symbol.prototype ? "symbol" : typeof w
                            }
                            ,
                            c(C)
                        }
                        function u(C, w) {
                            if (!(C instanceof w))
                                throw new TypeError("Cannot call a class as a function")
                        }
                        function h(C, w) {
                            for (var O = 0; O < w.length; O++) {
                                var M = w[O];
                                M.enumerable = M.enumerable || !1,
                                M.configurable = !0,
                                "value"in M && (M.writable = !0),
                                Object.defineProperty(C, M.key, M)
                            }
                        }
                        function d(C, w) {
                            return d = Object.setPrototypeOf || function(O, M) {
                                return O.__proto__ = M,
                                O
                            }
                            ,
                            d(C, w)
                        }
                        function m(C) {
                            var w = function() {
                                if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
                                    return !1;
                                if (typeof Proxy == "function")
                                    return !0;
                                try {
                                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})),
                                    !0
                                } catch (O) {
                                    return !1
                                }
                            }();
                            return function() {
                                var O, M = f(C);
                                if (w) {
                                    var z = f(this).constructor;
                                    O = Reflect.construct(M, arguments, z)
                                } else
                                    O = M.apply(this, arguments);
                                return p(this, O)
                            }
                        }
                        function p(C, w) {
                            if (w && (c(w) === "object" || typeof w == "function"))
                                return w;
                            if (w !== void 0)
                                throw new TypeError("Derived constructors may only return object or undefined");
                            return function(O) {
                                if (O === void 0)
                                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                return O
                            }(C)
                        }
                        function f(C) {
                            return f = Object.setPrototypeOf ? Object.getPrototypeOf : function(w) {
                                return w.__proto__ || Object.getPrototypeOf(w)
                            }
                            ,
                            f(C)
                        }
                        Object.defineProperty(o, "t", {
                            value: !0
                        });
                        var g = l(657)
                          , E = l(537)
                          , I = function(C) {
                            (function(B, D) {
                                if (typeof D != "function" && D !== null)
                                    throw new TypeError("Super expression must either be null or a function");
                                B.prototype = Object.create(D && D.prototype, {
                                    constructor: {
                                        value: B,
                                        writable: !0,
                                        configurable: !0
                                    }
                                }),
                                D && d(B, D)
                            }
                            )(z, C);
                            var w, O, M = m(z);
                            function z() {
                                var B;
                                return u(this, z),
                                (B = M.apply(this, arguments)).shouldIStopPublicationOnException = !1,
                                B
                            }
                            return w = z,
                            (O = [{
                                key: "stopPublicationOnException",
                                value: function() {
                                    this.shouldIStopPublicationOnException = !0
                                }
                            }, {
                                key: "continuePublicationOnException",
                                value: function() {
                                    this.shouldIStopPublicationOnException = !1
                                }
                            }, {
                                key: "publish",
                                value: function(B, D) {
                                    var R = this
                                      , P = this.notificationsCollection[B];
                                    Array.isArray(P) && P.slice(0).forEach(function(b) {
                                        try {
                                            b.handler(D)
                                        } catch (S) {
                                            if (R.shouldIStopPublicationOnException)
                                                throw S
                                        }
                                    })
                                }
                            }, {
                                key: "findSubscriptionBySubscriberId",
                                value: function(B) {
                                    return (0,
                                    E.findSubscriptionByRoleAndComponentId)(this, E.ROLE.SUBSCRIBER_ID, B)
                                }
                            }, {
                                key: "findSubscriptionsByNotificationAndSubscriberId",
                                value: function(B, D) {
                                    return this.findSubscriptionsByNotification(B).filter(function(R) {
                                        return R.subscriber_id === D
                                    })
                                }
                            }, {
                                key: "addSubscriber",
                                value: function(B, D) {
                                    this.addSubscription(B, D)
                                }
                            }, {
                                key: "removeSubscriber",
                                value: function(B) {
                                    this.findSubscriptionBySubscriberId(B).forEach(function(D) {
                                        return D.unsubscribe()
                                    })
                                }
                            }]) && h(w.prototype, O),
                            z
                        }(g.default);
                        o.default = I
                    },
                    757: function(a, o, l) {
                        function c(O) {
                            return c = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(M) {
                                return typeof M
                            }
                            : function(M) {
                                return M && typeof Symbol == "function" && M.constructor === Symbol && M !== Symbol.prototype ? "symbol" : typeof M
                            }
                            ,
                            c(O)
                        }
                        function u(O, M) {
                            if (!(O instanceof M))
                                throw new TypeError("Cannot call a class as a function")
                        }
                        function h(O, M) {
                            for (var z = 0; z < M.length; z++) {
                                var B = M[z];
                                B.enumerable = B.enumerable || !1,
                                B.configurable = !0,
                                "value"in B && (B.writable = !0),
                                Object.defineProperty(O, B.key, B)
                            }
                        }
                        function d(O, M) {
                            return d = Object.setPrototypeOf || function(z, B) {
                                return z.__proto__ = B,
                                z
                            }
                            ,
                            d(O, M)
                        }
                        function m(O) {
                            var M = function() {
                                if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
                                    return !1;
                                if (typeof Proxy == "function")
                                    return !0;
                                try {
                                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})),
                                    !0
                                } catch (z) {
                                    return !1
                                }
                            }();
                            return function() {
                                var z, B = f(O);
                                if (M) {
                                    var D = f(this).constructor;
                                    z = Reflect.construct(B, arguments, D)
                                } else
                                    z = B.apply(this, arguments);
                                return p(this, z)
                            }
                        }
                        function p(O, M) {
                            if (M && (c(M) === "object" || typeof M == "function"))
                                return M;
                            if (M !== void 0)
                                throw new TypeError("Derived constructors may only return object or undefined");
                            return function(z) {
                                if (z === void 0)
                                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                return z
                            }(O)
                        }
                        function f(O) {
                            return f = Object.setPrototypeOf ? Object.getPrototypeOf : function(M) {
                                return M.__proto__ || Object.getPrototypeOf(M)
                            }
                            ,
                            f(O)
                        }
                        Object.defineProperty(o, "t", {
                            value: !0
                        });
                        var g = l(657)
                          , E = l(537)
                          , I = l(524)
                          , C = l(413)
                          , w = function(O) {
                            (function(R, P) {
                                if (typeof P != "function" && P !== null)
                                    throw new TypeError("Super expression must either be null or a function");
                                R.prototype = Object.create(P && P.prototype, {
                                    constructor: {
                                        value: R,
                                        writable: !0,
                                        configurable: !0
                                    }
                                }),
                                P && d(R, P)
                            }
                            )(D, O);
                            var M, z, B = m(D);
                            function D() {
                                return u(this, D),
                                B.apply(this, arguments)
                            }
                            return M = D,
                            z = [{
                                key: "unsubscribeFromSubscriptionId",
                                value: function(R) {
                                    var P = this.findSubscriptionById(R);
                                    if (P === null)
                                        throw new I.SubscriptionNotFoundException(R,this.getId());
                                    P.unsubscribe()
                                }
                            }, {
                                key: "findSubscriptionByPublisherId",
                                value: function(R) {
                                    return (0,
                                    E.findSubscriptionByRoleAndComponentId)(this, E.ROLE.PUBLISHER_ID, R)
                                }
                            }, {
                                key: "unsubscribeFromPublisherId",
                                value: function(R) {
                                    this.findSubscriptionByPublisherId(R).map(function(P) {
                                        return P.unsubscribe
                                    }).forEach(function(P) {
                                        P()
                                    })
                                }
                            }, {
                                key: "unsubscribeFromNotification",
                                value: function(R) {
                                    this.findSubscriptionsByNotification(R).map(function(P) {
                                        return P.unsubscribe
                                    }).forEach(function(P) {
                                        P()
                                    })
                                }
                            }, {
                                key: "subscribe",
                                value: function(R, P, b) {
                                    var S = this
                                      , L = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : E.DEFAULT_PRIORITY
                                      , H = this.getNbSubscriptions()
                                      , U = "sub_".concat(this.getId(), "_to_").concat(R.getId(), "_salt_").concat(H);
                                    if (isNaN(L) || typeof L != "number")
                                        throw new I.InvalidArgumentException('Unable to create a subscription with priority "'.concat(L, '" (typed as "').concat(c(L), '"). Number value is expected.'));
                                    var Z = {
                                        id: U,
                                        subscriber_id: this.getId(),
                                        publisher_id: R.getId(),
                                        unsubscribe: function() {
                                            R.clearSubscription(U),
                                            S.clearSubscription(U)
                                        },
                                        priority: L,
                                        handler: b
                                    };
                                    return this.addSubscription(P, Z),
                                    R.addSubscriber(P, Z),
                                    Z
                                }
                            }, {
                                key: "getNbSubscriptions",
                                value: function() {
                                    return this.nbSubscriptionRecorded
                                }
                            }, {
                                key: "removeSubscription",
                                value: function(R) {
                                    this.clearSubscription(R)
                                }
                            }, {
                                key: "waitUntil",
                                value: function(R) {
                                    var P = new D((0,
                                    C.generateId)("wait-until-".concat(R.map(function(b) {
                                        return b.name
                                    }).join("-and-"), "-salt")));
                                    return new Promise(function(b) {
                                        Promise.all(R.map(function(S) {
                                            return new Promise(function(L) {
                                                P.subscribe(S.from, S.name, function(H) {
                                                    L(H)
                                                })
                                            }
                                            )
                                        })).then(function(S) {
                                            P.destroy(),
                                            b(S)
                                        })
                                    }
                                    )
                                }
                            }, {
                                key: "findSubscriptionsByNotificationAndPublisherId",
                                value: function(R, P) {
                                    return this.findSubscriptionsByNotification(R).filter(function(b) {
                                        return b.publisher_id === P
                                    })
                                }
                            }],
                            z && h(M.prototype, z),
                            D
                        }(g.default);
                        o.default = w
                    },
                    657: function(a, o, l) {
                        function c(p) {
                            return function(f) {
                                if (Array.isArray(f))
                                    return u(f)
                            }(p) || function(f) {
                                if (typeof Symbol < "u" && f[Symbol.iterator] != null || f["@@iterator"] != null)
                                    return Array.from(f)
                            }(p) || function(f, g) {
                                if (f) {
                                    if (typeof f == "string")
                                        return u(f, g);
                                    var E = Object.prototype.toString.call(f).slice(8, -1);
                                    if (E === "Object" && f.constructor && (E = f.constructor.name),
                                    E === "Map" || E === "Set")
                                        return Array.from(f);
                                    if (E === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))
                                        return u(f, g)
                                }
                            }(p) || function() {
                                throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
                            }()
                        }
                        function u(p, f) {
                            (f == null || f > p.length) && (f = p.length);
                            for (var g = 0, E = new Array(f); g < f; g++)
                                E[g] = p[g];
                            return E
                        }
                        function h(p, f) {
                            for (var g = 0; g < f.length; g++) {
                                var E = f[g];
                                E.enumerable = E.enumerable || !1,
                                E.configurable = !0,
                                "value"in E && (E.writable = !0),
                                Object.defineProperty(p, E.key, E)
                            }
                        }
                        Object.defineProperty(o, "t", {
                            value: !0
                        });
                        var d = l(524)
                          , m = function() {
                            function p(E) {
                                (function(I, C) {
                                    if (!(I instanceof C))
                                        throw new TypeError("Cannot call a class as a function")
                                }
                                )(this, p),
                                this.subscriptionsList = {},
                                this.notificationsCollection = {},
                                this.nbSubscriptionRecorded = 0,
                                this.id = E
                            }
                            var f, g;
                            return f = p,
                            (g = [{
                                key: "getSubscriptions",
                                value: function() {
                                    return [].concat.apply([], Object.values(this.notificationsCollection))
                                }
                            }, {
                                key: "getNbSubscriptions",
                                value: function() {
                                    return this.nbSubscriptionRecorded
                                }
                            }, {
                                key: "hasSubscription",
                                value: function(E) {
                                    return this.subscriptionsList[E] !== void 0
                                }
                            }, {
                                key: "recordSubscription",
                                value: function(E, I) {
                                    this.subscriptionsList[E] = I
                                }
                            }, {
                                key: "findSubscriptionIndexById",
                                value: function(E) {
                                    var I = this.subscriptionsList[E]
                                      , C = {
                                        index: -1,
                                        notification: I != null ? I : ""
                                    };
                                    if (I === void 0)
                                        return C;
                                    var w = this.notificationsCollection[I];
                                    return Array.isArray(w) && (C.index = w.findIndex(function(O) {
                                        return O.id === E
                                    })),
                                    C
                                }
                            }, {
                                key: "findSubscriptionById",
                                value: function(E) {
                                    var I = this.findSubscriptionIndexById(E);
                                    return I.index < 0 ? null : this.notificationsCollection[I.notification][I.index]
                                }
                            }, {
                                key: "findSubscriptionsByNotification",
                                value: function(E) {
                                    return this.notificationsCollection[E] || []
                                }
                            }, {
                                key: "clearSubscription",
                                value: function(E) {
                                    var I = this.findSubscriptionIndexById(E);
                                    if (I.index < 0)
                                        throw new d.SubscriptionNotFoundException(E,this.getId());
                                    var C = this.notificationsCollection[I.notification].splice(I.index, 1)[0];
                                    typeof C.handler == "function" && delete C.handler,
                                    delete this.subscriptionsList[E],
                                    this.nbSubscriptionRecorded--,
                                    this.notificationsCollection[I.notification].length === 0 && delete this.notificationsCollection[I.notification]
                                }
                            }, {
                                key: "addSubscription",
                                value: function(E, I) {
                                    if (Array.isArray(this.notificationsCollection[E]) !== !0 && (this.notificationsCollection[E] = []),
                                    this.hasSubscription(I.id))
                                        throw new d.SubscriptionAlreadyExistsException(I.id,this.getId());
                                    this.notificationsCollection[E].push(I),
                                    this.notificationsCollection[E].sort(function(C, w) {
                                        return w.priority - C.priority
                                    }),
                                    this.recordSubscription(I.id, E),
                                    this.nbSubscriptionRecorded++
                                }
                            }, {
                                key: "getId",
                                value: function() {
                                    return this.id
                                }
                            }, {
                                key: "is",
                                value: function(E) {
                                    return E === this.getId()
                                }
                            }, {
                                key: "destroy",
                                value: function() {
                                    Object.values(this.notificationsCollection).forEach(function(E) {
                                        c(E).forEach(function(I) {
                                            I.unsubscribe()
                                        })
                                    })
                                }
                            }]) && h(f.prototype, g),
                            p
                        }();
                        o.default = m
                    }
                }
                  , s = {};
                function r(a) {
                    var o = s[a];
                    if (o !== void 0)
                        return o.exports;
                    var l = s[a] = {
                        exports: {}
                    };
                    return i[a](l, l.exports, r),
                    l.exports
                }
                var n = {};
                return function() {
                    var a = n;
                    Object.defineProperty(a, "t", {
                        value: !0
                    }),
                    a.SubscriptionNotFoundException = a.SubscriptionAlreadyExistsException = a.InvalidArgumentException = a.SubscriberHelper = a.PublisherSubscriber = a.Subscriber = a.Publisher = void 0;
                    var o = r(829);
                    Object.defineProperty(a, "Publisher", {
                        enumerable: !0,
                        get: function() {
                            return o.default
                        }
                    });
                    var l = r(757);
                    Object.defineProperty(a, "Subscriber", {
                        enumerable: !0,
                        get: function() {
                            return l.default
                        }
                    });
                    var c = r(986);
                    Object.defineProperty(a, "PublisherSubscriber", {
                        enumerable: !0,
                        get: function() {
                            return c.default
                        }
                    }),
                    a.SubscriberHelper = r(322);
                    var u = r(524);
                    Object.defineProperty(a, "InvalidArgumentException", {
                        enumerable: !0,
                        get: function() {
                            return u.InvalidArgumentException
                        }
                    }),
                    Object.defineProperty(a, "SubscriptionAlreadyExistsException", {
                        enumerable: !0,
                        get: function() {
                            return u.SubscriptionAlreadyExistsException
                        }
                    }),
                    Object.defineProperty(a, "SubscriptionNotFoundException", {
                        enumerable: !0,
                        get: function() {
                            return u.SubscriptionNotFoundException
                        }
                    })
                }(),
                n
            }()
        })
    }(wo)),
    wo.exports
}
var Ky = Wy();
const Zy = new Me
  , Cl = {
    USER_ID_UPDATED: "user_id_updated"
}
  , y = {
    url: {
        login: null,
        subscribe: null,
        applicationHomepage: null
    },
    errorHandler: null,
    user_id: null,
    id: null,
    store: null,
    siteAccess: null,
    viewerContainer: {
        width: null,
        height: null,
        marginLeft: 0
    },
    defaultLanguageId: null,
    languagesAllowed: [],
    key: null,
    keyIV: null,
    pubSub: new Ky.PublisherSubscriber("anatomy-helper"),
    isEmbedded: !1,
    setUserId(t) {
        this.user_id = t,
        this.pubSub.publish(Cl.USER_ID_UPDATED, t)
    },
    getHostname() {
        return location.hostname
    },
    getClientURL() {
        return imaios.get("client_url") || location.href.split("?")[0]
    },
    onBeforeMount(t) {
        Object.keys(t).forEach(e => {
            if (typeof t[e] == "function")
                document.addEventListener(e, t[e]);
            else if (typeof t[e] < "u" && typeof t[e].target == "object") {
                const i = t[e];
                i.target.addEventListener(i.event, i.hook)
            }
        }
        )
    },
    onBeforeUnmount(t) {
        for (const e in t)
            if (typeof t[e] == "function")
                document.removeEventListener(e, t[e]);
            else if (typeof t[e] < "u" && typeof t[e].target == "object") {
                const i = t[e];
                i.target.removeEventListener(i.event, i.hook)
            }
    },
    createHook(t, e, i=null) {
        let s;
        return i === null ? s = e : s = {
            target: i,
            event: t,
            hook: e
        },
        s
    },
    createHooks(t) {
        const e = {};
        for (const i of t)
            if (Array.isArray(i.on))
                for (const s of i.on) {
                    const r = this.getEventName(s, i.target);
                    e[r] = this.createHook(r, i.do, i.target)
                }
            else {
                const s = this.getEventName(i.on, i.target);
                e[s] = this.createHook(s, i.do, i.target)
            }
        return e
    },
    getEventName(t, e=null) {
        return e !== window ? `${this.id}-${t}` : t
    },
    getFirstChildElementByTag(t, e) {
        let i = null;
        return Array.from(t.children).forEach(s => {
            s.nodeName === e.toUpperCase() && i === null && (i = s)
        }
        ),
        i
    },
    debounce(t, e) {
        let i = null;
        return (...s) => {
            const r = () => t(...s);
            clearTimeout(i),
            i = setTimeout(r, e)
        }
    },
    throttle(t, e) {
        let i = !1;
        return (...s) => {
            i || (t(...s),
            i = !0,
            setTimeout( () => {
                i = !1
            }
            , e))
        }
    },
    switchTheme(t) {
        const e = se.get(he.THEME) || {};
        let i = Mi.DARK;
        this.isDarkMode() && (i = Mi.LIGHT),
        e[t] = i,
        se.add(he.THEME, e),
        this.setTheme(i, t)
    },
    setThemeByModality(t, e) {
        let i = Mi.DARK;
        return du.includes(t) && (i = Mi.LIGHT),
        this.setTheme(i, e),
        i
    },
    setTheme(t, e) {
        const i = (se.get(he.THEME) || {})[e] || t;
        document.getElementById(this.store.getters["anatomy/getParentContainerId"]).setAttribute("data-theme", i),
        this.emit(Lh, {
            theme: i
        })
    },
    isDarkMode() {
        return Se.getIEVersion() !== 0 ? !0 : document.getElementById(this.store.getters["anatomy/getParentContainerId"]).getAttribute("data-theme") === Mi.DARK
    },
    getCSSVariable(t) {
        const e = document.getElementById(this.store.getters["anatomy/getParentContainerId"]);
        return getComputedStyle(e).getPropertyValue(t)
    },
    emit(t, e=null, i=null) {
        Zy.emit(this.getEventName(t), {
            detail: e,
            target: i
        })
    },
    getSiteAccess() {
        if (this.siteAccess !== null)
            return this.siteAccess;
        if (typeof window.location.pathname != "string")
            return ha;
        try {
            const t = window.location.pathname.split("/")[1];
            if (t.length === 2 && Object.keys(J).includes(t))
                return t
        } catch (t) {
            return ha
        }
        return ha
    },
    transformSiteAccessToLocal(t) {
        switch (t) {
        case "cn":
            return "zh";
        case "br":
            return "pt";
        case "jp":
            return "ja";
        default:
            return t
        }
    },
    transformLocalToSiteAccess(t) {
        switch (t) {
        case "zh":
            return "cn";
        case "pt":
            return "br";
        case "ja":
            return "jp";
        default:
            return t
        }
    },
    toDataURL(t) {
        return new Promise(e => {
            const i = new Image;
            i.crossOrigin = "Anonymous",
            i.onload = function() {
                const s = document.createElement("CANVAS")
                  , r = s.getContext("2d");
                s.height = this.naturalHeight,
                s.width = this.naturalWidth,
                r.drawImage(this, 0, 0),
                e(s.toDataURL())
            }
            ,
            i.src = t,
            (i.complete || i.complete === void 0) && (i.src = $y,
            i.src = t)
        }
        )
    },
    isHiddenByOverflow(t) {
        const e = t.parentElement
          , i = e.scrollTop
          , s = e.offsetHeight
          , r = t.offsetHeight
          , n = Array.from(e.children).findIndex(o => o.innerText === t.innerText);
        let a = 0;
        for (let o = 0; o < n; o++)
            a += e.children[o].offsetHeight;
        return {
            isHidden: a < i || a + r > i + s,
            y: a
        }
    },
    getBackgroundColor(t) {
        let e = hu.BLACK;
        return du.includes(t) && (e = hu.WHITE),
        e
    },
    getSizeMargin() {
        return this.isDesktopScreen() ? 10 : 15
    },
    getSizeActionButtons() {
        return Vy + this.getSizeMargin()
    },
    getSizeMenu() {
        return this.store.getters["menu/menu-width"]
    },
    getSizeMenuButton() {
        return this.isDesktopScreen() ? By : Fy
    },
    isDesktopScreen() {
        return this.store.getters["viewer/viewer-width"] <= Jt.DESKTOP
    },
    isLaptopScreen() {
        return this.store.getters["viewer/viewer-width"] <= Jt.LAPTOP
    },
    isLargeTabletScreen() {
        return this.store.getters["viewer/viewer-width"] <= Jt.LARGE_TABLET
    },
    isTabletScreen() {
        return this.store.getters["viewer/viewer-width"] <= Jt.TABLET
    },
    isMobileScreen() {
        return this.store.getters["viewer/viewer-width"] <= Jt.MOBILE
    },
    isSmallMobileScreen() {
        return this.store.getters["viewer/viewer-width"] <= Jt.SMALL_MOBILE
    },
    breakPointCrossReferences() {
        return this.store.getters["viewer/viewer-width"] >= 768 && this.store.getters["viewer/viewer-height"] >= 457
    },
    isEmbed() {
        return this.isEmbedded
    },
    getWidthElement(t) {
        const e = window.getComputedStyle(t)
          , i = t.offsetWidth
          , s = parseFloat(e.marginLeft) + parseFloat(e.marginRight);
        return i + s
    },
    forceRedrawSafari(t) {
        t.style.display = "none",
        t.offsetHeight,
        t.style.display = ""
    },
    isIMAIOSDomain() {
        return /^.*\.?imaios\.com$/.test(this.getHostname())
    },
    transformSiteAccessToStructureLanguage(t) {
        return t === "de" ? J.la : this.getAllowedLanguage(J[t])
    },
    getAllowedLanguage(t) {
        return this.languagesAllowed.length > 0 && !this.languagesAllowed.includes(t) ? this.defaultLanguageId : t
    },
    isZipMode() {
        return typeof this.store.getters["anatomy/application"].services.image.providers.image.zipProvider < "u"
    },
    getHighQuality() {
        return this.isZipMode() ? Js.HIGH : qi.HIGH
    },
    getHeightElementWithMargin(t) {
        const e = getComputedStyle(t);
        return Math.round(parseFloat(e.height) + parseFloat(e.marginTop) + parseFloat(e.marginBottom))
    },
    getUserId() {
        var t, e;
        return (e = (t = this.user_id) != null ? t : window.IM_userID) != null ? e : yr
    },
    sendApplicationError(t, e) {
        var i;
        (i = this.errorHandler) == null || i.sendApplicationError(t, e)
    },
    sendVueError(t) {
        var e;
        (e = this.errorHandler) == null || e.sendVueError(t)
    },
    sendCoreError(t) {
        var e;
        (e = this.errorHandler) == null || e.sendCoreError(t)
    },
    getErrorCode(t) {
        return t = t.toUpperCase().replaceAll("-", "_"),
        typeof Ao[t] < "u" ? Ao[t] : t
    },
    md5(t) {
        return e1(t).toString()
    }
}
  , Qy = {
    name: "MenuSVG"
};
var Xy = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            d: "M3 6.01562C3 5.60141 3.33579 5.26562 3.75 5.26562H20.25C20.6642 5.26562 21 5.60141 21 6.01562C21 6.42984 20.6642 6.76562 20.25 6.76562H3.75C3.33579 6.76562 3 6.42984 3 6.01562Z",
            fill: "currentColor"
        }
    }), e("path", {
        attrs: {
            d: "M3 18.0156C3 17.6014 3.33579 17.2656 3.75 17.2656H20.25C20.6642 17.2656 21 17.6014 21 18.0156C21 18.4298 20.6642 18.7656 20.25 18.7656H3.75C3.33579 18.7656 3 18.4298 3 18.0156Z",
            fill: "currentColor"
        }
    }), e("path", {
        attrs: {
            d: "M3.75 11.2656C3.33579 11.2656 3 11.6014 3 12.0156C3 12.4298 3.33579 12.7656 3.75 12.7656H20.25C20.6642 12.7656 21 12.4298 21 12.0156C21 11.6014 20.6642 11.2656 20.25 11.2656H3.75Z",
            fill: "currentColor"
        }
    })])
}
  , qy = []
  , Jy = x(Qy, Xy, qy, !1, null, "40aabcb1");
const Oh = Jy.exports;
class e0 {
    constructor(e={}) {
        this.name_id = e.name_id,
        this.sort_order = e.sort_order,
        this.icon_id = e.icon_id,
        this.children = e.children,
        this.layer = e.layer || null,
        this.category = e.category,
        this.id = e.id,
        this.defaultActive = e.active
    }
}
const fu = t => Object.freeze(new e0(t));
class bl {
    constructor(e={}) {
        this.availables = e.container || {}
    }
}
class t0 extends Error {
    constructor(e, i) {
        let s;
        typeof e == "object" ? s = JSON.stringify(e) : s = String(e).toString(),
        super(`The resource "${s}" is not a valid entry for the collection "${i}".`),
        this.name = this.constructor.name
    }
}
const xh = (t=0, e=1, i="0") => (typeof t != "string" && (t = t.toString(10)),
t.length >= e ? t : new Array(e - t.length + 1).join(i) + t)
  , Mh = (t, e="image/jpg") => {
    const i = self.URL || self.webkitURL || self
      , s = new Blob([t],{
        type: e
    });
    return i.createObjectURL(s)
}
  , i0 = (t, e="") => {
    const i = e.split(".");
    let s = t
      , r = t
      , n = !0
      , a = 0;
    for (; a < i.length && n; ) {
        const o = i[a];
        typeof s[o] < "u" ? (r = s,
        s = s[o]) : n = !1,
        a++
    }
    return n === !1 ? null : r[i[a - 1]]
}
;
function Le(t={}) {
    return {
        alias: t.instanceAlias,
        create(e, i) {
            let s;
            const r = t.parameters;
            Array.isArray(r) ? s = r : typeof r == "object" ? s = T(T({}, e), r) : typeof r > "u" ? s = T({}, e) : s = r;
            let n = null;
            if (typeof i == "function" && (n = i(t, s, e)),
            n === null)
                try {
                    n = new t.InstanceType(s)
                } catch (o) {
                    throw `Unable to create instance of ${t.instanceAlias}`
                }
            const a = t.instanceAlias;
            if (a.length > 0) {
                const o = a.split(".");
                let l = e
                  , c = null
                  , u = "";
                o.forEach(h => {
                    typeof l[h] > "u" && (l[h] = {}),
                    c = l,
                    l = l[h],
                    u = h
                }
                ),
                c[u] = n
            }
            return n
        }
    }
}
function De(t) {
    const e = new Me({
        name: `wait-until-${t.map(i => i.name).join("-and-")}`
    });
    return new Promise(i => {
        Promise.all(t.map(s => new Promise(r => {
            e.subscribe(s.from, s.name, r)
        }
        ))).then(s => {
            try {
                e.destroy()
            } catch (r) {}
            i(s)
        }
        )
    }
    )
}
function Qe(t) {
    if (t === null || typeof t > "u")
        return null;
    const e = [{
        base: "AA",
        letters: "Ꜳ"
    }, {
        base: "aa",
        letters: "ꜳ"
    }, {
        base: "AE",
        letters: "ÆǼǢ"
    }, {
        base: "ae",
        letters: "æǽǣ"
    }, {
        base: "AO",
        letters: "Ꜵ"
    }, {
        base: "ao",
        letters: "ꜵ"
    }, {
        base: "AU",
        letters: "Ꜷ"
    }, {
        base: "au",
        letters: "ꜷ"
    }, {
        base: "AV",
        letters: "ꜸꜺ"
    }, {
        base: "av",
        letters: "ꜹꜻ"
    }, {
        base: "AY",
        letters: "Ꜽ"
    }, {
        base: "ay",
        letters: "ꜽ"
    }, {
        base: "db",
        letters: "ȸ"
    }, {
        base: "DZ",
        letters: "ǱǄ"
    }, {
        base: "Dz",
        letters: "ǲǅ"
    }, {
        base: "dz",
        letters: "ǳǆʣ"
    }, {
        base: "dʑ",
        letters: "ʥ"
    }, {
        base: "dʒ",
        letters: "ʤ"
    }, {
        base: "ff",
        letters: "ﬀ"
    }, {
        base: "fi",
        letters: "ﬁ"
    }, {
        base: "fl",
        letters: "ﬂ"
    }, {
        base: "ffi",
        letters: "ﬃ"
    }, {
        base: "ffl",
        letters: "ﬄ"
    }, {
        base: "hv",
        letters: "ƕ"
    }, {
        base: "IJ",
        letters: "Ĳ"
    }, {
        base: "ij",
        letters: "ĳ"
    }, {
        base: "LJ",
        letters: "Ǉ"
    }, {
        base: "lj",
        letters: "ǈǉ"
    }, {
        base: "lʒ",
        letters: "ɮ"
    }, {
        base: "NJ",
        letters: "Ǌ"
    }, {
        base: "Nj",
        letters: "ǋ"
    }, {
        base: "nj",
        letters: "ǌ"
    }, {
        base: "OE",
        letters: "Œ"
    }, {
        base: "oe",
        letters: "œ"
    }, {
        base: "ᴏᴇ",
        letters: "ɶ"
    }, {
        base: "ɔe",
        letters: "ꭢ"
    }, {
        base: "OI",
        letters: "Ƣ"
    }, {
        base: "oi",
        letters: "ƣ"
    }, {
        base: "OO",
        letters: "Ꝏ"
    }, {
        base: "oo",
        letters: "ꝏ"
    }, {
        base: "OU",
        letters: "Ȣ"
    }, {
        base: "ou",
        letters: "ȣ"
    }, {
        base: "qp",
        letters: "ȹ"
    }, {
        base: "st",
        letters: "ﬆ"
    }, {
        base: "ſt",
        letters: "ﬅ"
    }, {
        base: "TZ",
        letters: "Ꜩ"
    }, {
        base: "tz",
        letters: "ꜩ"
    }, {
        base: "tɕ",
        letters: "ʨ"
    }, {
        base: "ts",
        letters: "ʦ"
    }, {
        base: "tʃ",
        letters: "ʧ"
    }, {
        base: "ue",
        letters: "ᵫ"
    }, {
        base: "uo",
        letters: "ꭣ"
    }, {
        base: "VY",
        letters: "Ꝡ"
    }, {
        base: "vy",
        letters: "ꝡ"
    }, {
        base: "ıь",
        letters: "ꭠ"
    }, {
        base: "ıe",
        letters: "ꭡ"
    }, {
        base: "ſs",
        letters: "ẞß"
    }, {
        base: "et",
        letters: "&"
    }];
    return typeof t.normalize == "function" ? s0(t.normalize("NFD"), e).replace(/[\u0300-\u036f]/g, "") : t
}
function s0(t, e) {
    const i = {};
    for (const {letters: s, base: r} of e)
        for (const n of s)
            i[n] = r;
    return t.replace(/[^\u0000-\u007E]/g, s => i[s] || s)
}
function r0(t) {
    if (typeof t != "string" || t.indexOf("=") < 0)
        return {};
    const e = t.split("?");
    let i;
    e.length < 2 ? i = e[0] : i = e[1];
    const s = {};
    return i.split("&").forEach(r => {
        const n = r.split("=");
        if (n[0].length > 0 && n[1].length > 0)
            try {
                s[n[0]] = JSON.parse(decodeURIComponent(n[1]))
            } catch (a) {
                s[n[0]] = decodeURIComponent(n[1])
            }
    }
    ),
    s
}
function vu(t, e) {
    let i = !0;
    return Object.keys(t).forEach(s => {
        const r = t[s];
        e.hasOwnProperty(s) ? typeof r < "u" && Array.isArray(r.$in) ? i = i && r.$in.indexOf(e[s]) >= 0 : typeof r < "u" && Array.isArray(r.$or) ? i = i && r.$or.some(n => n === e[s]) : typeof e[s] < "u" && e[s] === r ? i = i && !0 : i = !1 : i = !1
    }
    ),
    i
}
function n0(t, e, i) {
    return Math.max(e, Math.min(t, i))
}
function a0(t, e, i, s, r, n, a, o) {
    if (typeof n > "u" && (n = 5),
    typeof n == "number")
        n = {
            tl: n,
            tr: n,
            br: n,
            bl: n
        };
    else {
        const l = {
            tl: 0,
            tr: 0,
            br: 0,
            bl: 0
        };
        for (const c in l)
            n[c] = n[c] || l[c]
    }
    t.beginPath(),
    t.moveTo(e + n.tl, i),
    t.lineTo(e + s - n.tr, i),
    t.quadraticCurveTo(e + s, i, e + s, i + n.tr),
    t.lineTo(e + s, i + r - n.br),
    t.quadraticCurveTo(e + s, i + r, e + s - n.br, i + r),
    t.lineTo(e + n.bl, i + r),
    t.quadraticCurveTo(e, i + r, e, i + r - n.bl),
    t.lineTo(e, i + n.tl),
    t.quadraticCurveTo(e, i, e + n.tl, i),
    t.closePath(),
    t.fill()
}
function yu(t) {
    return `<strong>${t}</strong>`
}
function o0(t) {
    return _(this, null, function*() {
        let e = se.get(ky);
        if (e === null) {
            if (typeof window.imaios.pubsub > "u")
                return er.FREE;
            e = (yield window.imaios.pubsub.waitUntil([{
                from: window.imaios.pubsub,
                name: Py
            }]))[0]
        }
        return e !== null && typeof (e == null ? void 0 : e.access[Hy[t]]) < "u" ? er.PREMIUM : er.FREE
    })
}
class bi extends Error {
    constructor(e, i) {
        super(`Resource with id "${e}" was not found in "${i}".`),
        this.name = this.constructor.name
    }
}
class pa extends Error {
    constructor(e) {
        let i;
        typeof e == "object" ? i = JSON.stringify(e) : i = String(e).toString(),
        super(`The argument "${i}" is not a valid argument.`),
        this.name = this.constructor.name
    }
}
class Er extends Me {
    constructor(e={}) {
        super(e),
        typeof e.resources < "u" ? this.data.resources = e.resources : this.data.resources = new bl
    }
    isAvailable(e) {
        return this.findById(e) !== null
    }
    addResource(e, i=null) {
        if (typeof e != "object" || e === null || typeof e.id > "u" && i === null)
            throw new t0(e,this.getType());
        i === null && (i = e.id),
        this.data.resources.availables[i] = e
    }
    findById(e) {
        if (typeof e != "string" && typeof e != "number" && typeof e == "number" && isNaN(e))
            throw new pa(e);
        return this.data.resources.availables[e] || null
    }
    updateById(e, i) {
        const s = this.findById(e);
        if (s === null)
            throw new bi(e,this.getType());
        for (const r in i)
            i.hasOwnProperty(r) === !0 && s.hasOwnProperty(r) === !0 && (s[r] = i[r])
    }
    getResources() {
        return this.data.resources.availables
    }
    findOne(e={}) {
        if (typeof e != "object" || e === null || Object.keys(e).length === 0)
            throw new pa(e);
        const i = Object.values(this.getResources());
        let s = null
          , r = 0;
        for (; s === null && r < i.length; ) {
            const n = i[r];
            vu(e, n) === !0 ? s = n : r++
        }
        return s
    }
    find(e={}) {
        if (typeof e != "object" || e === null || Object.keys(e).length === 0)
            throw new pa(e);
        return Object.values(this.getResources()).filter(i => vu(e, i))
    }
    getType() {
        return "ResourceManager"
    }
}
class Nh extends Er {
    constructor(e={}) {
        super(e),
        this.data.resources.current_id = new Set
    }
    isSelected(e) {
        return typeof e == "number" && (e = e.toString(10)),
        this.data.resources.current_id.has(e)
    }
    getCurrent() {
        return Array.from(this.data.resources.current_id)
    }
    toggle(e) {
        return this.isSelected(e) ? (this.unselect(e),
        !1) : (this.select(e),
        !0)
    }
    select(e, i=!1) {
        if (typeof e == "number" && (e = e.toString(10)),
        this.findById(e) === null)
            throw new bi(e,this.getType());
        this.data.resources.current_id.add(e),
        i !== !0 && this.onSelect(e)
    }
    onSelect(e) {}
    unselect(e, i=!1) {
        if (typeof e == "number" && (e = e.toString(10)),
        !this.data.resources.current_id.has(e))
            throw new bi(e,this.getType());
        this.data.resources.current_id.delete(e),
        i !== !0 && this.onUnselect(e)
    }
    onUnselect(e) {}
    selectAll() {
        Object.keys(this.data.resources.availables).forEach(e => {
            this.select(e, !0)
        }
        )
    }
    unselectAll() {
        this.data.resources.current_id.clear()
    }
    getType() {
        return "SelectableMultiplesResourceManager"
    }
}
class xe extends Nh {
    constructor(e) {
        super(T({
            resources: e.state.filter
        }, e))
    }
    addResource(e, i) {
        super.addResource(e, i),
        this.publish(xe.EVENT.ADDED, i)
    }
    onSelect(e) {
        this.publish(xe.EVENT.SELECTED, e)
    }
    onUnselect(e) {
        this.publish(xe.EVENT.UNSELECTED, e)
    }
    selectAll() {
        super.selectAll(),
        this.publish(xe.EVENT.SELECTED, xe.ALL_FILTERS)
    }
    unselectAll() {
        super.unselectAll(),
        this.publish(xe.EVENT.UNSELECTED, xe.ALL_FILTERS)
    }
    parse(e) {
        e.forEach(i => {
            let s = 1;
            i.children = i.children.map(r => {
                const n = fu(r);
                return this.addResource(n, n.id),
                n.defaultActive === 0 && (s = 0),
                n
            }
            ),
            i.children.length > 0 && (i.active = s),
            this.addResource(fu(i), i.id),
            i.isChild || this.data.resources.main_id.add(i.id)
        }
        ),
        this.data.resources.default_id = new Set(this.data.resources.current_id),
        this.onFilterLoaded(),
        this.publish(xe.EVENT.LOADED, Array.from(this.data.resources.main_id))
    }
    onFilterLoaded() {
        this.applyDefaultSettings()
    }
    applyDefaultSettings() {
        this.unselectAll();
        const e = this.getResources();
        Object.values(e).forEach(i => {
            this.resetFilter(i)
        }
        )
    }
    resetFilter(e) {
        this.hasRightState(e) || (e.defaultActive === 1 ? this.select(e.id) : this.unselect(e.id)),
        Array.isArray(e.children) && e.children.forEach(i => {
            this.resetFilter(i)
        }
        )
    }
    hasRightState(e) {
        const i = this.isSelected(e.id);
        return i && e.defaultActive === 1 || !i && e.defaultActive === 0
    }
    getType() {
        return "Filter"
    }
}
xe.EVENT = {
    ADDED: "filter-added",
    SELECTED: "filter-selected",
    UNSELECTED: "filter-unselected",
    LOADED: "filters-loaded"
};
xe.ALL_FILTERS = "all";
class ni extends Er {
    constructor(e={}) {
        super(e),
        typeof this.data.resources.current_id > "u" && (this.data.resources.current_id = null),
        typeof this.data.resources.default_id > "u" && (this.data.resources.default_id = null)
    }
    setDefault(e) {
        if (this.isAvailable(e))
            this.data.resources.default_id = e;
        else
            throw new bi(e,this.getType())
    }
    getDefault() {
        return this.data.resources.default_id
    }
    setCurrent(e) {
        if (this.isAvailable(e))
            this.data.resources.current_id = e;
        else
            throw new bi(e,this.getType())
    }
    getCurrent() {
        return this.data.resources.availables[this.data.resources.current_id] || null
    }
    getCurrentId() {
        return this.data.resources.current_id
    }
    hasContent() {
        return this.getCurrent() !== null
    }
    isCurrent(e) {
        return this.getCurrentId() === e
    }
    getType() {
        return "SelectableOnePerOneResourceManager"
    }
}
class ot extends ni {
    constructor(e) {
        super(T({
            resources: e.state.contrast
        }, e)),
        this.lastContrastCode = null
    }
    addResource(e) {
        super.addResource(e),
        this.publish(ot.EVENT.ADDED, e.imaios_code)
    }
    getCurrentCode() {
        const e = this.getCurrent();
        return e !== null ? e.imaios_code : null
    }
    select(e, i=!0) {
        this.setCurrent(e),
        i && (this.lastContrastCode = this.getCurrentCode()),
        this.publish(ot.EVENT.SELECTED, e)
    }
    setDefault(e) {
        super.setDefault(e),
        this.publish(ot.EVENT.SET_DEFAULT)
    }
    getType() {
        return "Contrast"
    }
}
ot.EVENT = {
    ADDED: "contrast-added",
    SELECTED: "contrast-selected",
    LOADED: "contrasts-loaded",
    SET_DEFAULT: "contrast-set-default"
};
ot.ALL_CONTRASTS = "all";
const l0 = Math.random().toString(36)
  , ma = {};
class ie extends Me {
    constructor(e) {
        super(e),
        this.translationsAdded = [],
        this.notifier = null,
        this.languagesLoaded = new Set
    }
    addTranslation(e, i, s, r=ie.NAMESPACE.DEFAULT) {
        const n = this.getTranslationKey(e, s, r);
        if (typeof ma[n] > "u")
            this.languagesLoaded.has(s) || this.languagesLoaded.add(s),
            ma[n] = i,
            this.translationsAdded.push(e),
            this.notifier === null && (this.notifier = setTimeout( () => {
                this.publish(ie.EVENT.ADDED, s),
                this.translationsAdded = [],
                this.notifier = null
            }
            , 500));
        else
            throw new Error("Translation collision : " + e)
    }
    getTranslationKey(e, i, s) {
        return mr(`${l0}-${s}-${e}-${i}`)
    }
    getTranslation(e, i, s=ie.NAMESPACE.DEFAULT) {
        const r = this.getTranslationKey(e, i, s)
          , n = ma[r] || null;
        return n === null ? null : n
    }
}
ie.EVENT = {
    ADDED: "translation-added"
};
ie.NAMESPACE = {
    DEFAULT: "default",
    UI: "ui",
    CONTENT: "content"
};
class bt extends ni {
    constructor(e) {
        super(T({
            resources: e.state.language
        }, e)),
        this.temporaryLanguage = null,
        this.interfaceLanguageId = null
    }
    setInterfaceLanguage(e) {
        this.interfaceLanguageId = e
    }
    getCurrentInterfaceLanguage() {
        return this.interfaceLanguageId
    }
    isAvailable(e) {
        return this.data.resources.availables.has(e)
    }
    addResource(e) {
        this.data.resources.availables.add(e),
        this.publish(bt.EVENT.ADDED, e)
    }
    setCurrent(e) {
        this.temporaryLanguage = this.getCurrentId(),
        super.setCurrent(e),
        this.publish(bt.EVENT.CHANGE, {
            oldLanguage: this.temporaryLanguage,
            lang_id: e
        })
    }
    getCurrent() {
        return this.getCurrentId()
    }
}
bt.EVENT = {
    CHANGE: "language-change",
    ADDED: "language-added",
    LOADED: "language-loaded"
};
class ks extends ni {
    constructor(e) {
        super(T({
            resources: e.state.interaction
        }, e)),
        this.data.previousInteraction = null,
        this.data.savePreviousIneraction = !0
    }
    setCurrent(e, i=!0) {
        const s = this.getCurrentId();
        if (s !== null) {
            if (e === s)
                return;
            const r = this.getCurrent();
            r.isPerforming && r.finish(),
            this.data.savePreviousIneraction && (this.data.previousInteraction = s),
            this.data.savePreviousIneraction = i
        }
        super.setCurrent(e),
        this.publish(ks.EVENT.CHANGE, e)
    }
    restorePreviousInteraction() {
        this.setCurrent(this.data.previousInteraction)
    }
}
ks.EVENT = {
    CHANGE: "interaction-change"
};
class oi extends At {
    constructor() {
        super()
    }
    static getHover() {
        return this.findById(this.data.resources.hover)
    }
    static hasHover() {
        return this.data.resources.hover !== null
    }
    static factorize(e, i, s) {
        return r => i(e, s, r)
    }
    static setHover(e, i, s={}) {
        const {resource_id: r} = s;
        e.isAvailable(r) && (e.data.resources.hover = r,
        e.publish(i, s))
    }
    static clearHover(e, i) {
        e.publish(i, e.data.resources.hover),
        e.data.resources.hover = null
    }
    init(e, i={}) {
        const s = i.hoverEvent
          , r = i.looseHoverEvent;
        e.data.resources.hover = null,
        e.getHover = oi.getHover.bind(e),
        e.hasHover = oi.hasHover.bind(e),
        e.setHover = oi.factorize(e, oi.setHover, s),
        e.clearHover = oi.factorize(e, oi.clearHover, r)
    }
}
const Rh = (t, e) => {
    const i = new oi(e);
    return i.init(t, e),
    i
}
;
class Eu extends Error {
    constructor(e) {
        super(`Unable to find structure ${e}.`),
        this.name = this.constructor.name
    }
}
const Rt = {
    EANATOMY: "eanatomy",
    VETANATOMY: "vetanatomy"
};
class He extends ni {
    constructor(e) {
        super(T({
            name: "structure-service",
            resources: e.state.structure
        }, e)),
        this.data.structureIsolated = null,
        this.data.structureSelected = null,
        this.injectFeature("manage-hoverable-resources", Rh(this, {
            hoverEvent: He.EVENT.HOVER,
            looseHoverEvent: He.EVENT.LOOSE_HOVER
        })),
        this.taxonIndex = {},
        this.rawIdToDedupedIdIndex = {},
        this.lastTaxonKey = null,
        this.structuresWithPoint = new Set
    }
    exists(e) {
        return typeof this.rawIdToDedupedIdIndex[e] < "u"
    }
    addResource(e, i=null) {
        const s = e.getTaxonKey()
          , r = `${e.id}-${s}`;
        super.addResource(e, r),
        this.taxonIndex[s] = e.id,
        Array.isArray(this.rawIdToDedupedIdIndex[e.id]) !== !0 && (this.rawIdToDedupedIdIndex[e.id] = []),
        this.rawIdToDedupedIdIndex[e.id].push(r)
    }
    findByStructId(e) {
        return this.rawIdToDedupedIdIndex[e].map(i => this.findById(i))
    }
    addStructureWithAPoint(e) {
        this.structuresWithPoint.add(e)
    }
    findByTaxonKey(e) {
        const i = this.taxonIndex[e];
        if (typeof i > "u")
            throw new Eu(`with taxon_key ${e}`);
        return this.findById(`${i}-${e}`)
    }
    findStructureWithPointByTaxonKey(e) {
        if (typeof this.taxonIndex[e] > "u")
            throw new Eu(`with taxon_key ${e}`);
        return Array.from(this.structuresWithPoint).find(i => i.getTaxonKey() === e)
    }
    findStructureWithPointByStructId(e) {
        return Array.from(this.structuresWithPoint).find(i => i.id === e)
    }
    setTranslatorService(e) {
        this.services = {
            translator: e
        }
    }
    isVisible(e) {
        return this.data.resources.hidden.has(e) === !1
    }
    resetVisibility() {
        this.data.resources.hidden.clear()
    }
    getNbHidden() {
        return this.data.resources.hidden.size
    }
    isolate(e) {
        this.data.structureIsolated = e
    }
    select(e) {
        this.data.structureSelected = e
    }
    hide(e) {
        this.data.resources.hidden.add(e),
        this.publish(He.EVENT.VISIBILITY_CHANGE, {
            isVisible: !1,
            nbHidden: this.getNbHidden(),
            structure_id: e
        })
    }
    show(e) {
        this.data.resources.hidden.delete(e),
        this.publish(He.EVENT.VISIBILITY_CHANGE, {
            isVisible: !0,
            nbHidden: this.getNbHidden(),
            structure_id: e
        })
    }
    setPriority(e, i) {
        this.publish(He.EVENT.PRIORITY_CHANGE, {
            structure_id: e,
            priority: i
        })
    }
    getTranslation(e, i=null) {
        let s = this.services.translator.getTranslation(e.translation_key, ie.NAMESPACE.CONTENT, i);
        return s === null && (s = this.services.translator.getTranslation(e.translation_key, ie.NAMESPACE.UI, i)),
        s
    }
    getParentTranslation(e, i=null) {
        let s = this.services.translator.getTranslation(e.parent_translation_key, ie.NAMESPACE.CONTENT, i);
        return s === null && (s = this.services.translator.getTranslation(e.parent_translation_key, ie.NAMESPACE.UI, i)),
        s
    }
    setCurrent(e, i=null) {
        super.setCurrent(e),
        i !== null && this.setLastTaxonKey(i),
        this.publish(He.EVENT.SELECTED)
    }
    updateById(e, i) {
        this.rawIdToDedupedIdIndex[e].forEach(s => {
            try {
                super.updateById(s, i)
            } catch (r) {
                r instanceof bi
            }
        }
        )
    }
    getLastTaxonKey() {
        return this.lastTaxonKey
    }
    setLastTaxonKey(e) {
        return this.lastTaxonKey = e
    }
    getResourcesId(e) {
        const i = e.getTaxonKey();
        return `${e.id}-${i}`
    }
    getTaxonHigherPriority(e, i, s) {
        if (i.id !== s.id)
            return null;
        if (e === Rt.EANATOMY) {
            if (i.variant_id === Mt.MAIN) {
                if (s.variant_id !== Mt.MAIN)
                    return i;
                const r = this.getTaxonWithHighestPriorityByTA(i, s);
                if (r !== null)
                    return r
            }
            if (s.variant_id === Mt.MAIN)
                return s;
            if (i.variant_id === Mt.DEPRECATED_MAIN) {
                if (s.variant_id !== Mt.DEPRECATED_MAIN)
                    return i;
                const r = this.getTaxonWithHighestPriorityByTA(i, s);
                if (r !== null)
                    return r
            }
            if (s.variant_id === Mt.DEPRECATED_MAIN)
                return s;
            if (i.variant_id === Mt.DEPRECATED) {
                if (s.variant_id !== Mt.DEPRECATED)
                    return i;
                const r = this.getTaxonWithHighestPriorityByTA(i, s);
                if (r !== null)
                    return r
            }
            return s.variant_id === Mt.DEPRECATED ? s : i.taxon_id < s.taxon_id ? i : s
        } else if (e === Rt.VETANATOMY)
            return i.variant_id === Mt.MAIN && i.ta_id === ai.NAV ? i : s.variant_id === Mt.MAIN && s.ta_id === ai.NAV ? s : i.taxon_id < s.taxon_id ? i : s
    }
    getTaxonWithHighestPriorityByTA(e, i) {
        return e.ta_id === ai[2] ? e : i.ta_id === ai[2] ? i : e.ta_id === ai[1] ? e : i.ta_id === ai[1] ? i : e.ta_id === ai.HUMAN_NEUROLOGY ? e : i.ta_id === ai.HUMAN_NEUROLOGY ? i : null
    }
}
He.EVENT = {
    PRIORITY_CHANGE: "structure-priority-change",
    VISIBILITY_CHANGE: "structure-visibility-change",
    LOOSE_HOVER: "structure-loose-hover",
    HOVER: "structure-hover",
    CLICK: "structure-click",
    SELECTED: "structure-selected"
};
class ns extends ni {
    constructor(e) {
        super({
            resources: e.state.series,
            settings: e
        }),
        this.sliceService = e.services.slice,
        this.seriesIdByCr = {}
    }
    isSchema(e=null) {
        return e === null && (e = this.getCurrent()),
        e.modality_id === Ve.SCHEMA
    }
    setCurrent(e) {
        super.setCurrent(e),
        this.publish(ns.EVENT.SERIES_CHANGE, e)
    }
    addResource(e) {
        super.addResource(e)
    }
    getSeriesIdByIndex(e) {
        const i = this.getResources()
          , s = Array.from(Object.values(i)).find(r => r.sort_order === e) || null;
        return s !== null ? s.id : null
    }
    getSeriesById(e) {
        const i = this.getResources()
          , s = Array.from(Object.values(i)).find(r => r.id === e) || null;
        return s !== null ? s : null
    }
    updateSeriesAndRemoveSeriesWithNoSlices() {
        const e = super.getResources();
        Object.keys(e).forEach(i => {
            const s = this.sliceService.getNbSlicesBySeriesId(i);
            e[i].number_of_images = s,
            s === 0 && delete e[i]
        }
        )
    }
    hasCrossReferences() {
        return Object.values(this.getResources()).some(e => e.cross_references_titles.length > 1)
    }
}
ns.EVENT = {
    SERIES_CHANGE: "series-change"
};
class j {
    constructor(e) {
        this.imageHelper = e.services["image-helper"]
    }
    isQualityAvailable(e) {}
    setQuality(e) {}
    switchQuality(e) {}
    getImage(e, i=j.PRIORITY.STANDARD) {}
}
j.EVENT = {
    LOADING_START: "image-provider-loading-start",
    LOADING_END: "image-provider-loading-end",
    ASK_SHOW_PROGRESS: "image-provider-show-progress",
    ASK_HIDE_PROGRESS: "image-provider-hide-progress",
    IMAGE_SLICE_HAS_BEEN_LOADED: "image-provider-slice-has-been-loaded"
};
j.PRIORITY = {
    MAX: 50,
    HIGH: 40,
    STANDARD: 20,
    LOW: 10
};
class c0 extends Error {
    constructor(e, i=!0) {
        super(`Invalid slice index at "${e}" with ${i ? "relative" : "absolute"} index`),
        this.name = this.constructor.name
    }
}
class Fe extends ni {
    constructor(e) {
        super(T({
            resources: e.state.slice
        }, e)),
        this.totalSlices = 0,
        this.shoulUpdateSliceIndexFromRelativeIndex = !0,
        this.slicesIndexFromRelativeIndex = {},
        this.nbSlicesBySeries = {}
    }
    updateRelativeIndexWith(e) {
        const i = {};
        e.sort( (s, r) => s.sort_order - r.sort_order).forEach( (s, r) => {
            i[r + 1] = s.id
        }
        ),
        this.setRelativeSliceIndex(i)
    }
    isInRange(e) {
        return e > 0 && e <= this.sizeOfRelativeIndex()
    }
    getRelativeIndexInRange(e) {
        return n0(e, 1, this.sizeOfRelativeIndex())
    }
    addResource(e) {
        super.addResource(e),
        this.data.resources.index[e.sort_order] = e.id,
        this.totalSlices++,
        typeof this.nbSlicesBySeries[e.series_id] > "u" && (this.nbSlicesBySeries[e.series_id] = 0),
        this.nbSlicesBySeries[e.series_id] += 1
    }
    setRelativeSliceIndex(e) {
        this.shoulUpdateSliceIndexFromRelativeIndex = !0,
        this.data.resources.relativeSliceIndex = e,
        this.publish(Fe.EVENT.SLICE_INDEX_CHANGE)
    }
    setCurrentRelativeIndex(e) {
        this.data.resources.currentRelativeSliceIndex = e,
        this.setCurrentSliceByRelativeIndex(e)
    }
    setCurrentSliceByRelativeIndex(e) {
        const i = this.data.resources.relativeSliceIndex[e];
        this.setCurrent(i)
    }
    setCurrent(e) {
        super.setCurrent(e),
        this.publish(Fe.EVENT.SLICE_CHANGE, e)
    }
    getIndex() {
        return this.data.resources.index
    }
    getIdBySliceIndex(e) {
        return this.data.resources.index[e]
    }
    getSliceBySliceIndex(e) {
        return this.findById(this.getIdBySliceIndex(e))
    }
    getCurrentRelativeIndex() {
        return this.data.resources.currentRelativeSliceIndex
    }
    sizeOfRelativeIndex() {
        return Object.keys(this.data.resources.relativeSliceIndex).length
    }
    getIdByRelativeIndex(e) {
        return this.data.resources.relativeSliceIndex[e]
    }
    getRelativeIndexById(e, i=null) {
        if (i === null) {
            const s = this.data.resources.relativeSliceIndex;
            for (let r in s)
                if (s.hasOwnProperty(r) && s[r] === e)
                    return parseInt(r, 10)
        } else {
            const s = Object.values(this.data.resources.availables).filter(r => r.series_id === i).findIndex(r => r.id === e);
            if (s !== -1)
                return s + 1
        }
        return -1
    }
    restoreDefaultIndex() {
        this.updateRelativeIndexWith(Object.values(this.getResources()))
    }
    getSliceByRelativeIndex(e) {
        try {
            const i = this.getIdByRelativeIndex(e);
            return this.findById(i)
        } catch (i) {
            throw new c0(e)
        }
    }
    getIndexById(e) {
        return parseInt(Object.keys(this.data.resources.index).find(i => this.data.resources.index[i] === e), 10) || 1
    }
    getSlicesIndexFromRelativeIndex() {
        if (this.shoulUpdateSliceIndexFromRelativeIndex) {
            const e = {}
              , i = Object.values(this.data.resources.relativeSliceIndex);
            for (let s = 0; s < i.length; s++) {
                const r = this.findById(i[s]);
                e[r.sort_order] = ""
            }
            this.slicesIndexFromRelativeIndex = e,
            this.shoulUpdateSliceIndexFromRelativeIndex = !1
        }
        return this.slicesIndexFromRelativeIndex
    }
    getTotalSlices() {
        return this.totalSlices
    }
    getNbSlicesBySeriesId(e) {
        return typeof this.nbSlicesBySeries[e] > "u" ? 0 : this.nbSlicesBySeries[e]
    }
}
Fe.EVENT = {
    SLICE_CHANGE: "slice-change",
    SLICE_INDEX_CHANGE: "slice-index-change",
    SLICE_LOADED: "slice-loaded"
};
class $i extends ni {
    constructor(e) {
        super({
            resources: e.state.orientation,
            context: e
        }),
        this.provider = e.providers.orientationImage,
        this.iconBlacklisted = new Set(e.iconBlacklisted || []),
        this.translationID = {}
    }
    resetCurrent() {
        this.data.resources.current_id = null
    }
    isIconBlacklisted(e) {
        const i = this.getNameOf(e);
        return this.iconBlacklisted.has(i)
    }
    storeTranslationID(e) {
        this.translationID[e.id] = e.name_id
    }
    getTranslationID(e) {
        return this.translationID[e]
    }
    getNameOf(e) {
        const i = this.findById(e);
        return i === null ? null : i.iconName
    }
    getImageKeySettings(e) {
        const i = this.findById(e);
        return i === null ? null : {
            name: i.iconName,
            version: i.version
        }
    }
    refreshOrientation(e) {
        e !== null && !this.isIconBlacklisted(e) ? this.isCurrent(e) === !1 && (this.setCurrent(e),
        this.provider.getImage(this.getImageKeySettings(e)).then(i => {
            this.isCurrent(e) && (this.data.resources.currentImageSrc = i.src,
            this.publish($i.EVENT.CHANGE, i))
        }
        ).catch( () => {
            this.data.resources.currentImageSrc = "",
            this.publish($i.EVENT.CHANGE, null)
        }
        )) : (this.resetCurrent(),
        this.data.resources.currentImageSrc = "",
        this.publish($i.EVENT.CHANGE, null))
    }
}
$i.EVENT = {
    CHANGE: "orientation-change"
};
class u0 extends qp {
    constructor(e) {
        super(e),
        this.isReady = !1
    }
    isAllowed(e) {
        return this.component.isFocused() && super.isAllowed(e) && this.isReady
    }
}
class K extends Me {
    constructor(e) {
        super(T({
            name: "pointer-controller"
        }, e)),
        this.target = e.target,
        this.handlers = {
            pointer: new Qu({
                domTarget: this.target,
                onMouseMove: this.onMouseMove.bind(this),
                onMouseDown: this.onPointerDown.bind(this),
                onMouseUp: this.onMouseUp.bind(this),
                onClick: this.onClick.bind(this),
                onDoubleClick: this.onDoubleClick.bind(this),
                onMouseEnter: this.onMouseEnter.bind(this),
                onMouseLeave: this.onMouseLeave.bind(this),
                onMouseWheel: this.onMouseWheel.bind(this),
                onTouchEnd: this.onTouchEnd.bind(this)
            })
        },
        this.state = {
            pointer: e.state.pointer || new Zu
        };
        const i = e.clickSensitivity || {};
        this.clickSensitivity = {
            min: i.min || 80,
            max: i.max || 200
        },
        this.lastClickTimestamp = Date.now(),
        this.lastDBClickTimestamp = Date.now(),
        this.longClickTimer = null
    }
    updatePointerCoords(e) {
        this.state.pointer.update(e),
        this.state.pointer.data.lastCoordsOnScreen.x = e.clientX,
        this.state.pointer.data.lastCoordsOnScreen.y = e.clientY
    }
    clearLongClickTimer() {
        clearTimeout(this.longClickTimer),
        this.longClickTimer = null
    }
    enable() {
        this.data.enabled = !0
    }
    disable() {
        this.data.enabled = !1
    }
    isEnabled() {
        return this.data.enabled === !0
    }
    onMouseMove(e) {
        this.isEnabled() === !0 && (this.updatePointerCoords(e),
        this.publish(K.EVENT.POINTER_MOVE, e),
        this.clearLongClickTimer())
    }
    onPointerDown(e) {
        this.updatePointerCoords(e);
        const i = Date.now();
        i - this.lastClickTimestamp <= this.clickSensitivity.min ? this.lastClickTimestamp = i : (this.state.pointer.isDown = !0,
        this.lastClickTimestamp = i,
        this.longClickTimer === null && (this.longClickTimer = setTimeout( () => {
            this.publish(K.EVENT.LONG_CLICK, e)
        }
        , 500)),
        this.publish(K.EVENT.POINTER_DOWN, e))
    }
    onMouseUp(e) {
        this.updatePointerCoords(e),
        clearTimeout(this.longClickTimer),
        this.state.pointer.isDown = !1,
        this.publish(K.EVENT.POINTER_UP, e),
        e.preventDefault()
    }
    onMouseEnter(e) {
        this.updatePointerCoords(e),
        this.publish(K.EVENT.POINTER_ENTER, e)
    }
    onMouseLeave(e) {
        this.state.pointer.isDown && (this.state.pointer.isDown = !1,
        this.clearLongClickTimer()),
        this.publish(K.EVENT.POINTER_LEAVE, e)
    }
    onMouseWheel(e) {
        this.publish(K.EVENT.MOUSE_WHEEL, e)
    }
    onClick(e) {
        this.publish(K.EVENT.CLICK, e)
    }
    onDoubleClick(e) {
        const i = Date.now();
        i - this.lastDBClickTimestamp < this.clickSensitivity.min * 2 || (this.lastDBClickTimestamp = i,
        this.lastClickTimestamp = i,
        this.publish(K.EVENT.DOUBLE_CLICK, e))
    }
    static isRightClick(e) {
        return e.which === 3 || e.button === 2
    }
    onTouchEnd(e) {
        this.publish(K.EVENT.TOUCH_END, e)
    }
}
K.EVENT = {
    POINTER_MOVE: "pointer-move",
    POINTER_DOWN: "pointer-down",
    POINTER_UP: "pointer-up",
    POINTER_ENTER: "pointer-enter",
    POINTER_LEAVE: "pointer-leave",
    CLICK: "click",
    LONG_CLICK: "long-click",
    DOUBLE_CLICK: "double-click",
    MOUSE_WHEEL: "mouse-wheel",
    TOUCH_END: "touch-end"
};
class N {
    constructor() {
        this.data = {
            [N.ATTRIBUTE.TOOLBAR_HEIGHT]: 0,
            [N.ATTRIBUTE.SERIES_TITLE_HEIGHT]: 0,
            [N.ATTRIBUTE.CROSS_REF_TITLE_HEIGHT]: 0,
            [N.ATTRIBUTE.LINE_INTERVAL_PX]: 0,
            [N.ATTRIBUTE.MAX_FONT_PX]: 0,
            [N.ATTRIBUTE.BASE_MAX_FONT_PX]: 0,
            [N.ATTRIBUTE.MAX_LABEL_LINES]: 0,
            [N.ATTRIBUTE.FONT_FAMILY]: "sans-serif",
            [N.ATTRIBUTE.TEXT_TO_VERTICAL_LINE_PADDING]: 0,
            [N.ATTRIBUTE.VERTICAL_LINE_PADDING]: 0,
            [N.ATTRIBUTE.TEXT_PADDING]: 0,
            [N.ATTRIBUTE.MARGIN]: 0,
            [N.ATTRIBUTE.LABELS_ISOLATE_ALPHA]: "0",
            [N.ATTRIBUTE.LABELS_WEAK_ALPHA]: "0",
            [N.ATTRIBUTE.POINT_HOVER_MULTIPLIER]: "0",
            [N.ATTRIBUTE.PIN_WEAK_ALPHA]: 0,
            [N.ATTRIBUTE.LABELS_FULL_ALPHA]: "0",
            [N.ATTRIBUTE.LABELS_EDGE_ALPHA]: "0",
            [N.ATTRIBUTE.LEFT_RIGHT_ALPHA]: "0",
            [N.ATTRIBUTE.MINIMAL_FONT_SIZE_FOR_NAVIGATORS]: 0,
            [N.ATTRIBUTE.POINT_RADIUS]: 0,
            [N.ATTRIBUTE.LABELS_MAX_V_SPACING]: 0,
            [N.ATTRIBUTE.SMALL_HORIZONTAL_LINE_LENGTH]: 0,
            [N.ATTRIBUTE.TEXT_OVERLAYS_HEIGHT_PADDING]: 0,
            [N.ATTRIBUTE.IMAGE_TILE_HEIGHT]: 0,
            [N.ATTRIBUTE.RECENTER_SLIGHT_MARGIN]: 0,
            [N.ATTRIBUTE.RADIANT_OFFSET_ANGLE_FOR_DEGREES]: 0,
            [N.ATTRIBUTE.TOP_IMAGE_POSITION]: 0,
            [N.ATTRIBUTE.RIGHT_IMAGE_POSITION]: 0,
            [N.ATTRIBUTE.DOWN_IMAGE_POSITION]: 0,
            [N.ATTRIBUTE.LEFT_IMAGE_POSITION]: 0,
            [N.ATTRIBUTE.ROTATION_PRESS_ANGLE]: 0,
            [N.ATTRIBUTE.MIN_FONT_PX]: 0,
            [N.ATTRIBUTE.BASE_MIN_FONT_PX]: 0,
            [N.ATTRIBUTE.ORIENTATION_PICTURE_MARGIN_TOP]: 0,
            [N.ATTRIBUTE.ORIENTATION_LOGO]: "",
            [N.ATTRIBUTE.TOOLBAR_N_TITLE_OFFSET]: 0,
            [N.ATTRIBUTE.FONT_SIZE]: 0,
            [N.ATTRIBUTE.TEXT_OVERLAYS_ALIGNMENTS]: "",
            [N.ATTRIBUTE.MAX_LABEL_HEIGHT_WITH_LINES]: 0,
            [N.ATTRIBUTE.MIN_LABEL_HEIGHT_WITH_LINES]: 0,
            [N.ATTRIBUTE.LINE_DIM]: 0,
            [N.ATTRIBUTE.NO_MAX_LINES]: 0,
            [N.ATTRIBUTE.MAX_PIXEL_PER_IMAGE]: 0,
            [N.ATTRIBUTE.FONT_ZOOM_LEVEL]: 1,
            [N.ATTRIBUTE.FONT_ZOOM_MAX]: 5,
            [N.ATTRIBUTE.FONT_ZOOM_MIN]: 1,
            [N.ATTRIBUTE.FONT_ZOOM_STEP]: .1,
            [N.ATTRIBUTE.ISOLATE_COLOR_PIN]: "#000000",
            [N.ATTRIBUTE.MIN_MARGIN_LABEL]: 0
        }
    }
}
N.ATTRIBUTE = {
    TOOLBAR_HEIGHT: "TOOLBAR_HEIGHT",
    SERIES_TITLE_HEIGHT: "SERIES_TITLE_HEIGHT",
    CROSS_REF_TITLE_HEIGHT: "CROSS_REF_TITLE_HEIGHT",
    LINE_INTERVAL_PX: "LINE_INTERVAL_PX",
    MAX_FONT_PX: "MAX_FONT_PX",
    BASE_MAX_FONT_PX: "BASE_MAX_FONT_PX",
    MAX_LABEL_LINES: "MAX_LABEL_LINES",
    FONT_FAMILY: "FONT_FAMILY",
    TEXT_TO_VERTICAL_LINE_PADDING: "TEXT_TO_VERTICAL_LINE_PADDING",
    VERTICAL_LINE_PADDING: "VERTICAL_LINE_PADDING",
    TEXT_PADDING: "TEXT_PADDING",
    MARGIN: "MARGIN",
    LABELS_ISOLATE_ALPHA: "LABELS_ISOLATE_ALPHA",
    LABELS_WEAK_ALPHA: "LABELS_WEAK_ALPHA",
    POINT_HOVER_MULTIPLIER: "POINT_HOVER_MULTIPLIER",
    PIN_WEAK_ALPHA: "PIN_WEAK_ALPHA",
    LABELS_FULL_ALPHA: "LABELS_FULL_ALPHA",
    LABELS_EDGE_ALPHA: "LABELS_EDGE_ALPHA",
    LEFT_RIGHT_ALPHA: "LEFT_RIGHT_ALPHA",
    MINIMAL_FONT_SIZE_FOR_NAVIGATORS: "MINIMAL_FONT_SIZE_FOR_NAVIGATORS",
    POINT_RADIUS: "POINT_RADIUS",
    LABELS_MAX_V_SPACING: "LABELS_MAX_V_SPACING",
    SMALL_HORIZONTAL_LINE_LENGTH: "SMALL_HORIZONTAL_LINE_LENGTH",
    TEXT_OVERLAYS_HEIGHT_PADDING: "TEXT_OVERLAYS_HEIGHT_PADDING",
    IMAGE_TILE_HEIGHT: "IMAGE_TILE_HEIGHT",
    RECENTER_SLIGHT_MARGIN: "RECENTER_SLIGHT_MARGIN",
    RADIANT_OFFSET_ANGLE_FOR_DEGREES: "RADIANT_OFFSET_ANGLE_FOR_DEGREES",
    TOP_IMAGE_POSITION: "TOP_IMAGE_POSITION",
    RIGHT_IMAGE_POSITION: "RIGHT_IMAGE_POSITION",
    DOWN_IMAGE_POSITION: "DOWN_IMAGE_POSITION",
    LEFT_IMAGE_POSITION: "LEFT_IMAGE_POSITION",
    ROTATION_PRESS_ANGLE: "ROTATION_PRESS_ANGLE",
    ORIENTATION_PICTURE_MARGIN_TOP: "ORIENTATION_PICTURE_MARGIN_TOP",
    ORIENTATION_LOGO: "ORIENTATION_LOGO",
    TOOLBAR_N_TITLE_OFFSET: "TOOLBAR_N_TITLE_OFFSET",
    TEXT_OVERLAYS_ALIGNMENTS: "TEXT_OVERLAYS_ALIGNMENTS",
    LINE_DIM: "LINE_DIM",
    MAX_LABEL_HEIGHT_WITH_LINES: "MAX_LABEL_HEIGHT_WITH_LINES",
    MIN_LABEL_HEIGHT_WITH_LINES: "MIN_LABEL_HEIGHT_WITH_LINES",
    FONT_SIZE: "FONT_SIZE",
    MIN_FONT_PX: "MIN_FONT_PX",
    BASE_MIN_FONT_PX: "BASE_MIN_FONT_PX",
    FONT_ZOOM_LEVEL: "FONT_ZOOM_LEVEL",
    FONT_ZOOM_MAX: "FONT_ZOOM_MAX",
    FONT_ZOOM_MIN: "FONT_ZOOM_MIN",
    FONT_ZOOM_STEP: "FONT_ZOOM_STEP",
    NO_MAX_LINES: "NO_MAX_LINES",
    MAX_PIXEL_PER_IMAGE: "MAX_PIXEL_PER_IMAGE",
    ISOLATE_COLOR_PIN: "ISOLATE_COLOR_PIN",
    MIN_MARGIN_LABEL: "MIN_MARGIN_LABEL"
};
class $ {
    constructor() {
        this.data = {
            [$.ATTRIBUTE.MULTIPLIER]: 1,
            [$.ATTRIBUTE.IMAGE_OFFSET_X]: 0,
            [$.ATTRIBUTE.IMAGE_OFFSET_Y]: 0,
            [$.ATTRIBUTE.VERTICAL_FLIP]: !1,
            [$.ATTRIBUTE.HORIZONTAL_FLIP]: !1,
            [$.ATTRIBUTE.POINT_SELECTION_MODE]: !1,
            [$.ATTRIBUTE.ROTATION_ANGLE]: 0,
            [$.ATTRIBUTE.VIEWZONE_ACTIVE]: !1,
            [$.ATTRIBUTE.WIDTH_AVAILABLE]: 0,
            [$.ATTRIBUTE.LEFT_PADDING]: 0,
            [$.ATTRIBUTE.RIGHT_PADDING]: 0,
            [$.ATTRIBUTE.LEFT_IDEAL_LABEL_SIZE]: 0,
            [$.ATTRIBUTE.RIGHT_IDEAL_LABEL_SIZE]: 0,
            [$.ATTRIBUTE.CONTAINER_ELEMENT]: null,
            [$.ATTRIBUTE.FULLSCREEN_ACTIVE]: !1,
            [$.ATTRIBUTE.MAX_ZOOM]: 0,
            [$.ATTRIBUTE.MIN_ZOOM]: 0,
            [$.ATTRIBUTE.SCALE]: 1,
            [$.ATTRIBUTE.ZOOM_DYNAMIC]: 0,
            [$.ATTRIBUTE.ZOOM_SCALE_DELTA]: 1e-4,
            [$.ATTRIBUTE.INITIAL_MIN_SCALE]: 0,
            [$.ATTRIBUTE.INITIAL_MAX_SCALE]: 0,
            [$.ATTRIBUTE.MIN_SCALE]: 0,
            [$.ATTRIBUTE.MAX_SCALE]: 0,
            [$.ATTRIBUTE.LEFT_RIGHT_THRESHOLD]: 0,
            [$.ATTRIBUTE.USER_ZOOM_PERFORMED]: !1,
            [$.ATTRIBUTE.WIDTH_CONTAINER]: 0,
            [$.ATTRIBUTE.HEIGHT_CONTAINER]: 0
        }
    }
}
$.ATTRIBUTE = {
    MULTIPLIER: "MULTIPLIER",
    IMAGE_OFFSET_X: "IMAGE_OFFSET_X",
    IMAGE_OFFSET_Y: "IMAGE_OFFSET_Y",
    VERTICAL_FLIP: "VERTICAL_FLIP",
    HORIZONTAL_FLIP: "HORIZONTAL_FLIP",
    POINT_SELECTION_MODE: "POINT_SELECTION_MODE",
    ROTATION_ANGLE: "ROTATION_ANGLE",
    VIEWZONE_ACTIVE: "VIEWZONE_ACTIVE",
    LEFT_PADDING: "LEFT_PADDING",
    RIGHT_PADDING: "RIGHT_PADDING",
    LEFT_IDEAL_LABEL_SIZE: "LEFT_IDEAL_LABEL_SIZE",
    RIGHT_IDEAL_LABEL_SIZE: "RIGHT_IDEAL_LABEL_SIZE",
    WIDTH_AVAILABLE: "WIDTH_AVAILABLE",
    WIDTH_CONTAINER: "WIDTH_CONTAINER",
    HEIGHT_CONTAINER: "HEIGHT_CONTAINER",
    CONTAINER_ELEMENT: "CONTAINER_ELEMENT",
    FULLSCREEN_ACTIVE: "FULLSCREEN_ACTIVE",
    MAX_ZOOM: "MAX_ZOOM",
    MIN_ZOOM: "MIN_ZOOM",
    ZOOM_DYNAMIC: "ZOOM_DYNAMIC",
    SCALE: "SCALE",
    ZOOM_SCALE_DELTA: "ZOOM_SCALE_DELTA",
    USER_ZOOM_PERFORMED: "USER_ZOOM_PERFORMED",
    LEFT_RIGHT_THRESHOLD: "LEFT_RIGHT_THRESHOLD",
    INITIAL_MIN_SCALE: "INITIAL_MIN_SCALE",
    INITIAL_MAX_SCALE: "INITIAL_MAX_SCALE",
    MIN_SCALE: "MIN_SCALE",
    MAX_SCALE: "MAX_SCALE"
};
class ke {
    constructor(e={}) {
        this.eventListener = e.eventListener || ke.defaultEventListener,
        this.isPerforming = !1,
        this.isInPause = !1,
        this.requestId = null,
        this.name = e.name,
        this.lastEvent = null,
        this.component = e.component || null,
        this.enabled = e.enabled || !0,
        this.animationItem = null
    }
    setAnimationItem(e) {
        this.animationItem = e
    }
    disableForTime(e=0) {
        this.enabled = !1,
        setTimeout( () => {
            this.enabled = !0
        }
        , e)
    }
    finish(e) {
        (this.isPerforming === !0 || this.isInPause === !0) && (this.isPerforming = !1,
        this.isInPause = !1,
        this.requestId = null,
        this.onFinish(e),
        this.animationItem.stop())
    }
    start(e, i) {
        this.isPerforming = !0,
        i === !0 && (this.component.onMouseMove = this.onMouseMove,
        this.component.onMouseDown = this.onMouseDown,
        this.component.onMouseUp = this.onMouseUp || ke.avoid,
        this.component.onClick = this.onClick || ke.avoid,
        this.component.onMouseEnter = this.onMouseEnter || ke.avoid,
        this.component.onMouseLeave = this.onMouseLeave || ke.avoid,
        this.component.onMouseWheel = this.onMouseWheel || ke.avoid,
        this.component.onTouchStart = this.onTouchStart || ke.avoid,
        this.component.onTouchMove = this.onTouchMove || ke.avoid,
        this.component.onTouchEnd = this.onTouchEnd || ke.avoid),
        this.handlerAnimation = this.onAnimation,
        this.onStart(e),
        this.animationItem.start()
    }
    pause() {
        this.handlerAnimation = ke.avoid,
        this.isPerforming = !1,
        this.isInPause = !0,
        this.onPause(),
        this.animationItem.stop()
    }
    play() {
        this.handlerAnimation = this.onAnimation,
        this.isPerforming = !0,
        this.isInPause = !1,
        this.animationItem.start()
    }
    onMouseMove() {}
    onMouseDown() {}
    onMouseUp() {}
    onClick() {}
    onMouseEnter() {}
    onMouseLeave() {}
    onMouseWheel() {}
    onTouchStart() {}
    onTouchMove() {}
    onTouchEnd() {}
    onStart() {}
    onFinish() {}
    onPause() {}
    onPlay() {}
    onAnimation() {}
}
ke.defaultEventListener = null;
ke.EVENT = {
    START: "interaction-start",
    END: "interaction-end"
};
const ge = {
    EVENT: {
        FORCE_FONT_SIZE_AUTO: "label-drawer-force-font-size-auto",
        NEW_RENDERING: "label-drawer-new-rendering",
        UPDATE_STYLE: "label-drawer-update-color",
        CHANGE: "label-drawer-change",
        LABEL_DRAWN: "label-drawer-label-drawn",
        UPDATE_RANGE_FONT_SIZE: "label-drawer-update-range-font-size",
        BEFORE_SET_CANDIDATES: "label-drawer-before-set-candidates",
        CONTEXT_RESET: "label-drawer-context-reset",
        ALL_LABEL_DRAWN: "label-drawer-all-label-drawn",
        BEFORE_DRAW_TEXT: "label-service-before-draw-text",
        BEFORE_GET_LABEL_INFO: "label-service-before-get-label-info"
    }
};
class Oi {
    constructor(e, i) {
        this.name = e,
        this.animationsHandlers = i
    }
    trigger() {
        let e = 0;
        const i = this.animationsHandlers.length;
        for (; e < i; )
            this.animationsHandlers[e].start(),
            e++
    }
}
class d0 {
    constructor(e={}) {
        this.tick = this.loop.bind(this)
    }
    loop() {}
    prepareNextTick() {}
    start() {
        this.prepareNextTick()
    }
}
class Ph extends d0 {
    constructor(e={}) {
        super(e),
        this.name = e.name,
        this.isPlaying = !1,
        this.nextRenderingPulled = !1
    }
    stop() {
        this.isPlaying = !1
    }
    start() {
        this.isPlaying = !0,
        super.start()
    }
    loop() {
        return this.nextRenderingPulled = !1,
        this.prepareNextTick()
    }
    prepareNextTick() {
        if (this.isPlaying && !this.nextRenderingPulled)
            this.nextRenderingPulled = !0,
            window.requestAnimationFrame(this.tick);
        else
            return !1
    }
}
class h0 extends Ph {
    constructor(e={}) {
        super({
            name: "animation-manager"
        }),
        this.animationItem = []
    }
    loop() {
        let e = 0;
        const i = this.animationItem.length;
        let s = 0;
        for (; e < i; ) {
            const r = this.animationItem[e];
            r.shouldRefresh() && (r.loop(),
            s++),
            e++
        }
        return s === 0 && this.stop(),
        super.loop()
    }
    add(e) {
        this.animationItem.push(e)
    }
}
class Dh extends Ph {
    constructor(e={}) {
        super(e),
        this.application = e.application,
        this.manager = e.manager,
        this.manager.add(this)
    }
    shouldRefresh() {
        return this.isPlaying
    }
    loop(e, i) {
        return this.shouldRefresh()
    }
    start() {
        this.isPlaying = !0,
        this.manager.start()
    }
}
class Hs extends Dh {
    constructor(e={}) {
        super(e),
        this.counter = 0
    }
    resetCounter() {
        this.counter = 0
    }
    shouldRefresh() {
        return this.counter > 0 && super.shouldRefresh()
    }
    loop() {
        return this.resetCounter(),
        super.loop()
    }
    start() {
        this.counter++,
        super.start()
    }
}
class p0 extends Hs {
    loop() {
        return this.application.clearOverlays(),
        this.application.redrawSliceMetadata(),
        this.application.redrawOverlays(),
        this.application.showMetaCanvas(),
        super.loop()
    }
}
class m0 extends Hs {
    loop() {
        return this.application.services.image.getCurrent() !== null ? this.application.redrawImageCanvas() : this.application.redrawImageCanvas(this.application.services.image.latestImageThatShouldBeDrawnId),
        super.loop()
    }
}
class Ir extends Dh {
    constructor(e={}) {
        super(e),
        this.application = e.application,
        this.manager = e.manager,
        this.manager.add(this),
        this.interaction = null
    }
    setInteraction(e) {
        this.interaction = e,
        this.interaction.setAnimationItem(this)
    }
}
class g0 extends Ir {
    constructor(e) {
        super(e),
        this.setInteraction(this.application.services.interaction.findById("scroll"))
    }
    loop() {
        this.interaction.onAnimation()
    }
}
class f0 extends Hs {
}
class v0 extends Hs {
    loop() {
        return this.application.clearOverlays(),
        this.application.redrawOverlays(),
        super.loop()
    }
}
class y0 extends Ir {
    constructor(e) {
        super(e),
        this.setInteraction(this.application.services.interaction.findById("pan"))
    }
    getDelta() {
        const e = this.interaction.services.pointer.getCoords()
          , i = e.x - this.interaction.lastX
          , s = e.y - this.interaction.lastY;
        return this.interaction.lastX = e.x,
        this.interaction.lastY = e.y,
        {
            x: i,
            y: s
        }
    }
    loop() {
        const e = this.application
          , i = this.getDelta();
        e.translateCanvas(i.x, i.y),
        e.animations.redrawFullSlice.trigger()
    }
}
class E0 extends Ir {
    constructor(e) {
        super(e),
        this.setInteraction(this.application.services.interaction.findById("zoom"))
    }
    loop() {
        const e = this.interaction.getScaleOffset();
        e !== 0 && this.application.zoomOnCoords(this.interaction.zoomFocusPoint.getX(), this.interaction.zoomFocusPoint.getY(), e)
    }
}
class I0 extends Hs {
    loop() {
        if (this.application.data.drawingIsAllowed === !0) {
            const e = this.application.services.slice.getCurrentRelativeIndex();
            this.application.moveToSlice(e + hi.FORWARD)
        }
        return super.loop()
    }
}
class C0 extends Hs {
    loop() {
        if (this.application.data.drawingIsAllowed === !0) {
            const e = this.application.services.slice.getCurrentRelativeIndex();
            this.application.moveToSlice(e + hi.BACKWARD)
        }
        return super.loop()
    }
}
function b0(t) {
    const e = new h0;
    t.data.manager = e,
    new g0({
        application: t,
        manager: e
    }),
    new y0({
        application: t,
        manager: e
    }),
    new E0({
        application: t,
        manager: e
    });
    const i = new m0({
        application: t,
        manager: e
    })
      , s = new p0({
        application: t,
        manager: e
    })
      , r = new v0({
        application: t,
        manager: e
    });
    t.animations.loop = new Oi("loop",[new f0({
        application: t,
        manager: e
    })]),
    t.animations.moveToNextSlice = new Oi("move-to-next-slice",[new I0({
        application: t,
        manager: e
    })]),
    t.animations.moveToPreviousSlice = new Oi("move-to-previous-slice",[new C0({
        application: t,
        manager: e
    })]),
    t.animations.redrawFullSlice = new Oi("full-slice",[i, s]),
    t.animations.redrawOnlyImage = new Oi("only-image",[i]),
    t.animations.redrawOnlyOverlays = new Oi("only-overlays",[r]),
    t.animations.redrawOnlySliceMeta = new Oi("only-slice",[s])
}
class Pe extends At {
    constructor(e={}) {
        super(e);
        const i = {};
        e.subscriber_id && (i._id = e.subscriber_id),
        this.agent = new Me(i)
    }
    bindSubscriptions(e) {
        this.clearSubscriptions(),
        this.createSubscriptionsFromList(this.agent, this.subscribe(e))
    }
    subscribe(e) {
        return []
    }
    createSubscriptionsFromList(e, i) {
        i.forEach(s => {
            let r;
            typeof s.restrict == "function" ? r = n => {
                s.restrict(n) && s.action(n)
            }
            : r = s.action,
            Array.isArray(s.name) ? s.name.forEach(n => {
                this.agent.subscribe(s.from, n, r)
            }
            ) : this.agent.subscribe(s.from, s.name, r)
        }
        )
    }
    clearSubscriptions() {
        const e = Object.values(this.agent.core.subscriptions);
        try {
            e.forEach(i => {
                [...i].forEach(s => {
                    s.unsubscribe()
                }
                )
            }
            )
        } catch (i) {} finally {
            this.agent.core.subscriptions = []
        }
    }
    init(e) {
        this.bindSubscriptions(e)
    }
    destroy() {
        this.agent.destroy()
    }
}
class Iu extends Error {
    constructor(e) {
        super(`Missing parameter "${e}"`),
        this.name = this.constructor.name
    }
}
class _o extends Error {
    constructor(e, i) {
        super(`The request "${e}" has failed, error code: ${i}`),
        this.name = this.constructor.name
    }
}
const me = class me {
    static addHeader(e, i, s) {
        typeof window.Headers < "u" && e instanceof Headers ? e.append(i, s) : e[i] = s
    }
    static getClientURL() {
        return imaios.get("client_url") || location.href.split("?")[0]
    }
    static fetch(e, i={
        method: "GET"
    }) {
        return i.credentials = "same-origin",
        typeof me.apiKey == "string" && me.apiKey.length > 0 && (typeof i.headers > "u" && (i.headers = typeof window.Headers < "u" ? new Headers : {}),
        me.addHeader(i.headers, Ws.CLIENT_URL, me.getClientURL()),
        me.addHeader(i.headers, Ws.KEY, me.apiKey),
        me.needUserId && (me.addHeader(i.headers, Ws.CLIENT_USERID, me.APIUserId),
        me.addHeader(i.headers, Ws.CLIENT_TIMESTAMP, me.expire),
        me.addHeader(i.headers, Ws.CLIENT_TOKEN, me.token))),
        imaios.fetch(e, i)
    }
    static setAPIClientInfo(e, i, s) {
        return _(this, null, function*() {
            let r;
            const n = `${me.baseURL}/api/embed-client`;
            try {
                r = yield me.fetch(n)
            } catch (o) {
                throw new _o(n,o)
            }
            const a = yield r.json();
            if (typeof a.scholarlyiq_id < "u" && (me.scholarlyiqId = a.scholarlyiq_id),
            typeof a.client_id < "u" && (me.APIClientId = a.client_id),
            a.user_token_required === !0) {
                if (me.needUserId = !0,
                me.expire = s,
                me.APIUserId = e,
                me.token = i,
                e === null)
                    throw new Iu("userId");
                if (s === null)
                    throw new Iu("timestamp")
            }
        })
    }
    static getDataModule(e, i, s) {
        return _(this, null, function*() {
            return (yield me.fetch(`${me.baseURL}/${s}/api/${i}/module/${e}`)).json()
        })
    }
}
;
Ie(me, "apiKey", null),
Ie(me, "needUserId", !1),
Ie(me, "baseURL", ""),
Ie(me, "imageBaseURL", Dy),
Ie(me, "APIUserId", null),
Ie(me, "timestamp", null),
Ie(me, "token", null),
Ie(me, "scholarlyiqId", null),
Ie(me, "APIClientId", null);
let re = me;
class S0 extends Error {
    constructor(e, i, s) {
        super(`The request "${e}" can't be parsed, the content-type received is "${i}" but excepted "${s}"`),
        this.name = this.constructor.name
    }
}
class Ai extends Me {
    constructor(e={}) {
        super(e),
        this.data = e.data
    }
    getResourceName() {
        return ""
    }
    getResourceSubName() {
        return ""
    }
    parseResponse(e, i) {
        return _(this, null, function*() {
            if (e.headers.get("content-type") !== pu)
                throw new S0(e.url,e.headers.get("content-type"),pu);
            return e.json()
        })
    }
    getData(e) {
        return _(this, null, function*() {
            let i = null;
            const s = this.getResourcesUrl(e);
            try {
                i = yield re.fetch(s)
            } catch (r) {
                throw new _o(s,"Unable to fetch")
            }
            if (i.status !== 200)
                throw new _o(s,i.status);
            return this.parseResponse(i, e)
        })
    }
    getResourcesUrl({application_id: e, module_id: i}) {
        const s = this.getResourceSubName();
        let r = `${re.baseURL}/en/api/${e}/${this.getResourceName()}/${i}`;
        return s !== "" && (r += `/${s}`),
        r
    }
}
class kh extends Error {
    constructor(e) {
        super(e),
        this.name = this.constructor.name
    }
}
let T0 = 0;
class ws extends Me {
    constructor(e={}) {
        super({
            _id: e._id || `legacy-image-provider-${T0++}`
        }),
        this.settings = e,
        this.zipURL = {},
        this.zip = {},
        this.isSwitchingQuality = {},
        e.resourcesURL && Object.keys(e.resourcesURL).forEach(i => {
            this.zipURL[i] = e.resourcesURL[i],
            this.zip[i] = null,
            this.isSwitchingQuality[i] = !1
        }
        ),
        this.imageHelper = e.services["image-helper"],
        this.zipURL.current = null,
        this.zip.current = null,
        this.isLoadingZip = !1,
        this.state = {
            module: e.state.module
        }
    }
    getData() {
        return _(this, null, function*() {
            return this.settings
        })
    }
    loadZip(e) {
        return this.isLoadingZip = !0,
        new Promise( (i, s) => {
            this.publish(j.EVENT.LOADING_START, e),
            re.fetch(e).then(r => (this.isLoadingZip = !1,
            r.arrayBuffer())).then(r => Xp.loadAsync(r)).then(r => {
                this.publish(j.EVENT.LOADING_END, e),
                i(r)
            }
            ).catch(r => {
                s(new kh(r.message))
            }
            )
        }
        )
    }
    isQualityAvailable(e) {
        return this.zip[e] !== null
    }
    setQuality(e) {
        this.zip.current = this.zip[e],
        this.zipURL.current = this.zipURL[e]
    }
    switchQuality(e) {
        if (!Object.values(Js).includes(e))
            throw new Error(`Quality is not supported by this module (quality code: ${e})`);
        return new Promise( (i, s) => {
            if (this.isLoadingZip === !1)
                if (this.isSwitchingQuality[e] = !0,
                this.isQualityAvailable(e))
                    this.setQuality(e),
                    this.isSwitchingQuality[e] = !1,
                    i(e);
                else {
                    const r = this.zipURL[e];
                    e === Js.HIGH && this.publish(j.EVENT.ASK_SHOW_PROGRESS),
                    this.loadZip(r).then(n => {
                        this.zip[e] = n,
                        e === Js.HIGH && this.publish(j.EVENT.ASK_HIDE_PROGRESS),
                        this.setQuality(e),
                        this.isContentAvailable === !1 && (this.isContentAvailable = !0),
                        this.publish(ws.EVENT.QUALITY_CHANGE),
                        this.isSwitchingQuality[e] = !1,
                        i(e)
                    }
                    ).catch(n => s(n))
                }
            else
                this.isSwitchingQuality[e] ? De([{
                    from: this,
                    name: ws.EVENT.QUALITY_CHANGE
                }]).then( () => {
                    i(e)
                }
                ) : s()
        }
        )
    }
    getImageFile(e) {
        return new Promise(i => {
            this.zip.current === null ? De([{
                name: j.EVENT.LOADING_END,
                from: this
            }]).then( () => {
                i(this.zip.current.file(e))
            }
            ) : i(this.zip.current.file(e))
        }
        )
    }
    getImage(e={}, i=j.PRIORITY.STANDARD) {
        return new Promise(s => _(this, null, function*() {
            const r = new Image;
            let n = e.key;
            if (e.image_id) {
                const o = e.image_id.split("-");
                typeof e.slice_id > "u" && (e.slice_id = o[0]),
                typeof e.code > "u" && (e.code = o[1])
            }
            typeof n > "u" && (n = this.getImageKey(e));
            const a = yield this.getImageFile(n);
            if (a === null)
                return s(null);
            try {
                a.async("arraybuffer").then(o => {
                    r.src = Mh(o)
                }
                ),
                r.onload = () => {
                    s(r)
                }
            } catch (o) {
                s("")
            }
        }))
    }
    getImageKey(e={}) {
        return this.imageHelper.getImageKey(e)
    }
}
ws.EVENT = {
    QUALITY_CHANGE: "zip-image-provider-quality-change"
};
class Sl extends Ai {
    constructor(e) {
        super({
            name: "image-api-provider",
            _id: "image-api-provider"
        }),
        this.zipProvider = null,
        this.state = {
            module: e.state.module
        },
        this.initialized = !1
    }
    getResourceName() {
        return "images"
    }
    getData(e) {
        return _(this, null, function*() {
            if (!this.initialized) {
                const i = yield je(Sl.prototype, this, "getData").call(this, e);
                this.zipProvider = new ws(Y(T(T({}, e), i), {
                    _id: "legacy-zip-image-provider"
                })),
                [j.EVENT.LOADING_END, j.EVENT.ASK_SHOW_PROGRESS, j.EVENT.ASK_HIDE_PROGRESS].forEach(s => {
                    this.subscribe(this.zipProvider, s, () => {
                        this.publish(s)
                    }
                    )
                }
                ),
                this.initialized = !0,
                this.data = i
            }
            return this.data
        })
    }
    switchQuality(e) {
        return this.zipProvider.switchQuality(e)
    }
    getImage(e={}, i=j.PRIORITY.STANDARD) {
        return this.zipProvider.getImage(e, i)
    }
}
class A0 extends Pe {
    constructor(e, i) {
        super(i),
        this.s3provider = e.services.image.providers.image,
        this.apiProvider = new Sl(e)
    }
    subscribe(e) {
        return [{
            from: e,
            name: Hh.EVENT.SWITCH_IMAGE_PROVIDER,
            action: () => _(this, null, function*() {
                const i = e.services.image
                  , s = i.getQuality();
                let r;
                i.providers.image !== this.apiProvider ? r = this.apiProvider : r = this.s3provider;
                const n = Y(T({}, e), {
                    module_id: e.state.module.id
                });
                n.services["image-helper"] = this.s3provider.imageHelper;
                const a = yield r.getData(n);
                i.setImageProvider(r),
                yield i.loadImages(a, s),
                e.redraw()
            })
        }]
    }
}
const Hh = {
    EVENT: {
        SWITCH_IMAGE_PROVIDER: "switch-image-provider"
    }
}
  , w0 = (t, e) => {
    const i = new A0(t,e);
    return i.init(t),
    i
}
  , W = {
    RIGHT_MENU: "right_menu",
    STRUCTURE_DETAILS: "structure_details",
    VIEWER: "viewer",
    STRUCTURE_DETAILS_TOP_RIGHT: "structure_details_top_left",
    SEARCH_TOP_BAR: "search_top_bar",
    MODULE_GALLERY: "module_gallery",
    STRUCTURE_GALLERY: "structure_gallery",
    BOTTOM_GALLERY: "bottom_gallery",
    CROSS_REFERENCES_BUTTON: "cross_references_button",
    RIGHT_CLICK: "right_click",
    SHORTCUTS: "shortcuts",
    SLICE_COUNTER: "slice_counter",
    SCROLL: "scroll",
    ARROW: "arrow",
    CROSS_REFERENCES: "cross_references",
    CROSS_REFERENCES_DRAG: "cross-references_drag",
    SERIES_DROPDOWN: "series_dropdown_menu"
}
  , In = {
    "sna-anatomie": "autonomic-nervous-system-illustrations",
    "cerveau-anatomie": "brain-illustrations",
    cerveau: "axial-brain-mri",
    abdomen: "abdomen-pelvis-ct",
    "coude-arthroscanner": "arthrography-elbow-ct",
    "genou-arthroscanner": "arthrography-knee-ct",
    thorax: "axial-chest-ct",
    "aires-radiotherapie": "body-ct",
    "Head-Neck-CT": "head-neck-ct",
    rocher: "temporal-bone-ct",
    coeur: "coronary-arteries-cta",
    coronarographie: "coronarography",
    "nerfs-craniens-anatomie": "cranial-nerves-illustrations",
    "coeur-illustrations": "heart-illustrations",
    "mi-anatomie": "lower-extremity-illustrations",
    "poumons-illustrations": "lungs-illustrations",
    "brain-tof": "brain-mra",
    cheville: "ankle-hindfoot-mri",
    "Brachial-Plexus-MR": "brachial-plexus-mri",
    brain3dmri: "brain-mri",
    pelvis: "pelvis-mri",
    "hand-mr": "hand-mri",
    face: "face-ct",
    "face-cou-irm": "head-neck-mri",
    knee: "knee-mri",
    lowerlimb: "lowerlimb-mri",
    "Pelvis-Male-MR": "male-pelvis-mri",
    "pelvis-male-illustrations": "male-pelvis-illustrations",
    "mediastin-illustrations": "mediastinum-illustrations",
    shoulder: "shoulder-mri",
    "upper-limb": "upper-limb-mri",
    "membre-inferieur-radiographies": "lower-extremity-radiographs",
    "rachis-radios": "spine-radiographs",
    "ms-radios": "upper-extremity-radiographs",
    "moelle-spinale-anatomie": "spinal-cord-illustrations",
    "rachis-dos-anatomie": "spine-illustrations",
    "paroi-thorax-sein-illustrations": "thoracic-wall-breast-illustrations",
    "ms-anatomie": "upper-extremity-illustrations",
    "pet-ct": "whole-body-pet-ct",
    "lower-limb-arteries": "lower-limb-arteries-3d",
    "Bull-osteology-illustrations": "bull-osteology-illustrations",
    "Dog-Elbow-CT": "dog-elbow-ct"
}
  , Di = {
    SET_PLACEMENT_IMAGE_VIEW: "set-placement-image-view",
    ANALYTICS_READY: "analytics_ready"
}
  , Fr = {
    pin: "pin",
    depin: "depin"
}
  , nt = {
    STRUCTURE_DETAILS: "structure_details",
    STRUCTURE_DETAILS_GALLERY: "structure_details_gallery",
    CLICK: "click",
    RIGHT_CLICK: "right_click",
    SEARCH: "search",
    BOOKMARKS: "bookmarks",
    LONG_PRESS: "long_press"
}
  , zh = "|"
  , Bh = [{
    name: "reverse-scroll",
    translationKey: "keyboard-panel.reverse-scroll",
    shortcutKey: {
        keys: "i",
        triggerOncePerPression: !0,
        keydown: (t, e) => {
            e.behave("reverseScrolling", W.SHORTCUTS)
        }
    }
}, {
    name: "viewzone",
    translationKey: "keyboard-panel.viewzone",
    shortcutKey: {
        keys: "m",
        triggerOncePerPression: !0,
        keydown: (t, e) => {
            e.toggleViewzone(null, W.SHORTCUTS),
            t.preventDefault()
        }
    }
}, {
    name: "practice",
    translationKey: "keyboard-panel.practice",
    shortcutKey: {
        keys: "p",
        triggerOncePerPression: !0,
        keydown: (t, e) => {
            e.toggleQuizMode(W.SHORTCUTS),
            t.preventDefault()
        }
    }
}, {
    name: "menu-pin",
    translationKey: "keyboard-panel.menu-pin",
    shortcutKey: {
        keys: Se.isMacOS() ? "ctrl+p" : "ctrl+alt+p",
        triggerOncePerPression: !0,
        keydown: t => {
            y.store.dispatch("menu/menu-pin:toggle"),
            t.preventDefault()
        }
    }
}, {
    name: "toggle-overlays",
    translationKey: "keyboard-panel.toggle-overlays",
    shortcutKey: {
        keys: "o",
        triggerOncePerPression: !0,
        keydown: (t, e) => {
            t.preventDefault(),
            e == null || e.toggleOverlays()
        }
    }
}, {
    name: "hide-labels",
    translationKey: "keyboard-panel.hide-labels",
    shortcutKey: {
        keys: "h",
        triggerOncePerPression: !0,
        keydown: (t, e) => {
            e.toggleLabels(),
            t.preventDefault()
        }
    }
}, {
    name: "show-hidden-structures",
    translationKey: "keyboard-panel.show-hidden-structures",
    shortcutKey: {
        keys: "ctrl+h",
        triggerOncePerPression: !0,
        keydown: (t, e) => {
            var i;
            t.preventDefault(),
            !((i = e.data) != null && i.labelCanvasHidden) && e.clearAllHiddenStructures()
        }
    }
}, {
    name: "show-hidden-cross-references",
    translationKey: "keyboard-panel.show-hidden-cross-references",
    shortcutKey: {
        keys: "c",
        triggerOncePerPression: !0,
        keydown: t => {
            y.store.dispatch("menu/cross-references:toggle"),
            t.preventDefault()
        }
    }
}, {
    name: "show-hidden-menu",
    translationKey: "keyboard-panel.show-hidden-menu",
    shortcutKey: {
        keys: "ctrl+m",
        triggerOncePerPression: !0,
        keydown: t => {
            y.store.dispatch("menu/menu:toggle"),
            t.preventDefault()
        }
    }
}, {
    name: "weightings",
    translationKey: "keyboard-panel.weightings",
    shortcutKey: {
        keys: "w",
        triggerOncePerPression: !0,
        keydown: (t, e) => {
            e.nextContrast(),
            t.preventDefault()
        }
    }
}, {
    name: "scroll",
    translationKey: "keyboard-panel.scroll",
    shortcutKey: {
        keys: "a",
        triggerOncePerPression: !0,
        keydown: (t, e) => {
            e.selectInteraction(Yt.SCROLL)
        }
    }
}, {
    name: "zoom",
    translationKey: "keyboard-panel.zoom",
    shortcutKey: {
        keys: "z",
        triggerOncePerPression: !0,
        keydown: (t, e) => {
            e.selectInteraction(Yt.ZOOM)
        }
    }
}, {
    name: "pan",
    translationKey: "keyboard-panel.pan",
    shortcutKey: {
        keys: "e",
        triggerOncePerPression: !0,
        keydown: (t, e) => {
            e.selectInteraction(Yt.PAN),
            t.preventDefault()
        }
    }
}, {
    name: "reset",
    translationKey: "keyboard-panel.reset",
    shortcutKey: {
        keys: "r",
        triggerOncePerPression: !0,
        keydown: t => {
            y.store.dispatch("anatomy/reset"),
            t.preventDefault()
        }
    }
}, {
    name: "save",
    translationKey: "keyboard-panel.save",
    shortcutKey: {
        keys: "s",
        triggerOncePerPression: !0,
        keydown: (t, e) => {
            e.behave("saveImage"),
            t.preventDefault()
        }
    }
}, {
    name: "fullscreen",
    translationKey: "keyboard-panel.fullscreen",
    shortcutKey: {
        keys: "f",
        triggerOncePerPression: !0,
        keydown: (t, e) => {
            e.behave("toggleFullScreen"),
            t.preventDefault()
        }
    }
}, {
    name: "cine",
    translationKey: "keyboard-panel.cine",
    shortcutKey: {
        keys: " ",
        triggerOncePerPression: !0,
        keydown: (t, e) => {
            e.behave("loop-through-slices"),
            t.preventDefault()
        }
        ,
        specificKey: "space"
    }
}, {
    name: "next-image",
    translationKey: "keyboard-panel.next-image",
    shortcutKey: {
        keys: "arrowright|arrowdown",
        keydown: (t, e) => {
            e.triggerGoToNextSlice(),
            t.preventDefault(),
            e.publish("keydown.arrowdown")
        }
        ,
        components: [{
            type: "vue",
            name: "RightArrowSVG",
            style: "transform: rotate(90deg)"
        }, {
            type: "vue",
            name: "RightArrowSVG"
        }]
    }
}, {
    name: "previous-image",
    translationKey: "keyboard-panel.previous-image",
    shortcutKey: {
        keys: "arrowup|arrowleft",
        keydown: (t, e) => {
            e.triggerGoToPreviousSlice(),
            t.preventDefault(),
            e.publish("keydown.arrowup")
        }
        ,
        components: [{
            type: "vue",
            name: "LeftArrowSVG"
        }, {
            type: "vue",
            name: "LeftArrowSVG",
            style: "transform: rotate(-90deg)"
        }]
    }
}, {
    name: "next-series",
    translationKey: "keyboard-panel.next-series",
    shortcutKey: {
        keys: Se.isMacOS() ? "meta+arrowright|meta+arrowdown" : "ctrl+arrowright|ctrl+arrowdown",
        keydown: (t, e) => {
            const i = y.store.getters["anatomy/listSeries"]
              , s = e.services.series.getCurrentId();
            let r = 0;
            y.store.getters["anatomy/isModeFullSeries"] ? r = 0 : r = i.findIndex(n => n.id === s) + 1,
            r === i.length ? y.store.dispatch("anatomy/series:set", {
                seriesIndex: -1,
                relativeSliceIndex: 1,
                keepMode: !1,
                placement: W.SHORTCUTS
            }) : y.store.dispatch("anatomy/series:set", {
                seriesIndex: r + 1,
                relativeSliceIndex: 1,
                keepMode: !1,
                placement: W.SHORTCUTS
            }),
            t.preventDefault()
        }
        ,
        components: [{
            type: "vue",
            name: "RightArrowSVG",
            style: "transform: rotate(90deg)",
            modifierKeys: Se.isMacOS() ? ["meta"] : ["ctrl"]
        }, {
            type: "vue",
            name: "RightArrowSVG",
            modifierKeys: Se.isMacOS() ? ["meta"] : ["ctrl"]
        }]
    }
}, {
    name: "previous-series",
    translationKey: "keyboard-panel.previous-series",
    shortcutKey: {
        keys: Se.isMacOS() ? "meta+arrowup|meta+arrowleft" : "ctrl+arrowup|ctrl+arrowleft",
        keydown: (t, e) => {
            const i = y.store.getters["anatomy/listSeries"]
              , s = e.services.series.getCurrentId();
            let r = 0;
            y.store.getters["anatomy/isModeFullSeries"] ? r = 0 : r = i.findIndex(n => n.id === s) + 1,
            r === 0 ? y.store.dispatch("anatomy/series:set", {
                seriesIndex: i.length,
                relativeSliceIndex: 1,
                keepMode: !1,
                placement: W.SHORTCUTS
            }) : r === 1 ? y.store.dispatch("anatomy/series:set", {
                seriesIndex: -1,
                relativeSliceIndex: 1,
                keepMode: !1,
                placement: W.SHORTCUTS
            }) : y.store.dispatch("anatomy/series:set", {
                seriesIndex: r - 1,
                relativeSliceIndex: 1,
                keepMode: !1,
                placement: W.SHORTCUTS
            }),
            t.preventDefault()
        }
        ,
        components: [{
            type: "vue",
            name: "LeftArrowSVG",
            modifierKeys: Se.isMacOS() ? ["meta"] : ["ctrl"]
        }, {
            type: "vue",
            name: "LeftArrowSVG",
            style: "transform: rotate(-90deg)",
            modifierKeys: Se.isMacOS() ? ["meta"] : ["ctrl"]
        }]
    }
}];
class Be {
    constructor() {
        this.point = new DOMPoint,
        this.isUse = !1
    }
    static initialize() {
        if (!Be.initialized) {
            for (let e = 0; e < Be.POOL.initialSize; e++) {
                const i = new Be;
                Be.POOL.instances.push(i),
                Be.POOL.available.push(i)
            }
            Be.initialized = !0
        }
    }
    static getOne(e=0, i=0) {
        let s;
        return Be.POOL.available.length > 0 ? s = Be.POOL.available.pop() : (s = new Be,
        Be.POOL.instances.push(s)),
        s.set(e, i),
        s.isUse = !0,
        s
    }
    static getInstance(e=!1) {
        return e ? Be.getOne() : new Be
    }
    recycle() {
        this.isUse && (this.isUse = !1,
        Be.POOL.available.push(this))
    }
    getPoint() {
        return this.point
    }
    setX(e) {
        this.point.x = e
    }
    setY(e) {
        this.point.y = e
    }
    getX() {
        return this.point.x
    }
    getY() {
        return this.point.y
    }
    set(e, i) {
        this.point.x = e,
        this.point.y = i
    }
    matrixTransform(e) {
        return this.point = this.point.matrixTransform(new DOMMatrix([e.a, e.b, e.c, e.d, e.e, e.f])),
        this
    }
}
Be.initialized = !1;
Be.POOL = {
    instances: [],
    available: [],
    initialSize: 2
};
Be.initialize();
class Cn {
    constructor(e, i, s, r, n, a) {
        this.svg = document.createElementNS("http://www.w3.org/2000/svg", "svg"),
        this.matrix = new DOMMatrix,
        this.setTransform(e, i, s, r, n, a)
    }
    setTransformMatrix(e) {
        this.matrix = e
    }
    getTransformMatrix() {
        return this.matrix
    }
    scale(e, i) {
        this.matrix = this.matrix.scale(e, i)
    }
    rotate(e) {
        this.matrix = this.matrix.rotate(e * 180 / Math.PI)
    }
    translate(e, i) {
        this.matrix = this.matrix.translate(e, i)
    }
    setTransform(e, i, s, r, n, a) {
        this.matrix.a = e,
        this.matrix.b = i,
        this.matrix.c = s,
        this.matrix.d = r,
        this.matrix.e = n,
        this.matrix.f = a
    }
    transform(e, i, s, r, n, a) {
        const o = new DOMMatrix;
        o.a = e,
        o.b = i,
        o.c = s,
        o.d = r,
        o.e = n,
        o.f = a,
        this.matrix = this.matrix.multiply(o)
    }
    transformCoordinates(e, i, s=!1) {
        const r = Be.getInstance(s);
        return r.setX(parseFloat(e)),
        r.setY(parseFloat(i)),
        r.matrixTransform(this.matrix.inverse())
    }
    multiply(e) {
        this.matrix.multiply(e)
    }
    getComputedScaleX() {
        return Math.sqrt(this.matrix.a * this.matrix.a + this.matrix.c * this.matrix.c)
    }
    getComputedScaleY() {
        return Math.sqrt(this.matrix.d * this.matrix.d + this.matrix.b * this.matrix.b)
    }
    getTx() {
        return this.matrix.e
    }
    getTy() {
        return this.matrix.f
    }
    getScaleX() {
        return this.matrix.a
    }
    getScaleY() {
        return this.matrix.d
    }
    getSkewX() {
        return this.matrix.b
    }
    getSkewY() {
        return this.matrix.c
    }
    flipX() {
        this.matrix = this.matrix.flipX()
    }
    flipY() {
        this.matrix = this.matrix.flipY()
    }
    getRotationInRadians() {
        const e = this.matrix.a
          , i = this.matrix.c;
        return Math.atan2(i, e)
    }
    rotatePoint(e, i, s=!1) {
        const r = Be.getInstance(s)
          , n = this.getRotationInRadians()
          , a = Math.cos(n)
          , o = Math.sin(n);
        return r.setX(e * a - i * o),
        r.setY(e * o + i * a),
        r
    }
    static createFrom(e) {
        return new Cn(e.getScaleX(),e.getSkewX(),e.getSkewY(),e.getScaleY(),e.getTx(),e.getTy())
    }
}
class Pt {
    constructor(e, i, s) {
        this.lineHeight = e,
        this.textWidth = i,
        this.nbLines = s
    }
    recycle() {
        Pt.POOL.AVAILABLE.push(this)
    }
}
Pt.POOL = {
    AVAILABLE: [new Pt(0,0,0), new Pt(0,0,0), new Pt(0,0,0)]
};
Pt.getOne = function(t, e, i) {
    if (Pt.POOL.AVAILABLE.length === 0)
        return new Pt(t,e,i);
    {
        const s = Pt.POOL.AVAILABLE.pop();
        return s.lineHeight = t,
        s.textWidth = e,
        s.nbLines = i,
        s
    }
}
;
function Cu(t) {
    if (t.indexOf("#") === 0 && (t = t.slice(1)),
    t.length === 3 && (t = t[0] + t[0] + t[1] + t[1] + t[2] + t[2]),
    t.length !== 6)
        throw new Error("Invalid HEX color.");
    const e = parseInt(t.slice(0, 2), 16)
      , i = parseInt(t.slice(2, 4), 16)
      , s = parseInt(t.slice(4, 6), 16);
    return (.299 * e + .587 * i + .114 * s) / 255 > .5 ? "#000000" : "#FFFFFF"
}
function _0(t, e, i) {
    return `#${(1 << 24 | t << 16 | e << 8 | i).toString(16).slice(1)}`
}
function Cs(t) {
    t.charAt(0) === "#" && (t = t.substr(1));
    const e = {
        r: 0,
        g: 0,
        b: 0
    }
      , i = parseInt(t, 16);
    return e.r = i >> 16,
    e.g = i >> 8 & 255,
    e.b = i & 255,
    e
}
function Ts(t, e) {
    const {r: i, g: s, b: r} = Cs(t);
    return `rgba(${i},${s},${r},${e})`
}
function Lo(t) {
    if (t.includes("#"))
        return Cu(t);
    const e = /rgba?\((\d+),\s*(\d+),\s*(\d+)(,\s*[\d.]+)?\)/.exec(t);
    return Cu(_0(parseInt(e[1], 10), parseInt(e[2], 10), parseInt(e[3], 10)))
}
function et(t, e) {
    const i = t.measureText(e);
    return i.fontBoundingBoxDescent === void 0 && (i.fontBoundingBoxDescent = i.actualBoundingBoxDescent),
    i.fontBoundingBoxAscent === void 0 && (i.fontBoundingBoxAscent = i.actualBoundingBoxAscent),
    i
}
const qt = {
    SAVE: "saveCanvas",
    RESTORE: "restoreCanvas",
    ROTATE: "rotate",
    SCALE: "scale",
    FLIP_X: "flipX",
    FLIP_Y: "flipY"
}
  , cr = 2
  , bn = 6
  , L0 = -3.484375;
class ae extends Me {
    constructor(e={}) {
        var i;
        super(e),
        this.ui.canvas = ae.createCanvasElement(e),
        this.ui.wrapper = this.ui.canvas,
        this.data.context = ae.setupCanvasContext(this.ui.canvas);
        for (const s in e.canvasStyle)
            this.ui.canvas.style[s] = e.canvasStyle[s];
        this.services = {
            style: i0(e, "services.style")
        },
        this.transformMatrix = new Cn(1,0,0,1,0,0),
        this.savedTransforms = [],
        this.baseLineForText = "top",
        this.data.ellipsisWidth = 0,
        this.data.spaceWidth = 0,
        this.data.fontName = (i = e.fontFamily) != null ? i : Cy,
        this.data.fontSize = 0,
        this.data.disabledBy = new Set,
        this.data.nbDisablers = 0,
        this.disable(),
        this.resize(0, e.width, e.height),
        this.paddingTop = e.paddingTop || 0,
        this.paddingBottom = e.paddingBottom || 0,
        this.pointerState = e.pointerState,
        e.useController !== !1 && (this.handlers = {
            pointer: new Qu({
                domTarget: this.ui.canvas,
                onMouseMove: this.onMouseMove.bind(this),
                onMouseDown: this.onMouseDown.bind(this),
                onMouseUp: this.onMouseUp.bind(this),
                onClick: this.onClick.bind(this),
                onDoubleClick: this.onDoubleClick.bind(this),
                onMouseEnter: this.onMouseEnter.bind(this),
                onMouseLeave: this.onMouseLeave.bind(this),
                onMouseWheel: this.onMouseWheel.bind(this)
            })
        }),
        e.container instanceof HTMLElement && e.container.appendChild(this.ui.canvas)
    }
    enable(e="anonymous") {
        this.data.disabledBy.delete(e),
        this.data.nbDisablers = this.data.disabledBy.size
    }
    disable(e="anonymous") {
        this.data.disabledBy.add(e),
        this.data.nbDisablers = this.data.disabledBy.size
    }
    isEnabled() {
        return this.data.nbDisablers === 0
    }
    getHeight() {
        return parseInt(this.ui.canvas.style.height || this.ui.canvas.height, 10)
    }
    setHeight(e) {
        this.ui.canvas.height = Math.floor(e)
    }
    getWidth() {
        return parseInt(this.ui.canvas.style.width || this.ui.canvas.width, 10)
    }
    getCanvasWidth() {
        return parseInt(this.ui.canvas.width, 10)
    }
    getCanvasHeight() {
        return parseInt(this.ui.canvas.height, 10)
    }
    setWidth(e) {
        this.ui.canvas.width = Math.floor(e)
    }
    setTextAlign(e) {
        this.data.context.textAlign = e
    }
    setFontSize(e) {
        this.data.fontSize !== e && (this.data.context.font = `400 ${e}px ${this.getFontFamily()}`,
        this.updatePrecomputedTextLength())
    }
    updatePrecomputedTextLength() {
        this.ellipsisWidth = et(this.data.context, nu).width,
        this.spaceWidth = et(this.data.context, aa).width
    }
    setFontFamily(e) {
        this.data.fontName = e
    }
    setFont(e, i) {
        this.setFontFamily(e),
        this.setFontSize(i)
    }
    getFontFamily() {
        return this.data.fontName
    }
    setFillStyle(e) {
        this.data.context.fillStyle = e
    }
    setStrokeStyle(e) {
        this.data.context.strokeStyle = e
    }
    beginPath() {
        this.data.context.beginPath()
    }
    moveTo(e, i) {
        this.data.context.moveTo(e, i)
    }
    lineTo(e, i) {
        this.data.context.lineTo(e, i)
    }
    lineWidth(e) {
        this.data.context.lineWidth = e
    }
    stroke() {
        this.data.context.stroke()
    }
    drawImage(e, i, s, r, n) {
        r && n ? this.data.context.drawImage(e, i, s, r, n) : this.data.context.drawImage(e, i, s)
    }
    getCanvas() {
        return this.ui.canvas
    }
    fillCircle(e, i, s, r, n) {
        this.data.context.beginPath(),
        this.data.context.arc(e, i, s, 0, 2 * Math.PI, !1);
        const a = Cs(n);
        this.data.context.fillStyle = `rgba(${a.r},${a.g},${a.b},${r})`,
        this.data.context.fill()
    }
    setShadowStyle(e, i, s=0, r=0) {
        this.data.context.shadowBlur = e,
        this.data.context.shadowColor = i,
        this.data.context.shadowOffsetX = s,
        this.data.context.shadowOffsetY = r
    }
    getFillStyle() {
        return this.data.context.fillStyle
    }
    getStrokeStyle() {
        return this.data.context.strokeStyle
    }
    strokeCircle(e, i, s, r, n, a) {
        this.data.context.beginPath(),
        this.data.context.arc(e, i, s, 0, 2 * Math.PI, !1);
        const o = Cs(n);
        this.data.context.lineWidth = a,
        this.data.context.strokeStyle = `rgba(${o.r},${o.g},${o.b},${r})`,
        this.data.context.stroke()
    }
    closePath() {
        this.data.context.closePath()
    }
    drawRect(e, i, s, r, n, a) {
        this.data.context.beginPath(),
        this.data.context.rect(e, i, s, r);
        const o = Cs(a);
        this.data.context.fillStyle = `rgba(${o.r},${o.g},${o.b},${n})`,
        this.data.context.fill()
    }
    strokeRect(e, i, s, r, n, a) {
        if (this.data.context.beginPath(),
        this.data.context.rect(e, i, s, r),
        a) {
            const o = Cs(a);
            this.data.context.strokeStyle = `rgba(${o.r},${o.g},${o.b},${n})`
        }
        this.data.context.stroke()
    }
    clear(e=!0) {
        this.clearCanvas(0, 0, Math.max(this.getCanvasWidth(), this.getWidth()), Math.max(this.getCanvasHeight(), this.getHeight()), e)
    }
    getHeightAvailable() {
        return this.getHeight() - this.paddingTop - this.paddingBottom
    }
    getCanvasHeightAvailable() {
        return this.getCanvasHeight() - (this.paddingTop + this.paddingBottom) * window.devicePixelRatio
    }
    clearCanvas(e, i, s, r, n) {
        n === !0 && (this.saveCanvas(),
        this.setTransform(window.devicePixelRatio, 0, 0, window.devicePixelRatio, 0, 0)),
        this.data.context.clearRect(e, i, s, r),
        n === !0 && this.restoreCanvas()
    }
    [qt.SAVE]() {
        const e = Cn.createFrom(this.getTransformMatrix());
        this.savedTransforms.push(e),
        this.data.context.save()
    }
    [qt.RESTORE]() {
        this.transformMatrix = this.savedTransforms.pop(),
        this.data.context.restore()
    }
    resize(e, i, s) {
        const r = this.transformMatrix.getScaleX()
          , n = this.transformMatrix.getSkewX()
          , a = this.transformMatrix.getSkewY()
          , o = this.transformMatrix.getScaleY()
          , l = this.transformMatrix.getTx()
          , c = this.transformMatrix.getTy();
        this.setWidth(i),
        this.setHeight(s),
        this.ui.canvas.parentNode && (this.ui.canvas.parentNode.style.marginLeft = `${e}px`),
        this.setTransform(r, n, a, o, l, c),
        this.data.context.textBaseline = this.baseLineForText
    }
    getTransformMatrix() {
        return this.transformMatrix
    }
    [qt.SCALE](e, i) {
        typeof i > "u" && (i = e.y,
        e = e.x),
        this.transformMatrix.scale(e, i),
        this.data.context.scale(e, i)
    }
    [qt.ROTATE](e) {
        this.transformMatrix.rotate(e),
        this.data.context.rotate(e)
    }
    translate(e, i) {
        this.transformMatrix.translate(e, i),
        this.data.context.translate(e, i)
    }
    setTransform(e, i, s, r, n, a) {
        const o = Number.isFinite(e) ? e : 0
          , l = Number.isFinite(i) ? i : 0
          , c = Number.isFinite(s) ? s : 0
          , u = Number.isFinite(r) ? r : 0
          , h = Number.isFinite(n) ? n : 0
          , d = Number.isFinite(a) ? a : 0;
        this.transformMatrix.setTransform(o, l, c, u, h, d),
        this.data.context.setTransform(o, l, c, u, h, d)
    }
    transform(e, i, s, r, n, a) {
        this.transformMatrix.transform(e, i, s, r, n, a),
        this.data.context.transform(e, i, s, r, n, a)
    }
    transformCoordinates(e, i, s=!1) {
        return this.transformMatrix.transformCoordinates(e, i, s)
    }
    getTx() {
        return this.transformMatrix.getTx()
    }
    getTy() {
        return this.transformMatrix.getTy()
    }
    getComputedScaleX(e) {
        return e ? -this.transformMatrix.getComputedScaleX() : this.transformMatrix.getComputedScaleX()
    }
    getComputedScaleY(e) {
        return e ? -this.transformMatrix.getComputedScaleY() : this.transformMatrix.getComputedScaleY()
    }
    getScaleX() {
        return this.transformMatrix.getScaleX()
    }
    getScaleY() {
        return this.transformMatrix.getScaleY()
    }
    getSkewX() {
        return this.transformMatrix.getSkewX()
    }
    getSkewY() {
        return this.transformMatrix.getSkewY()
    }
    [qt.FLIP_X]() {
        this[qt.SCALE](-1, 1)
    }
    [qt.FLIP_Y]() {
        this[qt.SCALE](1, -1)
    }
    getCanvasContext() {
        return this.data.context
    }
    stringEllipsis(e, i, s) {
        let r = et(this.data.context, e).width;
        if (r <= i && s !== !0)
            return e;
        {
            let n = e.length;
            for (; r >= i - this.ellipsisWidth && n-- > 0; )
                e = e.substring(0, n),
                r = et(this.data.context, e).width;
            return e + nu
        }
    }
    getSplitWords(e, i) {
        const s = e.split(aa);
        if (i === !0) {
            const r = [];
            return s.forEach(n => {
                if (n === "-") {
                    r.push(n);
                    return
                }
                const a = n.split("-");
                a.length === 1 ? r.push(n) : r.push(a[0], `-${a[1]}`)
            }
            ),
            r
        } else
            return s
    }
    _calculateInitialPosition(e, i, s, r) {
        let n = Math.ceil(i);
        return Se.isSafariBrowser() && (n += L0),
        {
            newX: r.horizontal === "right" ? Math.ceil(e + s) : Math.ceil(e),
            newY: n
        }
    }
    _applyHoveredStyle(e, i, s, r, n) {
        this.data.context.fillStyle = Ts(n.originalColor, n.alpha),
        this.drawBackgroundRect(e, i, s, r),
        this.data.context.save(),
        this.data.context.fillStyle = Lo(this.data.context.fillStyle)
    }
    _drawSingleLineText(e, i, s, r, n, a, o, l) {
        let c = r;
        a > 1 && o && (c = r + a * n / 2),
        (l != null && l.isHovered || l != null && l.isIsolated || l != null && l.isSelected) && this._applyHoveredStyle(s, c, Math.round(i + l.extraWidth), n, l);
        const u = et(this.data.context, e);
        return this.data.context.fillText(e, s, c + u.fontBoundingBoxAscent),
        this.data.context.restore(),
        {
            lengthOfFirstLine: i,
            maxLength: i,
            isTrunk8: !1,
            x: s,
            y: c,
            height: n
        }
    }
    _calculateFittingWords(e, i, s) {
        if (i >= e.length)
            return {
                fittingWordIndex: i,
                totalWidth: 0
            };
        let r = e[i]
          , n = i + 1;
        for (; n < e.length && r < s; ) {
            const a = r + this.spaceWidth + e[n];
            if (a > s)
                break;
            r = a,
            n++
        }
        return r > s && n > i + 1 && (n--,
        r -= this.spaceWidth + e[n]),
        {
            fittingWordIndex: n,
            totalWidth: r
        }
    }
    _processLine(e, i, s, r, n, a, o, l, c, u) {
        const {fittingWordIndex: h, totalWidth: d} = this._calculateFittingWords(i, s, n)
          , m = l === u - 1
          , p = h - r
          , f = h < e.length;
        let g = e.slice(r, h).join(aa)
          , E = d
          , I = !1
          , C = !1;
        m && f ? (g = this.stringEllipsis(g, n, !0),
        E = et(this.data.context, g).width,
        I = !0) : d > n && p === 1 && (g = this.stringEllipsis(g, n, f),
        E = et(this.data.context, g).width,
        I = !0,
        m || (C = !0));
        const w = et(this.data.context, g)
          , O = o + w.fontBoundingBoxAscent * (l + 1);
        return this.data.context.fillText(g, a, O),
        {
            newCurrentWordIndex: h,
            newLastWordAddedIndex: h,
            lineWidth: E,
            isTruncated: I,
            shouldStop: C
        }
    }
    _drawMultilineText(e, i, s, r, n, a, o, l) {
        const c = this.getSplitWords(e, o)
          , u = c.map(I => et(this.data.context, I).width);
        let h = 0
          , d = 0
          , m = 0
          , p = 0
          , f = !1
          , g = !1
          , E = !1;
        (l != null && l.isHovered || l != null && l.isIsolated || l != null && l.isSelected) && (this.data.context.save(),
        this.data.context.fillStyle = Lo(Ts(l.originalColor, l.alpha)));
        for (let I = 0; I < a && !E; I++) {
            const C = this._processLine(c, u, h, d, r, i, s, I, n, a);
            h = C.newCurrentWordIndex,
            d = C.newLastWordAddedIndex,
            E = C.shouldStop,
            I === 0 && (m = C.lineWidth),
            C.lineWidth > p && (p = C.lineWidth),
            C.isTruncated && (g = !0),
            I > 0 && (f = !0)
        }
        return (l != null && l.isHovered || l != null && l.isIsolated || l != null && l.isSelected) && (this.data.context.restore(),
        this.data.context.save(),
        this.data.context.fillStyle = Ts(l.originalColor, l.alpha),
        this.data.context.globalCompositeOperation = "destination-over",
        this.drawBackgroundRect(i, s, p + l.extraWidth, n * a),
        this.data.context.restore()),
        {
            lengthOfFirstLine: (f ? -1 : 1) * m,
            maxLength: p,
            isTrunk8: g,
            x: i,
            y: s,
            height: n * a
        }
    }
    drawMultilineText({text: e, x: i, y: s, maxWidth: r, lineHeight: n, maxLinesBeforeEllipsis: a, allowCenter: o, alignment: l={}, currentLabelStyle: c=null, splitHyphen: u=!1, textBaseline: h="alphabetic"}) {
        e = e.trim();
        const d = o !== !1
          , {newX: m, newY: p} = this._calculateInitialPosition(i, s, r, l);
        this.data.context.textBaseline = h;
        const f = et(this.data.context, e).width;
        return f <= r ? this._drawSingleLineText(e, f, m, p, n, a, d, c) : this._drawMultilineText(e, m, p, r, n, a, u, c)
    }
    underline(e, i, s) {
        this.data.context.textAlign === "right" && (s *= -1),
        this.data.context.beginPath(),
        this.data.context.moveTo(e, i),
        this.data.context.lineTo(e + s, i),
        this.data.context.stroke()
    }
    getLabelInfos(e, i, s=Number.POSITIVE_INFINITY, r=Number.POSITIVE_INFINITY) {
        this.setFontSize(i);
        const n = et(this.data.context, e)
          , a = Math.min(this.getNbLine(e, i, this.getFontFamily(), s), r);
        return Pt.getOne(Math.floor(n.fontBoundingBoxAscent + n.fontBoundingBoxDescent), Math.floor(n.width), a)
    }
    getNbLine(e, i, s, r) {
        this.setFont(s, i);
        const n = this.getSplitWords(e, !0)
          , a = n.map(u => et(this.data.context, u).width);
        let o = 0
          , l = 0
          , c = 0;
        for (let u = 0; u < n.length; u++) {
            let h = a[o];
            for (o++; o < a.length && h < r; )
                h += this.spaceWidth + a[o],
                o++,
                u++;
            h > r && o > l + 1 && (o--,
            h -= this.spaceWidth + a[o],
            u--),
            h > r && (u = n.length),
            l = o,
            c++
        }
        return Math.max(c, 1)
    }
    setContextOpacity(e) {
        this.data.context.globalAlpha = e
    }
    setCanvasBackground(e) {
        this.ui.canvas.style.backgroundColor = `#${e}`
    }
    hide() {
        this.ui.canvas.style.display = "none"
    }
    show() {
        this.ui.canvas.style.display = "block"
    }
    static createCanvasElement(e={}) {
        const i = document.createElement("canvas");
        return i.width = e.width,
        i.height = e.height,
        i.classList.add("canvas-component"),
        i.setAttribute("data-name", e.name),
        typeof e._id == "string" && i.setAttribute("id", e._id),
        i
    }
    static setupCanvasContext(e) {
        const i = e.getContext("2d");
        return i.shadowOffsetX = 0,
        i.shadowOffsetY = 0,
        i.shadowBlur = 0,
        i.shadowColor = null,
        i
    }
    onMouseMove(e) {}
    onMouseDown(e) {}
    onMouseUp(e) {}
    onClick(e) {}
    onDoubleClick(e) {}
    onMouseEnter(e) {}
    onMouseLeave(e) {}
    onMouseWheel(e) {}
    drawBackgroundRect(e, i, s, r) {
        this.data.context.textAlign === "right" && (e -= s),
        e -= bn,
        i -= cr,
        s += bn * 2,
        r += cr * 2,
        this.data.context.save();
        const n = 3;
        this.data.context.beginPath(),
        this.data.context.moveTo(e + n, i),
        this.data.context.lineTo(e + s - n, i),
        this.data.context.quadraticCurveTo(e + s, i, e + s, i + n),
        this.data.context.lineTo(e + s, i + r - n),
        this.data.context.quadraticCurveTo(e + s, i + r, e + s - n, i + r),
        this.data.context.lineTo(e + n, i + r),
        this.data.context.quadraticCurveTo(e, i + r, e, i + r - n),
        this.data.context.lineTo(e, i + n),
        this.data.context.quadraticCurveTo(e, i, e + n, i),
        this.data.context.closePath(),
        this.data.context.fill(),
        this.data.context.restore()
    }
}
ae.METHOD = qt;
const Ce = {
    SELECTED: "point-selected",
    UNSELECTED: "point-unselected",
    HOVER: "point-hover",
    LOOSE_HOVER: "point-loose-hover",
    CHECK_VISIBILITY: "point-check-visibility",
    UPDATE_ACTIVE: "point-update-actives",
    CLICK: "point-click",
    RESET_ALL_PRIORITY: "point-reset-all-priority",
    ALL_POINT_DRAWN: "all-point-drawn"
};
class F extends Me {
    constructor(e={}) {
        const i = e.features;
        delete e.features,
        super(Y(T({
            name: "application-core-component",
            _id: "application-core-component"
        }, e), {
            features: i
        })),
        this.components = {},
        this.application_id = e.application_id,
        this.parentContainer_id = e.parentContainer_id,
        this.modes = {
            scroll: Th.STANDARD
        },
        this.animations = {},
        this.data = {},
        this.data.custom_id = y.id,
        this.data.currentColor = "#FFFFFF",
        this.data.overlaysDrawn = !1,
        this.data.menuIsPinned = !1,
        this.data.isDirty = !1,
        this.data.labelMode = Gi.STANDARD,
        this.labelModeHandler = {
            standard: s => this.standardGetLabelText(s)
        },
        this.data.drawingIsAllowed = !1,
        this.data.fontSizeAuto = !0,
        this.loadUserAccess(),
        this.providers = {
            iconSource: e.providers.iconSource,
            crImages: e.providers.crImages,
            orientationImage: e.providers.orientationImage,
            imageThumb: e.providers.imageThumb
        },
        this.generateComponents(e),
        this.data.lastSeriesSize = {
            width: 0,
            height: 0
        },
        this.data.lastDevicePixelRatio = null,
        this.data.scrollDirection = hi.FORWARD,
        this.pointsWithLabel = new Set,
        this.data.hasAccess = !1,
        this.services.language.setInterfaceLanguage(e.interfaceLanguageId),
        this.data.isFirstRendering = !0,
        this.subscribeToPointerController(),
        this.subscribe(this.services.interaction, ks.EVENT.CHANGE, s => {
            this.ui.container.setAttribute("data-interaction", s)
        }
        ),
        this.subscribe(this, F.EVENT.STATE_HAS_BEEN_INITIALIZED, () => this.onReady()),
        this.data.hasFocus = !1,
        this.hideMetaCanvas(),
        typeof window.IMAIOS_ANATOMY.instances > "u" && (window.IMAIOS_ANATOMY.instances = {}),
        window.IMAIOS_ANATOMY.instances[this.data.custom_id] = {},
        this.exposeFunctionForScrapper()
    }
    isCurrentImageAvailable() {
        const e = this.services.image.getCurrent();
        return !(e === null || e.width === 0)
    }
    onSetup(e={}) {
        this.viewerHelper = e.viewerHelper,
        this.state = {
            pointer: e.state.pointer,
            module: e.state.module
        },
        this.ui.container = this.viewerHelper.retrieveContainer(e.containerId),
        this.ui.container.classList.add("application-anatomy-container"),
        e.width = this.ui.container.offsetWidth,
        e.height = this.ui.container.offsetHeight,
        this.services = {
            language: e.services.language,
            translator: e.services.translator,
            filter: e.services.filter,
            point: e.services.point,
            image: e.services.image,
            structure: e.services.structure,
            slice: e.services.slice,
            series: e.services.series,
            orientation: e.services.orientation,
            contrast: e.services.contrast,
            interaction: e.services.interaction,
            modality: e.services.modality,
            style: e.services.style,
            label: e.services.label,
            labelsDrawer: e.services.labelsDrawer,
            renderingContext: e.services.renderingContext,
            overlay: e.services.overlay,
            textOverlay: e.services.textOverlay,
            transform: e.services.transform,
            pointer: e.services.pointer,
            pointDrawer: e.services.pointDrawer,
            imageHelper: e.services["image-helper"],
            icon: e.services.icon,
            search: e.services.search,
            roi: e.services.roi,
            debug: e.services.debug
        },
        this.handlers = {
            keyboard: new u0({
                handler: this.getShortcutHandlers(),
                component: this
            }),
            pointer: new K({
                state: e.state,
                target: this.ui.container,
                clickSensitivity: {
                    min: 82,
                    max: 210
                }
            })
        }
    }
    toggleQuizMode(e) {
        this.publish("toggle-quiz-mode", e)
    }
    getMainsFiltersId() {
        return this.services.filter.data.resources.main_id
    }
    generateComponents(e={}) {
        this.viewerHelper.generateComponents(this, e)
    }
    areInteractionsEnabled() {
        return this.state.viewer.data.interaction.enabled === !0
    }
    isSlowScrollMode() {
        const e = this.getCurrentSeries().modality_id;
        return e === Ve.SCHEMA || e === Ve.RX
    }
    getCanvasImageRelativeCenter() {
        return {
            x: this.components.imageCanvas.getWidth() / 2,
            y: this.components.imageCanvas.getHeight() / 2
        }
    }
    subscribeToPointerController() {
        const e = document.getElementById(this.parentContainer_id);
        e.addEventListener("mouseleave", () => {
            this.data.hasFocus = !1
        }
        ),
        e.addEventListener("mouseenter", () => {
            this.data.hasFocus = !0
        }
        ),
        this.subscribe(this.handlers.pointer, K.EVENT.POINTER_MOVE, s => {
            if (this.state.pointer.isDown === !0) {
                const r = this.services.interaction.getCurrent();
                r !== null && r.isPerforming && r.onMouseMove(s)
            }
        }
        ),
        this.subscribe(this.handlers.pointer, K.EVENT.POINTER_LEAVE, s => {
            const r = this.services.interaction.getCurrent();
            r !== null && r.isPerforming === !0 && r.onMouseLeave(s)
        }
        ),
        this.subscribe(this.handlers.pointer, K.EVENT.POINTER_DOWN, s => {
            s.type === "touchstart" && (s.preventDefault(),
            s.stopImmediatePropagation());
            const r = this.services.interaction.getCurrent();
            r !== null && this.services.point.hasHover() !== !0 && (r.isPerforming === !0 ? r.onMouseDown(s) : this.startInteraction(s))
        }
        );
        const i = s => {
            const r = this.services.interaction.getCurrent();
            r !== null && (r.isPerforming === !0 || r.isInPause === !0) && r.onMouseUp(s)
        }
        ;
        this.subscribe(this.handlers.pointer, K.EVENT.TOUCH_END, i),
        this.subscribe(this.handlers.pointer, K.EVENT.POINTER_UP, i)
    }
    startInteraction(e) {
        const i = this.services.interaction.getCurrent();
        i.start(e),
        this.publish(ke.EVENT.START, i.name)
    }
    destroy() {
        super.destroy(),
        Object.values(this.components).forEach(e => {
            e.destroy()
        }
        )
    }
    setLabelDrawer(e) {
        this.services.labelsDrawer !== e && (this.services.labelsDrawer = e,
        this.publish(ge.EVENT.CHANGE))
    }
    setPointDrawer(e) {
        this.services.pointDrawer !== e && (this.services.pointDrawer = e)
    }
    scaleViewZone(e, i) {
        const s = this.components.viewzone
          , r = s.isEnabled()
          , {centerX: n, centerY: a} = s.getCoords();
        s.redrawToCoords({
            x: n * e,
            y: a * i
        }),
        r === !1 && s.focus()
    }
    setScale(e) {
        this.services.renderingContext.setScale(e),
        this.scaleCanvas(e, e)
    }
    redrawSliceMetadata() {
        this.redrawSlicePoints(),
        this.redrawLabels()
    }
    allowsDrawing() {
        this.data.drawingIsAllowed = !0
    }
    drawOnlyLinkedPoint(e=!1) {
        const i = this.services.point.getAllLinked()
          , s = Object.keys(i).map(r => i[r]);
        this.publish(F.EVENT.GET_SELECTED_POINTS, s),
        this.services.pointDrawer.drawPoints(s, this.components.pointsCanvas, e)
    }
    redrawSlicePoints() {
        this.components.pointsCanvas.redraw(this),
        this.publish(Ce.ALL_POINT_DRAWN)
    }
    updateZoomLimit() {
        const e = this.components.pointsCanvas
          , i = e.getWidth()
          , s = e.getHeightAvailable()
          , r = i / s
          , n = this.services.series.getCurrent()
          , a = n.canvas_width
          , o = n.canvas_height
          , l = a / o;
        let c;
        const u = this.services.renderingContext.get($.ATTRIBUTE.MULTIPLIER);
        l < r ? c = s / o / u : c = i / a / u,
        this.services.renderingContext.setScale(c),
        this.updateScaleLevel(c)
    }
    translateCanvas(e, i) {
        const s = this.components.imageCanvas;
        this.setTransformCanvas(s.getScaleX(), s.getSkewX(), s.getSkewY(), s.getScaleY(), s.getTx() + e, s.getTy() + i)
    }
    resetTransformCanvas(e=!0) {
        this.reset(e),
        this.setTransformCanvas(1, 0, 0, 1, 0, 0)
    }
    setTransformCanvas(e, i, s, r, n, a) {
        this.components.imageCanvas.setTransform(e, i, s, r, n, a),
        this.components.pointsCanvas.setTransform(e, i, s, r, n, a),
        this.components.overlaysCanvas.setTransform(e, i, s, r, n, a)
    }
    clearLines() {
        this.components.animatedLineCanvas.clear(!1),
        this.components.leftLinesCanvas.clear(!1),
        this.components.rightLinesCanvas.clear(!1)
    }
    getLabelMode() {
        return this.data.labelMode
    }
    setImageOverlaysOpacity(e) {
        this.services.overlay.setImageOpacity(e)
    }
    getDefaultOverlayOpacity() {
        return this.services.overlay.getDefaultImageOverlayOpacity()
    }
    drawBackgroundLabelCanvas() {
        const {LEFT_RIGHT_ALPHA: e} = this.services.style.get()
          , {LEFT_PADDING: i, RIGHT_PADDING: s} = this.services.renderingContext.get()
          , r = this.services.series.isSchema() ? ze.WHITE : ze.BLACK;
        this.components.leftLinesCanvas.data.context.save(),
        this.components.leftLinesCanvas.data.context.globalCompositeOperation = "destination-over",
        this.components.leftLinesCanvas.drawRect(0, Pi, i, this.components.pointsCanvas.getHeight(), e, r),
        this.components.leftLinesCanvas.data.context.restore(),
        this.components.rightLinesCanvas.data.context.save(),
        this.components.rightLinesCanvas.data.context.globalCompositeOperation = "destination-over",
        this.components.rightLinesCanvas.drawRect(s, Pi, this.components.pointsCanvas.getWidth() - s, this.components.pointsCanvas.getHeight(), e, r),
        this.components.rightLinesCanvas.data.context.restore()
    }
    clearLabels() {
        this.clearLines(),
        this.services.label.clear(),
        this.services.labelsDrawer.reset(),
        this.services.labelsDrawer.updateRangeFontSize()
    }
    redrawLabels() {
        this.clearLabels();
        const {LEFT_RIGHT_THRESHOLD: e} = this.services.renderingContext.get()
          , i = this.services.labelsDrawer.dispatchPointBySide(this.services.point.getVisible(), e);
        this.drawLabels(i),
        this.services.point.getNbPointsToDraw() > 0 && this.drawBackgroundLabelCanvas(),
        this.publish(ge.EVENT.ALL_LABEL_DRAWN)
    }
    clearOverlays() {
        this.components.overlaysCanvas.clear()
    }
    selectFilter(e, i=!1) {
        this.services.filter.select(e, i)
    }
    unselectFilter(e, i=!1) {
        this.services.filter.unselect(e, i)
    }
    selectAllFilters() {
        this.services.filter.selectAll()
    }
    unselectAllFilters() {
        this.services.filter.unselectAll()
    }
    getFilters(e) {
        const i = this.services.filter.getResources();
        return Object.keys(i).map(s => {
            const r = T({}, i[s]);
            return r.id = s,
            r.name = this.services.translator.getTranslation(r.name_id, ie.NAMESPACE.UI, e),
            delete r.name_id,
            r
        }
        )
    }
    isFocused() {
        return this.data.hasFocus
    }
    isFilterSelected(e) {
        return this.services.filter.isSelected(e)
    }
    standardGetLabelText(e) {
        const i = this.services.structure.findByTaxonKey(e);
        return this.services.translator.getTranslation(i.translation_key, ie.NAMESPACE.CONTENT)
    }
    recordLabelMode(e, i) {
        this.labelModeHandler[e] = i
    }
    setLabelMode(e) {
        typeof this.labelModeHandler[e] != "function" && (e = "standard"),
        this.data.labelMode = e
    }
    getTextLabelByTaxonKey(e, i=null, s=null) {
        try {
            const r = this.labelModeHandler[this.data.labelMode];
            return r(e, i, s)
        } catch (r) {
            return "<MISSING TRANSLATION>"
        }
    }
    onMouseLeave() {
        this.targetIsViewer = !1
    }
    zoomOnCoords(e, i, s) {
        const {MULTIPLIER: r, MIN_SCALE: n, MAX_SCALE: a} = this.services.renderingContext.get()
          , o = this.components.imageCanvas.getComputedScaleX()
          , l = Math.min(Math.max(n, r * o + s), a) / r;
        this.publish(F.EVENT.ZOOM),
        this.rescale(l / o),
        this.updateScaleLevel(l);
        const c = s !== 0 ? -l + o : 1
          , u = e * c
          , h = i * c;
        this.translateCanvas(u, h),
        this.animations.redrawOnlySliceMeta.trigger(),
        this.animations.redrawOnlyImage.trigger(),
        this.animations.redrawOnlyOverlays.trigger()
    }
    redrawOverlays() {
        this.services.overlay.draw(this.components.overlaysCanvas, this.services.image, this.services.renderingContext, this.services.translator)
    }
    triggerGoToNextSlice() {
        this.animations.moveToNextSlice.trigger()
    }
    triggerGoToPreviousSlice() {
        this.animations.moveToPreviousSlice.trigger()
    }
    goToNextSlice() {
        if (this.data.drawingIsAllowed === !0) {
            const e = this.services.slice.getCurrentRelativeIndex();
            this.moveToSlice(e + this.data.scrollDirection)
        }
    }
    goToPreviousSlice() {
        if (this.data.drawingIsAllowed === !0) {
            const e = this.services.slice.getCurrentRelativeIndex();
            this.moveToSlice(e - this.data.scrollDirection)
        }
    }
    moveToSlice(e, i=!1, s=null) {
        if (!this.isModeFullSeries() && !this.services.slice.isInRange(e) && !i) {
            const r = {
                isAuthorizedToMove: !0
            };
            if (this.publish(F.EVENT.MOVE_TO_SLICE, r),
            r.isAuthorizedToMove) {
                const n = this.getSeries().map(l => l.id)
                  , a = this.services.series.getCurrentId()
                  , o = n.findIndex(l => l === a);
                if (e > this.services.slice.sizeOfRelativeIndex() && o !== n.length - 1)
                    this.moveToSeries(n[o + 1], 1, !0);
                else if (e < 1 && o > 0) {
                    const l = this.services.series.findById(n[o - 1]);
                    this.moveToSeries(l.id, l.number_of_images, !0)
                }
            }
        } else {
            e = this.services.slice.getRelativeIndexInRange(e),
            this.services.slice.setCurrentRelativeIndex(e),
            this.publish(F.EVENT.IMAGE_VIEW, {
                sliceIndex: e,
                placement: s
            });
            const r = this.services.slice.getCurrent().series_id;
            r !== this.services.series.getCurrentId() && this.services.series.setCurrent(r),
            this.loadFrame()
        }
    }
    drawLabels(e) {
        const i = {
            application: this,
            layers: {
                points: this.components.pointsCanvas,
                leftLabels: this.components.leftLinesCanvas,
                rightLabels: this.components.rightLinesCanvas,
                animatedLineCanvas: this.components.animatedLineCanvas,
                buffer: this.components.fakeImaiosCanvas
            },
            translator: (s, r, n) => this.getTextLabelByTaxonKey(s, r, n)
        };
        this.services.labelsDrawer.precomputeContext(Y(T({}, i), {
            candidates: e
        })),
        this.services.labelsDrawer.stopAnimation(),
        this.services.labelsDrawer.draw(Y(T({}, i), {
            side: "left",
            candidates: e.left
        })),
        this.services.labelsDrawer.draw(Y(T({}, i), {
            side: "right",
            candidates: e.right
        }))
    }
    setFontZoomLevel(e) {
        const {FONT_ZOOM_MAX: i, FONT_ZOOM_MIN: s, FONT_ZOOM_LEVEL: r} = this.services.style.get();
        e = Math.max(s, Math.min(i, Math.ceil(e * 10) / 10)),
        e !== r && (this.services.style.update(N.ATTRIBUTE.FONT_ZOOM_LEVEL, e),
        this.redrawLabels())
    }
    onReady() {
        const {FONT_FAMILY: e, MAX_FONT_PX: i, MAX_LABEL_LINES: s} = this.services.style.get();
        this.services.style.update(N.ATTRIBUTE.MAX_LABEL_HEIGHT_WITH_LINES, Se.getTextHeightFromDiv(e, `${i}px`) * s),
        b0(this),
        window.addEventListener("resize", () => {
            this.onResize()
        }
        , !1),
        this.data.lastContainerWidth = this.ui.container.offsetWidth,
        this.data.lastContainerHeight = this.ui.container.offsetHeight,
        this.resizeMainZone(),
        this.handlers.keyboard.isReady = !0,
        this.publish(F.EVENT.READY)
    }
    onResize() {
        var e;
        this.data.isDirty || this.reset(),
        this.resize(),
        (e = this.animations.redrawFullSlice) == null || e.trigger()
    }
    getFilterIcon(e) {
        const i = this.services.filter.findById(e);
        return this.getIcon(i.icon_id)
    }
    getIcon(e) {
        return this.services.icon.getIcon(e)
    }
    enablePointerListener() {
        this.handlers.pointer.enable()
    }
    disablePointerListener() {
        this.handlers.pointer.disable()
    }
    isPointerListenerEnabled() {
        this.handlers.pointer.isEnabled()
    }
    rescale(e) {
        this.scaleCanvas(e, e)
    }
    updateScale() {
        this.updateZoomLimit(),
        this.publish(F.EVENT.RESCALE)
    }
    selectInteraction(e) {
        this.services.interaction.setCurrent(e)
    }
    getCurrentInteraction() {
        return this.services.interaction.getCurrentId()
    }
    changeBackgroundColors(e) {
        this.data.currentColor !== e && (this.data.currentColor = e,
        this.ui.container.style.backgroundColor = `#${e}`)
    }
    selectDisplaySeriesMode(e, i=1) {
        e === bh ? this.services.slice.restoreDefaultIndex() : this.services.slice.updateRelativeIndexWith(this.services.slice.find({
            series_id: e
        })),
        this.moveToSlice(i)
    }
    hideMetaCanvas() {
        this.components.pointsCanvas.hide(),
        this.components.leftLinesCanvas.hide(),
        this.components.rightLinesCanvas.hide(),
        this.components.animatedLineCanvas.hide(),
        this.components.overlaysCanvas.hide()
    }
    showMetaCanvas() {
        this.components.pointsCanvas.show(),
        this.components.leftLinesCanvas.show(),
        this.components.rightLinesCanvas.show(),
        this.components.animatedLineCanvas.show(),
        this.components.overlaysCanvas.show(),
        this.publish(F.EVENT.SHOW_META_CANVAS)
    }
    loadFrame(e=null) {
        typeof e != "number" && (e = this.services.slice.getCurrentRelativeIndex());
        const i = this.services.slice.getIdByRelativeIndex(e)
          , s = this.services.slice.findById(i)
          , r = this.services.image.generateImageId({
            slice_id: i,
            sort_order: s.sort_order,
            code: this.services.contrast.getCurrentCode(),
            quality: this.services.image.getQuality(),
            type: de.SLICE
        });
        this.services.image.setCurrent(r)
    }
    getContrasts(e) {
        const i = this.services.series.getCurrentId();
        return this.getAvailableContrastsBySeriesId(i, e)
    }
    getAvailableContrastsBySeriesId(e, i=null) {
        const s = this.services.contrast.data.resources.availables
          , r = Object.keys(s).filter(n => T({}, s[n]).series_id === e).map(n => {
            const a = T({}, s[n]);
            return a.name = this.services.translator.getTranslation(a.name_id, ie.NAMESPACE.UI, i),
            a
        }
        );
        return r.sort( (n, a) => n.sort_order - a.sort_order),
        r.length === 0 && r.push(s[-1]),
        r
    }
    selectContrast(e, i=!0) {
        this.services.contrast.select(e, i)
    }
    isCurrentContrast(e) {
        return this.services.contrast.isCurrent(e)
    }
    nextContrast() {
        const e = this.getContrasts();
        if (e.length > 1) {
            const i = this.services.contrast.getCurrentId()
              , s = e.findIndex(n => n.id === i)
              , r = s < e.length - 1 ? s + 1 : 0;
            this.selectContrast(e[r].id)
        }
    }
    selectLanguage(e) {
        const i = this.services.language;
        i.isAvailable(e) && i.getCurrent() !== e && i.setCurrent(e)
    }
    resizeMainZone() {
        const {imageCanvas: e, pointsCanvas: i, overlaysCanvas: s, fakeImaiosCanvas: r, leftLinesCanvas: n, animatedLineCanvas: a, rightLinesCanvas: o, viewzone: l} = this.components
          , c = this.ui.container.offsetHeight
          , u = this.ui.container.offsetWidth
          , h = u / e.getCanvasWidth()
          , d = c / e.getCanvasHeight()
          , m = this.ui.container.style.marginLeft
          , p = this.data.lastDevicePixelRatio !== null ? window.devicePixelRatio / this.data.lastDevicePixelRatio : window.devicePixelRatio;
        e.resize(m, Math.ceil(u * window.devicePixelRatio), Math.ceil(c * window.devicePixelRatio));
        const f = e.getCanvas().style;
        f.width = `${u}px`,
        f.height = `${c}px`,
        e[ae.METHOD.SCALE](p, p),
        i.resize(m, Math.ceil(u * window.devicePixelRatio), Math.ceil(c * window.devicePixelRatio));
        const g = i.getCanvas().style;
        g.width = `${u}px`,
        g.height = `${c}px`,
        i.animationCanvasComponent.getCanvas().style.width = `${u}px`,
        i.animationCanvasComponent.getCanvas().style.height = `${c}px`,
        i[ae.METHOD.SCALE](p, p),
        r.resize(m, Math.ceil(u * window.devicePixelRatio), Math.ceil(c * window.devicePixelRatio));
        const E = r.getCanvas().style;
        E.width = `${u}px`,
        E.height = `${c}px`,
        r[ae.METHOD.SCALE](p, p),
        s.resize(m, Math.ceil(u * window.devicePixelRatio), Math.ceil(c * window.devicePixelRatio));
        const I = s.getCanvas().style;
        I.width = `${u}px`,
        I.height = `${c}px`,
        s[ae.METHOD.SCALE](p, p),
        l.resize(m, Math.ceil(u * window.devicePixelRatio), Math.ceil(c * window.devicePixelRatio));
        const C = l.getCanvas().style;
        C.width = `${u}px`,
        C.height = `${c}px`,
        l[ae.METHOD.SCALE](p, p),
        n.resize(m, Math.ceil(u * window.devicePixelRatio), Math.ceil(c * window.devicePixelRatio));
        const w = n.getCanvas().style;
        w.width = `${u}px`,
        w.height = `${c}px`,
        n[ae.METHOD.SCALE](p, p),
        o.resize(m, Math.ceil(u * window.devicePixelRatio), Math.ceil(c * window.devicePixelRatio));
        const O = o.getCanvas().style;
        O.width = `${u}px`,
        O.height = `${c}px`,
        o[ae.METHOD.SCALE](p, p),
        a.resize(m, Math.ceil(u * window.devicePixelRatio), Math.ceil(c * window.devicePixelRatio));
        const M = a.getCanvas().style;
        M.width = `${u}px`,
        M.height = `${c}px`,
        a[ae.METHOD.SCALE](p, p),
        this.services.renderingContext.update($.ATTRIBUTE.WIDTH_CONTAINER, e.getWidth()),
        this.services.renderingContext.update($.ATTRIBUTE.HEIGHT_CONTAINER, i.getHeightAvailable()),
        this.data.lastDevicePixelRatio = window.devicePixelRatio,
        this.components.viewzone.isEnabled() === !0 && this.scaleViewZone(h, d)
    }
    reset(e=!0) {
        var l;
        const i = this.services.renderingContext
          , {HORIZONTAL_FLIP: s, VERTICAL_FLIP: r, ROTATION_ANGLE: n, SCALE: a, USER_ZOOM_PERFORMED: o} = $.ATTRIBUTE;
        i.update(s, !1),
        i.update(r, !1),
        i.update(n, 0),
        i.update(a, window.devicePixelRatio),
        i.update(o, !1),
        this.resetCanvas(),
        e && ((l = this.animations.redrawFullSlice) == null || l.trigger()),
        this.data.isDirty = !1
    }
    getPointHovered() {
        return this.services.point.getHover()
    }
    getStructureHovered() {
        return this.services.structure.getHover()
    }
    updateTranslationViewzone() {
        const {viewzone: e} = this.components;
        if (!e.isEnabled())
            return;
        const i = e.getCoords()
          , s = this.getCanvasImageRelativeCenter();
        e.setCoords({
            startX: s.x - i.width / 2,
            startY: s.y - i.height / 2,
            centerX: s.x,
            centerY: s.y,
            endX: s.x + i.width / 2,
            endY: s.y + i.height / 2
        })
    }
    resize(e=!1) {
        const {imageCanvas: i} = this.components
          , s = i.getTx()
          , r = i.getTy()
          , n = this.ui.container.offsetHeight
          , a = this.ui.container.offsetWidth
          , o = a / i.getWidth() * (window.devicePixelRatio / this.data.lastDevicePixelRatio)
          , l = n / i.getHeight() * (window.devicePixelRatio / this.data.lastDevicePixelRatio);
        if (this.translateCanvas(s * o - s, r * l - r),
        this.services.image.getCurrent() !== null) {
            const {SCALE: c} = this.services.renderingContext.getAll();
            let u;
            const h = this.services.image.getFromCache(this.services.image.getCurrentId());
            h.width < h.height ? u = n / this.data.lastContainerHeight : u = a / this.data.lastContainerWidth,
            this.setScale(u),
            this.updateScaleLevel(u * c)
        }
        this.saveCanvas(),
        this.resizeMainZone(),
        this.services.renderingContext.updateRenderingContext(),
        this.updateTranslationViewzone(),
        this.data.lastContainerWidth = this.ui.container.offsetWidth,
        this.data.lastContainerHeight = this.ui.container.offsetHeight,
        e || this.publish(F.EVENT.RESIZED)
    }
    clearImageCanvas() {
        this.components.imageCanvas.clear()
    }
    drawImageCanvas(e) {
        this.services.image.draw(this.components.imageCanvas, this.services.renderingContext, e)
    }
    redrawImageCanvas(e=null) {
        this.services.image.getCurrent() !== null && (e === null && (e = this.services.image.getCurrentId()),
        this.clearImageCanvas(),
        this.scaleAndCenterImage(),
        this.drawImageCanvas(e),
        this.data.isFirstRendering && (this.publish(F.EVENT.RENDERING_FIRST_FRAME),
        this.data.isFirstRendering = !1))
    }
    scaleCanvas(e, i) {
        this.services.transform.scale(this, {
            x: e,
            y: i
        })
    }
    saveCanvas() {
        this.services.transform.save(this)
    }
    restoreCanvas() {
        this.services.transform.restore(this)
    }
    verticalFlip() {
        this.onUserInteraction(),
        this.services.transform.verticalFlip(this)
    }
    horizontalFlip() {
        this.onUserInteraction(),
        this.services.transform.horizontalFlip(this)
    }
    rotate(e) {
        this.onUserInteraction(),
        this.services.transform.rotate(this, e)
    }
    getViewport() {
        const e = this.components.pointsCanvas
          , i = e.paddingTop * devicePixelRatio;
        return {
            width: e.getCanvasWidth(),
            height: e.getCanvasHeight() - i,
            top: i
        }
    }
    loadRoi(e, i, s, r) {
        const n = this.components.pointsCanvas
          , a = this.services.series.getCurrent()
          , {MULTIPLIER: o} = this.services.renderingContext.get()
          , l = {
            width: a.slices_width * o,
            height: a.slices_height * o
        };
        this.resetTransformCanvas();
        const c = n.getCanvasWidth()
          , u = n.getCanvasHeight()
          , h = this.getViewport()
          , d = e / i
          , m = h.width / h.height;
        let p;
        d < m ? p = h.height / i : p = h.width / e,
        this.translateCanvas(c / 2, (u + h.top) / 2),
        this.setScale(p),
        this.updateScaleLevel(p),
        this.translateCanvas(l.width / 2 * p, l.height / 2 * p),
        this.translateCanvas((-s - e / 2) * p, (-r - i / 2) * p),
        this.saveCanvas(),
        this.data.lastSeriesSize.width = a.slices_width * o,
        this.data.lastSeriesSize.height = a.slices_height * o
    }
    scaleAndCenterImage() {
        const e = this.data.lastSeriesSize
          , i = this.getCurrentSeriesSize();
        if (!this.services.image.haveSameSize(e, i)) {
            this.resetTransformCanvas(!1);
            const s = this.components.pointsCanvas
              , r = s.getCanvasHeightAvailable()
              , n = s.getCanvasWidth()
              , a = n / r;
            let o, l, c;
            i.width / i.height < a ? (o = r / i.height,
            l = n / 2,
            c = i.height / 2 * o) : (o = n / i.width,
            l = i.width / 2 * o,
            c = r / 2);
            const u = this.components.imageCanvas.transformCoordinates(l, c + s.paddingTop * window.devicePixelRatio, !0);
            this.translateCanvas(u.getX(), u.getY()),
            u.recycle(),
            this.setScale(o),
            this.updateScaleLevel(o),
            this.saveCanvas(),
            this.data.lastSeriesSize.width = i.width,
            this.data.lastSeriesSize.height = i.height
        }
    }
    resetCanvas() {
        this.data.lastSeriesSize.width = 0,
        this.data.lastSeriesSize.height = 0
    }
    getCurrentSeriesBackground() {
        const e = this.services.series.getCurrent();
        return e !== null ? e.background_color : ze.BLACK
    }
    getCurrentSeries() {
        const e = T({}, this.services.series.getCurrent());
        return e.name = this.services.translator.getTranslation(e.name_id, ie.NAMESPACE.UI),
        delete e.name_id,
        e
    }
    getSeries(e=null) {
        const i = this.services.series.getResources();
        return Object.keys(i).map(s => {
            const r = T({}, i[s]);
            return r.name = this.services.translator.getTranslation(r.name_id, ie.NAMESPACE.UI, e),
            delete r.name_id,
            r
        }
        ).sort( (s, r) => s.sort_order - r.sort_order)
    }
    getSeriesImage() {
        if (this.services.contrast.getDefault() !== null) {
            const e = this.getSeries();
            return Promise.all(e.map(i => _(this, null, function*() {
                const s = this.getSlicesSeries(i.id)
                  , r = this.services.modality.getIndexSlicePreview(i)
                  , n = yield this.providers.imageThumb.getImage({
                    sort_order: s[r].sort_order,
                    type: de.THUMBNAILS
                });
                return {
                    id: i.id,
                    src: n == null ? void 0 : n.src,
                    background_color: i.background_color
                }
            })))
        }
        return Promise.resolve([])
    }
    getCurrentSlice(e=null) {
        const i = T({}, this.services.slice.getCurrent());
        if (i.title_1 = this.services.translator.getTranslation(i.title_id1, ie.NAMESPACE.UI, e),
        i.title_2 = this.services.translator.getTranslation(i.title_id2, ie.NAMESPACE.UI, e),
        i.orientation_id) {
            const s = this.services.orientation.getTranslationID(i.orientation_id);
            i.orientation = this.services.translator.getTranslation(s, ie.NAMESPACE.UI, e)
        } else
            i.orientation = "";
        return i
    }
    getCrossReferences(e=null) {
        return _(this, null, function*() {
            e === null && (e = this.services.language.getCurrent());
            const i = this.getCurrentSeries()
              , {cross_references_titles: s} = i;
            if (!Array.isArray(s))
                return Promise.resolve(null);
            s.sort( (n, a) => n.sort_order - a.sort_order);
            const r = yield Promise.all(s.map(n => _(this, null, function*() {
                const a = yield this.providers.crImages.getImage({
                    series: i,
                    cr_sort_order: n.sort_order,
                    type: de.CROSS_REFERENCES
                }, j.PRIORITY.HIGH);
                return {
                    name: this.services.translator.getTranslation(n.name_id, ie.NAMESPACE.UI, e),
                    name_id: n.name_id,
                    destination: n.destination,
                    src: a.src,
                    imageDimensions: {
                        width: a.width,
                        height: a.height
                    },
                    ratio: a.width / a.height,
                    sort_order: n.sort_order
                }
            })));
            return {
                series_id: i.id,
                crossReferences: r
            }
        })
    }
    getSeriesHaveSameCR() {
        return Object.keys(this.services.series.seriesIdByCr).length > 0
    }
    getSeriesIdByCR(e) {
        var i;
        return (i = this.services.series.seriesIdByCr[e]) != null ? i : []
    }
    getCrossReferencesIndicators() {
        const e = this.getCurrentSlice()
          , {crossReferencesLines: i} = e;
        return i.sort( (s, r) => s.sort_order - r.sort_order)
    }
    getCurrentLanguage() {
        return this.services.language.getCurrent()
    }
    getLanguages() {
        return Array.from(this.services.language.getResources())
    }
    setLanguage(e) {
        typeof e == "string" && (e = parseInt(e, 10)),
        this.services.language.setCurrent(e)
    }
    getRelativeIndexCurrentSlice() {
        return this.services.slice.getCurrentRelativeIndex()
    }
    getNumberOfSlice() {
        return this.services.slice.sizeOfRelativeIndex()
    }
    isFullscreen() {
        return this.get("isFullScreen")
    }
    getSlices(e=null) {
        const i = this.services.slice.getResources();
        return Object.keys(i).map(s => {
            const r = T({}, i[s]);
            return r.title_1 = this.services.translator.getTranslation(r.title_id1, ie.NAMESPACE.UI, e),
            r.title_2 = this.services.translator.getTranslation(r.title_id2, ie.NAMESPACE.UI, e),
            delete r.title_id1,
            delete r.title_id2,
            r
        }
        )
    }
    getSlicesSeries(e) {
        return this.getSlices().filter(i => i.series_id === e)
    }
    getRelativeSliceIndexById(e, i=null) {
        return this.services.slice.getRelativeIndexById(e, i)
    }
    getSeriesIdByIndex(e) {
        return this.services.series.getSeriesIdByIndex(e)
    }
    isModeFullSeries() {
        const e = this.services.slice.getTotalSlices()
          , i = this.getNumberOfSlice();
        return e === i
    }
    getGalleryThumbnails(e, i) {
        if (this.services.contrast.getCurrent() !== null) {
            const s = this.services.contrast.findById(this.services.contrast.getDefault()).imaios_code
              , r = this.services.slice.sizeOfRelativeIndex()
              , n = Math.min(Math.floor(i / e), r);
            let a = 1;
            if (n === 0)
                return [];
            r > n && (a = (r - 1) / (n - 1));
            const o = [];
            for (let l = 0; l <= r && o.length < n; l += a) {
                const c = Math.max(1, Math.min(Math.round(l) + 1, r))
                  , u = this.services.slice.getSliceByRelativeIndex(c);
                o.push(u)
            }
            return Promise.all(o.map(l => new Promise(c => {
                this.providers.imageThumb.getImage({
                    slice_id: l.id,
                    sort_order: l.sort_order,
                    code: s,
                    quality: this.services.image.getQuality(),
                    type: de.THUMBNAILS
                }, j.PRIORITY.HIGH).then(u => {
                    c(u == null ? void 0 : u.src)
                }
                )
            }
            )))
        }
        return Promise.resolve([])
    }
    getPreviewSlice(e) {
        return _(this, null, function*() {
            const i = this.services.contrast.getResources()[this.services.contrast.getDefault()].imaios_code
              , s = this.services.slice.getSliceByRelativeIndex(e)
              , r = this.services.translator.getTranslation(s.title_id1, ie.NAMESPACE.UI)
              , n = this.services.translator.getTranslation(s.title_id2, ie.NAMESPACE.UI)
              , a = this.services.series.findById(s.series_id)
              , o = this.services.translator.getTranslation(a.name_id, ie.NAMESPACE.UI)
              , l = yield this.providers.imageThumb.getImage({
                slice_id: s.id,
                sort_order: s.sort_order,
                code: i,
                type: de.BOTTOM_PREVIEW_SLICE
            });
            return {
                title_1: r,
                title_2: n,
                titleSeries: o,
                src: l.src,
                relativeIndex: e
            }
        })
    }
    getNumberMaxSlices() {
        return Object.keys(this.services.slice.getResources()).length
    }
    getSeriesGallery(e=null) {
        if (this.services.contrast.getDefault() !== null) {
            const i = this.services.contrast.getResources()[this.services.contrast.getDefault()].imaios_code
              , s = this.getSeries(e);
            return Promise.all(s.map(r => _(this, null, function*() {
                var l;
                const n = this.getSlicesSeries(r.id)
                  , a = this.services.modality.getIndexSlicePreview(r)
                  , o = yield this.services.image.getImage({
                    slice_id: n[a].id,
                    code: i,
                    quality: this.services.image.getQuality(),
                    type: de.GALLERY_THUMB
                });
                return Y(T({}, r), {
                    src: (l = o.image) == null ? void 0 : l.src
                })
            })))
        }
        return Promise.resolve([])
    }
    getSlicesGallery(e=null) {
        if (this.services.contrast.getDefault() !== null) {
            const i = this.services.contrast.getResources()[this.services.contrast.getDefault()].imaios_code
              , s = this.getSlices(e);
            return s.sort( (r, n) => r.sort_order - n.sort_order),
            Promise.all(s.map(r => new Promise(n => {
                this.providers.imageThumb.getImage({
                    slice_id: r.id,
                    sort_order: r.sort_order,
                    code: i,
                    type: de.GALLERY_THUMB
                }).then(a => {
                    n(Y(T({}, r), {
                        src: a.src
                    }))
                }
                )
            }
            )))
        }
        return Promise.resolve([])
    }
    getImageAllSeries() {
        return _(this, null, function*() {
            if (this.services.contrast.getDefault() !== null) {
                yield this.getSeriesGallery();
                const e = yield this.getSeriesImage()
                  , i = [];
                if (e.length >= 4)
                    for (let s = 0; s < 4; s++)
                        i.push({
                            src: e[s].src,
                            background_color: e[s].background_color
                        });
                else {
                    e.forEach(s => i.push({
                        src: s.src,
                        background_color: s.background_color
                    }));
                    for (let s = 0; s < 4 - e.length; s++)
                        i.push({
                            src: null,
                            background_color: e[0].background_color
                        })
                }
                return i
            }
            return []
        })
    }
    getSliceIndexById(e) {
        return this.services.slice.getIndexById(e)
    }
    resetFilters() {
        this.services.filter.applyDefaultSettings()
    }
    resetContrast() {
        const e = this.services.contrast.getDefault();
        this.selectContrast(e)
    }
    moveToSeries(e, i=1, s=!0) {
        this.publish(F.EVENT.MOVE_SERIES);
        const r = this.getCurrentSlice();
        if (this.isModeFullSeries() && s === !0) {
            const n = this.services.series.getSeriesById(e);
            n !== "undefined" && this.moveToSlice(n.start_index)
        } else
            (r.series_id !== e || s !== !0) && this.selectDisplaySeriesMode(e, i)
    }
    getImageQuality() {
        return this.services.image.getQuality()
    }
    toggleImageQuality() {
        const e = this.getImageQuality()
          , i = y.getHighQuality();
        let s = i;
        i === e && (s = qi.LOW),
        this.services.image.switchQuality(s)
    }
    updateScaleLevel(e) {
        this.services.renderingContext.setScaleLevel(e)
    }
    hasModuleAccess() {
        return this.data.hasAccess
    }
    featureHidePointWithoutLabelIsActive() {
        return this.features["hide-point-without-label"].isActive()
    }
    toggleFeatureHidePointWithoutLabel() {
        this.features["hide-point-without-label"].toggleFeature(this)
    }
    searchStructure(e) {
        return this.services.search.searchStructure(e, this.application_id)
    }
    getPointsStructureHovered() {
        const e = this.getStructureHovered();
        return e === null ? [] : this.services.point.getActives().filter(i => i.taxon_key === e.getTaxonKey())
    }
    getOneImage() {
        return _(this, null, function*() {
            if (this.services.contrast.getDefault() !== null) {
                const e = this.services.contrast.getResources()[this.services.contrast.getDefault()].imaios_code
                  , i = this.getSlices()[0];
                return (yield this.services.image.getImage({
                    slice_id: i.id,
                    code: e,
                    quality: this.services.image.getQuality(),
                    type: de.SLICE
                })).image
            }
            return null
        })
    }
    inverseScroll(e) {
        this.behave("reverseScrolling", e)
    }
    isScrollInverse() {
        return this.data.scrollDirection === hi.BACKWARD
    }
    getCoverImage() {
        return re.baseURL + this.state.module.cover
    }
    backgroundColor() {
        return `#${this.state.module.background_color}`
    }
    getMinSizeFont() {
        return this.services.style.get(N.ATTRIBUTE.BASE_MIN_FONT_PX)
    }
    setMinFontSize(e) {
        this.services.style.update(N.ATTRIBUTE.BASE_MIN_FONT_PX, e),
        this.redrawLabels()
    }
    toggleViewzone(e=null, i=null) {
        this.components.viewzone.toggle(e, i)
    }
    togglePinMode() {
        this.features["pin-mode"].toggle(this)
    }
    getStructureByTaxonKey(e) {
        const i = T({}, this.services.structure.findByTaxonKey(e));
        return i.name = this.services.structure.getTranslation(i, ie.NAMESPACE.CONTENT),
        i.getTaxonKey = () => e,
        i
    }
    getStructureById(e, i=null) {
        const s = this.services.structure.findByStructId(e);
        let r = s.find(a => a.getTaxonKey() === i) || null
          , n = null;
        if (i !== null && (n = this.services.structure.getTranslation(r),
        r.name = n),
        r === null || n === null)
            for (const a of s) {
                const o = this.services.structure.getTranslation(a);
                o !== null && (a.ta_id === Ty || r === null) && (r = Y(T({}, a), {
                    name: o
                }),
                r.getTaxonKey = () => a.getTaxonKey())
            }
        return r
    }
    getStructureWidthPointsByTaxonKey(e) {
        const i = T({}, this.services.structure.findStructureWithPointByTaxonKey(e));
        return i.name = this.services.structure.getTranslation(i, ie.NAMESPACE.CONTENT),
        i.getTaxonKey = () => e,
        i
    }
    getStructureWidthPointsByStructureId(e) {
        const i = T({}, this.services.structure.findStructureWithPointByStructId(e));
        return i.name = this.services.structure.getTranslation(i, ie.NAMESPACE.CONTENT),
        i.getTaxonKey = () => taxon_key,
        i
    }
    switchImageProvider() {
        this.publish(Hh.EVENT.SWITCH_IMAGE_PROVIDER)
    }
    isOnlyOneFilterSelected(e) {
        const i = this.services.filter.getCurrent();
        return i.includes(e) && i.length === 1
    }
    addEventToPublicEvent(e, i=null) {
        const s = this.features["emit-public-event"];
        typeof s < "u" && s.addSubFeature(this, e, i)
    }
    getModuleShortName() {
        return this.state.module.short_name
    }
    getAlternativeModality() {
        return this.state.module.modality_name
    }
    otherSeriesHaveMoreThanOneContrast() {
        const e = this.services.series.getResources();
        let i = !1;
        return Object.values(e).forEach(s => {
            this.getAvailableContrastsBySeriesId(s.id).length > 1 && (i = !0)
        }
        ),
        i
    }
    getCurrentContrastCode() {
        return this.services.contrast.getCurrentCode()
    }
    isSliceLoaded(e) {
        const i = this.services.slice.getIdBySliceIndex(e)
          , s = this.services.slice.findById(i)
          , r = this.getAvailableContrastsBySeriesId(s.series_id);
        let n = this.services.contrast.getCurrentCode();
        typeof r.find(o => o.imaios_code === n) > "u" && (n = r[0].imaios_code);
        const a = this.services.image.generateImageId({
            slice_id: i,
            sort_order: s.sort_order,
            code: n,
            quality: this.services.image.getQuality(),
            type: de.SLICE
        });
        return this.services.image.hasImageInCache(a)
    }
    getSlicesIndexFromRelativeIndex() {
        return this.services.slice.getSlicesIndexFromRelativeIndex()
    }
    setFontSizeAuto() {
        this.data.fontSizeAuto === !1 && (this.data.fontSizeAuto = !0,
        this.animations.redrawOnlySliceMeta.trigger(),
        this.publish(F.EVENT.FONT_SIZE_MODE_UPDATED))
    }
    setFontSizeManual() {
        this.data.fontSizeAuto === !0 && (this.data.fontSizeAuto = !1,
        this.animations.redrawOnlySliceMeta.trigger(),
        this.publish(F.EVENT.FONT_SIZE_MODE_UPDATED))
    }
    setFontSize(e) {
        e >= Ly && e <= Oy && (this.services.style.update(N.ATTRIBUTE.FONT_SIZE, e),
        this.animations.redrawOnlySliceMeta.trigger(),
        this.publish(F.EVENT.FONT_SIZE_UPDATED))
    }
    getFontSize() {
        return this.services.style.get(N.ATTRIBUTE.FONT_SIZE)
    }
    isFontSizeAuto() {
        return this.data.fontSizeAuto
    }
    moduleHasCrossReferences() {
        return this.services.series.hasCrossReferences()
    }
    getCurrentSeriesSize() {
        const e = this.services.series.getCurrent();
        if (e === null)
            return null;
        const {MULTIPLIER: i} = this.services.renderingContext.get();
        return {
            width: e.slices_width * i,
            height: e.slices_height * i
        }
    }
    onUserInteraction() {
        this.data.isDirty = !0
    }
    exposeFunction(e, i) {
        const s = window.IMAIOS_ANATOMY.instances[this.data.custom_id];
        s[e] = i
    }
    exposeFunctionForScrapper() {
        this.exposeFunction("getCurrentLanguage", () => this.getCurrentLanguage()),
        this.exposeFunction("setLanguage", e => this.setLanguage(e))
    }
    getShortcutHandlers() {
        const e = {};
        return Bh.forEach(i => {
            i.shortcutKey.keys.split(zh).forEach(s => {
                e[s] = i.shortcutKey
            }
            )
        }
        ),
        e
    }
    hasSubscriberAccess() {
        return this.data.userAccess === er.PREMIUM
    }
    loadUserAccess() {
        return _(this, null, function*() {
            this.data.userAccess = er.FREE,
            this.data.userAccess = yield o0(this.application_id)
        })
    }
    disablePulseAnimationOnPoint() {
        var e, i;
        (i = (e = this.services.pointDrawer).disablePulseAnimationOnPoint) == null || i.call(e)
    }
    enablePulseAnimationOnPoint() {
        var e, i;
        (i = (e = this.services.pointDrawer).enablePulseAnimationOnPoint) == null || i.call(e)
    }
    getContainerElement() {
        return document.getElementById(this.parentContainer_id)
    }
}
F.EVENT = {
    VIEWER_LAUNCH: "viewer-launch",
    READY: "application-ready",
    RESIZED: "application-resized",
    RENDERING_FIRST_FRAME: "application-rendering-first-frame",
    RESCALE: "application-rescale-canvas",
    ZOOM: "application-zoom",
    ERROR: "application-error",
    MOVE_SERIES: "application-mode-series",
    MOVE_TO_SLICE: "application-move-slice",
    MODULE_LOADED: "application-module-loaded",
    MODULE_DATA_LOADED: "application-module-data-loaded",
    SHOW_META_CANVAS: "application-show-meta-canvas",
    GET_SELECTED_POINTS: "application-get-selected-points",
    FONT_SIZE_UPDATED: "application-font-size-updated",
    FONT_SIZE_MODE_UPDATED: "application-font-size-mode-updated",
    STATE_HAS_BEEN_INITIALIZED: "application-state-has-been-initialized",
    IMAGE_VIEW: "application-image-view"
};
const Dn = {
    EVENT: {
        STATUS_CHANGE: "quiz-mode-status-change"
    }
};
class zt extends bl {
    constructor(e={}) {
        super(e),
        this.default_id = null,
        this.current_id = null
    }
}
class Cr extends zt {
    constructor() {
        super({}),
        this.qualities = new zt({
            container: new Set
        }),
        this.settingsByImageId = {}
    }
}
Cr.EVENT = {
    QUALITY_CHANGE: "image-quality-change"
};
class Tl extends Me {
    constructor(e={}) {
        super({
            _id: e._id || "pin-mode-drawer-service"
        }),
        this.loadIcons()
    }
    loadIcons() {
        return _(this, null, function*() {
            this.pinImageBorder = yield this.createImage(wy),
            this.imageWidth = this.pinImageBorder.width,
            this.imageHeight = this.pinImageBorder.height,
            this.pinImageFull = yield this.createImage(Ay),
            this.fakeCanvas = document.createElement("canvas"),
            this.fakeCanvas.width = this.imageWidth,
            this.fakeCanvas.height = this.imageHeight
        })
    }
    drawPoints(e, i) {
        const {HORIZONTAL_FLIP: s} = i.services.renderingContext.get()
          , r = [...e]
          , n = i.getBoundingBox()
          , a = r.slice(0);
        let o = 0;
        const l = i.services.point;
        s ? r.sort( (u, h) => h.y - u.y) : r.sort( (u, h) => u.y - h.y),
        r.forEach(u => {
            const h = l.refreshContextualCoords({
                transformation: p => i.applyLocalTransformationToPoint(p, !0),
                point: u
            })
              , {x: d, y: m} = h;
            if (l.isVisible(u.id))
                if (i.updatePointStyle(u, !0),
                l.isInBox(h, n))
                    this.drawOnePoint(u, i),
                    a[o++] = u;
                else {
                    const {RECENTER_SLIGHT_MARGIN: p} = i.services.style.get();
                    if (i.needToHandleIsolateOffset === !0) {
                        i.needToHandleIsolateOffset = !1;
                        let f = 0
                          , g = 0;
                        u < n.left ? f = n.left - d + p : d > n.right && (f = n.right - d - p),
                        m < n.top ? g = n.top - m + p : m > n.bottom && (g = n.bottom - m - p),
                        (f !== 0 || g !== 0) && i.translateCanvas(f, g)
                    }
                }
        }
        ),
        a.length = o;
        const c = n.left + (n.right - n.left) * .5;
        i.services.renderingContext.update($.ATTRIBUTE.LEFT_RIGHT_THRESHOLD, c),
        i.services.point.setPointsVisible(a)
    }
    drawOnePoint(e, i) {
        const {MULTIPLIER: s, IMAGE_OFFSET_X: r, IMAGE_OFFSET_Y: n, HORIZONTAL_FLIP: a, VERTICAL_FLIP: o, SCALE: l, ROTATION_ANGLE: c} = i.services.renderingContext.get();
        this.drawPin(e.x * s + r, e.y * s + n, this.imageWidth / l, this.imageHeight / l, i, e, a, o, c % 360)
    }
    drawPin(e, i, s, r, n, a, o, l, c) {
        s *= a.sizeMultiplier,
        r *= a.sizeMultiplier;
        const u = this.fakeCanvas.getContext("2d");
        u.setTransform(1, 0, 0, 1, 0, 0),
        u.clearRect(0, 0, this.fakeCanvas.width, this.fakeCanvas.height),
        u.globalAlpha = a.circleAlpha;
        const h = {
            x: 0,
            y: 0
        };
        (c !== 0 || o) && (l && (c = -c),
        o && (c === 0 || Math.abs(c) === 180) && (c += 180),
        u.translate(this.pinImageFull.naturalWidth / 2, this.pinImageFull.naturalHeight / 2),
        u.rotate(-c * Math.PI / 180),
        h.x -= this.pinImageFull.naturalWidth / 2,
        h.y -= this.pinImageFull.naturalHeight / 2),
        u.drawImage(this.pinImageFull, h.x, h.y, this.pinImageFull.naturalWidth, this.pinImageFull.naturalHeight),
        u.globalCompositeOperation = "source-atop",
        u.beginPath(),
        u.arc(this.pinImageFull.naturalWidth / 2 + h.x, this.pinImageFull.naturalHeight / 2 + h.y, r * 4, 0, Math.PI * 2, !1),
        u.closePath();
        const d = Cs(a.circleColor);
        u.fillStyle = `rgb(${d.r}, ${d.g}, ${d.b})`,
        u.fill(),
        u.globalCompositeOperation = "source-over",
        u.drawImage(this.pinImageBorder, h.x, h.y, this.pinImageBorder.naturalWidth, this.pinImageBorder.naturalHeight),
        u.globalAlpha = 1,
        e -= s / 2,
        i -= r,
        c < 0 && (c += 360),
        c > 0 && c < 180 ? (e -= s / 2,
        i += r / 2) : c >= 180 && c < 270 ? i += r : c >= 270 && c < 360 && (e += s / 2,
        i += r / 2),
        n.drawImage(this.fakeCanvas, e, i, s, r)
    }
    createImage(e) {
        return new Promise( (i, s) => {
            const r = new Image;
            r.onload = () => i(r),
            r.onerror = s,
            r.src = e
        }
        )
    }
}
class ve {
    constructor(e={}) {
        const i = typeof e.filter_id == "number" ? e.filter_id.toString(10) : e.filter_id;
        this.id = e.id,
        this.x = e.x_pixel || e.x,
        this.y = e.y_pixel || e.y,
        this.color = e.color,
        this.filter_id = i,
        this.priority = e.priority,
        this.default_priority = e.priority,
        this.isIsolated = e.isIsolated || !1,
        this.isSelected = e.isSelected || !1,
        this.isSelectedByUser = e.isSelectedByUser || !1,
        this.slice_id = e.slice_id || null,
        this.taxon_id = e.taxon_id,
        this.ta_id = e.ta_id,
        this.taxon_key = this.getTaxonKey(),
        this.circleAlpha = "",
        this.edgeColor = "",
        this.edgeAlpha = "",
        this.circleColor = "",
        this.sizeMultiplier = 1,
        this.contextual_x = 0,
        this.contextual_y = 0
    }
    getTaxonKey() {
        return `${this.ta_id}-${this.taxon_id}`
    }
    setCoords(e, i) {
        return this.x = e,
        this.y = i,
        this
    }
    distance(e) {
        return Math.sqrt(this.distance2(e))
    }
    distance2(e) {
        return (this.x - e.x) * (this.x - e.x) + (this.y - e.y) * (this.y - e.y)
    }
    resetPriority() {
        this.priority = this.default_priority
    }
    setPriority(e) {
        this.priority = Math.max(-200, Math.min(e, 180))
    }
    copy(e) {
        const i = T({}, e);
        for (const s in i)
            this[s] = i[s];
        return this
    }
    getColor() {
        return `#${this.color}`
    }
}
ve.POOL = {
    AVAIBLE: [new ve(0,0,0,0,0,0,0), new ve(0,0,0,0,0,0,0), new ve(0,0,0,0,0,0,0)],
    instances: 3
};
ve.getOne = function() {
    return ve.POOL.AVAIBLE.length > 0 ? ve.POOL.AVAIBLE.pop() : (ve.POOL.instances++,
    new ve)
}
;
ve.recycle = function(t) {
    ve.POOL.AVAIBLE.push(t)
}
;
const O0 = "hidden"
  , x0 = -5;
class M0 extends Me {
    constructor(e, i={}) {
        super(i),
        this.wrapperComponents = {},
        this.application = e,
        this.allowPointer = !0
    }
    deleteWrapper(e, i) {
        const s = i.dataset.pointId;
        this.application.ui.container.removeChild(i),
        this.wrapperComponents[e].wrappers = this.wrapperComponents[e].wrappers.filter(r => r.dataset.pointId !== s),
        this.wrapperComponents[e].texts = this.wrapperComponents[e].texts.filter(r => r.dataset.pointId !== s),
        this.wrapperComponents[e].icons = this.wrapperComponents[e].icons.filter(r => r.dataset.pointId !== s)
    }
    delete(e) {
        this.wrapperComponents[e].wrappers.forEach(i => {
            this.application.ui.container.removeChild(i)
        }
        ),
        delete this.wrapperComponents[e]
    }
    toggleDisplay(e, i, s) {
        if (typeof this.wrapperComponents[e] < "u")
            this.delete(e);
        else {
            this.generateElement(e);
            const r = this.wrapperComponents[e].wrappers;
            this.setText(e, i),
            s().then(n => this.setImage(e, n)),
            r.forEach(n => this.application.ui.container.appendChild(n))
        }
    }
    existOnCoords(e, i) {
        for (const s in this.wrapperComponents)
            for (const r in s.wrappers) {
                const n = r.getBoundingClientRect();
                if (n.left < e && n.right > e && n.top < i && n.bottom > i)
                    return !0
            }
        return !1
    }
    onPointerDown(e) {
        e.preventDefault()
    }
    onPointerUp(e, i) {
        if (Se.isLeftClick(e)) {
            const s = this.application.services.point.findById(i)
              , r = this.application.services.structure.findByTaxonKey(s.getTaxonKey());
            this.application.services.structure.publish(He.EVENT.CLICK, {
                structure: r,
                point: s
            })
        }
    }
    createElement(e) {
        const i = document.createElement("div");
        i.dataset.pointId = e,
        i.addEventListener("pointerup", a => this.onPointerUp(a, e)),
        i.addEventListener("pointerdown", a => this.onPointerDown(a)),
        i.classList.add("structure-title-component-pin");
        const s = document.createElement("img");
        s.dataset.pointId = e;
        const r = document.createElement("span");
        r.dataset.pointId = e,
        i.appendChild(s),
        i.appendChild(r);
        const n = T({}, this.application.services.point.findById(e));
        return this.application.components.pointsCanvas.applyLocalTransformationToPoint(n, !0),
        this.setPosition(i, n.x, n.y - En.height * n.sizeMultiplier / window.devicePixelRatio),
        {
            wrapper: i,
            text: r,
            icon: s
        }
    }
    generateElement(e) {
        const i = this.application.services.point.getActives().filter(a => a.taxon_key === e).map(a => a.id)
          , s = []
          , r = []
          , n = [];
        i.forEach(a => {
            const {wrapper: o, text: l, icon: c} = this.createElement(a);
            s.push(o),
            r.push(l),
            n.push(c)
        }
        ),
        this.wrapperComponents[e] = {
            wrappers: s,
            texts: r,
            icons: n,
            hidden: !1
        }
    }
    setText(e, i) {
        typeof this.wrapperComponents[e] < "u" && (this.wrapperComponents[e].texts.forEach(s => s.textContent = i),
        this.wrapperComponents[e].text = i)
    }
    setImage(e, i) {
        typeof this.wrapperComponents[e] < "u" && (this.wrapperComponents[e].icons.forEach(s => s.src = i),
        this.wrapperComponents[e].icon = i)
    }
    update(e) {
        if (this.wrapperComponents[e] !== "undefined") {
            const i = this.wrapperComponents[e]
              , s = this.application.services.point.getActives().filter(n => n.taxon_key === e)
              , r = s.filter(n => typeof i.wrappers.find(a => a.dataset.pointId === n.id.toString()) > "u");
            i.wrappers.forEach(n => {
                const a = s.find(o => o.id.toString() === n.dataset.pointId);
                if (typeof a < "u") {
                    const o = ve.getOne().setCoords(a.x, a.y);
                    this.application.components.pointsCanvas.applyLocalTransformationToPoint(o, !0),
                    this.setPosition(n, o.x, o.y - En.height * a.sizeMultiplier / window.devicePixelRatio),
                    ve.recycle(o)
                } else
                    this.deleteWrapper(e, n)
            }
            ),
            r.forEach(n => {
                const {wrapper: a, text: o, icon: l} = this.createElement(n.id);
                o.textContent = i.text,
                l.src = i.icon,
                i.wrappers.push(a),
                i.texts.push(o),
                i.icons.push(l),
                this.application.ui.container.appendChild(a)
            }
            )
        }
    }
    setPosition(e, i, s) {
        const r = this.application.ui.container.getBoundingClientRect();
        e.style.left = `${r.left + i}px`,
        e.style.top = `${r.top + (s + x0)}px`
    }
    clear() {
        Object.keys(this.wrapperComponents).forEach(e => {
            this.delete(e)
        }
        )
    }
    clearExcept(e) {
        Object.keys(this.wrapperComponents).forEach(i => {
            e.includes(i) || this.delete(i)
        }
        )
    }
    allowPointerEvents() {
        this.allowPointer || (Object.values(this.wrapperComponents).forEach(e => {
            e.wrappers.forEach(i => i.style.pointerEvents = "")
        }
        ),
        this.allowPointer = !0)
    }
    disallowPointerEvents() {
        this.allowPointer && (Object.values(this.wrapperComponents).forEach(e => {
            e.wrappers.forEach(i => i.style.pointerEvents = "none")
        }
        ),
        this.allowPointer = !1)
    }
    toggleHiddenClass(e) {
        this.wrapperComponents[e].wrappers.forEach(i => {
            i.classList.toggle(O0)
        }
        )
    }
}
const N0 = 2;
class R0 {
    constructor(e) {
        this.application = e,
        this.structureTitlePinComponent = null
    }
    onPointerUp(e, i) {
        const s = this.getStructureTitlePinComponent();
        if (e.services.point.hasHover() && K.isRightClick(i) === !1) {
            const r = e.services.point.getHover()
              , n = e.getTextLabelByTaxonKey(r.taxon_key, r.id)
              , a = e.services.structure.findByTaxonKey(r.taxon_key);
            s.toggleDisplay(a.getTaxonKey(), n, () => e.getIcon(a.icon_id)),
            e.animations.redrawOnlySliceMeta.trigger()
        }
    }
    getSizePin(e) {
        const {MULTIPLIER: i, SCALE: s} = this.application.services.renderingContext.get();
        return {
            width: En.width / (s * i) * e.sizeMultiplier,
            height: En.height / (s * i) * e.sizeMultiplier
        }
    }
    getBoundingBox(e) {
        return {
            top: 0,
            bottom: Math.ceil(e.getHeight()),
            left: 0,
            right: Math.ceil(e.getWidth())
        }
    }
    getPointBoundingBox(e) {
        const i = this.getSizePin(e);
        return {
            top: Math.ceil(e.y - i.height),
            bottom: e.y,
            left: Math.ceil(e.x - i.width * .5),
            right: Math.ceil(e.x + i.width * .5) - N0
        }
    }
    pointIsInBBox(e, i) {
        return e.x >= i.left && e.x <= i.right && e.y <= i.bottom && e.y >= i.top
    }
    getCoordsPoint(e) {
        return e.services.point.fromCoords(e.state.pointer.data.coords.x * window.devicePixelRatio, e.state.pointer.data.coords.y * window.devicePixelRatio)
    }
    getPointHover(e) {
        const i = e.services.point
          , s = e.components.pointsCanvas
          , r = this.getCoordsPoint(e);
        s.canvasCoordsToImageCoords(r);
        const n = i.getActives();
        let a = null;
        for (let o = 0; o < n.length; o++) {
            const l = n[o]
              , c = this.getPointBoundingBox(l);
            this.pointIsInBBox(r, c) && (a = l)
        }
        return ve.recycle(r),
        a
    }
    clear() {
        this.clearExcept([])
    }
    isOnDetail(e) {
        return this.structureTitlePinComponent.existOnCoords(e.x, e.y)
    }
    clearExcept(e) {
        this.getStructureTitlePinComponent().clearExcept(e),
        this.application.animations.redrawOnlySliceMeta.trigger()
    }
    onAllPointDrawn() {
        const e = this.getStructureTitlePinComponent();
        Object.keys(e.wrapperComponents).forEach(i => {
            e.update(i)
        }
        )
    }
    onUpdatePointStyle(e, i, s=!1, r=!1) {
        s ? (i.circleAlpha = e.services.style.get(N.ATTRIBUTE.LABELS_ISOLATE_ALPHA),
        i.circleColor = e.services.style.get(N.ATTRIBUTE.ISOLATE_COLOR_PIN)) : i.circleAlpha = r ? e.services.style.get(N.ATTRIBUTE.LABELS_FULL_ALPHA) : e.services.style.get(N.ATTRIBUTE.PIN_WEAK_ALPHA)
    }
    updatePointSizeMultiplier(e) {
        const i = this.getStructureTitlePinComponent();
        e.sizeMultiplier = typeof i.wrapperComponents[e.taxon_key] < "u" ? 1.3 : 1
    }
    getStructureTitlePinComponent() {
        return this.structureTitlePinComponent === null && (this.structureTitlePinComponent = new M0(this.application)),
        this.structureTitlePinComponent
    }
    disallowPointerEvents() {
        this.getStructureTitlePinComponent().disallowPointerEvents()
    }
    allowPointerEvents() {
        this.getStructureTitlePinComponent().allowPointerEvents()
    }
    isolate(e) {
        const i = this.getStructureTitlePinComponent();
        e.forEach(s => {
            if (typeof i.wrapperComponents[s] > "u") {
                const r = this.application.getTextLabelByTaxonKey(s)
                  , n = this.application.services.structure.findByTaxonKey(s);
                i.toggleDisplay(s, r, () => this.application.getIcon(n.icon_id))
            }
        }
        ),
        this.clearExcept(e)
    }
    toggleStructureTitlePinComponent() {
        const e = this.getStructureTitlePinComponent();
        Object.keys(e.wrapperComponents).forEach(i => {
            e.toggleHiddenClass(i)
        }
        )
    }
}
class wi extends ae {
    constructor(e) {
        super(T({
            name: "anatomy-point-canvas"
        }, e)),
        this.animationCanvasComponent = new ae(Y(T({}, e), {
            name: "anatomy-point-canvas-animation"
        })),
        this.services = {
            point: e.services.point,
            slice: e.services.slice,
            filter: e.services.filter,
            structure: e.services.structure,
            style: e.services.style,
            series: e.services.series,
            renderingContext: e.services.renderingContext
        }
    }
    enable(e="anonymous") {
        super.enable(e),
        this.animationCanvasComponent.enable(e)
    }
    disable(e="anonymous") {
        var i;
        super.disable(e),
        (i = this.animationCanvasComponent) == null || i.disable(e)
    }
    setHeight(e) {
        var i;
        super.setHeight(e),
        (i = this.animationCanvasComponent) == null || i.setHeight(e)
    }
    setWidth(e) {
        var i;
        super.setWidth(e),
        (i = this.animationCanvasComponent) == null || i.setWidth(e)
    }
    setFillStyle(e) {
        super.setFillStyle(e),
        this.animationCanvasComponent.setFillStyle(e)
    }
    setStrokeStyle(e) {
        super.setStrokeStyle(e),
        this.animationCanvasComponent.setStrokeStyle(e)
    }
    lineWidth(e) {
        super.lineWidth(e),
        this.animationCanvasComponent.lineWidth(e)
    }
    clearCanvas(e, i, s, r, n) {
        super.clearCanvas(e, i, s, r, n),
        this.animationCanvasComponent.clearCanvas(e, i, s, r, n)
    }
    [ae.METHOD.SAVE]() {
        super[ae.METHOD.SAVE](),
        this.animationCanvasComponent[ae.METHOD.SAVE]()
    }
    [ae.METHOD.RESTORE]() {
        super[ae.METHOD.RESTORE](),
        this.animationCanvasComponent[ae.METHOD.RESTORE]()
    }
    [ae.METHOD.SCALE](e, i) {
        super[ae.METHOD.SCALE](e, i),
        this.animationCanvasComponent[ae.METHOD.SCALE](e, i)
    }
    [ae.METHOD.ROTATE](e) {
        super[ae.METHOD.ROTATE](e),
        this.animationCanvasComponent[ae.METHOD.ROTATE](e)
    }
    resize(e, i, s) {
        var r;
        super.resize(e, i, s),
        (r = this.animationCanvasComponent) == null || r.resize(e, i, s)
    }
    translate(e, i) {
        var s;
        super.translate(e, i),
        (s = this.animationCanvasComponent) == null || s.translate(e, i)
    }
    setTransform(e, i, s, r, n, a) {
        var o;
        super.setTransform(e, i, s, r, n, a),
        (o = this.animationCanvasComponent) == null || o.setTransform(e, i, s, r, n, a)
    }
    hide() {
        super.hide(),
        this.animationCanvasComponent.hide()
    }
    show() {
        super.show(),
        this.animationCanvasComponent.show()
    }
    redraw(e) {
        this.clear(),
        this.refreshPointsAvailable(),
        e.services.pointDrawer.drawPoints(this.services.point.getPointsToDraw(), this)
    }
    getBoundingBox() {
        return this.services.point.pointHelper.getBoundingBox(this)
    }
    refreshPointsAvailable() {
        const e = this.services.point;
        e.clearLinks();
        const i = this.services.slice.getCurrent();
        i !== null && (e.clearPointsToDraw(),
        i.points.forEach(s => {
            const r = e.findById(s);
            this.services.point.isVisible(r.id) && e.setDrawable(s)
        }
        ))
    }
    updatePointStyle(e, i=!1) {
        const s = this.services.style
          , r = s.get(N.ATTRIBUTE.LABELS_FULL_ALPHA)
          , n = s.get(N.ATTRIBUTE.LABELS_WEAK_ALPHA)
          , a = this.services.series.isSchema(this.services.series.getCurrent());
        e.circleAlpha = r,
        e.edgeColor = a && !i ? e.color : ze.BLACK,
        e.circleColor = a && !i ? ze.BLACK : e.color,
        e.edgeAlpha = n,
        e.sizeMultiplier = 1,
        this.publish(wi.EVENT.UPDATE_POINT_STYLE, e),
        e.sizeMultiplier !== 1 && !a && !i && (e.edgeColor = e.color)
    }
    applyLocalTransformationToPoint(e, i=!1) {
        const {MULTIPLIER: s, VERTICAL_FLIP: r, HORIZONTAL_FLIP: n, IMAGE_OFFSET_X: a, IMAGE_OFFSET_Y: o} = this.services.renderingContext.get()
          , l = e.x * s
          , c = e.y * s;
        e.x = (l + a) * this.getComputedScaleX(r) + this.getTx(),
        e.y = (c + o) * this.getComputedScaleY(n) + this.getTy(),
        this.getRotatedCoordinatesOfPoint(e),
        i && (e.x /= window.devicePixelRatio,
        e.y /= window.devicePixelRatio)
    }
    canvasCoordsToImageCoords(e) {
        const {MULTIPLIER: i, VERTICAL_FLIP: s, HORIZONTAL_FLIP: r, IMAGE_OFFSET_X: n, IMAGE_OFFSET_Y: a} = this.services.renderingContext.get();
        this.invertRotation(e);
        let o = (e.x - this.getTx()) / this.getComputedScaleX(s) - n
          , l = (e.y - this.getTy()) / this.getComputedScaleY(r) - a;
        o /= i,
        l /= i,
        e.x = o,
        e.y = l
    }
    invertRotation(e) {
        const i = To * this.services.renderingContext.get($.ATTRIBUTE.ROTATION_ANGLE);
        if (i !== 0) {
            const s = Math.cos(i)
              , r = Math.sin(i)
              , {x: n, y: a} = e
              , o = this.getTx()
              , l = this.getTy();
            e.x = s * (n - o) + r * (a - l) + o,
            e.y = s * (a - l) - r * (n - o) + l
        }
    }
    getRotatedCoordinatesOfPoint(e) {
        const i = To * this.services.renderingContext.get($.ATTRIBUTE.ROTATION_ANGLE);
        if (i !== 0) {
            const s = Math.cos(i)
              , r = Math.sin(i)
              , {x: n, y: a} = e
              , o = this.getTx()
              , l = this.getTy();
            e.x = s * (n - o) - r * (a - l) + o,
            e.y = s * (a - l) + r * (n - o) + l
        }
    }
}
wi.EVENT = {
    UPDATE_POINT_STYLE: "update-point-style"
};
class wt extends Pe {
    init(e) {
        De([{
            name: F.EVENT.READY,
            from: e
        }]).then( () => {
            super.init(e),
            this.onInit(e)
        }
        )
    }
    onInit(e) {}
}
const es = {
    TOGGLE: "toggle_label_notification"
}
  , kn = {
    STATUS_CHANGE: "viewzone-feature-status-change"
}
  , Zt = {
    CLEAN_ISOLATE: "clean-isolate",
    START_ISOLATE: "start-isolate"
}
  , _s = {
    EVENT: {
        STATUS_CHANGE: "pin-mode-feature-status-change"
    }
};
class P0 extends wt {
    constructor(e) {
        super(Y(T({}, e), {
            subscriber_id: "pin-mode-feature"
        })),
        this.standardPointDrawer = e.services.pointDrawer,
        this.pointDrawer = new Tl(Y(T({}, e), {
            drawer_id: "pin-mode-drawer"
        })),
        this.pointHelper = e.services.point.pointHelper,
        this.pinHelper = new R0(e),
        this.pointerHasMoveWhenWasDown = !1,
        this.taxonKeys = []
    }
    disable(e) {
        e.publish(_s.EVENT.STATUS_CHANGE),
        super.disable(),
        e.setPointDrawer(this.standardPointDrawer),
        e.services.point.setPointHelper(this.pointHelper),
        this.pinHelper.structureTitlePinComponent.clear(),
        e.components.leftLinesCanvas.show(),
        e.components.rightLinesCanvas.show(),
        e.components.animatedLineCanvas.show()
    }
    enable(e) {
        e.publish(_s.EVENT.STATUS_CHANGE),
        super.enable(),
        e.setPointDrawer(this.pointDrawer),
        e.services.point.setPointHelper(this.pinHelper),
        e.components.leftLinesCanvas.hide(),
        e.components.rightLinesCanvas.hide(),
        e.components.animatedLineCanvas.hide()
    }
    toggle(e) {
        this.isEnabled() ? this.disable(e) : this.enable(e),
        e.animations.redrawOnlySliceMeta.trigger()
    }
    subscribe(e) {
        return [{
            from: e,
            name: F.EVENT.SHOW_META_CANVAS,
            action: () => {
                this.isEnabled() && (e.components.leftLinesCanvas.hide(),
                e.components.rightLinesCanvas.hide(),
                e.components.animatedLineCanvas.hide())
            }
        }, {
            from: e.services.labelsDrawer,
            name: ge.EVENT.BEFORE_SET_CANDIDATES,
            action: i => {
                this.isEnabled() && (i.candidates = [])
            }
        }, {
            from: e,
            name: [Dn.EVENT.STATUS_CHANGE, kn.STATUS_CHANGE],
            action: () => {
                this.isEnabled() && this.disable(e)
            }
        }, {
            from: e.handlers.pointer,
            name: K.EVENT.POINTER_MOVE,
            action: () => {
                e.state.pointer.isDown && (this.pointerHasMoveWhenWasDown = !0,
                this.isEnabled() && this.pinHelper.disallowPointerEvents())
            }
        }, {
            from: e.handlers.pointer,
            name: K.EVENT.POINTER_DOWN,
            action: i => {
                this.isEnabled() && !this.pinHelper.isOnDetail(i) && this.pinHelper.disallowPointerEvents()
            }
        }, {
            from: e.handlers.pointer,
            name: K.EVENT.POINTER_UP,
            action: i => {
                this.isEnabled() && this.pinHelper.allowPointerEvents(),
                this.isEnabled() && !e.services.point.hasHover() && !this.pointerHasMoveWhenWasDown && !K.isRightClick(i) && !this.pinHelper.isOnDetail(i) && this.pinHelper.clearExcept(this.taxonKeys),
                this.pointerHasMoveWhenWasDown = !1
            }
        }, {
            from: e,
            name: Ce.ALL_POINT_DRAWN,
            action: () => {
                this.isEnabled() && this.pinHelper.onAllPointDrawn()
            }
        }, {
            from: e.components.pointsCanvas,
            name: wi.EVENT.UPDATE_POINT_STYLE,
            action: i => {
                this.isEnabled() && this.pinHelper.updatePointSizeMultiplier(i)
            }
        }, {
            from: e,
            name: Zt.START_ISOLATE,
            action: ({structure_id: i}) => {
                if (this.isEnabled()) {
                    const s = e.services.structure.findByStructId(i);
                    this.taxonKeys = s.map(r => r.getTaxonKey()),
                    this.pinHelper.isolate(this.taxonKeys)
                }
            }
        }, {
            from: e,
            name: Zt.CLEAN_ISOLATE,
            action: () => {
                this.isEnabled() && (this.taxonKeys = [])
            }
        }, {
            from: e,
            name: F.EVENT.GET_SELECTED_POINTS,
            action: i => {
                this.isEnabled() && e.services.point.getActives().forEach(s => i.push(s))
            }
        }, {
            from: e,
            name: es.toggle,
            action: () => {
                this.isEnabled() && this.pinHelper.toggleStructureTitlePinComponent()
            }
        }]
    }
}
const D0 = (t, e) => {
    const i = new P0(t);
    return i.init(t, e),
    i
}
;
class k0 extends At {
    init(e) {
        e.setBehavior("reverseScrolling", i => {
            e.data.scrollDirection === hi.FORWARD ? e.data.scrollDirection = hi.BACKWARD : e.data.scrollDirection = hi.FORWARD,
            e.publish(Al.EVENT.STATUS_CHANGE, {
                isReverse: e.data.scrollDirection === hi.FORWARD,
                placement: i
            })
        }
        )
    }
}
const Al = {
    EVENT: {
        STATUS_CHANGE: "reverse-scroll-status-change"
    }
}
  , H0 = (t, e) => {
    const i = new k0(e);
    return i.init(t, e),
    i
}
  , vs = {
    LOADED: "share-link-context-loaded",
    PAN_ZOOM_LOADED: "share-link-pan-zoom-context-loaded",
    POINTS_LOADED: "share-link-points-context-loaded"
};
class z0 extends Pe {
    constructor(e) {
        super(Y(T({}, e), {
            subscriber_id: "hide-point-feature"
        })),
        this.hidePointsWithoutLabel = !1
    }
    toggleFeature(e) {
        this.hidePointsWithoutLabel ? this.setInactive(e) : this.setActive(e)
    }
    clear(e) {
        e.pointsWithLabel.clear()
    }
    whitelist(e, i) {
        e.pointsWithLabel.add(i)
    }
    isActive() {
        return this.hidePointsWithoutLabel
    }
    setActive(e) {
        this.hidePointsWithoutLabel = !0,
        e.animations.redrawOnlySliceMeta.trigger()
    }
    setInactive(e) {
        this.hidePointsWithoutLabel = !1,
        e.animations.redrawOnlySliceMeta.trigger()
    }
    drawWhitelistedPoints(e) {
        if (this.hidePointsWithoutLabel) {
            const i = e.components.pointsCanvas;
            i.clear(),
            e.pointsWithLabel.forEach(s => {
                const r = e.services.point.findById(s);
                e.services.pointDrawer.drawOnePoint(r, i)
            }
            ),
            e.publish(Fh.END_DRAW_POINTS_WITHOUT_LABEL)
        }
    }
    subscribe(e) {
        return [{
            from: e,
            name: ge.EVENT.CHANGE,
            action: () => {
                this.bindSubscriptions(e)
            }
        }, {
            from: e.services.labelsDrawer,
            name: ge.EVENT.LABEL_DRAWN,
            action: ({point: i}) => {
                this.whitelist(e, i.id)
            }
        }, {
            from: e,
            name: ge.EVENT.ALL_LABEL_DRAWN,
            action: () => {
                this.drawWhitelistedPoints(e)
            }
        }, {
            from: e.services.labelsDrawer,
            name: ge.EVENT.NEW_RENDERING,
            action: () => {
                this.clear(e)
            }
        }, {
            from: e,
            name: _s.EVENT.STATUS_CHANGE,
            action: () => {
                this.isActive() && this.toggleFeature(e)
            }
        }]
    }
}
const Fh = {
    END_DRAW_POINTS_WITHOUT_LABEL: "hide-point-without-label-end-draw"
}
  , B0 = (t, e) => {
    const i = new z0(e);
    return i.init(t, e),
    i
}
  , Vh = {
    getSeriesTitle(t, e) {
        return t === null || t.title_1 === null && t.title_2 === null ? e !== null ? `${e == null ? void 0 : e.name} ${t.sort_order - e.start_index + 1}` : "" : t.title_1 === null ? t.title_2 : t.title_2 === null ? t.title_1 : `${t.title_1} - ${t.title_2}`
    }
}
  , ga = 18
  , Ks = 19
  , bu = 10
  , Su = 5
  , F0 = 10
  , V0 = 5
  , Tu = 15
  , As = {
    GENERATE_WATERMARK: "generate-watermark",
    CLEAR_WATERMARK: "clear-watermark",
    TAKE_SCREENSHOT: "take-screenshot"
};
class dt extends wt {
    constructor() {
        super()
    }
    onInit(e) {
        e.setBehavior("saveImage", ({displaySeriesTitle: s=!0}={}) => {
            dt.saveImage(e, s)
        }
        ),
        e.setBehavior("download-image", ({name: s=null, displaySeriesTitle: r=!0}={}) => {
            const n = document.createElement("a");
            n.download = `${s !== null ? s : dt.getSeriesTitle(e)}.jpg`,
            n.href = dt.generateScreenshotUrl(e, r),
            n.click()
        }
        );
        let i;
        e.setBehavior("generate-watermark", () => {
            const s = e.ui.container
              , r = s.offsetWidth
              , n = s.offsetHeight;
            i = dt.generateWatermarkCanvas(e, r, n),
            i.style.zIndex = 26,
            i.style.position = "absolute",
            s.appendChild(i),
            e.publish(As.GENERATE_WATERMARK)
        }
        ),
        e.setBehavior("remove-watermark", () => {
            i.remove(),
            e.emit(As.CLEAR_WATERMARK)
        }
        ),
        this.exposeFunctionsForScrapper(e)
    }
    static saveImage(e, i) {
        e.publish(As.TAKE_SCREENSHOT);
        const s = dt.generateScreenshotUrl(e, i)
          , r = new Image;
        r.src = s;
        const n = window.open();
        n.document.body.innerHTML = r.outerHTML,
        n.document.body.style.margin = "0",
        e.animations.redrawOnlySliceMeta.trigger()
    }
    static generateScreenshotUrl(e, i=!0) {
        const {pointsCanvas: s, imageCanvas: r, overlaysCanvas: n, leftLinesCanvas: a, rightLinesCanvas: o, animatedLineCanvas: l} = e.components
          , c = document.getElementById(e.parentContainer_id)
          , u = c.offsetWidth
          , h = c.offsetHeight
          , d = document.createElement("canvas")
          , m = d.getContext("2d");
        d.width = u,
        d.height = h;
        const p = r.getCanvasWidth()
          , f = r.getCanvasHeight();
        let g = u
          , E = h;
        u / h !== p / f && (p > f ? (g = p * h / f,
        E = h) : (E = f * u / p,
        g = u)),
        s.clear(),
        e.drawOnlyLinkedPoint(!0),
        m.fillStyle = e.services.series.isSchema() ? `#${ze.WHITE}` : `${ze.BLACK}`,
        m.fillRect(0, 0, u, h);
        const I = (u - g) / 2
          , C = (h - E) / 2;
        return m.drawImage(r.getCanvas(), 0, 0, p, f, I, C, g, E),
        m.drawImage(n.getCanvas(), 0, 0, p, f, I, C, g, E),
        m.drawImage(s.getCanvas(), 0, 0, p, f, I, C, g, E),
        m.drawImage(a.getCanvas(), 0, 0, p, f, I, C, g, E),
        m.drawImage(o.getCanvas(), 0, 0, p, f, I, C, g, E),
        m.drawImage(l.getCanvas(), 0, 0, p, f, I, C, g, E),
        m.drawImage(dt.generateWatermarkCanvas(e, u, h), 0, 0),
        i && m.drawImage(dt.generateTitle(e, u, h), 0, 0),
        d.toDataURL("image/jpeg")
    }
    static generateWatermarkCanvas(e, i, s) {
        const r = document.createElement("canvas")
          , n = r.getContext("2d");
        r.height = s,
        r.width = i,
        n.save(),
        n.translate(i - 65, s),
        n.rotate(-90 * Math.PI / 180),
        n.font = `bold 10px ${Br}`,
        n.fillStyle = _y;
        const a = e.application_id === Rt.EANATOMY ? "e-Anatomy" : "vet-Anatomy";
        n.fillText(a, 20, 40),
        n.font = `7px ${Br}`;
        const o = `© Copyright IMAIOS ${new Date().getFullYear()}`;
        return n.fillText(o, 20, 50),
        r
    }
    static getSeriesTitle(e) {
        return Vh.getSeriesTitle(e.getCurrentSlice(), e.getCurrentSeries())
    }
    static getOrientation(e) {
        const i = e.getCurrentSlice();
        return i.orientation !== "" ? `(${i.orientation})` : null
    }
    static getColors(e) {
        const i = document.getElementById(e.parentContainer_id)
          , s = getComputedStyle(i.firstElementChild);
        return {
            fontColor: s.getPropertyValue("--color"),
            backgroundColor: s.getPropertyValue("--background")
        }
    }
    static generateTitle(e, i, s) {
        const r = dt.getSeriesTitle(e)
          , n = dt.getOrientation(e)
          , {fontColor: a, backgroundColor: o} = dt.getColors(e)
          , l = document.createElement("canvas")
          , c = l.getContext("2d");
        l.height = s,
        l.width = i,
        c.font = `bold ${Ks}px ${Br}`;
        const u = et(c, r + n).width
          , h = et(c, n).width;
        c.fillStyle = o;
        const d = (i - u) / 2;
        return a0(c, d - bu, ga - Su, u + bu * 2 + Tu / 2, Ks + Su * 2 + V0, F0),
        c.fillStyle = a,
        c.fillText(r, d, Ks + ga),
        n !== null && (c.font = `normal ${Ks}px ${Br}`,
        c.fillText(n, (i + u) / 2 - h + Tu, Ks + ga)),
        l
    }
    exposeFunctionsForScrapper(e) {
        e.exposeFunction("generateScreenshotUrl", (i=!0) => dt.generateScreenshotUrl(e, i))
    }
}
const U0 = t => {
    const e = new dt;
    return e.init(t),
    e
}
  , mi = {
    BLACKLIST: "blacklist-structure",
    CLEAR_BLACKLIST: "clear-blacklist"
}
  , Sn = {
    BLACKLIST_POINT: "blacklist-point-event",
    WHITELIST_POINT: "whitelist-point-event"
}
  , Uh = {
    TOGGLE: "toggle-overlays-notification"
}
  , k = {
    application: {
        READY: F.EVENT.READY,
        RESIZED: F.EVENT.RESIZED,
        ERROR: F.EVENT.ERROR,
        RENDERING_FIRST_FRAME: F.EVENT.RENDERING_FIRST_FRAME,
        MODULE_DATA_LOADED: F.EVENT.MODULE_DATA_LOADED,
        FONT_SIZE_UPDATED: F.EVENT.FONT_SIZE_UPDATED
    },
    filter: {
        ADDED: xe.EVENT.ADDED,
        LOADED: xe.EVENT.LOADED,
        SELECTED: xe.EVENT.SELECTED,
        UNSELECTED: xe.EVENT.UNSELECTED
    },
    contrast: {
        ADDED: ot.EVENT.ADDED,
        LOADED: ot.EVENT.LOADED,
        SELECTED: ot.EVENT.SELECTED,
        SET_DEFAULT: ot.EVENT.SET_DEFAULT
    },
    translator: {
        ADDED: ie.EVENT.ADDED
    },
    language: {
        CHANGE: bt.EVENT.CHANGE,
        ADDED: bt.EVENT.ADDED,
        LOADED: bt.EVENT.LOADED
    },
    interaction: {
        CHANGE: ks.EVENT.CHANGE
    },
    orientation: {
        CHANGE: $i.EVENT.CHANGE
    },
    image: {
        LOADING_START: j.EVENT.LOADING_START,
        LOADING_END: j.EVENT.LOADING_END,
        ASK_SHOW_PROGRESS: j.EVENT.ASK_SHOW_PROGRESS,
        ASK_HIDE_PROGRESS: j.EVENT.ASK_HIDE_PROGRESS,
        QUALITY_CHANGE: Cr.EVENT.QUALITY_CHANGE,
        IMAGE_SLICE_HAS_BEEN_LOADED: j.EVENT.IMAGE_SLICE_HAS_BEEN_LOADED,
        STOP_LOADING_IMAGES: "stop-loading-images"
    },
    structure: {
        CLICK: He.EVENT.CLICK,
        SELECTED: He.EVENT.SELECTED,
        FILTER: "filter-structure"
    },
    series: {
        CHANGE: ns.EVENT.SERIES_CHANGE,
        SELECT_SERIES: "select-series"
    },
    slice: {
        CHANGE: Fe.EVENT.SLICE_CHANGE,
        SLICE_INDEX_CHANGE: Fe.EVENT.SLICE_INDEX_CHANGE,
        LOADED: Fe.EVENT.SLICE_LOADED
    },
    quiz: {
        CHANGE: Dn.EVENT.STATUS_CHANGE
    },
    viewzone: {
        CHANGE: kn.STATUS_CHANGE
    },
    ui: {
        CLOSE_MENU: "close-menu",
        SETTINGS: {
            RESET: "reset-settings",
            DISPLAY_SHORTCUTS: "display-shortcuts",
            CHANGE_THEME: "change-theme"
        },
        THEME: {
            SWITCH: Lh
        },
        VIEWER: {
            MOUNTED: "anatomy-viewer-mounted",
            SEARCH: "viewer-search-click",
            ORIENTATION: "orientation-status-change",
            MIN_FONT_UPDATE: "update-min-font-size",
            CONTRAST: "contrast-click",
            CROSS_REFERENCES: "cross-references-panel-status-change",
            HAS_BEEN_RESIZED: "ui-viewer-has-been-resized",
            MENU_INITIALIZED: "ui-menu-has-been-initialized",
            CROSS_REFERENCES_INITIALIZED: "ui-cr-has-been-initialized",
            OVERLAY_OPACITY_CHANGED: "ui-menu-overlay-opacity-changed",
            MENU_STATE_CHANGED: "ui-menu-state-change"
        },
        PANEL_STRUCTURE: {
            OPEN: "structure-panel-open",
            ISOLATE: "structure-panel-option-isolate",
            HIDE: "structure-panel-option-hide",
            SELECT: "structure-panel-option-select",
            CLICK_HIERARCHY: "structure-panel-click-hierarchy",
            CLICK_GALLERY: "structure-panel-click-gallery",
            CLICK_IMAGE_STRUCTURE_GALLERY: "click-image-structure-gallery"
        },
        MODULE_GALLERY: {
            CLICK_IMAGE: "click-image-gallery"
        },
        BOTTOM_GALLERY: {
            CLICK_IMAGE: "bottom-gallery-click_image"
        }
    },
    featureIsolate: {
        CLEAN_ISOLATE: Zt.CLEAN_ISOLATE,
        START_ISOLATE: Zt.START_ISOLATE
    },
    pinMode: {
        CHANGE: _s.EVENT.STATUS_CHANGE
    },
    reverseScroll: {
        STATUS_CHANGE: Al.EVENT.STATUS_CHANGE
    },
    shareLink: {
        LOADED: vs.LOADED
    },
    hidePointsWithoutLabelFeature: {
        END_DRAW_POINTS_WITHOUT_LABEL: Fh.END_DRAW_POINTS_WITHOUT_LABEL
    },
    fullscreenFeature: {
        ON_FULLSCREEN: tn.ON_FULLSCREEN,
        ON_EXIT_FULLSCREEN: tn.ON_EXIT_FULLSCREEN
    },
    saveImageFeature: {
        GENERATE_WATERMARK: As.GENERATE_WATERMARK,
        CLEAR_WATERMARK: As.CLEAR_WATERMARK
    },
    blacklistFeature: {
        BLACKLIST_STRUCTURE: mi.BLACKLIST,
        CLEAR_BLACKLIST_STRUCTURE: mi.CLEAR_BLACKLIST,
        BLACKLIST_POINT: Sn.BLACKLIST_POINT,
        WHITELIST_POINT: Sn.WHITELIST_POINT
    },
    errors: {
        VUE_ERROR: "vue-error",
        CORE_ERROR: "core-error",
        STRUCTURE_PANEL: "structure-panel",
        STRUCTURE_PANEL_GALLERY: "structure-panel-gallery"
    },
    pointerHandler: {
        UP: K.EVENT.POINTER_UP,
        DOWN: K.EVENT.POINTER_DOWN,
        MOVE: K.EVENT.POINTER_MOVE
    },
    gallery: {
        IN_THIS_MODULE: {
            CLICK_IMAGE: "click-image-in-this-module"
        },
        IN_OTHER_MODULE: {
            CLICK_IMAGE: "click-image-in-other-module"
        }
    },
    labels: {
        TOGGLE: es.TOGGLE
    },
    overlays: {
        TOGGLE: Uh.TOGGLE
    }
}
  , G0 = {
    name: "CrossSVG"
};
var $0 = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        attrs: {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            d: "M12 4a1 1 0 0 1 1 1v6h6a1 1 0 1 1 0 2h-6v6a1 1 0 1 1-2 0v-6H5a1 1 0 1 1 0-2h6V5a1 1 0 0 1 1-1z",
            fill: "currentColor"
        }
    })])
}
  , j0 = []
  , Y0 = x(G0, $0, j0, !1, null, null);
const Au = Y0.exports
  , W0 = {
    name: "ShowSVG"
};
var K0 = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M15.5 12C15.5 13.933 13.933 15.5 12 15.5C10.067 15.5 8.5 13.933 8.5 12C8.5 10.067 10.067 8.5 12 8.5C13.933 8.5 15.5 10.067 15.5 12ZM14 12C14 13.1046 13.1046 14 12 14C10.8954 14 10 13.1046 10 12C10 10.8954 10.8954 10 12 10C13.1046 10 14 10.8954 14 12Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M12.0156 5C6.4626 5 3.38748 9.40511 2.35342 11.2263C2.078 11.7114 2.078 12.2886 2.35342 12.7737C3.38748 14.5949 6.4626 19 12.0156 19C17.5752 19 20.6313 14.5844 21.6536 12.7672C21.9246 12.2856 21.9246 11.7144 21.6536 11.2328C20.6313 9.41558 17.5752 5 12.0156 5ZM3.65782 11.9669C4.64455 10.2291 7.33388 6.5 12.0156 6.5C16.7004 6.5 19.3712 10.235 20.3463 11.9683C20.3564 11.9861 20.3568 11.9963 20.3568 12C20.3568 12.0037 20.3564 12.0139 20.3463 12.0317C19.3712 13.765 16.7004 17.5 12.0156 17.5C7.33388 17.5 4.64455 13.7709 3.65782 12.0331C3.64743 12.0148 3.64685 12.0042 3.64685 12C3.64685 11.9958 3.64743 11.9852 3.65782 11.9669Z",
            fill: "black"
        }
    })])
}
  , Z0 = []
  , Q0 = x(W0, K0, Z0, !1, null, null);
const Oo = Q0.exports
  , X0 = {
    name: "HideSVG"
};
var q0 = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M12 6.49998C7.31826 6.49998 4.62892 10.2291 3.64219 11.9669C3.6318 11.9852 3.63123 11.9958 3.63123 12C3.63123 12.0041 3.6318 12.0147 3.64219 12.033C4.62892 13.7709 7.31826 17.5 12 17.5C16.6847 17.5 19.3556 13.765 20.3307 12.0317C20.3407 12.0138 20.3412 12.0037 20.3412 12C20.3412 11.9963 20.3407 11.9861 20.3307 11.9682C19.3556 10.235 16.6847 6.49998 12 6.49998ZM2.33779 11.2263C3.37185 9.40509 6.44697 4.99998 12 4.99998C17.5596 4.99998 20.6157 9.41556 21.638 11.2328C21.9089 11.7144 21.9089 12.2856 21.638 12.7672C20.6157 14.5844 17.5596 19 12 19C6.44697 19 3.37185 14.5949 2.33779 12.7737C2.06237 12.2886 2.06237 11.7114 2.33779 11.2263Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M12 14C13.1045 14 14 13.1045 14 12C14 10.8954 13.1045 9.99998 12 9.99998C10.8954 9.99998 9.99997 10.8954 9.99997 12C9.99997 13.1045 10.8954 14 12 14ZM12 15.5C13.933 15.5 15.5 13.933 15.5 12C15.5 10.067 13.933 8.49998 12 8.49998C10.067 8.49998 8.49997 10.067 8.49997 12C8.49997 13.933 10.067 15.5 12 15.5Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M20.7865 3.21875C21.0794 3.51165 21.0794 3.98652 20.7865 4.27941L4.2855 20.7804C3.99261 21.0733 3.51773 21.0733 3.22484 20.7804C2.93195 20.4875 2.93195 20.0126 3.22484 19.7197L19.7258 3.21875C20.0187 2.92586 20.4936 2.92586 20.7865 3.21875Z",
            fill: "black"
        }
    })])
}
  , J0 = []
  , e2 = x(X0, q0, J0, !1, null, null);
const xo = e2.exports
  , t2 = {
    name: "ArrowRightSubMenuSVG"
};
var i2 = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        attrs: {
            width: "6",
            height: "10",
            viewBox: "0 0 6 10",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            d: "M0.749897 1.02904C0.457942 1.32099 0.457684 1.79426 0.74932 2.08653L3.65644 5L0.74932 7.91346C0.457684 8.20573 0.457942 8.679 0.749897 8.97096C1.04208 9.26314 1.51579 9.26314 1.80797 8.97096L4.71827 6.06066C5.21828 5.56066 5.46828 5.31066 5.46828 5C5.46828 4.68934 5.21828 4.43934 4.71828 3.93934L1.80797 1.02904C1.51579 0.736856 1.04208 0.736856 0.749897 1.02904Z",
            fill: "currentColor"
        }
    })])
}
  , s2 = []
  , r2 = x(t2, i2, s2, !1, null, null);
const Mo = r2.exports
  , n2 = {
    __name: "option-list",
    props: {
        displayed: {
            type: Boolean,
            required: !0
        }
    },
    setup(t) {
        return {
            __sfc: !0
        }
    }
};
var a2 = function() {
    var t = this
      , e = t._self._c;
    return t._self._setupProxy,
    t.displayed ? e("ul", {
        staticClass: "option-list"
    }, [t._t("default")], 2) : t._e()
}
  , o2 = []
  , l2 = x(n2, a2, o2, !1, null, null);
const Gh = l2.exports
  , c2 = {
    __name: "option-item",
    props: {
        disabled: {
            type: Boolean,
            required: !1,
            default: !1
        }
    },
    setup(t) {
        return {
            __sfc: !0
        }
    }
};
var u2 = function() {
    var t = this
      , e = t._self._c;
    return t._self._setupProxy,
    e("li", {
        staticClass: "option-item",
        class: {
            "option-disabled": t.disabled
        }
    }, [t._t("default")], 2)
}
  , d2 = []
  , h2 = x(c2, u2, d2, !1, null, "d2b59cfe");
const wl = h2.exports
  , p2 = {
    name: "IconButton",
    props: {
        icon: Object,
        isPressed: {
            type: Boolean,
            default: !1
        }
    },
    emits: ["click"],
    methods: {
        handleClick() {
            this.$emit("click")
        }
    }
};
var m2 = function() {
    var t = this
      , e = t._self._c;
    return e("button", {
        staticClass: "icon-button",
        attrs: {
            "aria-pressed": t.isPressed
        },
        on: {
            click: t.handleClick
        }
    }, [e(t.icon, {
        tag: "component",
        staticClass: "icon"
    })], 1)
}
  , g2 = []
  , f2 = x(p2, m2, g2, !1, null, "58f423d8");
const $h = f2.exports
  , v2 = {
    props: {
        disabled: {
            type: Boolean,
            required: !1,
            default: !1
        },
        isActive: {
            type: Boolean,
            required: !0,
            default: !1
        },
        numberActive: {
            type: Number,
            require: !1,
            default: null
        }
    },
    emits: ["click"],
    methods: {
        handleClick() {
            this.disabled || this.$emit("click")
        }
    }
};
var y2 = function() {
    var t = this
      , e = t._self._c;
    return e("div", {
        staticClass: "toggle",
        on: {
            click: t.handleClick
        }
    }, [e("span", {
        staticClass: "toggle-item",
        class: {
            selected: t.isActive,
            "toggle-number": t.numberActive
        },
        attrs: {
            "aria-disabled": t.disabled
        }
    }, [t.numberActive ? e("span", {
        staticClass: "toggle-counter"
    }, [e("span", {
        staticClass: "toggle-counter-number"
    }, [t._v(t._s(t.numberActive))])]) : t._e()])])
}
  , E2 = []
  , I2 = x(v2, y2, E2, !1, null, "6231d0f1");
const Hn = I2.exports
  , br = {
    methods: {
        getShortcutKeyByName(t) {
            return this.$store.getters["shortcut/getShortcutKeyByName"](t)
        }
    }
};
let fa = {}
  , wu = null;
const C2 = {
    name: "FilterSection",
    directives: {
        ClickOutside: Ft
    },
    components: {
        IconButton: $h,
        Toggle: Hn,
        OptionItem: wl,
        OptionList: Gh,
        HideSVG: xo,
        ShowSVG: Oo,
        CrossSVG: Au,
        ArrowRightSubMenuSVG: Mo
    },
    mixins: [br],
    props: {
        isVisible: Boolean
    },
    data() {
        return {
            filtersIcons: {},
            filterOpen: null,
            haveAtLeastOnStructureHidden: !1,
            structureDisplayed: !0,
            overlaysDisplayed: !0,
            displayDropdown: !1
        }
    },
    computed: {
        buttonDisplayHiddenStructureDisabled() {
            return !this.structureDisplayed || !this.haveAtLeastOnStructureHidden
        },
        showHideIcon() {
            return this.structureDisplayed ? Oo : xo
        },
        shortcutDrawStructures() {
            return this.getShortcutKeyByName("hide-labels")
        },
        shortcutShowHiddenStructure() {
            return this.getShortcutKeyByName("show-hidden-structures")
        },
        shortcutToggleOverlays() {
            return this.getShortcutKeyByName("toggle-overlays")
        },
        showMoreOption() {
            return Au
        },
        showFilterDetail() {
            return Mo
        }
    },
    created() {
        const {ui: t, filter: e, blacklistFeature: i, labels: s, overlays: r} = k;
        fa = y.createHooks([{
            on: t.SETTINGS.RESET,
            do: () => this.reset()
        }, {
            on: e.SELECTED,
            do: () => this.$forceUpdate()
        }, {
            on: e.UNSELECTED,
            do: () => this.$forceUpdate()
        }, {
            on: [i.BLACKLIST_STRUCTURE, i.CLEAR_BLACKLIST_STRUCTURE, i.BLACKLIST_POINT, i.WHITELIST_POINT],
            do: this.checkingThereAreHiddenStructuresOrPoints
        }, {
            on: s.TOGGLE,
            do: () => {
                this.structureDisplayed = !this.structureDisplayed
            }
        }, {
            on: r.TOGGLE,
            do: () => {
                this.overlaysDisplayed = !this.overlaysDisplayed
            }
        }])
    },
    mounted() {
        wu = t1(this.$refs.showHideButton.$el, {
            placement: "left",
            theme: "tooltip",
            allowHTML: !0,
            maxWidth: 480,
            arrow: i1,
            interactive: !0,
            offset: [0, 10],
            appendTo: "parent"
        })
    },
    updated() {
        let t = "";
        this.structureDisplayed ? t = this.$t("menu.filter.hide-all-structures") : t = this.$t("menu.filter.show-all-structures"),
        wu.setContent(`${t}<span style='font-weight: 400; margin-left: 10px;'> H </span>`)
    },
    beforeMount() {
        y.onBeforeMount(fa)
    },
    beforeUnmount() {
        y.onBeforeUnmount(fa)
    },
    methods: {
        getFiltersIcons(t) {
            t.forEach(e => {
                typeof this.filtersIcons[e.icon_id] < "u" || (this.filtersIcons[e.icon_id] = wh,
                this.getFilterIcon(e.id).then(i => {
                    i !== "" && (this.filtersIcons[e.icon_id] = i,
                    e.icon = i,
                    this.$forceUpdate())
                }
                )),
                e.icon = this.filtersIcons[e.icon_id],
                this.getFiltersIcons(e.children)
            }
            )
        },
        filters() {
            const t = this.$store.getters["anatomy/filters"];
            return this.getFiltersIcons(t),
            t
        },
        toggleFilter(t) {
            this.$store.dispatch("anatomy/toggleFilter", t),
            this.$forceUpdate()
        },
        toggleAllFilters(t=null) {
            t !== null ? this.$store.dispatch("anatomy/filter:toggleAllChild", t) : this.$store.dispatch("anatomy/toggleAllFilters"),
            this.$forceUpdate()
        },
        getFilterIcon(t) {
            return this.$store.getters["anatomy/getFilterIcon"](t)
        },
        isSelectedFilter(t, e=null) {
            return e !== null && t === -1 ? e.children.every(i => this.$store.getters["anatomy/isFilterSelected"](i.id)) : this.$store.getters["anatomy/isFilterSelected"](t)
        },
        toggleOpenFilterChild(t) {
            this.filterOpen === t ? this.filterOpen = null : this.filterOpen = t
        },
        numberOfChildrenSelected(t) {
            return t.children.filter(e => this.isSelectedFilter(e.id)).length
        },
        currentOpenChildrenFilter(t) {
            return this.filterOpen === t
        },
        closeCurrentChildrenFilter(t) {
            if (this.filterOpen === t)
                return !1
        },
        reset() {
            this.$store.dispatch("anatomy/filter:reset"),
            this.$forceUpdate()
        },
        clearHiddenStructures() {
            this.haveAtLeastOnStructureHidden && (this.$store.dispatch("anatomy/structure:clear"),
            this.closeDropdown())
        },
        checkingThereAreHiddenStructuresOrPoints() {
            this.haveAtLeastOnStructureHidden = this.$store.getters["anatomy/haveBlacklistedStructures"]() || this.$store.getters["anatomy/haveHiddenPoints"]()
        },
        toggleDrawStructures() {
            var t;
            this.closeDropdown(),
            (t = this.$store.getters["anatomy/application"]) == null || t.toggleLabels()
        },
        toggleOverlay() {
            var t;
            this.closeDropdown(),
            (t = this.$store.getters["anatomy/application"]) == null || t.toggleOverlays()
        },
        toggleDropdown() {
            this.displayDropdown = !this.displayDropdown
        },
        closeDropdown() {
            this.displayDropdown = !1
        },
        toggleNumberActive(t, e) {
            return !t || t === e ? null : t
        }
    }
};
var b2 = function() {
    var t = this
      , e = t._self._c;
    return e("div", [e("div", {
        staticClass: "title-section"
    }, [e("span", [t._v(t._s(t.$t("menu.filter.section-title")))]), e("div", {
        staticClass: "dropdown-structures"
    }, [e("icon-button", {
        ref: "showHideButton",
        staticClass: "structure-section-button",
        attrs: {
            icon: t.showHideIcon
        },
        nativeOn: {
            click: function(i) {
                return t.toggleDrawStructures.apply(null, arguments)
            }
        }
    }), e("icon-button", {
        staticClass: "structure-section-button dropdown-button",
        attrs: {
            "aria-selected": t.displayDropdown,
            icon: t.showMoreOption
        },
        nativeOn: {
            click: function(i) {
                return t.toggleDropdown.apply(null, arguments)
            }
        }
    }), e("option-list", {
        directives: [{
            name: "click-outside",
            rawName: "v-click-outside",
            value: t.closeDropdown,
            expression: "closeDropdown"
        }],
        attrs: {
            displayed: t.displayDropdown
        }
    }, [e("option-item", {
        nativeOn: {
            click: function(i) {
                return t.toggleDrawStructures.apply(null, arguments)
            }
        }
    }, [e("span", [t._v(t._s(t.structureDisplayed ? t.$t("menu.filter.hide-all-structures") : t.$t("menu.filter.show-all-structures")))]), e("span", {
        staticClass: "shortcut-key"
    }, [t._v(t._s(t.shortcutDrawStructures))])]), e("option-item", {
        attrs: {
            disabled: t.buttonDisplayHiddenStructureDisabled
        },
        nativeOn: {
            click: function(i) {
                return t.clearHiddenStructures.apply(null, arguments)
            }
        }
    }, [e("span", [t._v(t._s(t.$t("menu.filter.show-hidden-structures")))]), e("span", {
        staticClass: "shortcut-key"
    }, [t._v(t._s(t.shortcutShowHiddenStructure))])]), e("option-item", {
        nativeOn: {
            click: function(i) {
                return t.toggleOverlay.apply(null, arguments)
            }
        }
    }, [t._v(" " + t._s(t.overlaysDisplayed ? t.$t("menu.filter.hide-all-overlays") : t.$t("menu.filter.show-all-overlays")) + " "), e("span", {
        staticClass: "shortcut-key"
    }, [t._v(t._s(t.shortcutToggleOverlays))])])], 1)], 1)]), e("ul", [e("li", {
        key: -1,
        staticClass: "list-li"
    }, [e("div", {
        staticClass: "filter-title"
    }, [e("span", [t._v(" " + t._s(t.$t("menu.filter.select-all")) + " ")]), e("toggle", {
        attrs: {
            "is-active": t.isSelectedFilter(-1)
        },
        on: {
            click: function(i) {
                return t.toggleAllFilters()
            }
        }
    })], 1)]), t._l(t.filters(), function(i) {
        return e("li", {
            key: i.id,
            staticClass: "list-li"
        }, [e("div", {
            staticClass: "filter-title"
        }, [e("span", [e("img", {
            staticClass: "filter-icon",
            attrs: {
                src: i.icon,
                alt: "",
                height: "25",
                width: "25"
            }
        }), e("span", [t._v(t._s(i.name))])]), e("div", {
            staticClass: "filter-item-toggle-container"
        }, [i.children.length === 0 ? [e("toggle", {
            attrs: {
                "is-active": t.isSelectedFilter(i.id)
            },
            on: {
                click: function(s) {
                    return t.toggleFilter(i.id)
                }
            }
        })] : i.children.length > 0 ? [e("icon-button", {
            staticClass: "toggle-icon",
            class: {
                open: t.currentOpenChildrenFilter(i.id)
            },
            attrs: {
                icon: t.showFilterDetail
            },
            nativeOn: {
                click: function(s) {
                    return t.toggleOpenFilterChild(i.id)
                }
            }
        }), i.children.length > 0 ? e("toggle", {
            attrs: {
                "is-active": !!t.numberOfChildrenSelected(i),
                "number-active": t.toggleNumberActive(t.numberOfChildrenSelected(i), i.children.length)
            },
            on: {
                click: function(s) {
                    return t.toggleAllFilters(i)
                }
            }
        }) : t._e()] : t._e()], 2)]), i.children.length > 0 ? e("div", {
            staticClass: "filter-content-expandable",
            attrs: {
                "aria-expanded": t.currentOpenChildrenFilter(i.id)
            }
        }, [e("div", [e("ul", {
            staticClass: "list-filter-children"
        }, t._l(i.children, function(s) {
            return e("li", {
                key: s.id,
                staticClass: "filter-children-item"
            }, [e("span", [e("img", {
                staticClass: "filter-icon",
                attrs: {
                    src: s.icon,
                    alt: "",
                    height: "25",
                    width: "25"
                }
            }), e("span", [t._v(t._s(s.name))])]), e("toggle", {
                attrs: {
                    "is-active": t.isSelectedFilter(s.id)
                },
                on: {
                    click: function(r) {
                        return t.toggleFilter(s.id)
                    }
                }
            })], 1)
        }), 0)])]) : t._e()])
    })], 2)])
}
  , S2 = []
  , T2 = x(C2, b2, S2, !1, null, "8c3ae67f");
const A2 = T2.exports
  , w2 = {
    name: "RotationRightSVG"
};
var _2 = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M16.5059 4.18993C14.7908 3.05903 12.7511 2.52412 10.7018 2.66779C8.65245 2.81146 6.70738 3.62572 5.16686 4.98486C3.62634 6.344 2.57604 8.17244 2.17811 10.1879C1.78017 12.2034 2.05673 14.2938 2.96509 16.1364C3.87345 17.9791 5.36309 19.4715 7.20405 20.3833C9.04501 21.295 11.1349 21.5755 13.1511 21.1813C15.1673 20.7871 16.9977 19.7402 18.3597 18.2022C18.6343 17.8921 18.6055 17.4181 18.2954 17.1435C17.9853 16.8689 17.5113 16.8976 17.2367 17.2077C16.0931 18.4991 14.5562 19.3782 12.8633 19.7092C11.1704 20.0401 9.41556 19.8047 7.86978 19.0391C6.324 18.2735 5.07321 17.0204 4.31049 15.4732C3.54778 13.926 3.31557 12.1708 3.6497 10.4785C3.98383 8.78615 4.86572 7.25088 6.15923 6.10967C7.45275 4.96845 9.08595 4.28476 10.8067 4.16412C12.5275 4.04349 14.2401 4.49263 15.6802 5.4422C17.1202 6.39178 18.2077 7.78898 18.7747 9.41812C18.9109 9.80931 19.3384 10.0161 19.7295 9.87993C20.1207 9.74378 20.3275 9.31628 20.1914 8.92508C19.5161 6.98485 18.221 5.32084 16.5059 4.18993Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M21.5568 5.88671C21.1814 5.71156 20.7351 5.87387 20.56 6.24923L19.3296 8.8862L16.6926 7.65578C16.3172 7.48063 15.871 7.64294 15.6958 8.0183C15.5207 8.39367 15.683 8.83994 16.0583 9.01509L19.3749 10.5626C19.5552 10.6467 19.7615 10.6558 19.9484 10.5878C20.1354 10.5198 20.2876 10.3804 20.3717 10.2001L21.9193 6.88349C22.0944 6.50813 21.9321 6.06185 21.5568 5.88671Z",
            fill: "black"
        }
    })])
}
  , L2 = []
  , O2 = x(w2, _2, L2, !1, null, "f8fefaa9");
const jh = O2.exports
  , x2 = {
    name: "RotationLeftSVG"
};
var M2 = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M7.48465 4.18993C9.19973 3.05903 11.2394 2.52412 13.2887 2.66779C15.3381 2.81146 17.2832 3.62572 18.8237 4.98486C20.3642 6.344 21.4145 8.17244 21.8124 10.1879C22.2104 12.2034 21.9338 14.2938 21.0254 16.1364C20.1171 17.9791 18.6274 19.4715 16.7865 20.3833C14.9455 21.295 12.8556 21.5755 10.8394 21.1813C8.82323 20.7871 6.99284 19.7402 5.63085 18.2022C5.35624 17.8921 5.385 17.4181 5.6951 17.1435C6.0052 16.8689 6.4792 16.8976 6.75382 17.2077C7.89743 18.4991 9.43433 19.3782 11.1273 19.7092C12.8202 20.0401 14.575 19.8047 16.1208 19.0391C17.6665 18.2735 18.9173 17.0204 19.68 15.4732C20.4428 13.926 20.675 12.1708 20.3408 10.4785C20.0067 8.78615 19.1248 7.25088 17.8313 6.10967C16.5378 4.96845 14.9046 4.28476 13.1838 4.16412C11.4631 4.04349 9.75046 4.49263 8.31038 5.4422C6.87029 6.39178 5.78281 7.78898 5.21583 9.41812C5.07968 9.80931 4.65219 10.0161 4.26099 9.87993C3.86979 9.74378 3.66303 9.31628 3.79917 8.92508C4.47442 6.98485 5.76956 5.32084 7.48465 4.18993Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M2.43378 5.88671C2.80914 5.71156 3.25542 5.87387 3.43056 6.24923L4.66098 8.8862L7.29795 7.65578C7.67331 7.48063 8.11959 7.64294 8.29473 8.0183C8.46988 8.39367 8.30757 8.83994 7.93221 9.01509L4.61559 10.5626C4.43533 10.6467 4.22905 10.6558 4.04211 10.5878C3.85518 10.5198 3.70291 10.3804 3.6188 10.2001L2.07126 6.88349C1.89611 6.50813 2.05842 6.06185 2.43378 5.88671Z",
            fill: "black"
        }
    })])
}
  , N2 = []
  , R2 = x(x2, M2, N2, !1, null, "5d3932ce");
const Yh = R2.exports
  , P2 = {
    name: "VerticalFlipSVG"
};
var D2 = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            fill: "none",
            height: "24",
            viewBox: "0 0 24 24",
            width: "24",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            d: "M12.7537 3.49634C12.7537 3.2202 12.5298 2.99634 12.2537 2.99634H11.7537C11.4775 2.99634 11.2537 3.2202 11.2537 3.49634V3.99634C11.2537 4.27248 11.4775 4.49634 11.7537 4.49634H12.2537C12.5298 4.49634 12.7537 4.27248 12.7537 3.99634V3.49634Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            d: "M12.2537 5.74756C12.5298 5.74756 12.7537 5.97142 12.7537 6.24756V6.74756C12.7537 7.0237 12.5298 7.24756 12.2537 7.24756H11.7537C11.4775 7.24756 11.2537 7.0237 11.2537 6.74756V6.24756C11.2537 5.97142 11.4775 5.74756 11.7537 5.74756H12.2537Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "clip-rule": "evenodd",
            d: "M14.7721 11.3933C14.5761 11.5342 14.4599 11.7608 14.4599 12.0023C14.4599 12.2437 14.5761 12.4704 14.7721 12.6113L20.8153 16.9547C21.0438 17.1189 21.3449 17.1415 21.5953 17.0131C21.8456 16.8847 22.0031 16.6271 22.0031 16.3457V7.65882C22.0031 7.37748 21.8456 7.1198 21.5953 6.99144C21.3449 6.86307 21.0438 6.8856 20.8153 7.0498L14.7721 11.3933ZM16.4949 12.0023L20.5031 9.12149V14.8831L16.4949 12.0023Z",
            fill: "black",
            "fill-rule": "evenodd"
        }
    }), e("path", {
        attrs: {
            "clip-rule": "evenodd",
            d: "M1.99402 16.3457C1.99402 16.6271 2.15147 16.8847 2.40181 17.0131C2.65216 17.1415 2.95329 17.1189 3.18174 16.9547L9.22494 12.6113C9.421 12.4704 9.53722 12.2437 9.53722 12.0023C9.53722 11.7608 9.421 11.5342 9.22494 11.3933L3.18174 7.0498C2.95329 6.8856 2.65216 6.86307 2.40181 6.99144C2.15147 7.11981 1.99402 7.37748 1.99402 7.65882L1.99402 16.3457ZM7.50216 12.0023L3.49402 14.8831L3.49402 9.12149L7.50216 12.0023Z",
            fill: "black",
            "fill-rule": "evenodd"
        }
    }), e("path", {
        attrs: {
            d: "M12.7537 11.75C12.7537 11.4739 12.5298 11.25 12.2537 11.25H11.7537C11.4775 11.25 11.2537 11.4739 11.2537 11.75V12.25C11.2537 12.5261 11.4775 12.75 11.7537 12.75H12.2537C12.5298 12.75 12.7537 12.5261 12.7537 12.25V11.75Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            d: "M12.2537 14.0012C12.5298 14.0012 12.7537 14.2251 12.7537 14.5012V15.0012C12.7537 15.2774 12.5298 15.5012 12.2537 15.5012H11.7537C11.4775 15.5012 11.2537 15.2774 11.2537 15.0012V14.5012C11.2537 14.2251 11.4775 14.0012 11.7537 14.0012H12.2537Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            d: "M12.7537 17.2524C12.7537 16.9763 12.5298 16.7524 12.2537 16.7524H11.7537C11.4775 16.7524 11.2537 16.9763 11.2537 17.2524V17.7524C11.2537 18.0286 11.4775 18.2524 11.7537 18.2524H12.2537C12.5298 18.2524 12.7537 18.0286 12.7537 17.7524V17.2524Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            d: "M12.2537 19.5037C12.5298 19.5037 12.7537 19.7275 12.7537 20.0037V20.5037C12.7537 20.7798 12.5298 21.0037 12.2537 21.0037H11.7537C11.4775 21.0037 11.2537 20.7798 11.2537 20.5037V20.0037C11.2537 19.7275 11.4775 19.5037 11.7537 19.5037H12.2537Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            d: "M12.7537 8.99878C12.7537 8.72264 12.5298 8.49878 12.2537 8.49878H11.7537C11.4775 8.49878 11.2537 8.72264 11.2537 8.99878V9.49878C11.2537 9.77492 11.4775 9.99878 11.7537 9.99878H12.2537C12.5298 9.99878 12.7537 9.77492 12.7537 9.49878V8.99878Z",
            fill: "black"
        }
    })])
}
  , k2 = []
  , H2 = x(P2, D2, k2, !1, null, "2f14d9c2");
const Wh = H2.exports
  , z2 = {
    name: "HorizontalFlipSVG"
};
var B2 = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M7.65656 1.99924C7.37522 1.99924 7.11755 2.15669 6.98918 2.40703C6.86081 2.65738 6.88335 2.95851 7.04754 3.18696L11.391 9.23016C11.5319 9.42621 11.7586 9.54244 12 9.54244C12.2414 9.54244 12.4681 9.42621 12.609 9.23016L16.9525 3.18696C17.1167 2.95851 17.1392 2.65738 17.0109 2.40703C16.8825 2.15669 16.6248 1.99924 16.3435 1.99924H7.65656ZM12 7.50738L9.11923 3.49924H14.8808L12 7.50738ZM12.609 14.7774C12.4681 14.5813 12.2414 14.4651 12 14.4651C11.7586 14.4651 11.5319 14.5813 11.391 14.7774L7.04754 20.8206C6.88335 21.049 6.86081 21.3501 6.98918 21.6005C7.11755 21.8508 7.37522 22.0083 7.65656 22.0083H16.3435C16.6248 22.0083 16.8825 21.8508 17.0109 21.6005C17.1392 21.3501 17.1167 21.049 16.9525 20.8206L12.609 14.7774ZM12 16.5001L14.8808 20.5083H9.11923L12 16.5001ZM11.7537 11.25C11.4775 11.25 11.2537 11.4739 11.2537 11.75V12.25C11.2537 12.5261 11.4775 12.75 11.7537 12.75H12.2537C12.5298 12.75 12.7537 12.5261 12.7537 12.25V11.75C12.7537 11.4739 12.5298 11.25 12.2537 11.25H11.7537ZM14.0049 11.75C14.0049 11.4739 14.2287 11.25 14.5049 11.25H15.0049C15.281 11.25 15.5049 11.4739 15.5049 11.75V12.25C15.5049 12.5261 15.281 12.75 15.0049 12.75H14.5049C14.2287 12.75 14.0049 12.5261 14.0049 12.25V11.75ZM17.2561 11.25C16.98 11.25 16.7561 11.4739 16.7561 11.75V12.25C16.7561 12.5261 16.98 12.75 17.2561 12.75H17.7561C18.0322 12.75 18.2561 12.5261 18.2561 12.25V11.75C18.2561 11.4739 18.0322 11.25 17.7561 11.25H17.2561ZM19.5073 11.75C19.5073 11.4739 19.7312 11.25 20.0073 11.25H20.5073C20.7835 11.25 21.0073 11.4739 21.0073 11.75V12.25C21.0073 12.5261 20.7835 12.75 20.5073 12.75H20.0073C19.7312 12.75 19.5073 12.5261 19.5073 12.25V11.75ZM9.00244 11.25C8.7263 11.25 8.50244 11.4739 8.50244 11.75V12.25C8.50244 12.5261 8.7263 12.75 9.00244 12.75H9.50244C9.77858 12.75 10.0024 12.5261 10.0024 12.25V11.75C10.0024 11.4739 9.77858 11.25 9.50244 11.25H9.00244ZM5.75122 11.75C5.75122 11.4739 5.97508 11.25 6.25122 11.25H6.75122C7.02736 11.25 7.25122 11.4739 7.25122 11.75V12.25C7.25122 12.5261 7.02736 12.75 6.75122 12.75H6.25122C5.97508 12.75 5.75122 12.5261 5.75122 12.25V11.75ZM3.5 11.25C3.22386 11.25 3 11.4739 3 11.75V12.25C3 12.5261 3.22386 12.75 3.5 12.75H4C4.27614 12.75 4.5 12.5261 4.5 12.25V11.75C4.5 11.4739 4.27614 11.25 4 11.25H3.5Z",
            fill: "black"
        }
    })])
}
  , F2 = []
  , V2 = x(z2, B2, F2, !1, null, "50b92b2a");
const Kh = V2.exports
  , U2 = {
    name: "ResetSVG"
};
var G2 = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            fill: "none",
            height: "24",
            viewBox: "0 0 24 24",
            width: "24",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            "clip-rule": "evenodd",
            d: "M15.0669 10.1603C15.356 10.457 15.3497 10.9319 15.053 11.2209L10.0323 16.1113C9.73557 16.4003 9.26073 16.3941 8.97172 16.0974C8.6827 15.8007 8.68894 15.3258 8.98566 15.0368L14.0064 10.1464C14.3031 9.85737 14.7779 9.86361 15.0669 10.1603Z",
            fill: "white",
            "fill-rule": "evenodd"
        }
    }), e("path", {
        attrs: {
            "clip-rule": "evenodd",
            d: "M8.97172 10.1603C9.26073 9.86361 9.73557 9.85737 10.0323 10.1464L15.053 15.0368C15.3497 15.3258 15.356 15.8007 15.0669 16.0974C14.7779 16.3941 14.3031 16.4003 14.0064 16.1113L8.98566 11.2209C8.68894 10.9319 8.6827 10.457 8.97172 10.1603Z",
            fill: "white",
            "fill-rule": "evenodd"
        }
    }), e("path", {
        attrs: {
            "clip-rule": "evenodd",
            d: "M3.53574 4.99486C3.53574 4.58064 3.87153 4.24486 4.28574 4.24486H12.0193C13.8115 4.24486 15.565 4.76217 17.0585 5.73357C18.5522 6.7051 19.7197 8.0881 20.4106 9.71015C21.1016 11.3324 21.2838 13.119 20.9333 14.8433C20.5828 16.5674 19.7161 18.1489 18.4458 19.3891C17.1757 20.6291 15.5592 21.4724 13.8014 21.8156C12.0438 22.1587 10.221 21.9868 8.56246 21.321C6.90381 20.6551 5.48184 19.5239 4.4784 18.0676C3.4748 16.6109 2.93563 14.8951 2.93146 13.1369C2.93048 12.7227 3.26546 12.3861 3.67968 12.3851C4.09389 12.3841 4.43047 12.7191 4.43146 13.1333C4.43491 14.5861 4.88023 16.007 5.71361 17.2165C6.54715 18.4263 7.73223 19.3713 9.12133 19.929C10.5106 20.4867 12.0395 20.6312 13.514 20.3434C14.9885 20.0555 16.3397 19.3489 17.3979 18.3158C18.4559 17.2829 19.1736 15.9701 19.4634 14.5445C19.7532 13.1189 19.6029 11.6415 19.0306 10.298C18.4582 8.95419 17.4884 7.8026 16.2406 6.99099C14.9926 6.17924 13.5236 5.74486 12.0193 5.74486H4.28574C3.87153 5.74486 3.53574 5.40907 3.53574 4.99486Z",
            fill: "white",
            "fill-rule": "evenodd"
        }
    }), e("path", {
        attrs: {
            "clip-rule": "evenodd",
            d: "M6.74835 2.23923C7.03737 2.53595 7.03113 3.01078 6.73441 3.2998L4.98417 5.00462L6.73478 6.71219C7.0313 7.00141 7.03721 7.47625 6.74799 7.77277C6.45876 8.06928 5.98393 8.0752 5.68741 7.78597L3.38598 5.54114C3.24121 5.39992 3.1596 5.20622 3.15967 5.00398C3.15974 4.80174 3.24148 4.6081 3.38636 4.46699L5.68778 2.22529C5.9845 1.93627 6.45933 1.94251 6.74835 2.23923Z",
            fill: "white",
            "fill-rule": "evenodd"
        }
    })])
}
  , $2 = []
  , j2 = x(U2, G2, $2, !1, null, "5c249b2f");
const Zh = j2.exports;
let va = {};
const Y2 = {
    name: "transformation-section",
    components: {
        ResetSVG: Zh,
        HorizontalFlipSVG: Kh,
        VerticalFlipSVG: Wh,
        RotationLeftSVG: Yh,
        RotationRightSVG: jh
    },
    data() {
        return {
            showOptionLanguage: !1,
            orientationVertical: Ci.VERTICAL,
            orientationHorizontal: Ci.HORIZONTAL
        }
    },
    methods: {
        rotate(t) {
            this.$store.dispatch("anatomy/image:rotate", t)
        },
        flipImage(t) {
            this.$store.dispatch("anatomy/image:flip", t)
        },
        resetImage() {
            this.$store.dispatch("anatomy/image:reset")
        },
        reset() {
            this.resetImage()
        }
    },
    created() {
        const {ui: t} = k;
        va = y.createHooks([{
            on: t.SETTINGS.RESET,
            do: () => this.reset()
        }])
    },
    beforeMount() {
        y.onBeforeMount(va)
    },
    beforeDestroy() {
        y.onBeforeUnmount(va)
    }
};
var W2 = function() {
    var t = this
      , e = t._self._c;
    return e("div", {
        staticClass: "have-separator padding-bottom"
    }, [e("span", {
        staticClass: "title-section"
    }, [t._v(" " + t._s(t.$t("menu.transformation.section-title")) + " ")]), e("div", {
        staticClass: "button-container"
    }, [e("div", {
        staticClass: "container-icon-transformation"
    }, [e("RotationLeftSVG", {
        staticClass: "icon-transformation",
        attrs: {
            title: t.$t("context-menu.rotate-left")
        },
        nativeOn: {
            click: function(i) {
                return t.rotate(-90)
            }
        }
    }), e("RotationRightSVG", {
        staticClass: "icon-transformation",
        attrs: {
            title: t.$t("context-menu.rotate-right")
        },
        nativeOn: {
            click: function(i) {
                return t.rotate(90)
            }
        }
    }), e("VerticalFlipSVG", {
        staticClass: "icon-transformation",
        attrs: {
            title: t.$t("context-menu.flip-horizontal")
        },
        nativeOn: {
            click: function(i) {
                return t.flipImage(t.orientationVertical)
            }
        }
    }), e("HorizontalFlipSVG", {
        staticClass: "icon-transformation",
        attrs: {
            title: t.$t("context-menu.flip-vertical")
        },
        nativeOn: {
            click: function(i) {
                return t.flipImage(t.orientationHorizontal)
            }
        }
    }), e("ResetSVG", {
        staticClass: "icon-transformation",
        attrs: {
            title: `${t.$t("keyboard-panel.reset")} (R)`
        },
        nativeOn: {
            click: function(i) {
                return t.resetImage.apply(null, arguments)
            }
        }
    })], 1)])])
}
  , K2 = []
  , Z2 = x(Y2, W2, K2, !1, null, null);
const Q2 = Z2.exports;
function X2(t) {
    switch (t) {
    case Ve.CT:
        return "contrast.window";
    case Ve.IRM:
        return "contrast.weightings";
    default:
        return "contrast.default"
    }
}
let ya = {};
const Ea = {
    NO_BORDER_RIGHT: "no-border-right",
    COLUMN_3: "column-3",
    COLUMN_2: "column-2"
}
  , Zs = {
    LEFT: "left",
    CENTER: "center",
    RIGHT: "right"
}
  , q2 = {
    name: "contrast-section",
    computed: {
        contrastNameForCurrentSeries() {
            const t = this.$store.getters["anatomy/currentSeries"] || null;
            return this.$t(X2(t !== null ? t.modality_id : 0))
        },
        contrasts() {
            return this.$store.getters["anatomy/contrasts"]
        }
    },
    methods: {
        getColumnClass() {
            const t = this.contrasts.length;
            return t % 2 === 0 && t % 3 !== 0 ? Ea.COLUMN_2 : Ea.COLUMN_3
        },
        selectContrast(t) {
            this.$store.dispatch("anatomy/contrast:select", t),
            this.$forceUpdate()
        },
        overrideSiblingSelected(t, e) {
            const i = this.contrasts.length;
            return i > 1 && (t < i - 1 && this.isSelectedContrast(this.contrasts[t + 1].id)) && (e === "left" || e === "center") ? Ea.NO_BORDER_RIGHT : ""
        },
        isSelectedContrast(t) {
            return this.$store.getters["anatomy/isCurrentContrast"](t)
        },
        getClassContrast(t) {
            const e = this.contrasts.length;
            if (t += 1,
            e > 1)
                if (e % 2 === 0 && e % 3 !== 0) {
                    if (t % 2 === 0)
                        return Zs.RIGHT;
                    if (t % 2 === 1)
                        return Zs.LEFT
                } else {
                    if (t === 1 || t % 3 === 1 && e > t)
                        return Zs.LEFT;
                    if (t % 3 === 0 || e === 2 || t === e && e % 3 === 2)
                        return Zs.RIGHT;
                    if (t % 3 === 2 && e > t)
                        return Zs.CENTER
                }
            return ""
        },
        reset() {
            this.$store.dispatch("anatomy/contrast:reset")
        }
    },
    created() {
        const {ui: t} = k;
        ya = y.createHooks([{
            on: t.SETTINGS.RESET,
            do: () => this.reset()
        }])
    },
    beforeMount() {
        y.onBeforeMount(ya)
    },
    beforeDestroy() {
        y.onBeforeUnmount(ya)
    }
};
var J2 = function() {
    var t = this
      , e = t._self._c;
    return e("div", {
        staticClass: "have-separator padding-bottom"
    }, [e("span", {
        staticClass: "title-section"
    }, [t._v(t._s(t.contrastNameForCurrentSeries))]), t.contrasts.length > 1 ? e("div", {
        staticClass: "button-container"
    }, t._l(t.contrasts, function(i, s) {
        return e("button", {
            key: i.id,
            staticClass: "button-contrast",
            class: [{
                current: t.isSelectedContrast(i.id)
            }, t.getClassContrast(s), t.overrideSiblingSelected(s, t.getClassContrast(s)), t.getColumnClass()],
            attrs: {
                title: i.name
            },
            on: {
                click: function(r) {
                    return t.selectContrast(i.id)
                }
            }
        }, [e("span", {
            staticClass: "ellipsis"
        }, [t._v(t._s(i.name))])])
    }), 0) : t._e(), t.contrasts.length === 1 ? e("div", {
        staticClass: "no-contrast"
    }, [e("span", {
        staticClass: "no-contrast-text"
    }, [t._v(t._s(t.$t("menu.contrast.no_contrast_for_this_series")))])]) : t._e()])
}
  , eE = []
  , tE = x(q2, J2, eE, !1, null, "92a70774");
const iE = tE.exports
  , sE = {
    name: "SelectedSVG"
};
var rE = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            xmlns: "http://www.w3.org/2000/svg",
            width: "12",
            height: "9",
            viewBox: "0 0 12 9",
            fill: "none"
        }
    }, [e("path", {
        attrs: {
            d: "M1 3.33527C2.50729 4.84255 4.85965 7.19492 4.85965 7.19492L11 1.05457",
            stroke: "#3DA8FE",
            "stroke-width": "2",
            "stroke-linecap": "round",
            "stroke-linejoin": "round"
        }
    })])
}
  , nE = []
  , aE = x(sE, rE, nE, !1, null, "7cde1e9d");
const oE = aE.exports;
let Ia = {};
const lE = {
    name: "series-section",
    data() {
        return {
            minLimitSeries: 4,
            limitSeries: 4,
            seriesLength: 0,
            imagesSeriesLoaded: {},
            imagesAllSeriesLoaded: []
        }
    },
    components: {
        SelectedSVG: oE
    },
    computed: {
        series() {
            const t = this.$store.getters["anatomy/listSeries"]
              , e = this.$store.getters["anatomy/listSeriesImage"]
              , i = Object.values(t.concat(e).reduce( (s, r) => (s[r.id] = Object.assign(s[r.id] || {}, r),
            s), {}));
            return this.seriesLength = i.length,
            this.needUpLimitSeries(),
            this.limitSeries ? i.slice(0, this.limitSeries) : i
        },
        displayMoreText() {
            return this.limitSeries < this.seriesLength
        },
        displayLessText() {
            return this.limitSeries > this.minLimitSeries
        },
        imagesAllSeries() {
            return this.$store.getters["anatomy/imageAllSeries"]
        },
        displayAllSeries() {
            return this.imagesAllSeries.length > 0 && this.imagesAllSeries.filter(t => t.src !== null).length === this.imagesAllSeriesLoaded.length
        },
        isPhone() {
            return y.isMobileScreen()
        }
    },
    methods: {
        needUpLimitSeries() {
            this.seriesLength !== 0 && this.seriesLength - this.minLimitSeries <= 3 && (this.limitSeries = this.seriesLength,
            this.minLimitSeries = this.seriesLength)
        },
        nextSeriesIsSelected(t) {
            return t < this.series.length - 1 ? this.isSelected(this.series[t + 1].id) : !1
        },
        isSelected(t) {
            const e = this.$store.getters["anatomy/isModeFullSeries"] || this.$store.getters["anatomy/getIsolateStructureId"]() !== null
              , i = this.$store.getters["anatomy/currentSeries"];
            return e && t === -1 || !e && i.id === t
        },
        select(t) {
            this.$store.dispatch("anatomy/slice:notification", W.RIGHT_MENU),
            this.$store.dispatch("anatomy/series:set", {
                seriesIndex: t,
                relativeSliceIndex: 1,
                keepMode: !1,
                placement: W.RIGHT_MENU
            })
        },
        upLimitSeries() {
            this.limitSeries = this.seriesLength
        },
        downLimitSeries() {
            this.limitSeries = this.minLimitSeries
        },
        reset() {
            const t = this.$store.getters["anatomy/indexCurrentSlice"];
            this.$store.dispatch("anatomy/series:set", {
                seriesIndex: -1,
                relativeSliceIndex: t,
                keepMode: !1
            })
        },
        onImageLoaded(t) {
            t !== -1 ? this.$set(this.imagesSeriesLoaded, t.id, !0) : this.$set(this.imagesAllSeriesLoaded, this.imagesAllSeriesLoaded.length, !0)
        }
    },
    created() {
        const {ui: t, language: e, translator: i, application: s, featureIsolate: r} = k;
        Ia = y.createHooks([{
            on: t.SETTINGS.RESET,
            do: () => this.reset()
        }, {
            on: s.READY,
            do: () => this.$store.dispatch("anatomy/list-series:update-images")
        }, {
            on: e.CHANGE,
            do: () => this.$store.dispatch("anatomy/list-series:update")
        }, {
            on: i.ADDED,
            do: () => this.$store.dispatch("anatomy/list-series:update")
        }, {
            on: [r.START_ISOLATE, r.CLEAN_ISOLATE],
            do: () => this.$forceUpdate()
        }])
    },
    beforeMount() {
        y.onBeforeMount(Ia)
    },
    beforeDestroy() {
        y.onBeforeUnmount(Ia)
    }
};
var cE = function() {
    var t = this
      , e = t._self._c;
    return e("div", {
        directives: [{
            name: "show",
            rawName: "v-show",
            value: t.isPhone,
            expression: "isPhone"
        }]
    }, [e("span", {
        staticClass: "title-section"
    }, [t._v(t._s(t.$t("menu.series.section-title")))]), e("ul", [e("li", {
        staticClass: "list-li series",
        class: {
            selected: t.isSelected(-1),
            "hide-border": t.nextSeriesIsSelected(-1)
        },
        on: {
            click: function(i) {
                return t.select(-1)
            }
        }
    }, [e("div", {
        staticClass: "list-item-series"
    }, [e("div", {
        staticClass: "images-all-series"
    }, [t._l(t.imagesAllSeries, function(i) {
        return [i.src !== null ? e("img", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: t.displayAllSeries,
                expression: "displayAllSeries"
            }],
            staticClass: "picture",
            style: {
                "background-color": `#${i.background_color}`
            },
            attrs: {
                src: i.src,
                alt: t.$t("gallery.all-series"),
                width: "15",
                height: "15"
            },
            on: {
                load: function(s) {
                    return t.onImageLoaded(-1)
                }
            }
        }) : t._e(), i.src === null && t.displayAllSeries ? e("span", {
            staticClass: "picture",
            style: {
                "background-color": `#${i.background_color}`
            }
        }) : t._e()]
    }), t.displayAllSeries ? t._e() : e("div", {
        staticClass: "image-series-placeholder"
    }, [t._m(0)])], 2), e("p", [t._v(t._s(t.$t("menu.series.all")))])])]), t._l(t.series, function(i, s) {
        return e("li", {
            key: i.id + "-menu",
            staticClass: "list-li series",
            class: {
                selected: t.isSelected(i.id),
                "hide-border": t.nextSeriesIsSelected(s)
            },
            on: {
                click: function(r) {
                    return t.select(s + 1)
                }
            }
        }, [e("div", {
            staticClass: "list-item-series"
        }, [e("img", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: t.imagesSeriesLoaded[i.id],
                expression: "imagesSeriesLoaded[serie.id]"
            }],
            attrs: {
                src: i.src,
                alt: i.name,
                width: "32",
                height: "32"
            },
            on: {
                load: function(r) {
                    return t.onImageLoaded(i)
                }
            }
        }), t.imagesSeriesLoaded[i.id] ? t._e() : e("div", {
            staticClass: "image-series-placeholder"
        }, [t._m(1, !0)]), e("p", [t._v(t._s(i.name))])])])
    }), t.displayMoreText ? e("li", {
        staticClass: "list-li series btn-entry no-hover",
        on: {
            click: t.upLimitSeries
        }
    }, [e("div", {
        staticClass: "list-show"
    }, [e("div", {
        staticClass: "list-show-more"
    }, [e("p", [t._v(t._s(t.$t("menu.series.more")))])])])]) : t._e(), t.displayLessText ? e("li", {
        staticClass: "list-li series btn-entry no-hover",
        on: {
            click: t.downLimitSeries
        }
    }, [e("div", {
        staticClass: "list-show"
    }, [e("div", {
        staticClass: "list-show-less"
    }, [e("p", [t._v(t._s(t.$t("menu.series.less")))])])])]) : t._e()], 2)])
}
  , uE = [function() {
    var t = this
      , e = t._self._c;
    return e("div", {
        staticClass: "load-wrapper"
    }, [e("div", {
        staticClass: "activity"
    })])
}
, function() {
    var t = this
      , e = t._self._c;
    return e("div", {
        staticClass: "load-wrapper"
    }, [e("div", {
        staticClass: "activity"
    })])
}
]
  , dE = x(lE, cE, uE, !1, null, "cba8df62");
const hE = dE.exports;
let Ca = [];
const pE = {
    name: "Slider",
    computed: {
        notIE() {
            return Se.getIEVersion() === 0
        }
    },
    props: {
        min: {
            default: 0
        },
        max: {
            default: 1
        },
        step: {
            default: .1
        },
        defaultValue: {
            default: 1
        },
        onInput: Function
    },
    methods: {
        updateInput() {
            if (this.notIE) {
                const t = y.getCSSVariable("--color-background-toggle-slider-selected")
                  , e = y.getCSSVariable("--color-background-toggle-slider")
                  , i = this.$refs.input
                  , s = (i.value - i.min) / (i.max - i.min) * 100;
                i.style.background = `linear-gradient(to right, ${t} 0%, ${t} ${s}%, ${e} ${s}%, ${e} 100%)`,
                this.onInput(i.value)
            }
        },
        changeValue() {
            this.notIE || this.onInput(this.$refs.input.value)
        }
    },
    mounted() {
        this.$refs.input.value = this.$props.defaultValue,
        this.updateInput()
    },
    created() {
        const {ui: t} = k;
        Ca = y.createHooks([{
            on: t.THEME.SWITCH,
            do: () => this.updateInput()
        }])
    },
    beforeMount() {
        y.onBeforeMount(Ca)
    },
    beforeDestroy() {
        y.onBeforeUnmount(Ca)
    }
};
var mE = function() {
    var t = this
      , e = t._self._c;
    return e("input", {
        ref: "input",
        class: {
            "custom-input-range": t.notIE
        },
        attrs: {
            type: "range",
            min: t.min,
            max: t.max,
            step: t.step
        },
        on: {
            input: t.updateInput,
            change: t.changeValue
        }
    })
}
  , gE = []
  , fE = x(pE, mE, gE, !1, null, null);
const Qh = fE.exports
  , vE = {
    name: "DarkIconSVG"
};
var yE = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            d: "M18.5624 6.96854C17.9314 6.26521 18.3452 4.5069 17.6315 4.5069H17.6231C16.9094 4.5069 17.3231 6.26521 16.6922 6.96854C16.0613 7.67187 14.2409 7.19609 14.2409 7.88907C14.2409 8.58206 15.9889 8.18902 16.6922 8.83029C17.2891 9.37457 17.0232 11.2713 17.6231 11.2713H17.6315C18.2314 11.2713 17.9654 9.37457 18.5624 8.83029C19.2657 8.18902 21.0137 8.58206 21.0137 7.88907C21.0137 7.19609 19.1933 7.67187 18.5624 6.96854Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            d: "M12.7642 4.11205C12.4764 3.79119 12.6651 2.98904 12.3396 2.98904H12.3357C12.0102 2.98904 12.1989 3.79119 11.9111 4.11205C11.6232 4.43291 10.7928 4.21586 10.7928 4.532C10.7928 4.84814 11.5902 4.66884 11.9111 4.96139C12.1834 5.20969 12.0621 6.07496 12.3357 6.07496H12.3396C12.6132 6.07496 12.4919 5.20969 12.7642 4.96139C13.0851 4.66884 13.8825 4.84814 13.8825 4.532C13.8825 4.21586 13.0521 4.43291 12.7642 4.11205Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M12.074 2.8336C12.1476 2.77102 12.2383 2.73904 12.3357 2.73904H12.3396C12.437 2.73904 12.5277 2.77102 12.6013 2.8336C12.6695 2.89152 12.7095 2.96396 12.7344 3.0253C12.7817 3.14168 12.8003 3.28615 12.8142 3.39982C12.8163 3.41691 12.8183 3.43375 12.8203 3.45033C12.8333 3.55778 12.8449 3.65474 12.8658 3.74481C12.89 3.84946 12.92 3.91125 12.9503 3.94511C12.9737 3.97118 13.0229 4.00139 13.1213 4.0261C13.217 4.05014 13.3262 4.0615 13.4504 4.07443L13.4648 4.07593C13.5762 4.08751 13.718 4.10226 13.8316 4.14244C13.8925 4.16397 13.9677 4.20001 14.0291 4.26583C14.0968 4.3384 14.1325 4.43104 14.1325 4.532C14.1325 4.62987 14.0996 4.72015 14.0367 4.7928C13.9788 4.85967 13.9069 4.89877 13.8465 4.92313C13.7318 4.96949 13.5888 4.98873 13.4761 5.00344C13.4619 5.00528 13.448 5.00709 13.4342 5.00886C13.3245 5.02303 13.2253 5.03583 13.1336 5.0582C13.0299 5.08354 12.9675 5.11438 12.9327 5.14613C12.9195 5.15813 12.8912 5.19999 12.8629 5.30504C12.8379 5.39801 12.8216 5.50474 12.8034 5.62374C12.8021 5.63215 12.8008 5.64063 12.7995 5.64917C12.7816 5.76633 12.7594 5.90911 12.7176 6.02243C12.6806 6.12271 12.5796 6.32496 12.3396 6.32496H12.3357C12.0957 6.32496 11.9947 6.12271 11.9577 6.02243C11.9159 5.90911 11.8937 5.76633 11.8758 5.64917C11.8745 5.64063 11.8732 5.63215 11.8719 5.62373C11.8537 5.50473 11.8374 5.39801 11.8124 5.30504C11.7841 5.19999 11.7558 5.15813 11.7426 5.14613C11.7078 5.11438 11.6454 5.08354 11.5417 5.0582C11.45 5.03583 11.3508 5.02303 11.2411 5.00887C11.2273 5.00709 11.2134 5.00528 11.1992 5.00344C11.0865 4.98873 10.9435 4.96949 10.8288 4.92313C10.7684 4.89877 10.6965 4.85967 10.6386 4.7928C10.5757 4.72015 10.5428 4.62987 10.5428 4.532C10.5428 4.43104 10.5785 4.3384 10.6462 4.26583C10.7076 4.20001 10.7828 4.16397 10.8437 4.14244C10.9573 4.10226 11.0991 4.08751 11.2105 4.07593C11.2131 4.07566 11.2156 4.0754 11.2181 4.07514L11.2249 4.07443C11.3491 4.0615 11.4583 4.05014 11.554 4.0261C11.6525 4.00139 11.7016 3.97118 11.725 3.94511C11.7553 3.91125 11.7853 3.84946 11.8095 3.74481C11.8304 3.65474 11.842 3.55778 11.855 3.45034C11.857 3.43375 11.859 3.41692 11.8611 3.39982C11.875 3.28615 11.8936 3.14168 11.9409 3.0253C11.9658 2.96396 12.0058 2.89152 12.074 2.8336ZM12.2966 3.85763C12.2651 3.99362 12.2107 4.15243 12.0972 4.27899C11.9766 4.41336 11.814 4.47634 11.6758 4.51105C11.623 4.52431 11.5686 4.5346 11.515 4.54293C11.5634 4.55116 11.6125 4.5608 11.6603 4.57247C11.7963 4.60567 11.9539 4.66213 12.0795 4.77665C12.2025 4.88879 12.2611 5.04821 12.2952 5.17523C12.3123 5.23866 12.326 5.30554 12.3377 5.37098C12.3493 5.30554 12.363 5.23866 12.3801 5.17523C12.4142 5.04821 12.4728 4.88879 12.5958 4.77665C12.7214 4.66213 12.8791 4.60567 13.015 4.57247C13.0628 4.5608 13.1119 4.55116 13.1603 4.54293C13.1067 4.5346 13.0523 4.52431 12.9995 4.51105C12.8613 4.47634 12.6987 4.41336 12.5781 4.27899C12.4646 4.15243 12.4102 3.99362 12.3787 3.85763C12.3606 3.77948 12.3478 3.69777 12.3377 3.62104C12.3275 3.69777 12.3147 3.77948 12.2966 3.85763Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            d: "M14.469 11.2723C14.1812 10.9514 14.3699 10.1493 14.0444 10.1493H14.0405C13.7149 10.1493 13.9037 10.9514 13.6158 11.2723C13.328 11.5932 12.4975 11.3761 12.4975 11.6923C12.4975 12.0084 13.295 11.8291 13.6158 12.1216C13.8882 12.3699 13.7668 13.2352 14.0405 13.2352H14.0444C14.318 13.2352 14.1967 12.3699 14.469 12.1216C14.7899 11.8291 15.5873 12.0084 15.5873 11.6923C15.5873 11.3761 14.7568 11.5932 14.469 11.2723Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M13.7787 9.99385C13.8524 9.93126 13.9431 9.89929 14.0405 9.89929H14.0444C14.1418 9.89929 14.2324 9.93126 14.3061 9.99385C14.3743 10.0518 14.4143 10.1242 14.4392 10.1855C14.4865 10.3019 14.505 10.4464 14.519 10.5601C14.5211 10.5772 14.5231 10.594 14.5251 10.6106C14.538 10.718 14.5497 10.815 14.5706 10.9051C14.5948 11.0097 14.6247 11.0715 14.6551 11.1054C14.6785 11.1314 14.7276 11.1616 14.8261 11.1863C14.9218 11.2104 15.0309 11.2217 15.1552 11.2347L15.1695 11.2362C15.2809 11.2478 15.4228 11.2625 15.5364 11.3027C15.5973 11.3242 15.6725 11.3603 15.7339 11.4261C15.8016 11.4986 15.8373 11.5913 15.8373 11.6923C15.8373 11.7901 15.8043 11.8804 15.7415 11.9531C15.6836 12.0199 15.6117 12.059 15.5513 12.0834C15.4365 12.1297 15.2935 12.149 15.1808 12.1637C15.1667 12.1655 15.1528 12.1673 15.139 12.1691C15.0292 12.1833 14.93 12.1961 14.8384 12.2184C14.7346 12.2438 14.6723 12.2746 14.6375 12.3064C14.6243 12.3184 14.5959 12.3602 14.5677 12.4653C14.5427 12.5583 14.5264 12.665 14.5082 12.784C14.5069 12.7924 14.5056 12.8009 14.5043 12.8094C14.4863 12.9266 14.4642 13.0694 14.4224 13.1827C14.3854 13.283 14.2844 13.4852 14.0444 13.4852H14.0405C13.8005 13.4852 13.6994 13.283 13.6624 13.1827C13.6206 13.0694 13.5985 12.9266 13.5805 12.8094C13.5792 12.8009 13.5779 12.7924 13.5767 12.784C13.5585 12.665 13.5422 12.5583 13.5172 12.4653C13.4889 12.3602 13.4606 12.3184 13.4474 12.3064C13.4126 12.2746 13.3502 12.2438 13.2464 12.2184C13.1548 12.1961 13.0556 12.1833 12.9459 12.1691C12.9321 12.1673 12.9181 12.1655 12.904 12.1637C12.7913 12.149 12.6483 12.1297 12.5335 12.0834C12.4732 12.059 12.4012 12.0199 12.3434 11.9531C12.2805 11.8804 12.2475 11.7901 12.2475 11.6923C12.2475 11.5913 12.2833 11.4986 12.351 11.4261C12.4124 11.3603 12.4876 11.3242 12.5485 11.3027C12.6621 11.2625 12.8039 11.2478 12.9153 11.2362C12.9179 11.2359 12.9204 11.2356 12.9229 11.2354L12.9297 11.2347C13.0539 11.2217 13.163 11.2104 13.2588 11.1863C13.3572 11.1616 13.4064 11.1314 13.4297 11.1054C13.4601 11.0715 13.49 11.0097 13.5143 10.9051C13.5351 10.815 13.5468 10.718 13.5597 10.6106C13.5617 10.594 13.5638 10.5772 13.5659 10.5601C13.5798 10.4464 13.5984 10.3019 13.6456 10.1855C13.6706 10.1242 13.7105 10.0518 13.7787 9.99385ZM14.0014 11.0179C13.9699 11.1539 13.9155 11.3127 13.8019 11.4392C13.6814 11.5736 13.5188 11.6366 13.3806 11.6713C13.3277 11.6846 13.2733 11.6949 13.2198 11.7032C13.2682 11.7114 13.3172 11.721 13.365 11.7327C13.501 11.7659 13.6587 11.8224 13.7843 11.9369C13.9073 12.049 13.9659 12.2085 14 12.3355C14.0171 12.3989 14.0308 12.4658 14.0424 12.5312C14.0541 12.4658 14.0678 12.3989 14.0848 12.3355C14.119 12.2085 14.1776 12.049 14.3006 11.9369C14.4262 11.8224 14.5838 11.7659 14.7198 11.7327C14.7676 11.721 14.8167 11.7114 14.8651 11.7032C14.8115 11.6949 14.7571 11.6846 14.7043 11.6713C14.5661 11.6366 14.4035 11.5736 14.2829 11.4392C14.1694 11.3127 14.115 11.1539 14.0835 11.0179C14.0654 10.9397 14.0526 10.858 14.0424 10.7813C14.0322 10.858 14.0195 10.9397 14.0014 11.0179Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M8.03457 5.39307C8.04154 5.40793 8.0474 5.42473 8.0511 5.44275C8.0586 5.47933 8.05518 5.50991 8.04548 5.53492C6.97123 8.30558 6.95829 12.0973 9.78697 14.4787C12.442 16.7206 15.9117 16.6688 18.5039 15.5821C18.5291 15.5716 18.5638 15.566 18.608 15.5736C18.6411 15.5792 18.6718 15.5911 18.6966 15.6053C16.2992 19.9601 10.7962 20.6536 7.29092 17.8061L7.2897 17.8052C3.40204 14.6605 3.47643 8.22448 8.03457 5.39307ZM9.13521 4.36119C9.50625 4.7848 9.68871 5.44612 9.44404 6.07717C8.49227 8.53194 8.61179 11.5289 10.7534 13.3315L10.7543 13.3323C12.8682 15.1175 15.7024 15.1301 17.924 14.1988C18.5496 13.9365 19.2198 14.1006 19.6592 14.4509C20.1171 14.8159 20.4492 15.5133 20.0591 16.2396C17.2027 21.5579 10.5419 22.3791 6.34575 18.9709C1.68282 15.1985 1.75137 7.43809 7.3408 4.05901C8.03642 3.63847 8.74609 3.91696 9.13521 4.36119Z",
            fill: "black"
        }
    })])
}
  , EE = []
  , IE = x(vE, yE, EE, !1, null, "1512abe7");
const CE = IE.exports
  , bE = {
    name: "OrientationSVG"
};
var SE = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M4.97927 2.99615C5.39349 2.99615 5.72927 3.33194 5.72927 3.74615V16.9779C5.72927 17.6682 6.28892 18.2279 6.97927 18.2279H20.2537C20.6679 18.2279 21.0037 18.5637 21.0037 18.9779C21.0037 19.3921 20.6679 19.7279 20.2537 19.7279H6.97927C5.46049 19.7279 4.22927 18.4966 4.22927 16.9779V3.74615C4.22927 3.33194 4.56506 2.99615 4.97927 2.99615Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M7.7684 5.58814C7.47168 5.87715 6.99684 5.87091 6.70783 5.57419L5.003 3.82395L3.29544 5.57457C3.00621 5.87108 2.53137 5.87699 2.23486 5.58777C1.93834 5.29854 1.93243 4.82371 2.22165 4.52719L4.46649 2.22576C4.6077 2.08099 4.8014 1.99938 5.00364 1.99945C5.20588 1.99952 5.39952 2.08126 5.54064 2.22614L7.78234 4.52757C8.07136 4.82428 8.06511 5.29912 7.7684 5.58814Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M18.4151 21.7685C18.1261 21.4718 18.1324 20.9969 18.4291 20.7079L20.1793 19.0031L18.4287 17.2955C18.1322 17.0063 18.1263 16.5315 18.4155 16.235C18.7047 15.9384 19.1796 15.9325 19.4761 16.2218L21.7775 18.4666C21.9223 18.6078 22.0039 18.8015 22.0038 19.0037C22.0037 19.206 21.922 19.3996 21.7771 19.5407L19.4757 21.7824C19.179 22.0715 18.7041 22.0652 18.4151 21.7685Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M16.7791 11.1119C16.3649 11.1065 16.0336 10.7663 16.039 10.3521L16.0711 7.90905L13.6258 7.93949C13.2116 7.94464 12.8717 7.61306 12.8665 7.19888C12.8614 6.7847 13.193 6.44476 13.6071 6.4396L16.8218 6.39958C17.0241 6.39707 17.2187 6.47633 17.3617 6.61938C17.5046 6.76244 17.5838 6.95716 17.5811 7.15939L17.5389 10.3719C17.5334 10.786 17.1932 11.1174 16.7791 11.1119Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M16.7514 7.23565C17.0441 7.52878 17.0437 8.00366 16.7506 8.29631L6.5259 18.5045C6.23277 18.7972 5.7579 18.7968 5.46524 18.5036C5.17258 18.2105 5.17297 17.7356 5.4661 17.443L15.6908 7.2348C15.9839 6.94214 16.4588 6.94252 16.7514 7.23565Z",
            fill: "black"
        }
    })])
}
  , TE = []
  , AE = x(bE, SE, TE, !1, null, "5bfcb725");
const wE = AE.exports
  , _E = {
    name: "Cross-referencesSVG"
};
var LE = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M7.4613 2.63892C7.6373 2.49624 7.86838 2.44078 8.08997 2.48802L14.4448 3.8428C14.8005 3.91864 15.0506 4.2388 15.0379 4.60232L14.4759 20.8045C14.4651 21.1164 14.2621 21.3891 13.9664 21.489C13.6707 21.5889 13.344 21.4952 13.1462 21.2537L8.59773 15.7014C8.33524 15.381 8.38221 14.9084 8.70263 14.646C9.02306 14.3835 9.4956 14.4304 9.75809 14.7509L13.0458 18.7642L13.517 5.17873L8.68514 4.14861L8.69334 9.08451C8.69403 9.49872 8.3588 9.83507 7.94459 9.83576C7.53037 9.83644 7.19403 9.50122 7.19334 9.087L7.1836 3.22278C7.18322 2.99621 7.28529 2.7816 7.4613 2.63892Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M13.6155 8.62478C13.7983 8.25309 14.2478 8.09997 14.6195 8.28278L21.5883 11.7103C21.8751 11.8514 22.041 12.1587 22.0016 12.4759C21.9622 12.7931 21.7261 13.0504 21.4134 13.1169L6.16322 16.3626C5.84679 16.4299 5.52284 16.2867 5.35959 16.0074L2.10097 10.4324C1.97525 10.2173 1.96454 9.95379 2.07241 9.7292C2.18027 9.50462 2.39262 9.34826 2.6391 9.31192L7.64237 8.57443C8.05216 8.51403 8.43332 8.79726 8.49373 9.20704C8.55413 9.61683 8.2709 9.99799 7.86111 10.0584L3.95625 10.634L6.3811 14.7826L18.9831 12.1006L13.9575 9.62879C13.5858 9.44598 13.4327 8.99647 13.6155 8.62478Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M7.34976 8.82873C7.60294 8.5009 8.07394 8.44037 8.40177 8.69355L14.4219 13.3427C14.7498 13.5959 14.8103 14.0669 14.5571 14.3947C14.304 14.7225 13.833 14.7831 13.5051 14.5299L7.48495 9.88074C7.15711 9.62757 7.09659 9.15657 7.34976 8.82873Z",
            fill: "black"
        }
    })])
}
  , OE = []
  , xE = x(_E, LE, OE, !1, null, "859aa041");
const ME = xE.exports
  , NE = {
    name: "ScreenshotSVG"
};
var RE = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M4.75 2.06207C3.23122 2.06207 2 3.29329 2 4.81207V7.68707C2 8.10129 2.33579 8.43707 2.75 8.43707C3.16421 8.43707 3.5 8.10129 3.5 7.68707V4.81207C3.5 4.12172 4.05964 3.56207 4.75 3.56207H7.625C8.03921 3.56207 8.375 3.22629 8.375 2.81207C8.375 2.39786 8.03921 2.06207 7.625 2.06207H4.75ZM19.1875 2.06207C20.7063 2.06207 21.9375 3.29329 21.9375 4.81207V7.68707C21.9375 8.10129 21.6017 8.43707 21.1875 8.43707C20.7733 8.43707 20.4375 8.10129 20.4375 7.68707V4.81207C20.4375 4.12172 19.8779 3.56207 19.1875 3.56207H16.3125C15.8983 3.56207 15.5625 3.22629 15.5625 2.81207C15.5625 2.39786 15.8983 2.06207 16.3125 2.06207H19.1875ZM2 19.2496C2 20.7684 3.23122 21.9996 4.75 21.9996H7.625C8.03921 21.9996 8.375 21.6638 8.375 21.2496C8.375 20.8354 8.03921 20.4996 7.625 20.4996H4.75C4.05964 20.4996 3.5 19.9399 3.5 19.2496V16.3746C3.5 15.9604 3.16421 15.6246 2.75 15.6246C2.33579 15.6246 2 15.9604 2 16.3746V19.2496ZM19.1875 21.9996C20.7063 21.9996 21.9375 20.7684 21.9375 19.2496V16.3746C21.9375 15.9604 21.6017 15.6246 21.1875 15.6246C20.7733 15.6246 20.4375 15.9604 20.4375 16.3746V19.2496C20.4375 19.9399 19.8779 20.4996 19.1875 20.4996H16.3125C15.8983 20.4996 15.5625 20.8354 15.5625 21.2496C15.5625 21.6638 15.8983 21.9996 16.3125 21.9996H19.1875Z",
            fill: "#3DA8FE"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M5.85938 9.64801C5.85938 9.09573 6.30709 8.64801 6.85938 8.64801H8.77914C8.91064 8.64801 9.03685 8.59621 9.13042 8.50382L10.2274 7.42077C10.4146 7.23599 10.667 7.13239 10.93 7.13239H12H13.1013C13.3642 7.13239 13.6167 7.23599 13.8038 7.42077L14.9008 8.50382C14.9944 8.59621 15.1206 8.64801 15.2521 8.64801H17.1406C17.6929 8.64801 18.1406 9.09573 18.1406 9.64801V15.8668C18.1406 16.419 17.6929 16.8668 17.1406 16.8668H6.85938C6.30709 16.8668 5.85938 16.419 5.85938 15.8668V9.64801ZM14.25 13.1246C14.25 14.3672 13.2426 15.3746 12 15.3746C10.7574 15.3746 9.75 14.3672 9.75 13.1246C9.75 11.8819 10.7574 10.8746 12 10.8746C13.2426 10.8746 14.25 11.8819 14.25 13.1246ZM7.625 11.2496C8.03921 11.2496 8.375 10.9138 8.375 10.4996C8.375 10.0854 8.03921 9.74957 7.625 9.74957C7.21079 9.74957 6.875 10.0854 6.875 10.4996C6.875 10.9138 7.21079 11.2496 7.625 11.2496Z",
            fill: "#3DA8FE"
        }
    })])
}
  , PE = []
  , DE = x(NE, RE, PE, !1, null, "d874ee14");
const kE = DE.exports;
let ba = {};
const HE = {
    name: "DisplaySection",
    components: {
        ScreenshotSVG: kE,
        CrossReferencesSVG: ME,
        OrientationSVG: wE,
        Slider: Qh,
        DarkIconSVG: CE,
        Toggle: Hn
    },
    mixins: [br],
    data() {
        return {
            isDarkMode: !1,
            canWriteInLocalStorage: !1
        }
    },
    computed: {
        canDisplayCrossRefButton() {
            return this.$store.getters["menu/canDisplayCrossRefButton"]
        },
        isHighQuality() {
            return this.$store.getters["anatomy/imageQuality"] === y.getHighQuality()
        },
        widgetOrientationIsOpen() {
            return this.$store.getters["orientation-context-menu/widgetVisibility"]
        },
        notIE() {
            return Se.getIEVersion() === 0
        },
        featuresHidePointWithoutLabel() {
            return this.$store.getters["anatomy/featureHidePointWithoutLabelIsActive"]
        },
        viewZoneEnabled() {
            return this.$store.getters["anatomy/viewZoneEnabled"]
        },
        pinModeEnabled() {
            return this.$store.getters["anatomy/pinModeEnabled"]
        },
        crossReferencesPanelIsOpen() {
            return this.$store.getters["menu/displayCrossReferencesPanel"].display
        },
        getShortcutScreenshot() {
            return this.getShortcutKeyByName("save")
        }
    },
    created() {
        const {application: t, series: e, image: i, ui: s} = k;
        ba = y.createHooks([{
            on: e.CHANGE,
            do: () => {
                this.isDarkMode = y.isDarkMode()
            }
        }, {
            on: t.READY,
            do: () => this.init()
        }, {
            on: s.SETTINGS.RESET,
            do: () => this.reset()
        }, {
            on: i.QUALITY_CHANGE,
            do: () => this.refreshImageQuality()
        }])
    },
    beforeMount() {
        y.onBeforeMount(ba)
    },
    beforeUnmount() {
        y.onBeforeUnmount(ba)
    },
    methods: {
        toggleQuizMode() {
            this.$store.dispatch("anatomy/quiz:toggle")
        },
        toggleOrientationWidgetOrientation() {
            this.widgetOrientationIsOpen ? this.$store.dispatch("orientation-context-menu/perform:close") : this.$store.dispatch("orientation-context-menu/perform:open")
        },
        switchTheme() {
            this.notIE && (y.switchTheme(this.$store.getters["anatomy/moduleName"]),
            this.$store.dispatch("anatomy/theme-switch-notification", y.isDarkMode()),
            this.isDarkMode = y.isDarkMode())
        },
        switchQuality() {
            se.add(he.IMAGE_HIGH_QUALITY, !this.isHighQuality),
            this.$store.dispatch("anatomy/image:toggleQuality")
        },
        toggleHidePointWithoutLabel() {
            this.$store.dispatch("anatomy/hide-point-feature:toggle")
        },
        refreshImageOverlayOpacity() {
            var i;
            const t = this.$store.getters["anatomy/moduleName"]
              , e = {
                input: this.$refs.slider.$refs.input,
                updateInput: () => this.$refs.slider.updateInput()
            };
            if (t !== null) {
                const s = se.get(he.OVERLAY);
                e.input.value = (i = s == null ? void 0 : s[t]) != null ? i : this.$store.getters["anatomy/getDefaultOverlayOpacity"],
                this.canWriteInLocalStorage = !0
            } else
                e.input.value = this.$store.getters["anatomy/getDefaultOverlayOpacity"];
            e.updateInput()
        },
        refreshImageQuality() {
            this.$store.dispatch("anatomy/image:quality-refresh")
        },
        updateOpacityOverlay(t) {
            const e = this.$store.getters["anatomy/moduleName"];
            if (e !== null && this.canWriteInLocalStorage) {
                const i = {};
                i[e] = parseFloat(t),
                se.add(he.OVERLAY, i)
            }
            this.$store.dispatch("anatomy/overlay:set-opacity", t)
        },
        reset() {
            var i;
            se.remove(he.THEME);
            const t = ((i = this.$store.getters["anatomy/currentSeries"]) == null ? void 0 : i.modality_id) || null;
            this.isDarkMode = y.setThemeByModality(t) === "dark";
            const e = this.$store.getters["anatomy/moduleName"];
            se.remove(he.OVERLAY, e),
            this.refreshImageOverlayOpacity(),
            se.remove(he.IMAGE_HIGH_QUALITY),
            this.isHighQuality || this.switchQuality(),
            se.remove(he.ORIENTATION),
            this.widgetOrientationIsOpen || this.toggleOrientationWidgetOrientation()
        },
        checkOrientation() {
            var t;
            ((t = se.get(he.ORIENTATION)) != null ? t : !0) !== this.widgetOrientationIsOpen && this.toggleOrientationWidgetOrientation()
        },
        init() {
            this.refreshImageOverlayOpacity(),
            this.checkOrientation()
        },
        toggleCrossReferencesPanel() {
            this.$store.dispatch("menu/cross-references:toggle").then( () => this.$store.dispatch("menu/cross-references:notification", W.RIGHT_MENU))
        },
        saveScreenshot() {
            this.$store.dispatch("anatomy/saveImage")
        }
    }
};
var zE = function() {
    var t = this
      , e = t._self._c;
    return e("div", [e("span", {
        staticClass: "title-section"
    }, [t._v(" " + t._s(t.$t("menu.display.section-title")) + " ")]), e("ul", [e("li", {
        staticClass: "list-li"
    }, [e("div", {
        staticClass: "list-item"
    }, [e("span", [e("OrientationSVG"), t._v(" " + t._s(t.$t("menu.display.orientation")) + " ")], 1), e("toggle", {
        attrs: {
            "is-active": t.widgetOrientationIsOpen
        },
        on: {
            click: t.toggleOrientationWidgetOrientation
        }
    })], 1)]), t.canDisplayCrossRefButton ? e("li", {
        staticClass: "list-li"
    }, [e("div", {
        staticClass: "list-item"
    }, [e("span", [e("CrossReferencesSVG"), t._v(" " + t._s(t.$t("menu.display.cross-references")) + " ")], 1), e("toggle", {
        attrs: {
            "is-active": t.crossReferencesPanelIsOpen
        },
        on: {
            click: t.toggleCrossReferencesPanel
        }
    })], 1)]) : t._e(), e("li", {
        staticClass: "list-li",
        class: {
            "not-available": !t.notIE
        },
        attrs: {
            title: t.notIE ? "" : t.$t("ie.not-available")
        }
    }, [e("div", {
        staticClass: "list-item"
    }, [e("span", [e("DarkIconSVG", {
        staticClass: "not-colored"
    }), t._v(" " + t._s(t.$t("menu.display.dark-mode")) + " ")], 1), e("toggle", {
        attrs: {
            "is-active": t.isDarkMode
        },
        on: {
            click: t.switchTheme
        }
    })], 1)]), e("li", {
        staticClass: "list-li"
    }, [e("div", {
        staticClass: "list-li-content setting-opacity"
    }, [e("p", [t._v(t._s(t.$t("menu.display.overlays-opacity")))]), e("Slider", {
        ref: "slider",
        staticClass: "slider",
        attrs: {
            "on-input": i => t.updateOpacityOverlay(i)
        }
    })], 1)]), e("li", {
        staticClass: "list-li list-li-screenshot",
        on: {
            click: function(i) {
                return t.saveScreenshot()
            }
        }
    }, [e("div", {
        staticClass: "screenshot-button-content"
    }, [e("div", {
        staticClass: "text-icon-screenshot"
    }, [e("ScreenshotSVG"), e("p", [t._v(t._s(t.$t("menu.display.screenshot")))])], 1), e("span", {
        staticClass: "shortcut"
    }, [t._v(t._s(t.getShortcutScreenshot))])])])])])
}
  , BE = []
  , FE = x(HE, zE, BE, !1, null, "7c15bf26");
const VE = FE.exports
  , UE = {
    name: "ArrowSubMenuSVG"
};
var GE = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            width: "14",
            height: "17",
            viewBox: "0 0 14 17",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            d: "M4.99961 3.11108C4.61034 3.50036 4.61 4.13139 4.99884 4.52108L8.875 8.4057L4.99884 12.2903C4.61 12.68 4.61034 13.311 4.99961 13.7003C5.38919 14.0899 6.02081 14.0899 6.41038 13.7003L10.2908 9.81991C10.9575 9.15325 11.2908 8.81991 11.2908 8.4057C11.2908 7.99149 10.9575 7.65815 10.2908 6.99149L6.41038 3.11108C6.02081 2.72151 5.38919 2.72151 4.99961 3.11108Z",
            fill: "white"
        }
    })])
}
  , $E = []
  , jE = x(UE, GE, $E, !1, null, "d252aa71");
const zn = jE.exports;
let Sa = {};
const YE = {
    name: "LanguageSection",
    components: {
        ArrowSubMenuSVG: zn
    },
    directives: {
        ClickOutside: Ft
    },
    data() {
        return {
            showOptionLanguage: !1
        }
    },
    computed: {
        languages() {
            return this.$store.getters["anatomy/languages"]
        },
        currentLanguage() {
            return this.$store.getters["anatomy/currentLanguage"]
        }
    },
    created() {
        const {application: t, ui: e, language: i} = k;
        Sa = y.createHooks([{
            on: t.READY,
            do: () => this.loadCurrentLanguage()
        }, {
            on: e.SETTINGS.RESET,
            do: () => this.reset()
        }, {
            on: i.CHANGE,
            do: () => this.$store.dispatch("anatomy/language:update-current")
        }])
    },
    beforeMount() {
        y.onBeforeMount(Sa)
    },
    beforeUnmount() {
        y.onBeforeUnmount(Sa)
    },
    methods: {
        toggleLanguages() {
            this.showOptionLanguage = !this.showOptionLanguage
        },
        setLanguage(t, e=!0) {
            this.showOptionLanguage = !1,
            e && se.add(he.LANGUAGE, t),
            this.$store.dispatch("anatomy/language:set", t)
        },
        closeOptionLanguage() {
            this.showOptionLanguage = !1
        },
        reset() {
            se.remove(he.LANGUAGE),
            this.setLanguage(y.transformSiteAccessToStructureLanguage(y.getSiteAccess()), !1)
        },
        loadCurrentLanguage() {
            const t = se.get(he.LANGUAGE)
              , e = se.get(he.LAST_SITE_ACCESS);
            t !== null && (e === y.getSiteAccess() ? this.setLanguage(t) : this.reset()),
            se.add(he.LAST_SITE_ACCESS, y.getSiteAccess())
        }
    }
};
var WE = function() {
    var t = this
      , e = t._self._c;
    return e("div", {
        staticClass: "have-separator padding-bottom"
    }, [e("span", {
        staticClass: "title-section"
    }, [t._v(" " + t._s(t.$t("menu.language.section-title")) + " ")]), e("div", {
        directives: [{
            name: "click-outside",
            rawName: "v-click-outside",
            value: t.closeOptionLanguage,
            expression: "closeOptionLanguage"
        }],
        staticClass: "language-container"
    }, [e("div", {
        staticClass: "input-container",
        on: {
            click: t.toggleLanguages
        }
    }, [e("p", {
        staticClass: "anatomy-menu-language"
    }, [t._v(" " + t._s(t.currentLanguage) + " ")]), e("ArrowSubMenuSVG")], 1), e("div", {
        staticClass: "options-languages-container",
        class: {
            show: t.showOptionLanguage
        }
    }, [e("ul", {
        staticClass: "options-languages"
    }, t._l(t.languages, function(i) {
        return e("li", {
            key: i.id,
            staticClass: "option",
            on: {
                click: function(s) {
                    return t.setLanguage(i.id)
                }
            }
        }, [t._v(" " + t._s(i.name) + " ")])
    }), 0)])])])
}
  , KE = []
  , ZE = x(YE, WE, KE, !1, null, "2cd4e8cd");
const QE = ZE.exports;
let Ta = {};
const XE = {
    name: "AdvancedSettingsSection",
    components: {
        Toggle: Hn
    },
    data: () => ({
        isURLCopied: !1,
        pulseAnimationOnPointIsEnabled: !0
    }),
    computed: {
        isScrollInverse() {
            return this.$store.getters["anatomy/isScrollInverse"]
        },
        isNotMobile() {
            return !Se.isMobileOrTablet()
        },
        shareLabel() {
            return this.isURLCopied ? this.$t("menu.advanced-settings.share.copied") : this.$t("menu.advanced-settings.share.label")
        }
    },
    created() {
        const {reverseScroll: t, application: e, ui: i} = k;
        Ta = y.createHooks([{
            on: t.STATUS_CHANGE,
            do: () => this.$store.dispatch("anatomy/application:reverse-scroll-update")
        }, {
            on: e.READY,
            do: () => this.init()
        }, {
            on: i.SETTINGS.RESET,
            do: () => this.onReset()
        }])
    },
    beforeMount() {
        y.onBeforeMount(Ta)
    },
    beforeUnmount() {
        y.onBeforeUnmount(Ta)
    },
    methods: {
        onReset() {
            se.remove(he.REVERSE_SCROLL),
            this.isScrollInverse && this.$store.dispatch("anatomy/inverse-scroll:toggle"),
            se.remove(he.PULSE_ANIMATION),
            this.pulseAnimationOnPointIsEnabled || this.togglePulseAnimationPoint()
        },
        resetSettings() {
            this.$store.dispatch("anatomy/reset")
        },
        inverseScrollToggle() {
            se.add(he.REVERSE_SCROLL, !this.isScrollInverse),
            this.$store.dispatch("anatomy/inverse-scroll:toggle")
        },
        displayShortcuts() {
            this.$store.dispatch("menu/shortcut-panel:display")
        },
        init() {
            se.get(he.REVERSE_SCROLL) && !this.isScrollInverse && this.inverseScrollToggle(),
            this.checkPulseAnimation()
        },
        share() {
            return _(this, null, function*() {
                let t = "link copied";
                const e = this.$store.getters["anatomy/getShareLink"]();
                try {
                    yield navigator.clipboard.writeText(e)
                } catch (i) {
                    i.name === "NotAllowedError" ? (t = `here is your share link: ${e}`,
                    this.$store.dispatch("dialog-popup/display", {
                        title: "share",
                        message: t
                    })) : y.sendVueError(i)
                } finally {
                    this.isURLCopied = !0,
                    setTimeout( () => this.isURLCopied = !1, 2e3)
                }
            })
        },
        togglePulseAnimationPoint() {
            this.pulseAnimationOnPointIsEnabled ? this.$store.dispatch("anatomy/pulse-animation:disable") : this.$store.dispatch("anatomy/pulse-animation:enable"),
            this.pulseAnimationOnPointIsEnabled = !this.pulseAnimationOnPointIsEnabled,
            se.add(he.PULSE_ANIMATION, this.pulseAnimationOnPointIsEnabled)
        },
        checkPulseAnimation() {
            var t;
            ((t = se.get(he.PULSE_ANIMATION)) != null ? t : !0) !== this.pulseAnimationOnPointIsEnabled && this.togglePulseAnimationPoint()
        }
    }
};
var qE = function() {
    var t = this
      , e = t._self._c;
    return e("div", [e("span", {
        staticClass: "title-section margin-bottom"
    }, [t._v(" " + t._s(t.$t("menu.advanced-settings.section-title")) + " ")]), e("ul", [e("li", {
        staticClass: "list-li",
        attrs: {
            title: `${t.$t("keyboard-panel.reverse-scroll")} (I)`
        }
    }, [e("div", {
        staticClass: "list-li-content setting-reverseScroll"
    }, [e("p", [t._v(t._s(t.$t("menu.advanced-settings.reverseScroll-settings")))]), e("toggle", {
        attrs: {
            "is-active": t.isScrollInverse
        },
        on: {
            click: t.inverseScrollToggle
        }
    })], 1)]), e("li", {
        staticClass: "list-li"
    }, [e("div", {
        staticClass: "list-li-content"
    }, [e("p", [t._v(t._s(t.$t("menu.display.pulse-animation-toggle")))]), e("toggle", {
        attrs: {
            "is-active": t.pulseAnimationOnPointIsEnabled
        },
        on: {
            click: t.togglePulseAnimationPoint
        }
    })], 1)]), t.isNotMobile ? e("li", {
        staticClass: "list-li have-hover",
        on: {
            click: t.displayShortcuts
        }
    }, [e("div", {
        staticClass: "list-li-content"
    }, [e("p", [t._v(t._s(t.$t("menu.advanced-settings.shortcuts-panel")))])])]) : t._e(), e("li", {
        staticClass: "list-li have-hover",
        on: {
            click: t.resetSettings
        }
    }, [e("div", {
        staticClass: "list-li-content"
    }, [e("p", [t._v(t._s(t.$t("menu.advanced-settings.reset-settings")))])])]), e("li", {
        staticClass: "list-li have-hover",
        on: {
            click: t.share
        }
    }, [e("div", {
        staticClass: "list-li-content"
    }, [e("p", [t._v(t._s(t.shareLabel))])])])])])
}
  , JE = []
  , eI = x(XE, qE, JE, !1, null, "840635c3");
const tI = eI.exports
  , iI = {
    name: "QuizSVG"
};
var sI = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            d: "M11.1054 11.8143V11.4624C11.1005 11.1864 11.1675 10.9139 11.2999 10.6717C11.484 10.387 11.7233 10.1421 12.0037 9.95137C12.2527 9.79465 12.475 9.59897 12.6619 9.37179C12.7648 9.22973 12.8199 9.05867 12.8193 8.88329C12.8277 8.78961 12.8111 8.69537 12.7711 8.61025C12.731 8.52512 12.6691 8.45219 12.5916 8.39892C12.4016 8.28224 12.1808 8.22594 11.9582 8.23747C11.3851 8.27332 10.8289 8.44503 10.3353 8.73839L9.81372 7.69515C10.4962 7.29693 11.2715 7.0856 12.0617 7.08245C12.6209 7.05917 13.171 7.23033 13.6183 7.56681C13.8027 7.71608 13.9505 7.90565 14.0502 8.12095C14.15 8.33625 14.1991 8.57155 14.1937 8.80877C14.1921 9.11527 14.1077 9.41564 13.9494 9.67814C13.7018 10.0142 13.3945 10.3019 13.0428 10.5268C12.8367 10.6751 12.6503 10.849 12.4881 11.0443C12.4008 11.1826 12.3589 11.3447 12.368 11.508V11.7895L11.1054 11.8143ZM10.9563 13.4371C10.9482 13.327 10.9632 13.2163 11.0003 13.1122C11.0373 13.0082 11.0957 12.913 11.1716 12.8327C11.2574 12.7635 11.3561 12.7121 11.4621 12.6815C11.568 12.6509 11.6789 12.6418 11.7884 12.6547C11.8992 12.6463 12.0106 12.6603 12.1158 12.6959C12.2211 12.7315 12.3181 12.7878 12.4011 12.8617C12.5413 13.0287 12.6181 13.2398 12.6181 13.4578C12.6181 13.6759 12.5413 13.887 12.4011 14.054C12.3193 14.1288 12.2232 14.1864 12.1187 14.2234C12.0142 14.2603 11.9033 14.2759 11.7926 14.2692C11.6815 14.2771 11.57 14.2624 11.4647 14.2261C11.3594 14.1898 11.2626 14.1327 11.1799 14.0581C11.0994 13.9773 11.0376 13.8798 10.999 13.7725C10.9604 13.6652 10.9458 13.5507 10.9563 13.4371Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M13.4644 7.76389C13.0639 7.46393 12.5721 7.31142 12.0721 7.33223L12.0627 7.33262C11.3946 7.33529 10.7378 7.49535 10.145 7.79874L10.4429 8.39446C10.9093 8.15934 11.4194 8.02069 11.9426 7.98796L11.9452 7.98779C12.2184 7.97364 12.4894 8.04274 12.7224 8.18591L12.7333 8.1926C12.8474 8.27099 12.9384 8.37861 12.9973 8.50389C13.0545 8.62554 13.0792 8.75983 13.0692 8.89373C13.0677 9.1181 12.9961 9.33651 12.8644 9.5184L12.8599 9.52468L12.855 9.53067C12.652 9.7773 12.4109 9.98992 12.1408 10.1605C11.8922 10.3303 11.6795 10.5475 11.515 10.7996C11.4062 11.0017 11.3512 11.2284 11.3553 11.458L11.3554 11.4624L11.3554 11.5593L12.118 11.5443V11.5145C12.1076 11.3018 12.163 11.0911 12.2766 10.9109L12.2853 10.8971L12.2957 10.8846C12.4715 10.6729 12.6735 10.4845 12.8968 10.3239L12.9079 10.3159C13.2305 10.1096 13.513 9.8467 13.7411 9.53935C13.8724 9.31774 13.9423 9.06513 13.9437 8.80744L13.9437 8.80311C13.9482 8.60408 13.9071 8.40668 13.8234 8.22605C13.7403 8.04674 13.6175 7.8887 13.4644 7.76389ZM12.056 6.83247C12.6714 6.80796 13.2763 6.99676 13.7685 7.36703L13.7756 7.37235C13.9898 7.54566 14.1613 7.76588 14.2771 8.01585C14.3926 8.26516 14.4496 8.53757 14.4437 8.81227C14.4414 9.16305 14.3447 9.50675 14.1635 9.80721L14.1576 9.81711L14.1507 9.82642C13.8863 10.1853 13.5585 10.4928 13.1835 10.7336C13.0014 10.8652 12.8362 11.0187 12.6916 11.1906C12.6375 11.282 12.6117 11.3876 12.6176 11.494L12.6184 11.508L12.618 12.0346L10.8554 12.0693V11.4646C10.8501 11.1459 10.9277 10.8314 11.0806 10.5518L11.085 10.5437L11.09 10.536C11.2923 10.2232 11.5551 9.95413 11.8631 9.74466L11.8705 9.73965C12.0945 9.59865 12.2948 9.42309 12.4637 9.21929C12.5327 9.1213 12.5697 9.00419 12.5693 8.88418L12.5692 8.87248L12.5703 8.86083C12.5747 8.81134 12.5659 8.76157 12.5448 8.7166C12.5245 8.67338 12.4935 8.63611 12.4547 8.6083C12.3096 8.52079 12.1417 8.47856 11.9724 8.48707C11.4394 8.52064 10.9221 8.68044 10.4631 8.95329L10.232 9.09067L9.4853 7.59733L9.68772 7.47922C10.4068 7.05964 11.2236 6.83661 12.056 6.83247ZM11.7592 12.903C11.6828 12.894 11.6053 12.9003 11.5314 12.9217C11.4628 12.9415 11.3986 12.9737 11.3419 13.0168C11.2954 13.0692 11.2593 13.13 11.2358 13.1961C11.2104 13.2675 11.2001 13.3433 11.2057 13.4188L10.9563 13.4371L11.2053 13.4602C11.1981 13.5373 11.208 13.615 11.2342 13.6878C11.2597 13.7586 11.3 13.8231 11.3524 13.877C11.409 13.9268 11.4748 13.9652 11.5462 13.9898C11.6196 14.0151 11.6975 14.0253 11.775 14.0199L11.7913 14.0187L11.8077 14.0197C11.8849 14.0244 11.9623 14.0135 12.0353 13.9877C12.1031 13.9637 12.1659 13.9272 12.2202 13.8803C12.3159 13.7604 12.3681 13.6115 12.3681 13.4578C12.3681 13.3047 12.3163 13.1563 12.2213 13.0367C12.1665 12.9909 12.1036 12.9556 12.0358 12.9328C11.9623 12.9079 11.8846 12.8981 11.8073 12.904L11.7832 12.9058L11.7592 12.903ZM10.7057 13.4348C10.6983 13.2968 10.7183 13.1587 10.7648 13.0284C10.8135 12.8916 10.8902 12.7664 10.99 12.6609L11.0015 12.6487L11.0146 12.6382C11.1263 12.548 11.2548 12.4811 11.3927 12.4413C11.5229 12.4037 11.6589 12.3911 11.7937 12.4039C11.9299 12.3966 12.0664 12.4153 12.1958 12.4591C12.3329 12.5054 12.4592 12.5788 12.5673 12.6749L12.5809 12.687L12.5926 12.701C12.7706 12.913 12.8681 13.181 12.8681 13.4578C12.8681 13.7347 12.7706 14.0026 12.5926 14.2147L12.582 14.2274L12.5698 14.2385C12.4632 14.3359 12.3382 14.4109 12.2021 14.459C12.0711 14.5054 11.9325 14.5259 11.7938 14.5197C11.6546 14.5273 11.5152 14.5079 11.3833 14.4625C11.2462 14.4152 11.1201 14.3409 11.0124 14.2437L11.0025 14.2348C10.8962 14.128 10.8148 13.9989 10.7638 13.8572C10.7151 13.7219 10.6953 13.578 10.7057 13.4348Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M18.2139 16.9052C18.3834 16.9055 18.5513 16.8723 18.708 16.8076C18.8647 16.7429 19.0071 16.648 19.127 16.5282C19.2469 16.4085 19.3421 16.2662 19.407 16.1096C19.4719 15.9531 19.5054 15.7852 19.5054 15.6157V5.7929C19.5054 5.6234 19.4719 5.45556 19.407 5.29898C19.3421 5.14241 19.2469 5.00017 19.127 4.8804C19.0071 4.76063 18.8647 4.66569 18.708 4.601C18.5513 4.5363 18.3834 4.50314 18.2139 4.50339L18.2117 4.50339L5.79363 4.50339C5.62413 4.50314 5.45624 4.5363 5.29957 4.601C5.14289 4.66569 5.00051 4.76063 4.88057 4.8804C4.76062 5.00017 4.66546 5.14241 4.60054 5.29898C4.53561 5.45556 4.5022 5.6234 4.5022 5.79291V15.6157C4.5022 15.7852 4.53561 15.9531 4.60054 16.1096C4.66546 16.2662 4.76062 16.4085 4.88057 16.5282C5.00051 16.648 5.14289 16.7429 5.29957 16.8076C5.45624 16.8723 5.62413 16.9055 5.79363 16.9052L5.79586 16.9052L8.14011 16.9052C8.96853 16.9052 9.64011 17.5768 9.64011 18.4052V18.6783L12.0519 17.1405C12.2929 16.9868 12.5726 16.9052 12.8584 16.9052H18.2139ZM8.90892 20.9235C8.57608 21.1357 8.14011 20.8966 8.14011 20.5019V18.4052H5.79586C5.42919 18.4058 5.06601 18.334 4.72709 18.1941C4.38817 18.0541 4.08016 17.8488 3.82069 17.5897C3.56122 17.3306 3.35538 17.0229 3.21493 16.6842C3.07449 16.3455 3.0022 15.9824 3.0022 15.6157V5.79291C3.0022 5.42623 3.07449 5.06316 3.21493 4.72445C3.35538 4.38573 3.56122 4.07804 3.82069 3.81895C4.08016 3.55987 4.38817 3.35448 4.72709 3.21454C5.06601 3.0746 5.42919 3.00284 5.79586 3.00339H18.2117C18.5784 3.00284 18.9416 3.0746 19.2805 3.21454C19.6194 3.35448 19.9274 3.55987 20.1869 3.81895C20.4463 4.07804 20.6522 4.38573 20.7926 4.72445C20.9331 5.06316 21.0054 5.42623 21.0054 5.79291V15.6157C21.0054 15.9824 20.9331 16.3455 20.7926 16.6842C20.6522 17.0229 20.4463 17.3306 20.1869 17.5897C19.9274 17.8488 19.6194 18.0541 19.2805 18.1941C18.9416 18.334 18.5784 18.4058 18.2117 18.4052H12.8584L8.90892 20.9235Z",
            fill: "black"
        }
    })])
}
  , rI = []
  , nI = x(iI, sI, rI, !1, null, "2d2ae991");
const aI = nI.exports
  , oI = {
    name: "ViewZoneSVG"
};
var lI = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M15.1011 13.0624C15.3711 12.7482 15.8446 12.7124 16.1587 12.9824L21.7474 17.7848C22.0615 18.0548 22.0973 18.5283 21.8274 18.8424C21.5574 19.1566 21.0839 19.1924 20.7697 18.9225L15.1811 14.12C14.867 13.8501 14.8312 13.3765 15.1011 13.0624Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M8.61828 2.03882C9.01664 1.92531 9.43159 2.15623 9.5451 2.55459L11.0951 7.99424C11.2086 8.3926 10.9777 8.80754 10.5793 8.92105C10.181 9.03456 9.76601 8.80365 9.6525 8.40529L8.10252 2.96564C7.98901 2.56728 8.21992 2.15233 8.61828 2.03882Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M1.98343 16.7361C1.90415 16.3295 2.16946 15.9357 2.57602 15.8564L8.67755 14.6666C9.08411 14.5874 9.47795 14.8527 9.55723 15.2592C9.6365 15.6658 9.37119 16.0596 8.96463 16.1389L2.8631 17.3287C2.45655 17.4079 2.0627 17.1426 1.98343 16.7361Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M5.94033 18.4689L17.9403 18.4689C18.2165 18.4689 18.4403 18.2451 18.4403 17.9689L18.4403 5.96893C18.4403 5.69278 18.2165 5.46893 17.9403 5.46893L5.94033 5.46892C5.66419 5.46892 5.44033 5.69278 5.44033 5.96892L5.44033 17.9689C5.44033 18.2451 5.66418 18.4689 5.94033 18.4689ZM17.9403 19.9689L5.94033 19.9689C4.83576 19.9689 3.94033 19.0735 3.94033 17.9689L3.94033 5.96892C3.94033 4.86435 4.83576 3.96892 5.94033 3.96892L17.9403 3.96893C19.0449 3.96893 19.9403 4.86436 19.9403 5.96893L19.9403 17.9689C19.9403 19.0735 19.0449 19.9689 17.9403 19.9689Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            d: "M10.3608 9.6821C11.2332 9.6821 11.9403 8.97513 11.9403 8.10305C11.9403 7.23097 11.2332 6.52401 10.3608 6.52401C9.48845 6.52401 8.78127 7.23097 8.78127 8.10305C8.78127 8.97513 9.48845 9.6821 10.3608 9.6821Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            d: "M15.6715 15.127C16.5438 15.127 17.251 14.4201 17.251 13.548C17.251 12.6759 16.5438 11.9689 15.6715 11.9689C14.7991 11.9689 14.0919 12.6759 14.0919 13.548C14.0919 14.4201 14.7991 15.127 15.6715 15.127Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            d: "M8.82467 16.9173C9.69703 16.9173 10.4042 16.2103 10.4042 15.3382C10.4042 14.4661 9.69703 13.7592 8.82467 13.7592C7.95232 13.7592 7.24514 14.4661 7.24514 15.3382C7.24514 16.2103 7.95232 16.9173 8.82467 16.9173Z",
            fill: "black"
        }
    })])
}
  , cI = []
  , uI = x(oI, lI, cI, !1, null, "131a7097");
const Xh = uI.exports
  , dI = {
    name: "PinModeSVG"
};
var hI = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M12 5.66904C10.067 5.66904 8.5 7.23605 8.5 9.16904C8.5 11.102 10.067 12.669 12 12.669C13.933 12.669 15.5 11.102 15.5 9.16904C15.5 7.23605 13.933 5.66904 12 5.66904ZM10 9.16904C10 8.06448 10.8954 7.16904 12 7.16904C13.1046 7.16904 14 8.06448 14 9.16904C14 10.2736 13.1046 11.169 12 11.169C10.8954 11.169 10 10.2736 10 9.16904Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M11.9823 1.92237C10.9288 1.92157 9.88791 2.15056 8.93311 2.59334C7.97869 3.03595 7.13342 3.68147 6.45731 4.48464C5.36481 5.77432 4.77006 7.40891 4.78084 9.09558V9.29169L4.78113 9.30195C4.81076 10.3843 5.05567 11.45 5.50161 12.4378C6.11223 13.8034 7.06674 14.9807 7.94001 16.0579C8.13551 16.299 8.32697 16.5352 8.50956 16.7673L8.52276 16.7841L8.5369 16.8001C9.50316 17.894 10.2146 19.1852 10.6212 20.5818C10.6393 20.6442 10.6554 20.7051 10.6712 20.7647C10.7444 21.0418 10.81 21.2903 11.039 21.5175C11.2948 21.7715 11.5158 21.9157 11.9949 21.9157C12.2502 21.9157 12.6798 21.8298 12.9728 21.5175C13.208 21.2669 13.3074 20.9124 13.3416 20.7903C13.346 20.7747 13.3493 20.7629 13.3517 20.7556C13.3736 20.6886 13.4064 20.5818 13.4064 20.5818C13.7274 18.9595 14.7707 17.6763 15.7838 16.4302C15.8659 16.3293 15.9477 16.2286 16.0289 16.1281C16.0983 16.0422 16.1744 15.9507 16.2515 15.8581C16.3454 15.7453 16.4407 15.6308 16.5271 15.5224C17.8554 13.8562 19.1613 11.9788 19.2191 9.29758L19.2193 9.2895V9.09378C19.2216 7.93985 18.942 6.80272 18.4049 5.77998C17.9653 4.94299 17.3631 4.20109 16.6336 3.59691C15.9046 2.99318 15.0627 2.53885 14.1566 2.25985C13.454 2.03968 12.722 1.92592 11.9853 1.92237L11.9823 1.92237ZM4.78084 9.09558V9.09311L4.78086 9.09818L4.78084 9.09558ZM9.56417 3.95414C10.3201 3.60356 11.1447 3.42195 11.9796 3.42236C12.5667 3.42535 13.1499 3.51618 13.7096 3.69173L13.7136 3.69294C14.4324 3.91404 15.0996 4.27414 15.6768 4.75218C16.2541 5.23021 16.7298 5.81667 17.077 6.47753C17.5009 7.28483 17.7212 8.18175 17.7193 9.09151L17.7193 9.09311V9.27311C17.6706 11.4171 16.6118 12.9794 15.3085 14.6143C15.16 14.8005 15.0073 14.9886 14.8525 15.1793C13.7406 16.5488 12.5208 18.0513 11.9949 19.9424C11.5194 18.4244 10.7295 17.0212 9.67542 15.8232C9.4675 15.5592 9.26035 15.303 9.05675 15.0512C8.19282 13.9827 7.39294 12.9934 6.87045 11.8243L6.86923 11.8216C6.50613 11.0178 6.30626 10.151 6.28084 9.27088L6.28086 9.09311L6.28083 9.08804C6.27184 7.75989 6.73999 6.47123 7.60252 5.4534L7.60419 5.45142C8.13872 4.8162 8.80775 4.30492 9.56417 3.95414Z",
            fill: "black"
        }
    })])
}
  , pI = []
  , mI = x(dI, hI, pI, !1, null, "52277189");
const gI = mI.exports
  , _u = 150;
let Aa = {};
const fI = {
    name: "LegendSection",
    components: {
        PinModeSVG: gI,
        ViewZoneSVG: Xh,
        QuizSVG: aI,
        Slider: Qh,
        Toggle: Hn
    },
    data() {
        return {
            defaultMinSize: 0,
            lastMinSize: null,
            isFontAuto: !0,
            mouseDownInterval: null,
            buttonMoreIsPressed: !1,
            buttonLessIsPressed: !1,
            timeoutChangeFontSize: null
        }
    },
    computed: {
        isQuizMode() {
            return this.$store.getters["anatomy/isQuizMode"]
        },
        viewZoneEnabled() {
            return this.$store.getters["anatomy/viewZoneEnabled"]
        },
        isPinMode() {
            return this.$store.getters["anatomy/pinModeEnabled"]
        },
        currentFontSize() {
            return this.$store.getters["anatomy/getFontSize"]
        }
    },
    created() {
        const {quiz: t, viewzone: e, ui: i, application: s, pinMode: r} = k;
        Aa = y.createHooks([{
            on: s.READY,
            do: () => this.init()
        }, {
            on: t.CHANGE,
            do: () => this.$store.dispatch("anatomy/quiz:refreshState")
        }, {
            on: e.CHANGE,
            do: () => this.$store.dispatch("anatomy/viewZone:refreshState")
        }, {
            on: r.CHANGE,
            do: () => this.$store.dispatch("anatomy/pin:refreshState")
        }, {
            on: i.SETTINGS.RESET,
            do: () => this.reset()
        }])
    },
    beforeMount() {
        y.onBeforeMount(Aa)
    },
    beforeUnmount() {
        y.onBeforeUnmount(Aa)
    },
    methods: {
        setFontToManual() {
            this.isFontAuto && (this.isFontAuto = !1,
            this.$store.dispatch("anatomy/font-size:manual"),
            this.$store.dispatch("anatomy/font-size:update"))
        },
        setFontAuto() {
            this.isFontAuto || (this.isFontAuto = !0,
            this.$store.dispatch("anatomy/font-size:auto"))
        },
        upFontSize() {
            this.buttonMoreIsPressed = !0,
            this.setFontSize(!0),
            this.mouseDownInterval = setInterval( () => this.setFontSize(!0), _u),
            document.addEventListener("mouseup", this.mouseUp)
        },
        downFontSize() {
            this.buttonLessIsPressed = !0,
            this.setFontSize(),
            this.mouseDownInterval = setInterval( () => this.setFontSize(), _u),
            document.addEventListener("mouseup", this.mouseUp)
        },
        mouseUp() {
            this.buttonLessIsPressed = !1,
            this.buttonMoreIsPressed = !1,
            clearInterval(this.mouseDownInterval),
            document.removeEventListener("mouseup", this.mouseUp)
        },
        setFontSize(t=!1) {
            const e = this.currentFontSize;
            this.$store.dispatch("anatomy/font-size:set", t === !0 ? e + 1 : e - 1),
            this.timeoutChangeFontSize !== null && clearTimeout(this.timeoutChangeFontSize),
            this.timeoutChangeFontSize = setTimeout( () => {
                this.$store.dispatch("anatomy/font-size:notification", e)
            }
            , 1e3)
        },
        toggleQuizMode() {
            this.isPinMode || this.$store.dispatch("anatomy/quiz:toggle")
        },
        toggleViewZone() {
            this.isPinMode || (this.$store.getters["anatomy/featureHidePointWithoutLabelIsActive"] && this.$store.dispatch("anatomy/hide-point-feature:toggle"),
            this.$store.dispatch("anatomy/viewZone:centered-toggle", W.RIGHT_MENU))
        },
        togglePinMode() {
            this.isQuizMode && this.toggleQuizMode(),
            this.viewZoneEnabled && this.toggleViewZone(),
            se.add(he.PIN_MODE, !this.isPinMode),
            this.$store.dispatch("anatomy/pin:toggle")
        },
        init() {
            se.remove(he.FONT_SIZE),
            (se.get(he.PIN_MODE) || !1) !== this.isPinMode && this.togglePinMode()
        },
        reset() {
            this.isQuizMode && this.toggleQuizMode(),
            this.viewZoneEnabled && this.toggleViewZone(),
            this.isPinMode && this.togglePinMode(),
            this.isFontAuto || this.setFontAuto(),
            se.remove(he.PIN_MODE)
        }
    }
};
var vI = function() {
    var t = this
      , e = t._self._c;
    return e("div", [e("span", {
        staticClass: "title-section"
    }, [t._v(" " + t._s(t.$t("menu.legend.section-title")) + " ")]), e("ul", [e("li", {
        staticClass: "list-li",
        attrs: {
            title: `${t.$t("keyboard-panel.practice")} (P)`
        }
    }, [e("div", {
        staticClass: "list-item"
    }, [e("span", [e("QuizSVG"), t._v(" " + t._s(t.$t("menu.legend.practice")) + " ")], 1), e("toggle", {
        attrs: {
            "is-active": t.isQuizMode,
            disabled: t.isPinMode
        },
        on: {
            click: t.toggleQuizMode
        }
    })], 1)]), e("li", {
        staticClass: "list-li",
        attrs: {
            title: t.$t("menu.legend.pins")
        }
    }, [e("div", {
        staticClass: "list-item"
    }, [e("span", [e("PinModeSVG"), t._v(" " + t._s(t.$t("menu.legend.pins")) + " ")], 1), e("toggle", {
        attrs: {
            "is-active": t.isPinMode
        },
        on: {
            click: t.togglePinMode
        }
    })], 1)]), e("li", {
        staticClass: "list-li",
        attrs: {
            title: `${t.$t("keyboard-panel.viewzone")} (M)`
        }
    }, [e("div", {
        staticClass: "list-item"
    }, [e("span", [e("ViewZoneSVG"), t._v(" " + t._s(t.$t("menu.legend.viewzone")) + " ")], 1), e("toggle", {
        attrs: {
            "is-active": t.viewZoneEnabled,
            disabled: t.isPinMode
        },
        on: {
            click: t.toggleViewZone
        }
    })], 1)]), e("li", {
        staticClass: "list-li"
    }, [e("div", {
        staticClass: "list-li-content setting-font"
    }, [e("div", {
        staticClass: "setting-font-label-container"
    }, [e("p", [t._v(t._s(t.$t("menu.legend.font-size")))]), e("div", {
        staticClass: "button-font-mode-container"
    }, [e("button", {
        staticClass: "button-font-mode left",
        class: {
            "selected-button": t.isFontAuto
        },
        on: {
            click: t.setFontAuto
        }
    }, [t._v(" Auto ")]), e("button", {
        staticClass: "button-font-mode right",
        class: {
            "selected-button": !t.isFontAuto
        },
        on: {
            click: t.setFontToManual
        }
    }, [t._m(0)])])]), t.isFontAuto ? t._e() : e("div", {
        staticClass: "manual-font-button-container"
    }, [e("button", {
        staticClass: "button-change-font left button-less",
        class: {
            pressed: t.buttonLessIsPressed
        },
        on: {
            mousedown: t.downFontSize
        }
    }, [t._v(" A ")]), e("span", {
        staticClass: "button-change-font center"
    }, [t._v(t._s(t.currentFontSize))]), e("button", {
        staticClass: "button-change-font right button-more",
        class: {
            pressed: t.buttonMoreIsPressed
        },
        on: {
            mousedown: t.upFontSize
        }
    }, [t._v(" A ")])])])])])])
}
  , yI = [function() {
    var t = this
      , e = t._self._c;
    return e("div", {
        staticClass: "letters-container"
    }, [e("span", {
        staticClass: "small-letter"
    }, [t._v("A")]), e("span", [t._v("A")])])
}
]
  , EI = x(fI, vI, yI, !1, null, "a588d4fb");
const II = EI.exports
  , CI = {
    name: "SingleArrowSVG"
};
var bI = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            d: "M15.5355 20.6621C15.8284 20.955 16.3033 20.955 16.5962 20.6621C16.8891 20.3692 16.8891 19.8943 16.5962 19.6014C16.5962 19.6014 11.6674 14.6787 8.99175 12.003L16.5962 4.39861C16.8891 4.10571 16.8891 3.63084 16.5962 3.33795C16.3033 3.04506 15.8284 3.04506 15.5355 3.33795L7.4038 11.4697C7.11091 11.7626 7.11091 12.2374 7.4038 12.5303L15.5355 20.6621Z",
            fill: "black"
        }
    })])
}
  , SI = []
  , TI = x(CI, bI, SI, !1, null, "4d7b28e5");
const qh = TI.exports
  , AI = {
    name: "CloseSVG"
};
var wI = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            width: "24",
            height: "24",
            xmlns: "http://www.w3.org/2000/svg",
            fill: "currentColor",
            viewBox: "0 0 24 24"
        }
    }, [e("path", {
        attrs: {
            "fill-rule": "evenodd",
            d: "M19.8 5.3a.7.7 0 0 0-1-1L12 11 5.3 4.3a.8.8 0 0 0-1 1l6.6 6.7-6.7 6.7a.8.8 0 0 0 1.1 1l6.7-6.6 6.7 6.7a.7.7 0 1 0 1-1L13.2 12l6.7-6.7Z",
            "clip-rule": "evenodd"
        }
    })])
}
  , _I = []
  , LI = x(AI, wI, _I, !1, null, "d07bdb9d");
const ts = LI.exports
  , OI = {
    name: "Pin-pinnedSVG"
};
var xI = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        attrs: {
            xmlns: "http://www.w3.org/2000/svg",
            width: "24",
            height: "24"
        }
    }, [e("path", {
        attrs: {
            fill: "currentColor",
            d: "M18.15 15.13h-5.38l-.02 6.06a.75.75 0 0 1-1.5 0l.02-6.07H5.93a.76.76 0 0 1-.75-.9 7.59 7.59 0 0 1 1.53-3.32C7.63 9.74 8.8 8.27 9 8V4.56L7.46 3.7A.9.9 0 0 1 7.91 2h8.15a.91.91 0 0 1 .45 1.7L15 4.56V8c.12.21 1.33 1.7 2.3 2.89.8.97 1.35 2.14 1.57 3.38a.73.73 0 0 1-.72.86Z"
        }
    })])
}
  , MI = []
  , NI = x(OI, xI, MI, !1, null, "e64bc23d");
const Lu = NI.exports;
let wa = {};
const RI = {
    name: "Menu",
    components: {
        IconButton: $h,
        CloseSVG: ts,
        LegendSection: II,
        AdvancedSettingsSection: tI,
        LanguageSection: QE,
        DisplaySection: VE,
        SeriesSection: hE,
        ContrastSection: iE,
        TransformationSection: Q2,
        FilterSection: A2,
        MenuSVG: Oh,
        PinSVG: ru,
        SingleArrowSVG: qh,
        PinPinnedSVG: Lu
    },
    directives: {
        ClickOutside: Ft
    },
    inject: ["container"],
    data: () => ({
        wasPinnedBeforeResized: !1,
        waitEventClickOutside: !1,
        orientationVertical: Ci.VERTICAL,
        orientationHorizontal: Ci.HORIZONTAL,
        oldSize: null
    }),
    computed: {
        pinIcon() {
            return this.isMenuPinned ? Lu : ru
        },
        CloseSVG() {
            return ts
        },
        isReady() {
            return this.$store.state.anatomy.isReady
        },
        otherSeriesHaveContrast() {
            return this.$store.getters["anatomy/otherSeriesHaveMoreThanOneContrast"]
        },
        contrasts() {
            return this.$store.getters["anatomy/contrasts"]
        },
        displaySeries() {
            return this.$store.getters["anatomy/listSeries"].length > 1
        },
        isMobileScreen() {
            return y.isMobileScreen()
        },
        isDesktopScreen() {
            return y.isDesktopScreen()
        },
        isLargeTabletScreen() {
            return y.isLargeTabletScreen()
        },
        isMenuPinned() {
            return this.$store.state.menu.menuIsPinned
        },
        isMenuOpen() {
            return this.$store.state.menu.menuIsOpen
        }
    },
    created() {
        const {application: t, ui: e} = k;
        wa = y.createHooks([{
            on: "resize",
            do: () => this.resize(),
            target: window
        }, {
            on: t.READY,
            do: () => this.initialize()
        }, {
            on: t.RESIZED,
            do: () => this.resize()
        }, {
            on: e.SETTINGS.RESET,
            do: () => {
                se.remove(he.MENU_OPEN),
                this.isMenuOpen || this.toggleMenu()
            }
        }])
    },
    beforeMount() {
        y.onBeforeMount(wa)
    },
    beforeUnmount() {
        y.onBeforeUnmount(wa)
    },
    methods: {
        toggleMenu(t=null) {
            this.$store.dispatch("menu/menu:toggle", t)
        },
        closeUnpinnedMenu() {
            !this.waitEventClickOutside && this.isMenuOpen && !this.isMenuPinned && this.toggleMenu()
        },
        togglePin(t=!0, e) {
            this.$store.dispatch("menu/menu-pin:toggle", e),
            t && se.add(he.MENU_OPEN, this.isMenuPinned)
        },
        initialize() {
            var t;
            ((t = se.get(he.MENU_OPEN)) == null || t) && (this.isLargeTabletScreen ? this.wasPinnedBeforeResized = !0 : (this.togglePin(!1, !0),
            this.toggleMenu())),
            this.$store.dispatch("anatomy/send-notification", k.ui.VIEWER.MENU_INITIALIZED)
        },
        resize() {
            this.isLargeTabletScreen && this.isMenuPinned && (this.togglePin(!1, !1),
            this.toggleMenu(!1),
            this.wasPinnedBeforeResized = !0),
            !this.isLargeTabletScreen && this.wasPinnedBeforeResized && (this.wasPinnedBeforeResized = !1,
            this.$nextTick( () => {
                this.toggleMenu(!0),
                this.togglePin(!1, !0)
            }
            ))
        }
    }
};
var PI = function() {
    var t = this
      , e = t._self._c;
    return e("nav", {
        directives: [{
            name: "click-outside",
            rawName: "v-click-outside",
            value: t.closeUnpinnedMenu,
            expression: "closeUnpinnedMenu"
        }],
        ref: "menu",
        staticClass: "navigation menu-viewer",
        class: {
            pinned: t.isMenuPinned,
            "box-shadow-menu": t.isMenuOpen,
            "small-screen": t.isMobileScreen,
            "large-tablet-screen": t.isLargeTabletScreen,
            "desktop-screen": t.isDesktopScreen,
            hide: !t.isMenuOpen,
            show: t.isMenuOpen
        }
    }, [e("div", {
        staticClass: "menu-title"
    }, [e("span", {
        staticClass: "title"
    }, [t._v(t._s(t.$t("menu.main.section-title")))]), t.isLargeTabletScreen ? t._e() : e("IconButton", {
        staticClass: "secondary",
        attrs: {
            icon: t.pinIcon,
            "is-pressed": t.isMenuPinned
        },
        on: {
            click: function(i) {
                return t.togglePin(!0)
            }
        }
    }), e("IconButton", {
        attrs: {
            icon: t.CloseSVG
        },
        on: {
            click: function(i) {
                return t.toggleMenu(!1)
            }
        }
    })], 1), t.isReady ? e("ul", {
        staticClass: "menu-content"
    }, [t.contrasts !== null && (t.contrasts.length > 1 || t.otherSeriesHaveContrast) ? e("li", [e("contrast-section")], 1) : t._e(), e("li", [e("filter-section", {
        attrs: {
            "is-visible": t.isMenuOpen
        }
    })], 1), e("li", [e("transformation-section")], 1), e("li", {
        directives: [{
            name: "show",
            rawName: "v-show",
            value: t.displaySeries,
            expression: "displaySeries"
        }]
    }, [e("series-section")], 1), e("li", [e("legend-section")], 1), e("li", [e("display-section", {
        ref: "display-section"
    })], 1), e("li", {
        staticClass: "have-separator"
    }, [e("language-section")], 1), e("li", [e("advanced-settings-section")], 1)]) : t._e()])
}
  , DI = []
  , kI = x(RI, PI, DI, !1, null, null);
const HI = kI.exports
  , _a = {
    drawCrossReferencesIndicator(t, e, i, s) {
        this.resetCrossReferencesIndicator(t, e, i);
        const r = i.getContext("2d");
        r.clearRect(0, 0, i.width, i.height),
        r.beginPath(),
        r.strokeStyle = y.getCSSVariable("--color-imaios") || `#${ze.IMAIOS}`,
        r.lineWidth = Math.max(Math.abs(e.naturalWidth / e.clientWidth), 2),
        s.path === null ? (r.moveTo(s.pt1x, s.pt1y),
        r.lineTo(s.pt2x, s.pt2y)) : s.path.forEach(n => {
            switch (n.type) {
            case 1:
                r.moveTo(n.pts[0], n.pts[1]);
                break;
            case 2:
                r.lineTo(n.pts[0], n.pts[1]);
                break;
            case 3:
                r.quadraticCurveTo(n.pts[0], n.pts[1], n.pts[2], n.pts[3]);
                break;
            case 6:
                r.bezierCurveTo(n.pts[0], n.pts[1], n.pts[2], n.pts[3], n.pts[4], n.pts[5]);
                break
            }
        }
        ),
        r.stroke()
    },
    resetCrossReferencesIndicator(t, e, i) {
        i.getContext("2d").clearRect(0, 0, i.width, i.height)
    }
}
  , zI = {
    name: "LoaderCube",
    props: ["messageLabel"]
};
var BI = function() {
    var t = this
      , e = t._self._c;
    return e("div", [e("p", {
        staticClass: "loader-message"
    }, [t._v(t._s(t.messageLabel))]), t._m(0)])
}
  , FI = [function() {
    var t = this
      , e = t._self._c;
    return e("div", {
        staticClass: "loader-cube"
    }, [e("span", {
        attrs: {
            id: "box"
        }
    }), e("span", {
        attrs: {
            id: "shadow"
        }
    })])
}
]
  , VI = x(zI, BI, FI, !1, null, "141d1fae");
const _l = VI.exports;
let La = {};
const UI = 33
  , GI = 10
  , $I = 200
  , jI = .12
  , YI = .2
  , WI = 10
  , KI = 40
  , ZI = 40
  , QI = {
    name: "CrossReferences",
    components: {
        LoaderCube: _l
    },
    inject: ["viewer"],
    data() {
        return {
            isDragging: !1,
            currentCR: null,
            currentCRNameId: null,
            isFirstRendering: !0,
            hasBeenMove: !1,
            hasBeenAlreadyMove: !1,
            isOpen: !1,
            hoveredCR: null,
            isLoading: !1,
            hasBeenLoad: !1,
            timeoutLoading: null
        }
    },
    computed: {
        crossReferencesData() {
            return this.$store.getters["cross-references/cross-references"]
        },
        displayCR() {
            return this.$store.getters["menu/displayCrossReferencesPanel"]
        },
        isDesktopScreen() {
            return y.isDesktopScreen()
        },
        crossRefExists() {
            return this.$store.getters["anatomy/crossRefExists"]
        },
        crossReferenceElementGap() {
            return this.crossReferencesData.length === 1 ? 0 : ZI
        },
        templateRows() {
            return `repeat(auto-fit, calc(${100 / this.crossReferencesData.length}% - ${this.crossReferenceElementGap}px))`
        }
    },
    watch: {
        displayCR(t) {
            t.display && !this.isOpen ? this.open(t.saveState) : !t.display && this.isOpen && this.close(t.saveState)
        }
    },
    created() {
        const {series: t, slice: e, language: i, ui: s, application: r} = k;
        La = y.createHooks([{
            on: r.RESIZED,
            do: () => {
                !this.isFirstRendering && this.crossRefExists && requestAnimationFrame(this.updateContainer)
            }
        }, {
            on: t.CHANGE,
            do: () => {
                this.$store.getters["anatomy/series:have-same-cr"]() || (this.timeoutLoading !== null && clearTimeout(this.timeoutLoading),
                this.hasBeenLoad = !1,
                this.timeoutLoading = setTimeout( () => {
                    this.crossRefExists && !this.hasBeenLoad && (this.isLoading = !0)
                }
                , 100)),
                this.$store.dispatch("cross-references/cross-references:get").then( () => {
                    this.hasBeenLoad = !0,
                    this.isLoading = !1,
                    this.$store.dispatch("cross-references/cross-references:draw-indicators"),
                    this.isFirstRendering = !1,
                    typeof this.$refs.crossRefs < "u" && this.initializeCrossReferences(this.$store.getters["menu/structurePanelIsOpen"])
                }
                )
            }
        }, {
            on: i.CHANGE,
            do: () => this.$store.dispatch("cross-references/cross-references:get")
        }, {
            on: e.CHANGE,
            do: () => {
                !this.isFirstRendering && this.crossRefExists && (this.$store.dispatch("cross-references/cross-references:draw-indicators"),
                this.drawCrossRefLine())
            }
        }, {
            on: s.THEME.SWITCH,
            do: () => {
                !this.isFirstRendering && this.crossRefExists && this.drawCrossRefLine()
            }
        }, {
            on: s.SETTINGS.RESET,
            do: () => {
                se.remove(he.CROSS_REFERENCES),
                this.initializeCrossReferences()
            }
        }])
    },
    beforeMount() {
        y.onBeforeMount(La)
    },
    beforeUnmount() {
        y.onBeforeUnmount(La)
    },
    methods: {
        getMaxHeightImage() {
            return (this.$refs["crossRef-container-list"].clientHeight - KI) / this.crossReferencesData.length - (this.crossReferenceElementGap + UI)
        },
        setSizeImage() {
            const t = this.crossReferencesData
              , e = this.getMaxHeightImage()
              , i = this.getMaxWidthImage();
            this.$refs.crossRefs.forEach( (s, r) => {
                const n = y.getFirstChildElementByTag(s, "img")
                  , a = y.getFirstChildElementByTag(s, "canvas")
                  , o = t[r].ratio
                  , l = i / e;
                let c = i
                  , u = e;
                Math.abs(l - o) > 0 && (c = i,
                u = c / o,
                (u > e || Math.abs(c / u - o) > 0) && (u = e,
                c = u * o)),
                n.style.maxHeight = `${e}px`,
                n.style.maxWidth = `${i}px`,
                n.style.width = `${c}px`,
                n.style.height = `${u}px`,
                a.style.width = `${c}px`,
                a.style.height = `${u}px`
            }
            )
        },
        updateContainer() {
            this.$refs.crossRefs === void 0 || this.$refs["crossRef-container-list"] === void 0 || (this.setSizeImage(),
            this.drawCrossRefLine())
        },
        getMaxWidthImage() {
            const t = this.viewer.value.parentNode.offsetWidth;
            return Math.round(Math.min(Math.max($I, t * jI), t * YI)) - GI * 2
        },
        open() {
            this.isOpen = !0,
            this.$nextTick().then(this.updateContainer),
            se.add(he.CROSS_REFERENCES, !0)
        },
        close(t=!0) {
            this.isOpen = !1,
            t && se.add(he.CROSS_REFERENCES, !1)
        },
        initializeCrossReferences(t=!1) {
            var i;
            const e = this.$store.getters["anatomy/currentSeries"];
            if (e !== null && typeof e.cross_references_titles < "u" && e.cross_references_titles.length > 0 && y.breakPointCrossReferences()) {
                const s = (i = se.get(he.CROSS_REFERENCES)) != null ? i : !0;
                t !== !0 && (s && !this.isOpen || !s && this.isOpen) && this.$store.dispatch("menu/cross-references:toggle")
            }
            this.$store.dispatch("menu/cross-references-button:authorize-to-display", this.crossRefExists),
            this.$store.dispatch("anatomy/send-notification", k.ui.VIEWER.CROSS_REFERENCES_INITIALIZED)
        },
        drawCrossRefLine() {
            const t = this.$store.getters["cross-references/cross-references-indicators"];
            this.$nextTick().then( () => {
                var e;
                (e = this.$refs.crossRefs) == null || e.forEach(i => {
                    const s = y.getFirstChildElementByTag(i, "canvas")
                      , r = y.getFirstChildElementByTag(i, "img")
                      , n = t.find(a => a.sort_order === parseInt(s.dataset.index, 10)) || null;
                    if (n !== null) {
                        if (r.width === 0) {
                            r.onload = () => {
                                _a.drawCrossReferencesIndicator(i, r, s, n)
                            }
                            ;
                            return
                        }
                        _a.drawCrossReferencesIndicator(i, r, s, n)
                    } else
                        _a.resetCrossReferencesIndicator(i, r, s)
                }
                )
            }
            )
        },
        goToSeries(t) {
            t !== 0 && this.$store.dispatch("anatomy/series:set", {
                seriesIndex: t,
                keepMode: !0
            })
        },
        mousemove(t, e) {
            const i = parseInt(t.target.dataset.index)
              , s = t.target.getBoundingClientRect()
              , r = {
                x: t.x - s.left,
                y: t.y - s.top
            }
              , n = this.$store.getters["anatomy/slices"]
              , a = this.$store.getters["anatomy/currentSeries"];
            n.filter(c => c.series_id === a.id).sort( (c, u) => c.sort_order - u.sort_order);
            const o = this.$store.getters["anatomy/currentSlice"]
              , l = e.sort_order - 1;
            if (o.crossReferencesLines.length > 0 && typeof o.crossReferencesLines[l] < "u" && (o.crossReferencesLines[l].path === null || o.crossReferencesLines[l].path.length === 2)) {
                const c = o.crossReferencesLines.find(u => u.sort_order === i);
                this.isValidCRLine(c) && this.getDistanceIndicator(c, r, t) <= WI ? this.hoveredCR = e.name : this.hoveredCR = null
            }
        },
        getDistanceIndicator(t, e, i) {
            const s = li.getOne(e.x, e.y)
              , r = li.getOne()
              , n = li.getOne();
            this.crLineHaveValidPath(t) && (r.set(t.path[0].pts[0] / i.target.width * i.target.clientWidth, t.path[0].pts[1] / i.target.height * i.target.clientHeight),
            n.set(t.path[1].pts[0] / i.target.width * i.target.clientWidth, t.path[1].pts[1] / i.target.height * i.target.clientHeight));
            const a = Qs.distancePointToLine2D(s, r, n);
            return s.recycle(),
            r.recycle(),
            n.recycle(),
            a
        },
        mousedown(t, e) {
            t.preventDefault(),
            this.currentCR = t.target.id,
            this.currentCRNameId = t.target.dataset.name_id,
            this.hoveredCR === e.name ? (this.isDragging = !0,
            this.indicatorDrag(t),
            document.onmouseup = this.endIndicatorDrag,
            document.addEventListener("mousemove", this.indicatorDrag)) : document.onmouseup = i => {
                i.target.id === this.currentCR && (this.$store.dispatch("anatomy/slice:notification", W.CROSS_REFERENCES),
                this.goToSeries(e.destination)),
                this.endIndicatorDrag()
            }
        },
        endIndicatorDrag() {
            this.isDragging = !1,
            this.currentCR = null,
            document.removeEventListener("mousemove", this.indicatorDrag),
            document.onmouseup = () => {}
        },
        indicatorDrag(t) {
            if (this.isDragging && t.target.id === this.currentCR) {
                t.preventDefault();
                const e = t.target.getBoundingClientRect()
                  , i = {
                    x: t.x - e.left,
                    y: t.y - e.top
                }
                  , s = parseInt(t.target.dataset.index);
                let r = this.$store.getters["anatomy/slices"];
                const n = this.$store.getters["anatomy/currentSeries"];
                if (!this.$store.getters["anatomy/series:have-same-cr"]())
                    r = r.filter(u => u.series_id === n.id);
                else {
                    const u = this.$store.getters["anatomy/series:get-list-series-with-same-cr"](this.currentCRNameId);
                    r = r.filter(h => u.includes(h.series_id))
                }
                r.sort( (u, h) => u.sort_order - h.sort_order);
                const a = this.$store.getters["anatomy/relativeSliceIndexById"](r[r.length - 1].id);
                let o = 1 / 0, l, c = this.$store.getters["anatomy/currentSlice"].id;
                r.forEach(u => {
                    var d;
                    const h = (d = u.crossReferencesLines.find(m => m.sort_order === s)) != null ? d : null;
                    if (h !== null && (h.path === null || h.path.length === 2)) {
                        const m = this.getDistanceIndicator(h, i, t);
                        m < o && (o = m,
                        c = u.id)
                    }
                }
                ),
                l = this.$store.getters["anatomy/relativeSliceIndexById"](c),
                l = Math.max(1, Math.min(l, a)),
                this.$store.dispatch("anatomy/slice:set", {
                    sliceIndex: l,
                    placement: W.CROSS_REFERENCES_DRAG
                })
            }
        },
        isValidCRLine(t) {
            return this.crLineHaveValidPath(t)
        },
        crLineHaveValidPath(t) {
            return typeof t < "u" && typeof t.path < "u" && t.path.length >= 2 && t.path.every(e => e.pts.length >= 2)
        }
    }
};
var XI = function() {
    var t = this
      , e = t._self._c;
    return e("Transition", {
        attrs: {
            name: "slide-left"
        }
    }, [e("div", {
        directives: [{
            name: "show",
            rawName: "v-show",
            value: t.isOpen,
            expression: "isOpen"
        }],
        ref: "crossRef-container",
        staticClass: "cross-references-container"
    }, [e("div", {
        ref: "crossRef-container-list",
        staticClass: "cross-ref-container-list",
        style: {
            "grid-template-rows": t.templateRows
        }
    }, [t._l(t.crossReferencesData, function(i) {
        return e("div", {
            key: i.sort_order,
            ref: "crossRefs",
            refInFor: !0,
            staticClass: "cross-ref"
        }, [e("p", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: !t.isLoading,
                expression: "!isLoading"
            }],
            staticClass: "cross-references-title",
            class: {
                link: i.destination !== 0,
                "desktop-screen": t.isDesktopScreen
            },
            on: {
                click: function(s) {
                    return t.goToSeries(i.destination)
                }
            }
        }, [t._v(" " + t._s(i.name) + " ")]), e("canvas", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: !t.isLoading,
                expression: "!isLoading"
            }],
            staticClass: "line",
            class: {
                dragging: t.isDragging,
                link: i.destination !== 0,
                drag: t.hoveredCR === i.name
            },
            attrs: {
                id: i.name,
                "data-index": i.sort_order,
                "data-name_id": i.name_id,
                height: i.imageDimensions.height,
                width: i.imageDimensions.width
            },
            on: {
                mousedown: s => t.mousedown(s, i),
                mousemove: s => t.mousemove(s, i)
            }
        }), e("img", {
            class: {
                "image-hidden": t.isLoading
            },
            attrs: {
                alt: i.name,
                src: i.src
            }
        })])
    }), e("div", {
        directives: [{
            name: "show",
            rawName: "v-show",
            value: t.isLoading,
            expression: "isLoading"
        }],
        staticClass: "loader"
    }, [e("LoaderCube", {
        attrs: {
            "message-label": t.$t("loader.loading")
        }
    })], 1)], 2)])])
}
  , qI = []
  , JI = x(QI, XI, qI, !1, null, null);
const eC = JI.exports
  , tC = {
    name: "GallerySVG"
};
var iC = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M9 4.5H5C4.72386 4.5 4.5 4.72386 4.5 5V9C4.5 9.27614 4.72386 9.5 5 9.5H9C9.27614 9.5 9.5 9.27614 9.5 9V5C9.5 4.72386 9.27614 4.5 9 4.5ZM5 3C3.89543 3 3 3.89543 3 5V9C3 10.1046 3.89543 11 5 11H9C10.1046 11 11 10.1046 11 9V5C11 3.89543 10.1046 3 9 3H5Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M19 4.5H15C14.7239 4.5 14.5 4.72386 14.5 5V9C14.5 9.27614 14.7239 9.5 15 9.5H19C19.2761 9.5 19.5 9.27614 19.5 9V5C19.5 4.72386 19.2761 4.5 19 4.5ZM15 3C13.8954 3 13 3.89543 13 5V9C13 10.1046 13.8954 11 15 11H19C20.1046 11 21 10.1046 21 9V5C21 3.89543 20.1046 3 19 3H15Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M19 14.5H15C14.7239 14.5 14.5 14.7239 14.5 15V19C14.5 19.2761 14.7239 19.5 15 19.5H19C19.2761 19.5 19.5 19.2761 19.5 19V15C19.5 14.7239 19.2761 14.5 19 14.5ZM15 13C13.8954 13 13 13.8954 13 15V19C13 20.1046 13.8954 21 15 21H19C20.1046 21 21 20.1046 21 19V15C21 13.8954 20.1046 13 19 13H15Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M9 14.5H5C4.72386 14.5 4.5 14.7239 4.5 15V19C4.5 19.2761 4.72386 19.5 5 19.5H9C9.27614 19.5 9.5 19.2761 9.5 19V15C9.5 14.7239 9.27614 14.5 9 14.5ZM5 13C3.89543 13 3 13.8954 3 15V19C3 20.1046 3.89543 21 5 21H9C10.1046 21 11 20.1046 11 19V15C11 13.8954 10.1046 13 9 13H5Z",
            fill: "black"
        }
    })])
}
  , sC = []
  , rC = x(tC, iC, sC, !1, null, "12a2b9f5");
const Jh = rC.exports;
let Oa = {};
const nC = {
    name: "GalleryLeft",
    components: {
        SingleArrowSVG: qh,
        GallerySVG: Jh,
        CloseSVG: ts
    },
    data() {
        return {
            isReady: !1,
            hasBeenInitialized: !1,
            seriesSelected: [],
            seriesOpen: !1
        }
    },
    computed: {
        mainTitle() {
            return this.seriesOpen ? this.seriesSelected.length === this.series.length ? this.$t("gallery.all-series") : this.seriesSelected[0].name : this.$store.getters["anatomy/getModuleShortName"]()
        },
        secondaryTitle() {
            if (this.seriesOpen)
                return this.seriesSelected.length === this.series.length ? this.$t("gallery.n-image-s", {
                    count: this.numberMaxSlices
                }) : this.$t("gallery.n-image-s", {
                    count: this.seriesSelected[0].number_of_images
                });
            if (!this.hideTitleSlice)
                return `(${this.$store.getters["anatomy/getAlternativeModality"]()})`
        },
        galleryIsOpen() {
            const t = this.$store.getters["menu/galleryLeftIsOpen"];
            return t && this.openGallery(),
            t
        },
        series() {
            return this.$store.getters["anatomy/seriesGallery"]
        },
        imagesAllSeries() {
            return this.$store.getters["anatomy/imageAllSeries"]
        },
        numberMaxSlices() {
            return this.$store.getters["anatomy/numberMaxSlices"]
        },
        slices() {
            return this.$store.getters["anatomy/slicesGallery"].filter(t => {
                if (this.seriesSelected.map(e => e.id).includes(t.series_id))
                    return t
            }
            )
        },
        hideTitleSlice() {
            return this.series.length > 1 ? !zy.includes(this.series[0].modality_id) : !0
        },
        currentSeries() {
            let t = {
                name: "",
                number_of_images: 0
            };
            return this.seriesSelected.length === this.series.length ? (t.name = this.$t("gallery.all-series"),
            t.number_of_images = this.numberMaxSlices) : this.seriesSelected.length > 0 && (t = this.seriesSelected[0]),
            t
        },
        isTabletScreen() {
            return y.isTabletScreen()
        }
    },
    created() {
        const {application: t} = k;
        Oa = y.createHooks([{
            on: t.RESIZED,
            do: () => this.setPositionAndSizeOfGallery()
        }, {
            on: "resize",
            do: () => this.setPositionAndSizeOfGallery(),
            target: window
        }])
    },
    beforeMount() {
        y.onBeforeMount(Oa)
    },
    beforeUnmount() {
        y.onBeforeUnmount(Oa)
    },
    methods: {
        back() {
            this.seriesOpen || this.hideGallery(),
            this.seriesOpen = !1
        },
        openGallery() {
            this.hasBeenInitialized || Promise.all([this.$store.dispatch("anatomy/gallery:series-update"), this.$store.dispatch("anatomy/gallery:slice-update")]).then( () => {
                this.hasBeenInitialized = !0,
                this.seriesSelected = [...this.series]
            }
            ),
            this.setPositionAndSizeOfGallery()
        },
        hideGallery() {
            this.$store.dispatch("menu/gallery-left:hide"),
            this.seriesOpen = !1
        },
        setPositionAndSizeOfGallery() {
            const t = this.$refs["gallery-overlay"];
            t.style.width = `${this.$store.getters["viewer/viewer-width"]}px`,
            t.style.height = `${this.$store.getters["viewer/viewer-height"]}px`
        },
        isSelected(t) {
            return this.series.length === 1 ? !0 : t === bh ? this.seriesSelected.length === this.series.length : this.seriesSelected.length !== this.series.length && this.seriesSelected.findIndex(e => e.id === t) !== -1
        },
        selectAllSeries() {
            this.seriesSelected = [...this.series],
            this.seriesOpen = !0
        },
        selectSeries(t) {
            this.seriesSelected = this.series.filter(e => e.id === t),
            this.seriesOpen = !0
        },
        moveToSlice(t) {
            let e = -1;
            const i = this.slices.findIndex(r => t.id === r.id) + 1;
            this.seriesSelected.length !== this.series.length && (e = this.series.find(r => r.id === t.series_id).sort_order),
            this.$store.dispatch("anatomy/gallery:click-image", t.sort_order),
            this.$store.dispatch("anatomy/series:set", {
                seriesIndex: e,
                relativeSliceIndex: i,
                keepMode: !1,
                placement: W.MODULE_GALLERY
            }),
            this.hideGallery()
        },
        getTitle(t) {
            return t === null || t.title_1 === null ? "" : t.title_2 === null ? t.title_1 : t.title_2
        },
        slicesFromSeries(t) {
            return this.slices.filter(e => e.series_id === t)
        }
    }
};
var aC = function() {
    var t = this
      , e = t._self._c;
    return e("div", {
        ref: "gallery-overlay",
        staticClass: "gallery-overlay box-shadow",
        class: {
            "gallery-hidden": !t.galleryIsOpen,
            "tablet-screen": t.isTabletScreen
        }
    }, [t.galleryIsOpen ? e("div", {
        staticClass: "gallery-container"
    }, [e("div", {
        staticClass: "gallery-header"
    }, [e("div", {
        staticClass: "back-button",
        on: {
            click: function(i) {
                return t.back()
            }
        }
    }, [e("SingleArrowSVG")], 1), e("div", {
        staticClass: "gallery-header-title"
    }, [e("p", {
        staticClass: "gallery-header-main"
    }, [t._v(" " + t._s(t.mainTitle) + " ")]), e("span", {
        staticClass: "gallery-header-secondary"
    }, [t._v(t._s(t.secondaryTitle))])])]), e("div", {
        staticClass: "gallery-list-series",
        class: {
            "hide-mobile": t.seriesOpen
        }
    }, [e("p", {
        staticClass: "gallery-series-title"
    }, [t._v(" " + t._s(t.$t("gallery.series")) + " ")]), t.series.length > 1 ? e("div", {
        staticClass: "gallery-item-series",
        class: {
            selected: t.isSelected(-1)
        },
        on: {
            click: t.selectAllSeries
        }
    }, [e("div", {
        staticClass: "img-container"
    }, [t._l(t.imagesAllSeries, function(i) {
        return [i.src !== null ? [e("img", {
            staticClass: "picture",
            style: {
                "background-color": `#${i.background_color}`
            },
            attrs: {
                src: i.src,
                alt: t.$t("gallery.all-series")
            }
        })] : t._e(), i.src === null ? [e("span", {
            staticClass: "picture",
            style: {
                "background-color": `#${i.background_color}`
            }
        })] : t._e()]
    })], 2), e("p", {
        staticClass: "gallery-nb-images"
    }, [e("span", {
        staticClass: "ellipsis"
    }, [t._v(t._s(t.$t("gallery.all-series")))]), e("span", {
        staticClass: "number-of-images"
    }, [t._v(t._s(t.$t("gallery.n-image-s", {
        count: t.numberMaxSlices
    })))])])]) : t._e(), t._l(t.series, function(i) {
        return e("div", {
            key: i.id,
            staticClass: "gallery-item-series",
            class: {
                selected: t.isSelected(i.id)
            },
            attrs: {
                title: i.name
            },
            on: {
                click: function(s) {
                    return t.selectSeries(i.id)
                }
            }
        }, [e("img", {
            style: {
                "background-color": `#${i.background_color}`
            },
            attrs: {
                src: i.src,
                alt: i.name
            }
        }), e("p", {
            staticClass: "gallery-nb-images"
        }, [e("span", {
            staticClass: "ellipsis-2-lines"
        }, [t._v(t._s(i.name))]), e("span", {
            staticClass: "number-of-images"
        }, [t._v(t._s(t.$t("gallery.n-image-s", {
            count: i.number_of_images
        })))])])])
    })], 2), e("div", {
        staticClass: "gallery-list-slices",
        class: {
            "display-mobile": t.seriesOpen
        }
    }, [e("div", {
        staticClass: "gallery-list-slices-header",
        class: {
            "hide-mobile": t.seriesOpen
        }
    }, [e("p", {
        staticClass: "gallery-list-slices-title"
    }, [t._v(" " + t._s(t.currentSeries.name) + " "), e("span", [t._v("- " + t._s(t.$t("gallery.n-image-s", {
        count: t.currentSeries.number_of_images
    })))])]), e("button", {
        staticClass: "button-close-gallery",
        on: {
            click: t.hideGallery
        }
    }, [e("CloseSVG")], 1)]), e("div", {
        staticClass: "slice-series"
    }, [t._l(t.series, function(i) {
        return t._l(t.slicesFromSeries(i.id), function(s) {
            return e("div", {
                key: s.id,
                staticClass: "gallery-item-slice",
                attrs: {
                    title: t.getTitle(s)
                },
                on: {
                    click: function(r) {
                        return t.moveToSlice(s)
                    }
                }
            }, [e("img", {
                style: {
                    "background-color": `#${i.background_color}`
                },
                attrs: {
                    src: s.src,
                    alt: t.getTitle(s)
                }
            }), e("p", {
                staticClass: "ellipsis-2-lines",
                class: {
                    "title-hidden": t.hideTitleSlice
                }
            }, [t._v(" " + t._s(t.getTitle(s)) + " ")])])
        })
    })], 2)])]) : t._e()])
}
  , oC = []
  , lC = x(nC, aC, oC, !1, null, "016ef92f");
const cC = lC.exports
  , uC = {
    name: "tree-structureSVG"
};
var dC = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        attrs: {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("g", [e("path", {
        attrs: {
            id: "Vector",
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M10.5 5C10.5 6.39788 9.54392 7.57245 8.25 7.90549L8.25 11.0641C8.25084 11.2014 8.36245 11.3125 8.5 11.3125H13.572C13.8713 9.97128 15.0686 8.96875 16.5 8.96875C18.1569 8.96875 19.5 10.3119 19.5 11.9688C19.5 13.6256 18.1569 14.9688 16.5 14.9688C15.1361 14.9688 13.9848 14.0586 13.6203 12.8125H8.5C8.41512 12.8125 8.33165 12.8065 8.25 12.7948L8.25 17.9844C8.25 18.1224 8.36193 18.2344 8.5 18.2344H13.6027C13.9465 16.9563 15.1134 16.0156 16.5 16.0156C18.1569 16.0156 19.5 17.3588 19.5 19.0156C19.5 20.6725 18.1569 22.0156 16.5 22.0156C15.0909 22.0156 13.9087 21.0441 13.5866 19.7344H8.5C7.53351 19.7344 6.75 18.9509 6.75 17.9844L6.75 11.0666L6.75 11.0625V7.90549C5.45608 7.57245 4.5 6.39788 4.5 5C4.5 3.34315 5.84315 2 7.5 2C9.15685 2 10.5 3.34315 10.5 5ZM7.5 6.5C8.32843 6.5 9 5.82843 9 5C9 4.17157 8.32843 3.5 7.5 3.5C6.67157 3.5 6 4.17157 6 5C6 5.82843 6.67157 6.5 7.5 6.5ZM16.5 20.5156C17.3284 20.5156 18 19.8441 18 19.0156C18 18.1872 17.3284 17.5156 16.5 17.5156C15.6716 17.5156 15 18.1872 15 19.0156C15 19.8441 15.6716 20.5156 16.5 20.5156ZM18 11.9688C18 12.7972 17.3284 13.4688 16.5 13.4688C15.6716 13.4688 15 12.7972 15 11.9688C15 11.1403 15.6716 10.4688 16.5 10.4688C17.3284 10.4688 18 11.1403 18 11.9688Z",
            fill: "black"
        }
    })])])
}
  , hC = []
  , pC = x(uC, dC, hC, !1, null, "dde6ec60");
const mC = pC.exports
  , gC = {
    name: "ScrollSVG"
};
var fC = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            id: "scroll",
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            d: "M16.4609 9.99219L20.25 11.9858L11.9986 16.7571L3.75 11.9858L7.40625 9.99219M16.5391 14.3906L20.25 16.4643L11.9986 21.2356L3.75 16.4643L7.55469 14.3906M11.9986 12.2729L3.75 7.50449L11.9986 2.7332L20.25 7.50449L11.9986 12.2729Z",
            stroke: "black",
            "stroke-width": "1.5",
            "stroke-miterlimit": "10",
            "stroke-linecap": "round",
            "stroke-linejoin": "round"
        }
    })])
}
  , vC = []
  , yC = x(gC, fC, vC, !1, null, "534e0b4c");
const ep = yC.exports
  , EC = {
    name: "PanSVG"
};
var IC = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            id: "pan",
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            d: "M12.0126 3.04693C12.2117 3.04693 12.4025 3.12603 12.5432 3.26681L15.1488 5.87444C15.4416 6.16745 15.4414 6.64233 15.1484 6.9351C14.8554 7.22788 14.3805 7.2277 14.0877 6.93469L12.7626 5.60859V11.2303H18.394L17.0675 9.90278C16.7748 9.60977 16.775 9.1349 17.068 8.84212C17.361 8.54934 17.8358 8.54952 18.1286 8.84253L20.7342 11.4502C21.0268 11.743 21.0268 12.2176 20.7342 12.5104L18.1286 15.118C17.8358 15.4111 17.361 15.4112 17.068 15.1185C16.775 14.8257 16.7748 14.3508 17.0675 14.0578L18.394 12.7303H12.7626V18.3914L14.0877 17.0653C14.3805 16.7723 14.8554 16.7721 15.1484 17.0649C15.4414 17.3577 15.4416 17.8326 15.1488 18.1256L12.5432 20.7332C12.4025 20.874 12.2117 20.9531 12.0126 20.9531C11.8136 20.9531 11.6228 20.874 11.4821 20.7332L8.87651 18.1256C8.58373 17.8326 8.58391 17.3577 8.87692 17.0649C9.16993 16.7721 9.6448 16.7723 9.93758 17.0653L11.2626 18.3914V12.7303H5.60659L6.93307 14.0578C7.22585 14.3508 7.22566 14.8257 6.93266 15.1185C6.63965 15.4112 6.16477 15.4111 5.872 15.118L3.2664 12.5104C2.97378 12.2176 2.97378 11.743 3.2664 11.4502L5.872 8.84253C6.16477 8.54952 6.63965 8.54934 6.93266 8.84212C7.22566 9.1349 7.22585 9.60977 6.93307 9.90278L5.6066 11.2303H11.2626V5.6086L9.93758 6.93469C9.6448 7.2277 9.16993 7.22788 8.87692 6.9351C8.58391 6.64233 8.58373 6.16745 8.87651 5.87444L11.4821 3.26681C11.6228 3.12603 11.8136 3.04693 12.0126 3.04693Z",
            fill: "black"
        }
    })])
}
  , CC = []
  , bC = x(EC, IC, CC, !1, null, "9e990296");
const tp = bC.exports
  , SC = {
    name: "ZoomSVG"
};
var TC = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            id: "zoom",
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M11.0312 17.5C14.6211 17.5 17.5313 14.5899 17.5313 11C17.5313 7.41015 14.6211 4.5 11.0312 4.5C7.4414 4.5 4.53125 7.41015 4.53125 11C4.53125 14.5899 7.4414 17.5 11.0312 17.5ZM17.1644 16.1369C18.3296 14.7471 19.0312 12.9555 19.0312 11C19.0312 6.58172 15.4495 3 11.0312 3C6.61297 3 3.03125 6.58172 3.03125 11C3.03125 15.4183 6.61297 19 11.0312 19C12.9539 19 14.7181 18.3218 16.0977 17.1915L19.7203 20.814C20.0132 21.1069 20.488 21.1069 20.7809 20.814C21.0738 20.5211 21.0738 20.0463 20.7809 19.7534L17.1644 16.1369ZM10.2344 13.75C10.2344 14.1642 10.5702 14.5 10.9844 14.5C11.3986 14.5 11.7344 14.1642 11.7344 13.75V11.75H13.7812C14.1955 11.75 14.5312 11.4142 14.5312 11C14.5312 10.5858 14.1955 10.25 13.7812 10.25H11.7344V8.25C11.7344 7.83579 11.3986 7.5 10.9844 7.5C10.5702 7.5 10.2344 7.83579 10.2344 8.25V10.25H8.28125C7.86704 10.25 7.53125 10.5858 7.53125 11C7.53125 11.4142 7.86704 11.75 8.28125 11.75H10.2344V13.75Z",
            fill: "black"
        }
    })])
}
  , AC = []
  , wC = x(SC, TC, AC, !1, null, "5161e964");
const ip = wC.exports
  , _C = {};
var LC = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M12.7071 8.90625C12.8908 8.90625 13.0398 9.05522 13.0398 9.23897V10.0247C13.0398 10.1639 13.1273 10.2868 13.2536 10.3451C13.4207 10.4223 13.5795 10.5143 13.7283 10.6197C13.842 10.7001 13.9922 10.7145 14.1128 10.6449L14.7938 10.2517C14.953 10.1598 15.1564 10.2143 15.2483 10.3735L15.9554 11.5981C16.0472 11.7572 15.9927 11.9607 15.8336 12.0526L15.1525 12.4458C15.0321 12.5153 14.9694 12.6523 14.982 12.7908C14.9902 12.8812 14.9944 12.9728 14.9944 13.0653C14.9944 13.1579 14.9902 13.2494 14.982 13.3398C14.9694 13.4783 15.0321 13.6153 15.1525 13.6848L15.8336 14.078C15.9927 14.1699 16.0472 14.3734 15.9554 14.5325L15.2483 15.7572C15.1564 15.9163 14.953 15.9708 14.7938 15.8789L14.1128 15.4858C13.9922 15.4161 13.842 15.4305 13.7283 15.511C13.5796 15.6163 13.4208 15.7084 13.2536 15.7856C13.1273 15.8439 13.0398 15.9668 13.0398 16.1059V16.8916C13.0398 17.0754 12.8908 17.2244 12.7071 17.2244H11.293C11.1092 17.2244 10.9603 17.0754 10.9603 16.8916V16.1061C10.9603 15.9669 10.8728 15.844 10.7464 15.7857C10.5792 15.7085 10.4204 15.6164 10.2715 15.511C10.1579 15.4305 10.0077 15.4162 9.88705 15.4858L9.20618 15.8789C9.04704 15.9708 8.84355 15.9163 8.75167 15.7571L8.04463 14.5325C7.95275 14.3734 8.00728 14.1699 8.16642 14.078L8.84727 13.6849C8.9677 13.6154 9.03039 13.4784 9.0178 13.3399C9.00958 13.2495 9.00538 13.1579 9.00538 13.0653C9.00538 12.9727 9.00958 12.8811 9.01781 12.7907C9.0304 12.6522 8.96771 12.5152 8.84727 12.4457L8.16642 12.0526C8.00728 11.9607 7.95276 11.7572 8.04464 11.5981L8.75167 10.3735C8.84355 10.2143 9.04704 10.1598 9.20618 10.2517L9.8871 10.6448C10.0077 10.7144 10.1579 10.7001 10.2716 10.6196C10.4204 10.5143 10.5792 10.4222 10.7464 10.345C10.8728 10.2867 10.9603 10.1638 10.9603 10.0246V9.23897C10.9603 9.05522 11.1092 8.90625 11.293 8.90625H12.7071ZM12 14.345C12.7067 14.345 13.2797 13.7721 13.2797 13.0653C13.2797 12.3586 12.7067 11.7856 12 11.7856C11.2932 11.7856 10.7203 12.3586 10.7203 13.0653C10.7203 13.7721 11.2932 14.345 12 14.345Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            d: "M17.127 5.72103C15.6336 4.74963 13.8801 4.23232 12.0879 4.23232H5.83271L6.80295 3.28726C7.09967 2.99824 7.10591 2.52341 6.81689 2.22669C6.52788 1.92997 6.05304 1.92373 5.75633 2.21274L3.4549 4.45445C3.31002 4.59556 3.22828 4.7892 3.22821 4.99144C3.22814 5.19368 3.30975 5.38738 3.45452 5.52859L5.75595 7.77343C6.05247 8.06265 6.5273 8.05674 6.81653 7.76022C7.10575 7.46371 7.09984 6.98887 6.80333 6.69965L5.83271 5.73232H12.0879C13.5922 5.73232 15.0612 6.1667 16.3092 6.97845C17.557 7.79006 18.5268 8.94164 19.0992 10.2854C19.6714 11.629 19.8217 13.1064 19.5319 14.5319C19.2421 15.9576 18.5245 17.2703 17.4665 18.3033C16.4083 19.3364 15.0571 20.043 13.5826 20.3308C12.108 20.6187 10.5791 20.4742 9.18987 19.9164C7.80077 19.3587 6.61569 18.4138 5.78215 17.204C4.94878 15.9944 4.50345 14.5736 4.5 13.1208C4.49901 12.7066 4.16243 12.3716 3.74822 12.3726C3.33401 12.3736 2.99902 12.7101 3 13.1244C3.00418 14.8825 3.54334 16.5984 4.54695 18.055C5.55038 19.5114 6.97235 20.6425 8.631 21.3084C10.2895 21.9743 12.1123 22.1461 13.87 21.803C15.6277 21.4599 17.2443 20.6165 18.5143 19.3766C19.7846 18.1364 20.6514 16.5549 21.0019 14.8307C21.3524 13.1064 21.1702 11.3199 20.4792 9.69761C19.7883 8.07556 18.6207 6.69256 17.127 5.72103Z",
            fill: "black"
        }
    })])
}
  , OC = []
  , xC = x(_C, LC, OC, !1, null, "d8ebc872");
const MC = xC.exports
  , NC = {
    name: "LockSVG"
};
var RC = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M5.49664 10.2207C5.49664 9.80648 5.83243 9.4707 6.24664 9.4707H17.7534C18.1676 9.4707 18.5034 9.80648 18.5034 10.2207V16.8203C18.5034 18.0763 17.9685 19.2695 17.0353 20.1408C16.1038 21.0104 14.8508 21.4909 13.5541 21.4909H10.4459C9.14925 21.4909 7.89623 21.0104 6.96474 20.1408C6.03151 19.2695 5.49664 18.0763 5.49664 16.8203V10.2207ZM6.99664 10.9707V16.8203C6.99664 17.6439 7.34661 18.4451 7.9884 19.0443C8.63193 19.6452 9.5151 19.9909 10.4459 19.9909H13.5541C14.4849 19.9909 15.3681 19.6452 16.0116 19.0443C16.6534 18.4451 17.0034 17.6439 17.0034 16.8203V10.9707H6.99664Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M12 3.99921C11.5771 3.99921 11.1586 4.08469 10.7695 4.25052C10.3805 4.41635 10.029 4.65911 9.73617 4.96422C9.44332 5.26932 9.21517 5.63047 9.06543 6.02597C8.91568 6.42148 8.84741 6.84317 8.86475 7.26571C8.86517 7.27595 8.86538 7.2862 8.86538 7.29645V9.90387C8.86538 10.3181 8.52959 10.6539 8.11538 10.6539C7.70116 10.6539 7.36538 10.3181 7.36538 9.90387V7.31115C7.34212 6.69198 7.44318 6.07437 7.66261 5.49482C7.88395 4.91026 8.22116 4.37647 8.65399 3.92552C9.08682 3.47457 9.60633 3.11576 10.1813 2.87065C10.7563 2.62554 11.3749 2.49921 12 2.49921C12.6251 2.49921 13.2437 2.62554 13.8187 2.87065C14.3937 3.11576 14.9132 3.47457 15.346 3.92552C15.7788 4.37647 16.1161 4.91026 16.3374 5.49482C16.5568 6.07437 16.6579 6.69198 16.6346 7.31115V9.90387C16.6346 10.3181 16.2988 10.6539 15.8846 10.6539C15.4704 10.6539 15.1346 10.3181 15.1346 9.90387V7.29645C15.1346 7.2862 15.1348 7.27595 15.1353 7.26571C15.1526 6.84317 15.0843 6.42148 14.9346 6.02597C14.7848 5.63047 14.5567 5.26932 14.2638 4.96422C13.971 4.65911 13.6195 4.41635 13.2305 4.25052C12.8414 4.08469 12.4229 3.99921 12 3.99921Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            d: "M13.529 14.6085C13.5302 14.3342 13.4576 14.0646 13.3188 13.828C13.18 13.5915 12.9801 13.3966 12.74 13.2638C12.5 13.1311 12.2287 13.0653 11.9545 13.0735C11.6803 13.0817 11.4133 13.1634 11.1816 13.3103C10.9499 13.4571 10.762 13.6635 10.6375 13.908C10.513 14.1524 10.4566 14.4258 10.4741 14.6996C10.4917 14.9733 10.5825 15.2373 10.7372 15.4639C10.8918 15.6904 11.1046 15.8712 11.3531 15.9873V17.2353C11.3531 17.4086 11.422 17.5748 11.5445 17.6973C11.667 17.8199 11.8332 17.8887 12.0065 17.8887C12.1798 17.8887 12.346 17.8199 12.4686 17.6973C12.5911 17.5748 12.66 17.4086 12.66 17.2353V15.9873C12.9211 15.8641 13.1416 15.6689 13.2955 15.4246C13.4495 15.1804 13.5305 14.8973 13.529 14.6085Z",
            fill: "black"
        }
    })])
}
  , PC = []
  , DC = x(NC, RC, PC, !1, null, "c0a87a08");
const sp = DC.exports
  , kC = {
    name: "UnlockSVG"
};
var HC = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M4.99664 10.2833C4.99664 9.86908 5.33243 9.53329 5.74664 9.53329H18.2534C18.6676 9.53329 19.0034 9.86908 19.0034 10.2833V16.8829C19.0034 18.1389 18.4685 19.3321 17.5353 20.2034C16.6038 21.073 15.3508 21.5535 14.0541 21.5535H9.94588C8.64925 21.5535 7.39623 21.073 6.46474 20.2034C5.53151 19.3321 4.99664 18.1389 4.99664 16.8829V10.2833ZM6.49664 11.0333V16.8829C6.49664 17.7065 6.84661 18.5077 7.4884 19.1069C8.13193 19.7078 9.0151 20.0535 9.94588 20.0535H14.0541C14.9849 20.0535 15.8681 19.7078 16.5116 19.1069C17.1534 18.5077 17.5034 17.7065 17.5034 16.8829V11.0333H6.49664Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M11.8741 3.93677C11.4512 3.93677 11.0326 4.02225 10.6436 4.18808C10.2546 4.35391 9.9031 4.59667 9.61025 4.90178C9.3174 5.20688 9.08925 5.56803 8.9395 5.96353C8.79283 6.35091 8.3599 6.54603 7.97252 6.39936C7.58515 6.25269 7.39002 5.81976 7.53669 5.43238C7.75803 4.84782 8.09524 4.31403 8.52807 3.86308C8.9609 3.41214 9.48041 3.05332 10.0554 2.80821C10.6304 2.56311 11.249 2.43677 11.8741 2.43677C12.4991 2.43677 13.1177 2.56311 13.6927 2.80821C14.2678 3.05332 14.7873 3.41214 15.2201 3.86308C15.6529 4.31403 15.9901 4.84782 16.2115 5.43238C16.4309 6.01193 16.532 6.62954 16.5087 7.24871V9.84143C16.5087 10.2556 16.1729 10.5914 15.7587 10.5914C15.3445 10.5914 15.0087 10.2556 15.0087 9.84143V7.23401C15.0087 7.22376 15.0089 7.21351 15.0093 7.20327C15.0267 6.78073 14.9584 6.35904 14.8087 5.96353C14.6589 5.56803 14.4308 5.20688 14.1379 4.90178C13.8451 4.59667 13.4936 4.35391 13.1045 4.18808C12.7155 4.02225 12.297 3.93677 11.8741 3.93677Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            d: "M13.529 14.6711C13.5302 14.3968 13.4576 14.1272 13.3188 13.8906C13.18 13.654 12.9801 13.4592 12.74 13.3264C12.5 13.1936 12.2287 13.1279 11.9545 13.1361C11.6803 13.1443 11.4134 13.226 11.1816 13.3728C10.9499 13.5197 10.762 13.7261 10.6375 13.9706C10.513 14.215 10.4566 14.4884 10.4741 14.7622C10.4917 15.0359 10.5825 15.2999 10.7372 15.5265C10.8918 15.753 11.1046 15.9338 11.3531 16.0498V17.2979C11.3531 17.4712 11.422 17.6374 11.5445 17.7599C11.6671 17.8825 11.8332 17.9513 12.0065 17.9513C12.1798 17.9513 12.346 17.8825 12.4686 17.7599C12.5911 17.6374 12.66 17.4712 12.66 17.2979V16.0498C12.9211 15.9266 13.1416 15.7315 13.2955 15.4872C13.4495 15.243 13.5305 14.9598 13.529 14.6711Z",
            fill: "black"
        }
    })])
}
  , zC = []
  , BC = x(kC, HC, zC, !1, null, "fda2cd9c");
const rp = BC.exports
  , FC = {
    components: {
        ScrollSVG: ep,
        PanSVG: tp,
        ZoomSVG: ip,
        HideSVG: xo,
        ShowSVG: Oo,
        RotationLeftSVG: Yh,
        RotationRightSVG: jh,
        HorizontalFlipSVG: Kh,
        VerticalFlipSVG: Wh,
        ResetSVG: Zh,
        ViewZoneSVG: Xh,
        ResetSettingsSVG: MC,
        "tree-structureSVG": mC,
        ArrowRightSubMenuSVG: Mo,
        LockSVG: sp,
        UnlockSVG: rp,
        OptionItem: wl
    },
    mixins: [br],
    props: {
        option: {
            type: Object,
            required: !0
        },
        openSubMenu: {
            type: Boolean,
            required: !1,
            default: !1
        }
    },
    emits: ["option-clicked", "option-hovered"],
    data: () => ({
        src: ""
    }),
    computed: {
        imageAlt() {
            return this.$t(this.option.translationKey, {
                param: this.option.translationParam
            })
        },
        itemText() {
            return this.$t(this.option.translationKey, {
                param: this.option.translationParam
            })
        },
        shortcutKey() {
            return this.getShortcutKeyByName(this.option.shortcutName)
        },
        haveShortcut() {
            return this.shortcutKey !== null
        }
    },
    created() {
        if (this.option.type !== "divider") {
            if (typeof this.option.promiseSrc == "function")
                return this.option.promiseSrc().then(t => this.src = t);
            this.src = this.option.iconSrc
        }
    },
    methods: {
        onImageLoaded() {
            this.$set(this.option, "isLoaded", !0)
        },
        optionClicked() {
            this.option.disabled || this.option.subMenu || this.$emit("option-clicked", this.option)
        },
        optionHovered() {
            this.$emit("option-hovered", this.option)
        }
    }
};
var VC = function() {
    var i, s;
    var t = this
      , e = t._self._c;
    return e("option-item", {
        staticClass: "imaios-context-menu-item",
        class: [t.option.class, t.option.type === "divider" ? "imaios-context-menu-item__divider" : "", t.option.subMenu ? "imaios-context-menu-item__sub-menu" : ""],
        attrs: {
            "data-action-id": t.option.id,
            disabled: t.option.disabled
        },
        nativeOn: {
            click: function(r) {
                return t.optionClicked()
            },
            pointerenter: function(r) {
                return t.optionHovered()
            }
        }
    }, [t.option.iconType === "img" ? [t.src ? e("img", {
        directives: [{
            name: "show",
            rawName: "v-show",
            value: (i = t.option) == null ? void 0 : i.isLoaded,
            expression: "option?.isLoaded"
        }],
        staticClass: "imaios-context-menu-item-icon",
        attrs: {
            "data-type": "img",
            src: t.src,
            alt: t.imageAlt
        },
        on: {
            load: function(r) {
                return t.onImageLoaded()
            }
        }
    }) : t._e(), e("div", {
        directives: [{
            name: "show",
            rawName: "v-show",
            value: !((s = t.option) != null && s.isLoaded),
            expression: "!option?.isLoaded"
        }],
        staticClass: "imaios-context-menu-item-icon-placeholder"
    }, [e("div", {
        staticClass: "load-wrapper"
    }, [e("div", {
        staticClass: "activity"
    })])])] : t._e(), t.option.iconType === "font" ? e("span", {
        staticClass: "imaios-context-menu-item-icon",
        attrs: {
            "data-type": "font"
        }
    }, [t._v(t._s(t.src))]) : t._e(), t.option.iconType === "svg" ? e(t.src, {
        tag: "component",
        staticClass: "imaios-context-menu-item-icon",
        attrs: {
            "data-type": "svg"
        }
    }) : t._e(), e("div", {
        staticClass: "imaios-context-menu-item-text-container"
    }, [e("span", {
        staticClass: "imaios-context-menu-item-text"
    }, [t._v(t._s(t.itemText))]), t.haveShortcut ? e("span", {
        staticClass: "imaios-context-menu-item-shortcut"
    }, [t._v(" " + t._s(t.shortcutKey) + " ")]) : t._e(), e("div", {
        directives: [{
            name: "show",
            rawName: "v-show",
            value: t.option.subMenu,
            expression: "option.subMenu"
        }]
    }, [e("span", {
        staticClass: "imaios-context-menu-item-shortcut"
    }, [e("ArrowRightSubMenuSVG")], 1), e("div", {
        staticClass: "imaios-context-menu-item-sub-menu",
        class: {
            open: t.openSubMenu
        }
    }, [t._t("default")], 2)])])], 2)
}
  , UC = []
  , GC = x(FC, VC, UC, !1, null, null);
const $C = GC.exports;
let xa = {};
const jC = {
    name: "SubMenu",
    components: {
        OptionList: Gh,
        OptionItem: wl
    },
    mixins: [br],
    props: {
        subMenuStyle: {
            type: Object,
            required: !0,
            default: () => ({
                top: null,
                left: null
            })
        }
    },
    data() {
        return {
            haveAtLeastOnStructureHidden: null,
            structureDisplayed: null,
            overlaysDisplayed: null,
            crossReference: null
        }
    },
    computed: {
        canDisplayCrossRefButton() {
            return this.$store.getters["menu/canDisplayCrossRefButton"]
        },
        buttonDisplayHiddenStructureDisabled() {
            return !this.structureDisplayed || !this.haveAtLeastOnStructureHidden
        },
        shortcutDrawStructures() {
            return this.getShortcutKeyByName("hide-labels")
        },
        shortcutShowHiddenStructure() {
            return this.getShortcutKeyByName("show-hidden-structures")
        },
        shortcutToggleOverlays() {
            return this.getShortcutKeyByName("toggle-overlays")
        },
        shortcutToggleCrossReference() {
            return this.getShortcutKeyByName("show-hidden-cross-references")
        }
    },
    created() {
        const {blacklistFeature: t, labels: e, overlays: i, ui: s} = k;
        xa = y.createHooks([{
            on: [t.BLACKLIST_STRUCTURE, t.CLEAR_BLACKLIST_STRUCTURE, t.BLACKLIST_POINT, t.WHITELIST_POINT],
            do: this.checkingThereAreHiddenStructuresOrPoints
        }, {
            on: e.TOGGLE,
            do: () => {
                this.structureDisplayed = !this.structureDisplayed
            }
        }, {
            on: i.TOGGLE,
            do: () => {
                this.overlaysDisplayed = !this.overlaysDisplayed
            }
        }, {
            on: s.VIEWER.CROSS_REFERENCES,
            do: () => {
                this.crossReference = !this.crossReference
            }
        }])
    },
    mounted() {
        this.checkingThereAreHiddenStructuresOrPoints(),
        this.checkingIfHiddenAllStructures(),
        this.checkingIfCrossReferenceOn(),
        this.checkingIfHiddenOverlays()
    },
    beforeMount() {
        y.onBeforeMount(xa)
    },
    beforeDestroy() {
        y.onBeforeUnmount(xa)
    },
    methods: {
        checkingIfHiddenOverlays() {
            var t, e;
            this.overlaysDisplayed = !((e = (t = this.$store.getters["anatomy/application"]) == null ? void 0 : t.data) != null && e.overlaysCanvasIsHidden)
        },
        checkingIfCrossReferenceOn() {
            this.crossReference = this.$store.getters["menu/activeLeftPanel"].includes("cross-references")
        },
        checkingIfHiddenAllStructures() {
            var t, e;
            this.structureDisplayed = !((e = (t = this.$store.getters["anatomy/application"]) == null ? void 0 : t.data) != null && e.labelCanvasHidden)
        },
        checkingThereAreHiddenStructuresOrPoints() {
            this.haveAtLeastOnStructureHidden = this.$store.getters["anatomy/haveBlacklistedStructures"]() || this.$store.getters["anatomy/haveHiddenPoints"]()
        },
        toggleDrawStructures() {
            var t;
            (t = this.$store.getters["anatomy/application"]) == null || t.toggleLabels()
        },
        clearHiddenStructures() {
            this.haveAtLeastOnStructureHidden && this.$store.dispatch("anatomy/structure:clear")
        },
        toggleOverlay() {
            var t;
            (t = this.$store.getters["anatomy/application"]) == null || t.toggleOverlays()
        },
        toggleCrossReferencesPanel() {
            this.$store.dispatch("menu/cross-references:toggle").then( () => this.$store.dispatch("menu/cross-references:notification", W.RIGHT_MENU))
        }
    }
};
var YC = function() {
    var t = this
      , e = t._self._c;
    return e("option-list", {
        style: t.subMenuStyle,
        attrs: {
            displayed: ""
        }
    }, [e("option-item", {
        nativeOn: {
            click: function(i) {
                return t.toggleDrawStructures.apply(null, arguments)
            }
        }
    }, [e("span", [t._v(t._s(t.structureDisplayed ? t.$t("menu.filter.hide-all-structures") : t.$t("menu.filter.show-all-structures")))]), e("span", {
        staticClass: "shortcut-key"
    }, [t._v(t._s(t.shortcutDrawStructures))])]), e("option-item", {
        attrs: {
            disabled: t.buttonDisplayHiddenStructureDisabled
        },
        nativeOn: {
            click: function(i) {
                return t.clearHiddenStructures.apply(null, arguments)
            }
        }
    }, [e("span", [t._v(t._s(t.$t("menu.filter.show-hidden-structures")))]), e("span", {
        staticClass: "shortcut-key"
    }, [t._v(t._s(t.shortcutShowHiddenStructure))])]), e("option-item", {
        nativeOn: {
            click: function(i) {
                return t.toggleOverlay.apply(null, arguments)
            }
        }
    }, [t._v(" " + t._s(t.overlaysDisplayed ? t.$t("menu.filter.hide-all-overlays") : t.$t("menu.filter.show-all-overlays")) + " "), e("span", {
        staticClass: "shortcut-key"
    }, [t._v(t._s(t.shortcutToggleOverlays))])]), t.canDisplayCrossRefButton ? e("option-item", {
        nativeOn: {
            click: function(i) {
                return t.toggleCrossReferencesPanel.apply(null, arguments)
            }
        }
    }, [t._v(" " + t._s(t.crossReference ? t.$t("context-menu.hide-cross-reference") : t.$t("context-menu.show-cross-reference")) + " "), e("span", {
        staticClass: "shortcut-key"
    }, [t._v(t._s(t.shortcutToggleCrossReference))])]) : t._e()], 1)
}
  , WC = []
  , KC = x(jC, YC, WC, !1, null, null);
const ZC = KC.exports;
let Ma = [];
const QC = {
    name: "context-menu.component",
    directives: {
        ClickOutside: Ft
    },
    components: {
        SubMenu: ZC,
        ContextMenuItem: $C
    },
    mixins: [br],
    props: {
        elementId: {
            type: String,
            required: !0
        },
        storeHandler: {
            type: String,
            required: !0
        }
    },
    data() {
        return {
            parentViewer: null,
            mousePositionOnShow: {},
            menuStyle: {
                top: null,
                left: null,
                visibility: "hidden"
            },
            indexHovered: null,
            subMenuStyle: {
                top: null,
                left: null
            }
        }
    },
    computed: {
        isVisible() {
            return this.$store.getters[`${this.storeHandler}/visibility`]
        },
        options() {
            return this.$store.getters[`${this.storeHandler}/options`]
        }
    },
    beforeMount() {
        y.onBeforeMount(Ma)
    },
    mounted() {
        document.body.addEventListener("keyup", this.onEscKeyRelease)
    },
    beforeUnmount() {
        document.removeEventListener("keyup", this.onEscKeyRelease),
        y.onBeforeUnmount(Ma)
    },
    created() {
        const {slice: t} = k;
        Ma = y.createHooks([{
            on: t.CHANGE,
            do: this.hide
        }])
    },
    methods: {
        initContextMenuPosition(t, e, i) {
            this.$nextTick( () => {
                const {x: s, y: r} = i
                  , n = t.height
                  , a = t.width
                  , o = e.offsetHeight
                  , l = e.offsetWidth;
                let c = r + o > n ? r - o : r
                  , u = s + l > a ? s - l : s;
                this.menuStyle = {
                    top: `${c}px`,
                    left: `${u}px`,
                    visibility: "visible"
                }
            }
            )
        },
        show(t, e) {
            const i = this.$refs["context-menu-layout"];
            i.classList.add("imaios-context-menu-content--active"),
            this.parentViewer = t,
            this.mousePositionOnShow = {
                x: e.clientX - t.left,
                y: e.clientY - t.top
            },
            this.$store.dispatch(`${this.storeHandler}/open`),
            this.initContextMenuPosition(t, i, this.mousePositionOnShow)
        },
        hide() {
            const t = document.getElementById(this.elementId);
            t && (t.classList.remove("imaios-context-menu-content--active"),
            this.menuStyle = {
                top: null,
                left: null,
                visibility: "hidden"
            }),
            this.indexHovered = null,
            this.subMenuStyle = {
                top: null,
                left: null
            },
            this.$store.dispatch(`${this.storeHandler}/close`),
            y.emit("close", null, this.$refs["context-menu-layout"])
        },
        onClickOutside() {
            this.isVisible && this.hide()
        },
        optionClicked(t) {
            this.hide(),
            t.parameter === "mousePosition" && (t.parameter = this.mousePositionOnShow);
            try {
                this.$store.dispatch(`${this.storeHandler}/perform:${t.id}`, t.parameter)
            } catch (e) {}
        },
        optionHovered(t, e) {
            this.indexHovered = e;
            const i = this.$refs["context-menu-layout"].getBoundingClientRect()
              , s = this.$refs["context-menu-item"][e].$el
              , r = this.$refs["context-sub-menu"][e].$el
              , {width: n, height: a} = r.getBoundingClientRect()
              , o = s.getBoundingClientRect()
              , l = this.parentViewer.right
              , c = this.parentViewer.bottom
              , u = 5
              , h = l - i.right
              , d = i.left;
            let m;
            h >= n || h >= d ? m = o.right - i.left + u : m = o.left - i.left - n - u;
            const p = c - o.top;
            let f;
            p >= a ? f = o.top - i.top : f = o.bottom - i.top - a,
            this.subMenuStyle = {
                top: `${f}px`,
                left: `${m}px`
            }
        },
        onEscKeyRelease(t) {
            t.keyCode === 27 && this.hide()
        }
    }
};
var XC = function() {
    var t = this
      , e = t._self._c;
    return e("div", {
        directives: [{
            name: "click-outside",
            rawName: "v-click-outside",
            value: t.onClickOutside,
            expression: "onClickOutside"
        }],
        ref: "context-menu-layout",
        staticClass: "imaios-context-menu-layout",
        style: t.menuStyle,
        attrs: {
            id: t.elementId,
            "data-open": t.isVisible
        },
        on: {
            contextmenu: function(i) {
                i.preventDefault()
            }
        }
    }, [e("ul", {
        ref: "context-menu-list",
        staticClass: "imaios-context-menu-content"
    }, t._l(t.options, function(i, s) {
        return e("context-menu-item", {
            key: i.uuid,
            ref: "context-menu-item",
            refInFor: !0,
            attrs: {
                option: i,
                "open-sub-menu": t.indexHovered === s
            },
            on: {
                "option-clicked": t.optionClicked,
                "option-hovered": function(r) {
                    return t.optionHovered(i, s)
                }
            }
        }, [e("sub-menu", {
            ref: "context-sub-menu",
            refInFor: !0,
            attrs: {
                "sub-menu-style": t.subMenuStyle
            }
        })], 1)
    }), 1)])
}
  , qC = []
  , JC = x(QC, XC, qC, !1, null, null);
const np = JC.exports;
let Na = {};
const eb = {
    name: "movable",
    data() {
        return {
            hasBeenMoved: !1,
            isDragging: !1,
            isOver: !1,
            normalizedX: 0,
            normalizedY: 0,
            x: 0,
            y: 0,
            moveHandler: null,
            positions: {
                clientX: void 0,
                clientY: void 0,
                movementX: 0,
                movementY: 0
            }
        }
    },
    props: {
        initialPosition: {
            type: Object,
            default: {}
        },
        onResize: {
            type: Function
        }
    },
    inject: ["container"],
    methods: {
        mouseover() {
            this.isOver = !0
        },
        mouseleave() {
            this.isOver = !1,
            this.isDragging && setTimeout( () => {
                this.isOver && this.isDragging || this.stopDragging()
            }
            , 300)
        },
        getContainerBBox() {
            return this.container.value.getBoundingClientRect()
        },
        getBBox() {
            return this.$refs.wrapper.getBoundingClientRect()
        },
        refreshPosition() {
            const t = this.getContainerBBox()
              , e = this.getBBox();
            this.x = Math.min(Math.max(t.x, this.x), t.x + t.width - e.width),
            this.y = Math.min(Math.max(0, this.y), t.height - e.height),
            this.$refs.wrapper.style.left = this.x + "px",
            e.height > 0 && (this.$refs.wrapper.style.top = this.y + "px"),
            delete this.$refs.wrapper.style.bottom,
            this.normalizedX = this.x / t.width,
            this.normalizedY = this.y / t.height
        },
        updateCoords(t) {
            this.isDragging && (this.positions.movementX = this.positions.clientX - t.clientX,
            this.positions.movementY = this.positions.clientY - t.clientY,
            this.positions.clientX = t.clientX,
            this.positions.clientY = t.clientY,
            this.x -= this.positions.movementX,
            this.y -= this.positions.movementY,
            this.refreshPosition())
        },
        startDragging(t) {
            this.hasBeenMoved = !0,
            this.isDragging = !0,
            this.positions.clientX = t.clientX,
            this.positions.clientY = t.clientY,
            document.addEventListener("mousemove", this.moveHandler)
        },
        stopDragging() {
            this.isDragging = !1,
            document.removeEventListener("mousemove", this.moveHandler)
        },
        resize() {
            const t = this.getContainerBBox();
            this.x = this.normalizedX * t.width,
            this.y = this.normalizedY * t.height,
            this.$props.onResize && this.$props.onResize(),
            this.refreshPosition()
        },
        setInitialPosition() {
            const t = this.getBBox();
            this.x = t.x,
            this.y = t.y - this.getContainerBBox().top,
            this.$props.initialPosition.top && (this.y = this.$props.initialPosition.top),
            this.$props.initialPosition.left && (this.x = this.$props.initialPosition.left),
            this.refreshPosition()
        }
    },
    beforeMount() {
        y.onBeforeMount(Na)
    },
    beforeDestroy() {
        y.onBeforeUnmount(Na)
    },
    mounted() {
        this.moveHandler = this.updateCoords.bind(this)
    },
    created() {
        const {application: t} = k;
        Na = y.createHooks([{
            on: t.RESIZED,
            do: () => this.resize()
        }, {
            on: t.READY,
            do: () => this.setInitialPosition()
        }])
    }
};
var tb = function() {
    var t = this
      , e = t._self._c;
    return e("div", {
        ref: "wrapper",
        staticClass: "imaios-movable-wrapper",
        class: {
            grabbing: t.isDragging
        },
        attrs: {
            draggable: "true"
        },
        on: {
            mousedown: t.startDragging,
            touchstart: t.startDragging,
            touchend: t.stopDragging,
            mouseup: t.stopDragging,
            mouseleave: function(i) {
                return i.preventDefault(),
                t.mouseleave.apply(null, arguments)
            },
            mouseover: t.mouseover
        }
    }, [t._t("default")], 2)
}
  , ib = []
  , sb = x(eb, tb, ib, !1, null, null);
const rb = sb.exports;
let Ra = {};
const nb = .03
  , Ou = 15
  , ab = {
    name: "OrientationPicture",
    components: {
        movable: rb,
        ContextMenu: np
    },
    data() {
        return {
            initialPosition: {
                left: 0,
                top: 0
            }
        }
    },
    computed: {
        style() {
            const t = this.$store.getters["anatomy/rotation"]
              , e = this.$store.getters["anatomy/flipX"] ? -1 : 1
              , i = this.$store.getters["anatomy/flipY"] ? -1 : 1;
            return {
                transform: `rotate(${t}deg) scale(${e}, ${i})`
            }
        },
        isVisible() {
            return this.$store.getters["orientation-context-menu/widgetVisibility"]
        },
        src() {
            return this.$store.getters["anatomy/orientation-image"]
        },
        orientation() {
            return this.$store.getters["anatomy/currentSlice"].orientation
        },
        getSize() {
            return window.screen.width * nb
        }
    },
    created() {
        const {application: t} = k;
        Ra = y.createHooks([{
            on: t.READY,
            do: () => this.setInitialPosition()
        }])
    },
    beforeMount() {
        y.onBeforeMount(Ra)
    },
    beforeUnmount() {
        y.onBeforeUnmount(Ra)
    },
    methods: {
        close() {
            this.$store.dispatch("orientation-context-menu/perform:close")
        },
        setInitialPosition() {
            const t = this.$store.getters["viewer/container-margin-left"];
            this.initialPosition.left = t + this.$store.getters["anatomy/getPaddingRightLabel"]() - this.getSize,
            this.initialPosition.top = this.$store.getters["viewer/container-height"] - (this.getSize + Ou)
        },
        updatePosition() {
            if (this.$refs.movable.hasBeenMoved === !1) {
                const t = this.$store.getters["viewer/container-margin-left"]
                  , e = this.$store.getters["viewer/container-height"]
                  , i = this.$refs.movable.getBBox();
                let s = this.getSize
                  , r = this.getSize;
                i.width > 0 && i.height > 0 && (r = i.height,
                s = i.width),
                this.$refs.movable.x = t + this.$store.getters["anatomy/getPaddingRightLabel"]() - s,
                this.$refs.movable.y = e - (r + Ou)
            }
        }
    }
};
var ob = function() {
    var t = this
      , e = t._self._c;
    return e("div", [e("movable", {
        directives: [{
            name: "show",
            rawName: "v-show",
            value: t.src.length > 0 && t.isVisible,
            expression: "src.length > 0 && isVisible"
        }],
        ref: "movable",
        staticClass: "anatomy-orientation-wrapper",
        attrs: {
            "initial-position": t.initialPosition,
            "on-resize": t.updatePosition
        }
    }, [t.src.length > 0 && t.isVisible ? e("div", {
        on: {
            contextmenu: function(i) {
                i.preventDefault()
            }
        }
    }, [e("span", {
        staticClass: "button-close-orientation",
        on: {
            click: t.close
        }
    }, [t._v("❌")]), e("div", {
        staticClass: "anatomy-orientation-picture-container",
        attrs: {
            title: t.orientation
        }
    }, [e("img", {
        staticClass: "anatomy-orientation-picture",
        style: t.style,
        attrs: {
            src: t.src,
            width: "75",
            height: "75",
            alt: t.orientation
        }
    })])]) : t._e()])], 1)
}
  , lb = []
  , cb = x(ab, ob, lb, !1, null, "9daea924");
const ub = cb.exports;
let Pa = {};
const db = {
    name: "PremiumBanner",
    components: {
        CloseSVG: ts
    },
    data() {
        return {
            userHideBanner: !1,
            showPremiumAccountIsRequired: !1
        }
    },
    created() {
        const {application: t} = k;
        Pa = y.createHooks([{
            on: t.READY,
            do: () => this.checkPremiumAccountIsRequired()
        }])
    },
    beforeMount() {
        y.onBeforeMount(Pa)
    },
    beforeUnmount() {
        y.onBeforeUnmount(Pa)
    },
    methods: {
        hideBanner() {
            this.showPremiumAccountIsRequired = !1
        },
        redirectToSubscribe() {
            this.$store.dispatch("anatomy/redirect:to", y.url.subscribe)
        },
        checkPremiumAccountIsRequired() {
            this.showPremiumAccountIsRequired = !this.$store.getters["anatomy/hasModuleAccess"]()
        }
    }
};
var hb = function() {
    var t = this
      , e = t._self._c;
    return e("div", {
        ref: "premium-banner",
        staticClass: "premiumBanner",
        class: {
            "show-banner": t.showPremiumAccountIsRequired
        }
    }, [e("button", {
        staticClass: "button-close-banner",
        on: {
            click: t.hideBanner
        }
    }, [e("CloseSVG")], 1), e("div", {
        staticClass: "label-premium-container"
    }, [e("p", {
        staticClass: "label-premium-text"
    }, [t._v(" " + t._s(t.$t("premium-banner.label-required-premium")) + " ")]), e("button", {
        staticClass: "premium-banner-subscribe-button",
        on: {
            click: t.redirectToSubscribe
        }
    }, [t._v(" " + t._s(t.$t("premium-banner.subscribe")) + " ")])])])
}
  , pb = []
  , mb = x(db, hb, pb, !1, null, "92a3df84");
const gb = mb.exports
  , fb = {
    name: "FeaturePremium",
    components: {
        CloseSVG: ts
    },
    directives: {
        ClickOutside: Ft
    },
    computed: {
        displayComponent() {
            return this.$store.getters["menu/displayFeaturePremium"]
        },
        setSmallFontSizeClass() {
            return this.$store.getters["viewer/container-width"] <= Jt.MOBILE
        },
        userIsConnected() {
            return y.getUserId() !== yr
        }
    },
    methods: {
        hide() {
            this.$store.dispatch("menu/feature-premium:hide")
        },
        redirectToSubscribe() {
            this.$store.dispatch("anatomy/redirect:to", y.url.subscribe)
        },
        redirectToSignup() {
            this.$store.dispatch("anatomy/redirect:to", y.url.login)
        }
    }
};
var vb = function() {
    var t = this
      , e = t._self._c;
    return t.displayComponent ? e("div", {
        staticClass: "feature-premium-overlay"
    }, [e("div", {
        directives: [{
            name: "click-outside",
            rawName: "v-click-outside",
            value: t.hide,
            expression: "hide"
        }],
        staticClass: "feature-premium-container box-shadow"
    }, [e("div", {
        staticClass: "feature-premium-title"
    }, [e("CloseSVG", {
        nativeOn: {
            click: function(i) {
                return t.hide.apply(null, arguments)
            }
        }
    }), e("p", {
        staticClass: "text",
        class: {
            "small-font-size": t.setSmallFontSizeClass
        }
    }, [t._v(" " + t._s(t.$t("premium.text")) + " ")])], 1), e("div", {
        staticClass: "button-container"
    }, [t.userIsConnected ? t._e() : e("button", {
        staticClass: "button-connect",
        on: {
            click: t.redirectToSignup
        }
    }, [t._v(" " + t._s(t.$t("premium.button.connect")) + " ")]), e("button", {
        staticClass: "button-subscribe",
        on: {
            click: t.redirectToSubscribe
        }
    }, [t._v(" " + t._s(t.$t("premium.button.subscribe")) + " ")])])])]) : t._e()
}
  , yb = []
  , Eb = x(fb, vb, yb, !1, null, null);
const Ib = Eb.exports
  , Cb = {
    name: "LeftArrowSVG"
};
var bb = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            d: "M12.633 3.33794C12.3401 3.04505 11.8652 3.04505 11.5723 3.33794C11.2794 3.63084 11.2794 4.10571 11.5723 4.3986L18.4237 11.25H3.75003C3.33582 11.25 3.00003 11.5858 3.00003 12C3.00003 12.4142 3.33582 12.75 3.75003 12.75H18.4237L11.5723 19.6014C11.2794 19.8943 11.2794 20.3692 11.5723 20.6621C11.8652 20.9549 12.3401 20.9549 12.633 20.6621L20.7647 12.5303C21.0576 12.2374 21.0576 11.7626 20.7647 11.4697L12.633 3.33794Z",
            fill: "black"
        }
    })])
}
  , Sb = []
  , Tb = x(Cb, bb, Sb, !1, null, "a41c8e1d");
const ap = Tb.exports
  , Ab = {
    name: "RightArrowSVG"
};
var wb = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            d: "M12.633 3.33794C12.3401 3.04505 11.8652 3.04505 11.5723 3.33794C11.2794 3.63084 11.2794 4.10571 11.5723 4.3986L18.4237 11.25H3.75003C3.33582 11.25 3.00003 11.5858 3.00003 12C3.00003 12.4142 3.33582 12.75 3.75003 12.75H18.4237L11.5723 19.6014C11.2794 19.8943 11.2794 20.3692 11.5723 20.6621C11.8652 20.9549 12.3401 20.9549 12.633 20.6621L20.7647 12.5303C21.0576 12.2374 21.0576 11.7626 20.7647 11.4697L12.633 3.33794Z",
            fill: "black"
        }
    })])
}
  , _b = []
  , Lb = x(Ab, wb, _b, !1, null, "8c35831a");
const op = Lb.exports
  , Ob = {
    name: "MetaKeySVG"
};
var xb = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        attrs: {
            id: "icon",
            xmlns: "http://www.w3.org/2000/svg",
            width: "24",
            height: "24",
            viewBox: "0 0 32 32"
        }
    }, [e("path", {
        attrs: {
            d: "M24,13a4,4,0,0,0,4-4V8a4,4,0,0,0-4-4H23a4,4,0,0,0-4,4v3H13V8A4,4,0,0,0,9,4H8A4,4,0,0,0,4,8V9a4,4,0,0,0,4,4h3v6H8a4,4,0,0,0-4,4v1a4,4,0,0,0,4,4H9a4,4,0,0,0,4-4V21h6v3a4,4,0,0,0,4,4h1a4,4,0,0,0,4-4V23a4,4,0,0,0-4-4H21V13ZM21,8a2,2,0,0,1,2-2h1a2,2,0,0,1,2,2V9a2,2,0,0,1-2,2H21ZM8,11A2,2,0,0,1,6,9V8A2,2,0,0,1,8,6H9a2,2,0,0,1,2,2v3H8Zm3,13a2,2,0,0,1-2,2H8a2,2,0,0,1-2-2V23a2,2,0,0,1,2-2h3Zm8-5H13V13h6Zm2,2h3a2,2,0,0,1,2,2v1a2,2,0,0,1-2,2H23a2,2,0,0,1-2-2Z",
            fill: "black"
        }
    })])
}
  , Mb = []
  , Nb = x(Ob, xb, Mb, !1, null, "7c37392f");
const Rb = Nb.exports
  , Pb = {
    name: "ShortcutItem",
    components: {
        LeftArrowSVG: ap,
        RightArrowSVG: op,
        MetaKeySVG: Rb
    },
    props: {
        item: {
            component: {
                style: {
                    type: String,
                    required: !1
                },
                name: {
                    required: !1
                },
                modifierKeys: {
                    type: Array,
                    required: !1
                },
                required: !1
            },
            name: {
                type: String,
                required: !0
            },
            key: {
                type: String,
                required: !1
            }
        }
    },
    computed: {
        componentExist() {
            return typeof this.item.component < "u"
        }
    }
};
var Db = function() {
    var t = this
      , e = t._self._c;
    return e("li", {
        staticClass: "item-list-shortcuts"
    }, [e("div", {
        staticClass: "name"
    }, [t._v(" " + t._s(t.$t(t.item.translationKey)) + " ")]), e("div", {
        staticClass: "key"
    }, [t.componentExist && t.item.component.type === "vue" ? e("div", {
        staticClass: "key-container"
    }, [t.item.component.modifierKeys ? e("span", {
        staticClass: "key-container"
    }, [t._l(t.item.component.modifierKeys, function(i) {
        return [i === "meta" ? [e("MetaKeySVG", {
            staticStyle: {
                flex: "0 0 1.5rem"
            }
        }), t._v("+ ")] : [t._v(" " + t._s(i) + "+ ")]]
    })], 2) : t._e(), e(t.item.component.name, {
        tag: "component",
        staticStyle: {
            flex: "0 0 1.5rem"
        },
        style: t.item.component.style
    })], 1) : [t._v(" " + t._s(t.item.key) + " ")], t.componentExist && t.item.component.type === "img" ? e("img", {
        attrs: {
            alt: t.$t(t.item.name),
            src: t.item.component.name
        }
    }) : t._e(), t.componentExist && t.item.component.type === "html" ? e("div", {
        domProps: {
            innerHTML: t._s(t.item.component.name)
        }
    }) : t._e()], 2)])
}
  , kb = []
  , Hb = x(Pb, Db, kb, !1, null, "05adb56d");
const zb = Hb.exports
  , Bb = 882
  , Fb = {
    name: "ShortcutsPanel",
    components: {
        ShortcutItem: zb
    },
    directives: {
        ClickOutside: Ft
    },
    data() {
        return {
            keyPressed: []
        }
    },
    computed: {
        display() {
            return this.$store.getters["menu/shortcutPanelIsOpen"]
        },
        shortcuts() {
            return this.$store.getters["shortcut/shortcutsList"]
        },
        isLargeTabletScreen() {
            return y.isLargeTabletScreen()
        },
        haveSmallHeight() {
            return this.$store.getters["viewer/viewer-height"] <= Bb
        }
    },
    methods: {
        getKey(t) {
            let e = `${t.name}_`;
            return typeof t.key < "u" ? e += t.key : typeof t.component < "u" && (e += `${t.component.name}_${t.component.style}`),
            e
        },
        displayModal() {
            this.$store.dispatch("menu/shortcut-panel:display")
        },
        hideModal() {
            this.$store.dispatch("menu/shortcut-panel:hide")
        }
    }
};
var Vb = function() {
    var t = this
      , e = t._self._c;
    return e("div", {
        staticClass: "modal-keyboard",
        class: {
            display: t.display,
            "large-tablet-screen": t.isLargeTabletScreen,
            "small-height": t.haveSmallHeight
        }
    }, [t.display ? e("div", {
        directives: [{
            name: "click-outside",
            rawName: "v-click-outside",
            value: t.hideModal,
            expression: "hideModal"
        }],
        staticClass: "modal-keyboard-container box-shadow"
    }, [e("p", {
        staticClass: "title"
    }, [t._v(" " + t._s(t.$t("keyboard-panel.title")) + " ")]), e("ul", {
        staticClass: "list-shortcuts"
    }, t._l(t.shortcuts, function(i) {
        return e("shortcut-item", {
            key: t.getKey(i),
            attrs: {
                item: i
            }
        })
    }), 1)]) : t._e()])
}
  , Ub = []
  , Gb = x(Fb, Vb, Ub, !1, null, null);
const $b = Gb.exports
  , jb = {
    name: "MoreSVG"
};
var Yb = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            d: "M14 19C14 20.1 13.1 21 12 21C10.9 21 10 20.1 10 19C10 17.9 10.9 17 12 17C13.1 17 14 17.9 14 19ZM12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12C14 10.9 13.1 10 12 10ZM12 3C10.9 3 10 3.9 10 5C10 6.1 10.9 7 12 7C13.1 7 14 6.1 14 5C14 3.9 13.1 3 12 3Z",
            fill: "black"
        }
    })])
}
  , Wb = []
  , Kb = x(jb, Yb, Wb, !1, null, "4ee9c0ca");
const Zb = Kb.exports
  , Qb = {
    name: "HideStructureSVG"
};
var Xb = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M12 6.49999C7.31826 6.49999 4.62892 10.2291 3.64219 11.9669C3.6318 11.9852 3.63123 11.9958 3.63123 12C3.63123 12.0041 3.6318 12.0148 3.64219 12.0331C4.62892 13.7709 7.31826 17.5 12 17.5C16.6847 17.5 19.3556 13.765 20.3307 12.0317C20.3407 12.0138 20.3412 12.0037 20.3412 12C20.3412 11.9963 20.3407 11.9861 20.3307 11.9683C19.3556 10.235 16.6847 6.49999 12 6.49999ZM2.33779 11.2263C3.37185 9.4051 6.44697 4.99999 12 4.99999C17.5596 4.99999 20.6157 9.41558 21.638 11.2328C21.9089 11.7144 21.9089 12.2856 21.638 12.7672C20.6157 14.5844 17.5596 19 12 19C6.44697 19 3.37185 14.5949 2.33779 12.7737C2.06237 12.2886 2.06237 11.7114 2.33779 11.2263Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M12 14C13.1045 14 14 13.1046 14 12C14 10.8954 13.1045 9.99999 12 9.99999C10.8954 9.99999 9.99997 10.8954 9.99997 12C9.99997 13.1046 10.8954 14 12 14ZM12 15.5C13.933 15.5 15.5 13.933 15.5 12C15.5 10.067 13.933 8.49999 12 8.49999C10.067 8.49999 8.49997 10.067 8.49997 12C8.49997 13.933 10.067 15.5 12 15.5Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M20.7865 3.21877C21.0794 3.51166 21.0794 3.98654 20.7865 4.27943L4.2855 20.7804C3.99261 21.0733 3.51773 21.0733 3.22484 20.7804C2.93195 20.4875 2.93195 20.0126 3.22484 19.7197L19.7258 3.21877C20.0187 2.92588 20.4936 2.92588 20.7865 3.21877Z",
            fill: "black"
        }
    })])
}
  , qb = []
  , Jb = x(Qb, Xb, qb, !1, null, "cf1ab773");
const eS = Jb.exports
  , tS = {
    name: "SelectSVG"
};
var iS = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M10 2H14V3.5H10V2ZM19 3.5H17V2H19C20.1046 2 21 2.89543 21 4V5.78131H19.5V4C19.5 3.72386 19.2761 3.5 19 3.5ZM19.5 8.78131L21 8.78131V12.875H19.5V8.78131ZM4.5 4V5.78131L3 5.78131V4C3 2.89543 3.89543 2 5 2H7L7 3.5H5C4.72386 3.5 4.5 3.72386 4.5 4ZM4.5 8.78131H3V12.875H4.5V8.78131ZM3 15.875H4.5V17.875C4.5 18.1511 4.72386 18.375 5 18.375H5.25V19.875H5C3.89543 19.875 3 18.9796 3 17.875V15.875ZM19.5 15.875H21V17.875C21 18.8069 20.3626 19.59 19.5 19.812V17.875V17.4375V15.875ZM11.0441 6.69063C11.0485 6.6014 11.1222 6.53131 11.2115 6.53131C11.3013 6.53131 11.3751 6.60214 11.3789 6.69189L11.642 13.0104C11.6529 13.2735 11.801 13.5115 12.0322 13.6376C12.2633 13.7637 12.5437 13.7593 12.7708 13.6261L13.4265 13.2415C13.7335 13.0614 14.1028 13.0207 14.4417 13.1297L16.5969 13.8229C17.1406 13.9978 17.4825 14.5092 17.4361 15.0552C17.3401 16.1851 17.178 17.7434 16.9333 19.0938C16.7847 19.9135 16.0321 20.5013 15.0757 20.5013H11.9025C11.245 20.5013 10.6204 20.2137 10.193 19.7141L6.52198 15.4238C6.47884 15.3734 6.45514 15.3092 6.45514 15.2429C6.45514 15.0471 6.65206 14.9125 6.83452 14.9836L9.59435 16.0598C9.81907 16.1474 10.0722 16.1216 10.2747 15.9905C10.4771 15.8593 10.6041 15.6388 10.6159 15.3979L11.0441 6.69063ZM11.2115 5.03131C10.3224 5.03131 9.58963 5.7289 9.54595 6.61694L9.16889 14.2839L7.37946 13.5861C6.2135 13.1315 4.95514 13.9914 4.95514 15.2429C4.95514 15.6669 5.10661 16.0769 5.38225 16.399L9.05323 20.6893C9.76568 21.522 10.8067 22.0013 11.9025 22.0013H15.0757C16.6305 22.0013 18.11 21.0126 18.4092 19.3613C18.6666 17.9412 18.8334 16.3277 18.9307 15.1822C19.0382 13.917 18.2428 12.7766 17.0562 12.3949L14.901 11.7017C14.3056 11.5102 13.6675 11.5287 13.0906 11.7458L12.8776 6.62949C12.8404 5.73628 12.1055 5.03131 11.2115 5.03131Z",
            fill: "black"
        }
    })])
}
  , sS = []
  , rS = x(tS, iS, sS, !1, null, "9fd39725");
const nS = rS.exports
  , aS = {
    name: "ShowStructureSVG"
};
var oS = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M15.5 12C15.5 13.933 13.933 15.5 12 15.5C10.067 15.5 8.5 13.933 8.5 12C8.5 10.067 10.067 8.5 12 8.5C13.933 8.5 15.5 10.067 15.5 12ZM14 12C14 13.1046 13.1046 14 12 14C10.8954 14 10 13.1046 10 12C10 10.8954 10.8954 10 12 10C13.1046 10 14 10.8954 14 12Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M12.0156 5C6.4626 5 3.38748 9.40511 2.35342 11.2263C2.078 11.7114 2.078 12.2886 2.35342 12.7737C3.38748 14.5949 6.4626 19 12.0156 19C17.5752 19 20.6313 14.5844 21.6536 12.7672C21.9246 12.2856 21.9246 11.7144 21.6536 11.2328C20.6313 9.41558 17.5752 5 12.0156 5ZM3.65782 11.9669C4.64455 10.2291 7.33388 6.5 12.0156 6.5C16.7004 6.5 19.3712 10.235 20.3463 11.9683C20.3564 11.9861 20.3568 11.9963 20.3568 12C20.3568 12.0037 20.3564 12.0139 20.3463 12.0317C19.3712 13.765 16.7004 17.5 12.0156 17.5C7.33388 17.5 4.64455 13.7709 3.65782 12.0331C3.64743 12.0148 3.64685 12.0042 3.64685 12C3.64685 11.9958 3.64743 11.9852 3.65782 11.9669Z",
            fill: "black"
        }
    })])
}
  , lS = []
  , cS = x(aS, oS, lS, !1, null, "54479e47");
const uS = cS.exports;
function dS(t, e=`${t} table`) {
    const i = document.querySelector(t);
    function s(a) {
        return a.offsetWidth > i.offsetWidth || a.clientWidth < a.scrollWidth
    }
    let r, n;
    document.querySelectorAll(e).forEach(a => {
        function o(u) {
            u.preventDefault();
            const h = u.pageX - a.offsetLeft - r;
            a.scrollLeft = n - h
        }
        function l(u) {
            r = u.pageX - a.offsetLeft,
            n = a.scrollLeft,
            a.style.setProperty("cursor", "grabbing"),
            a.addEventListener("mousemove", o)
        }
        function c() {
            a.style.setProperty("cursor", "grab"),
            a.removeEventListener("mousemove", o)
        }
        s(a) && (a.style.display = "block",
        a.style.overflowX = "auto",
        a.style.cursor = "grab"),
        a.addEventListener("mousedown", l),
        a.addEventListener("mouseup", c),
        a.addEventListener("mouseleave", c)
    }
    )
}
const hS = 150
  , pS = {
    name: "StructureDefinition",
    components: {
        ArrowSubMenuSVG: zn
    },
    data() {
        return {
            isDefinitionTruncated: !1
        }
    },
    computed: {
        structureDetails() {
            return this.$store.state["structure-details"]
        },
        definitionExist() {
            return this.structureDetails.description.content !== null && this.structureDetails.description.content !== ""
        },
        canShowSeeMoreButton() {
            return this.isDefinitionTruncated === !0 && this.definitionExist
        }
    },
    watch: {
        "structureDetails.structureId"() {
            this.truncateDescription()
        }
    },
    mounted() {
        this.truncateDescription(),
        dS(".structure-definition-html", ".table-wrapper")
    },
    methods: {
        showMore() {
            this.isDefinitionTruncated = !1
        },
        truncateDescription() {
            this.$nextTick( () => {
                const t = this.$refs.definition;
                if (typeof t > "u")
                    return !1;
                this.isDefinitionTruncated = t.clientHeight >= hS
            }
            )
        }
    }
};
var mS = function() {
    var t = this
      , e = t._self._c;
    return e("div", {
        staticClass: "structure-definition hr-after"
    }, [e("p", {
        staticClass: "structure-details-section-title"
    }, [t._v(" " + t._s(t.$t("anatomical-parts.description.title")) + " ")]), e("div", {
        staticClass: "structure-definition-html-container"
    }, [t.definitionExist ? [e("div", {
        ref: "definition",
        staticClass: "structure-definition-html",
        class: {
            "truncate-definition": t.isDefinitionTruncated
        },
        domProps: {
            innerHTML: t._s(t.structureDetails.description.content)
        }
    }), t.isDefinitionTruncated ? t._e() : e("div", {
        staticClass: "structure-definition-html structure-definition-source",
        domProps: {
            innerHTML: t._s(t.structureDetails.description.sources)
        }
    })] : [e("p", {
        staticClass: "structure-definition-no-definition"
    }, [t._v(" " + t._s(t.$t("anatomical-parts.description.no-description")) + " ")])]], 2), t.canShowSeeMoreButton ? e("button", {
        ref: "button-see-more",
        staticClass: "structure-button-see",
        on: {
            click: t.showMore
        }
    }, [e("span", {
        staticClass: "structure-button-see-title"
    }, [t._v(t._s(t.$t("anatomical-parts.see-more")))]), e("ArrowSubMenuSVG")], 1) : t._e()])
}
  , gS = []
  , fS = x(pS, mS, gS, !1, null, "a21e11cf");
const vS = fS.exports
  , yS = 8
  , ES = 2
  , IS = {
    name: "StructureHierarchy",
    components: {
        ArrowSubMenuSVG: zn
    },
    data() {
        return {
            indexHierarchyOpen: 0,
            hierarchyTruncate: [!1, !1, !1],
            displayButtonTruncateHierarchy: [!1, !1, !1]
        }
    },
    computed: {
        structureDetails() {
            return this.$store.state["structure-details"]
        },
        structureId() {
            return this.$store.state["structure-details"].structureId
        },
        structureTaId() {
            return this.$store.state["structure-details"].taId
        },
        hierarchyList() {
            return Object.keys(this.structureDetails.hierarchy).map(t => parseInt(t))
        }
    },
    watch: {
        structureId() {
            this.reset(),
            this.$nextTick( () => {
                this.truncateHierarchy()
            }
            )
        }
    },
    mounted() {
        this.selectHierarchyToOpen()
    },
    methods: {
        isHierarchyOpen(t) {
            return t === this.indexHierarchyOpen
        },
        hasChildren(t) {
            return this.structureDetails.hierarchy[t].children.length > 0
        },
        shouldDisplayUnrollButton(t) {
            return this.displayButtonTruncateHierarchy[t] && this.hierarchyTruncate[t]
        },
        shouldDisplayRollupButton(t) {
            return this.displayButtonTruncateHierarchy[t] && !this.hierarchyTruncate[t]
        },
        toggleHierarchy(t) {
            if (this.indexHierarchyOpen === t) {
                this.indexHierarchyOpen = -1;
                return
            }
            this.indexHierarchyOpen = t
        },
        hierarchyClick(t, e=null, i=null) {
            (e === null || e < this.structureDetails.hierarchy[i].ancestors.length - 1) && (this.$store.dispatch("anatomy/send-notification", k.ui.PANEL_STRUCTURE.CLICK_HIERARCHY),
            this.$emit("hierarchy-click", {
                structure_id: t.struct_id
            }))
        },
        truncateHierarchy(t=null) {
            const e = this.$refs["hierarchy-list"];
            typeof e < "u" && Array.isArray(e) && (t === null ? e.forEach( (i, s) => this.truncateTAHierarchy(s)) : this.truncateTAHierarchy(t))
        },
        truncateTAHierarchy(t) {
            const e = this.$refs["hierarchy-list"];
            typeof e < "u" && Array.isArray(e) && (e[t].childElementCount - ES > yS ? (this.$set(this.displayButtonTruncateHierarchy, t, !0),
            this.$set(this.hierarchyTruncate, t, !0)) : (this.$set(this.displayButtonTruncateHierarchy, t, !1),
            this.$set(this.hierarchyTruncate, t, !1)))
        },
        removeTruncateHierarchy(t) {
            this.$set(this.hierarchyTruncate, t, !1)
        },
        selectHierarchyToOpen() {
            const t = this.hierarchyList.indexOf(this.structureTaId);
            t !== -1 ? this.indexHierarchyOpen = t : this.indexHierarchyOpen = 0
        },
        reset() {
            this.selectHierarchyToOpen();
            for (let t = 0; t < this.hierarchyTruncate.length; t++)
                this.$set(this.hierarchyTruncate, t, !1);
            for (let t = 0; t < this.displayButtonTruncateHierarchy.length; t++)
                this.$set(this.displayButtonTruncateHierarchy, t, !1)
        }
    }
};
var CS = function() {
    var t = this
      , e = t._self._c;
    return e("div", {
        staticClass: "structure-hierarchy hr-after"
    }, [e("p", {
        staticClass: "structure-details-section-title"
    }, [t._v(" " + t._s(t.$t("anatomical-parts.hierarchy.title")) + " ")]), t._l(t.hierarchyList, function(i, s) {
        return [e("div", {
            staticClass: "structure-hierarchy-card",
            class: {
                "structure-hierarchy-open": t.isHierarchyOpen(s)
            }
        }, [e("div", {
            staticClass: "structure-hierarchy-card-header",
            on: {
                click: function(r) {
                    return t.toggleHierarchy(s)
                }
            }
        }, [e("p", {
            staticClass: "structure-hierarchy-subtitle"
        }, [t._v(" " + t._s(t.$t(`anatomical-parts.hierarchy.${t.structureDetails.application}.${i}`)) + " ")]), e("div", {
            staticClass: "structure-hierarchy-icon-container"
        }, [e("ArrowSubMenuSVG", {
            staticClass: "structure-hierarchy-icon"
        })], 1)]), e("transition", {
            attrs: {
                name: "fade"
            }
        }, [e("div", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: t.isHierarchyOpen(s),
                expression: "isHierarchyOpen(indexTa)"
            }],
            staticClass: "structure-hierarchy-card-body"
        }, [e("div", {
            staticClass: "structure-hierarchy-ancestor-container"
        }, t._l(t.structureDetails.hierarchy[i].ancestors, function(r, n) {
            return e("span", {
                key: `${r.ta_id}-${r.taxon_id}`,
                staticClass: "structure-hierarchy-ancestor",
                on: {
                    click: function(a) {
                        return t.hierarchyClick(r, n, i)
                    }
                }
            }, [e("span", {
                staticClass: "structure-hierarchy-ancestor-label"
            }, [t._v(t._s(r.label))]), n < t.structureDetails.hierarchy[i].ancestors.length - 1 ? e("span", {
                staticClass: "structure-hierarchy-ancestor-chevron"
            }, [t._v(" > ")]) : t._e()])
        }), 0), e("div", {
            staticClass: "structure-hierarchy-children-container"
        }, [e("p", {
            staticClass: "structure-hierarchy-children-title"
        }, [t._v(" " + t._s(t.$t("anatomical-parts.hierarchy.underlying.title")) + " ")]), t.hasChildren(i) ? [e("div", {
            ref: "hierarchy-list",
            refInFor: !0,
            staticClass: "structure-hierarchy-children-list",
            class: {
                "hierarchy-truncate": t.hierarchyTruncate[s]
            }
        }, t._l(t.structureDetails.hierarchy[i].children, function(r) {
            return e("div", {
                staticClass: "structure-hierarchy-children"
            }, [e("span", {
                staticClass: "structure-hierarchy-children-label",
                on: {
                    click: function(n) {
                        return t.hierarchyClick(r)
                    }
                }
            }, [t._v(t._s(r.label))])])
        }), 0), t.shouldDisplayUnrollButton(s) ? e("button", {
            staticClass: "structure-button-see",
            on: {
                click: function(r) {
                    return t.removeTruncateHierarchy(s)
                }
            }
        }, [e("span", {
            staticClass: "structure-button-see-title"
        }, [t._v(t._s(t.$t("anatomical-parts.see-more")))]), e("ArrowSubMenuSVG")], 1) : t._e(), t.shouldDisplayRollupButton(s) ? e("button", {
            staticClass: "structure-button-see",
            on: {
                click: function(r) {
                    return t.truncateHierarchy(s)
                }
            }
        }, [e("span", {
            staticClass: "structure-button-see-title"
        }, [t._v(t._s(t.$t("anatomical-parts.see-less")))]), e("ArrowSubMenuSVG", {
            staticStyle: {
                rotate: "180deg"
            }
        })], 1) : t._e()] : e("p", {
            staticClass: "structure-hierarchy-no-children"
        }, [t._v(" " + t._s(t.$t("anatomical-parts.hierarchy.underlying.none")) + " ")])], 2)])])], 1)]
    })], 2)
}
  , bS = []
  , SS = x(IS, CS, bS, !1, null, "083b47af");
const TS = SS.exports
  , AS = {
    name: "StructureRelatedTerms",
    computed: {
        structureDetails() {
            return this.$store.state["structure-details"]
        },
        currentStructureLanguage() {
            return this.$store.getters["anatomy/currentLanguageId"]()
        },
        isLanguageFrench() {
            return this.currentStructureLanguage === J.fr
        },
        hasLatinSynonym() {
            return this.structureDetails.latinSynonym !== null
        },
        hasSynonym() {
            return this.structureDetails.synonym !== null
        },
        hasFrAnc() {
            return this.isLanguageFrench && this.structureDetails.frAnc !== null
        },
        hasLatinEponym() {
            return this.structureDetails.latinEponym !== null
        },
        hasEponym() {
            return this.structureDetails.eponym !== null
        },
        hasAcronym() {
            return this.structureDetails.acronym !== null
        },
        hasRelatedTerms() {
            return this.structureDetails.relatedTerms != null
        },
        hasAnyRelatedTerms() {
            return this.hasLatinSynonym || this.hasSynonym || this.hasFrAnc || this.hasLatinEponym || this.hasEponym || this.hasAcronym || this.hasRelatedTerms
        }
    }
};
var wS = function() {
    var t = this
      , e = t._self._c;
    return t.hasAnyRelatedTerms ? e("div", {
        staticClass: "related-terms-container hr-after"
    }, [t.hasLatinSynonym ? e("div", {
        staticClass: "related-terms"
    }, [e("span", [t._v(t._s(t.$t("anatomical-parts.related-terms.latin-synonym")))]), e("span", {
        staticClass: "related-terms-value"
    }, [t._v(t._s(t.structureDetails.latinSynonym))])]) : t._e(), t.hasSynonym ? e("div", {
        staticClass: "related-terms"
    }, [e("span", [t._v(t._s(t.$t("anatomical-parts.related-terms.synonym")))]), e("span", {
        staticClass: "related-terms-value"
    }, [t._v(t._s(t.structureDetails.synonym))])]) : t._e(), t.hasFrAnc ? e("div", {
        staticClass: "related-terms"
    }, [e("span", [t._v(t._s(t.$t("anatomical-parts.related-terms.old_fr_nomenclature")))]), e("span", {
        staticClass: "related-terms-value"
    }, [t._v(t._s(t.structureDetails.frAnc))])]) : t._e(), t.hasLatinEponym ? e("div", {
        staticClass: "related-terms"
    }, [e("span", [t._v(t._s(t.$t("anatomical-parts.related-terms.latin-eponym")))]), e("span", {
        staticClass: "related-terms-value"
    }, [t._v(t._s(t.structureDetails.latinEponym))])]) : t._e(), t.hasEponym ? e("div", {
        staticClass: "related-terms"
    }, [e("span", [t._v(t._s(t.$t("anatomical-parts.related-terms.eponym")))]), e("span", {
        staticClass: "related-terms-value"
    }, [t._v(t._s(t.structureDetails.eponym))])]) : t._e(), t.hasAcronym ? e("div", {
        staticClass: "related-terms"
    }, [e("span", [t._v(t._s(t.$t("anatomical-parts.related-terms.acronym")))]), e("span", {
        staticClass: "related-terms-value"
    }, [t._v(t._s(t.structureDetails.acronym))])]) : t._e(), t.hasRelatedTerms ? e("div", {
        staticClass: "related-terms"
    }, [e("span", [t._v(t._s(t.$t("anatomical-parts.related-terms.related-term")))]), e("span", {
        staticClass: "related-terms-value"
    }, [t._v(t._s(t.structureDetails.relatedTerms))])]) : t._e()]) : t._e()
}
  , _S = []
  , LS = x(AS, wS, _S, !1, null, "94219c8e");
const OS = LS.exports
  , xS = {
    name: "StructureTaCompare",
    computed: {
        structureDetails() {
            return this.$store.state["structure-details"]
        },
        compareApplication() {
            return this.$store.getters["anatomy/application_id"] === Rt.EANATOMY ? mu.ANIMAL : mu.HUMAN
        }
    },
    methods: {
        compareTA(t, e) {
            y.isEmbed() && (t.preventDefault(),
            t.stopImmediatePropagation(),
            t.stopPropagation(),
            this.$store.dispatch("dialog-popup/display", {
                title: this.$t("dialog.external-link-title"),
                message: this.$t("dialog.external-link-description", {
                    url: (re.baseURL !== "" ? re.baseURL : Uy) + e
                }),
                displayCancelButton: !0,
                confirmCallback: () => window.open(re.baseURL + e, "_blank")
            }))
        }
    }
};
var MS = function() {
    var t = this
      , e = t._self._c;
    return t.structureDetails.appLinks !== null ? e("div", {
        staticClass: "structure-compare hr-after"
    }, [e("p", {
        staticClass: "structure-details-section-title"
    }, [t._v(" " + t._s(t.$t(`anatomical-parts.compare.${t.compareApplication}`)) + " ")]), e("div", {
        staticClass: "structure-details-section"
    }, t._l(t.structureDetails.appLinks, function(i) {
        return e("a", {
            staticClass: "structure-details-compare-label",
            attrs: {
                href: i.url,
                target: "_blank"
            },
            on: {
                auxclick: s => t.compareTA(s, i.url),
                click: s => t.compareTA(s, i.url)
            }
        }, [t._v(t._s(i.label))])
    }), 0)]) : t._e()
}
  , NS = []
  , RS = x(xS, MS, NS, !1, null, "2b5b68a4");
const PS = RS.exports
  , DS = {
    name: "structure-translation",
    computed: {
        structureDetails() {
            return this.$store.state["structure-details"]
        }
    }
};
var kS = function() {
    var t = this
      , e = t._self._c;
    return e("div", {
        staticClass: "structure-translation"
    }, [e("p", {
        staticClass: "structure-details-section-title"
    }, [t._v(t._s(t.$t("anatomical-parts.translation.title")))]), e("img", {
        staticClass: "structure-details-translation-picture",
        attrs: {
            src: t.structureDetails.translationPicture,
            alt: t.$t("anatomical-parts.translation.title")
        }
    })])
}
  , HS = []
  , zS = x(DS, kS, HS, !1, null, "971bdea9");
const BS = zS.exports
  , FS = 5
  , VS = 120
  , US = {
    name: "StructureInThisModulePreview",
    components: {
        ArrowSubMenuSVG: zn
    },
    data() {
        return {
            nbLoadedImages: 0,
            galleryTranslate: 0,
            galleryDragLastPosition: 0,
            deltaFromMove: 0,
            galleryOffsetWidth: 0,
            galleryScrollLeft: 0,
            galleryScrollWidth: 0
        }
    },
    computed: {
        structureDetails() {
            return this.$store.state["structure-details"]
        },
        structuresLocations() {
            return this.$store.state["structure-in-this-module-gallery"].structuresLocations
        },
        moduleName() {
            return this.$store.state["structure-in-this-module-gallery"].moduleName
        },
        previewImages() {
            return this.$store.getters["structure-in-this-module-gallery/previewImages"]
        },
        currentModule() {
            return this.$store.getters["anatomy/module_id"]
        },
        canMoveToLeft() {
            return !this.galleryIsAtStart && this.galleryIsAuthorizedToMove
        },
        canMoveToRight() {
            return !this.galleryIsAtEnd && this.galleryIsAuthorizedToMove
        },
        canSeeMoreImages() {
            return this.$store.getters["structure-in-this-module-gallery/canSeeMoreImages"]
        },
        galleryIsAtStart() {
            return this.galleryScrollLeft === 0
        },
        galleryIsAtEnd() {
            return this.galleryScrollLeft + this.galleryOffsetWidth >= this.galleryScrollWidth
        },
        galleryIsAuthorizedToMove() {
            return this.galleryScrollWidth > this.galleryOffsetWidth
        }
    },
    watch: {
        "structureDetails.structureId"() {
            return _(this, null, function*() {
                this.reset()
            })
        }
    },
    methods: {
        isolateStructure(t) {
            y.emit(k.gallery.IN_THIS_MODULE.CLICK_IMAGE, {
                sliceIndex: t,
                structureId: this.structureDetails.structureId
            })
        },
        seeMore() {
            return _(this, null, function*() {
                yield this.$store.dispatch("structure-in-this-module-gallery/startLoading"),
                yield this.$store.dispatch("structure-in-this-module-gallery/openGallery"),
                yield this.$store.dispatch("structure-in-this-module-gallery/fillStructuresLocations", {
                    structureId: this.structureDetails.structureId,
                    imaiosCode: this.currentModule
                }),
                yield this.$store.dispatch("structure-in-this-module-gallery/stopLoading")
            })
        },
        scrollGallery(t=!1) {
            const e = t ? -1 : 1;
            this.scrollGalleryTo(e * VS)
        },
        scrollGalleryTo(t, e=!0) {
            var i;
            this.galleryIsAuthorizedToMove && ((i = this.$refs["structure-gallery"]) == null || i.scrollBy({
                left: t,
                behavior: e ? "smooth" : "auto"
            }))
        },
        updateGalleryPosition() {
            const t = this.$refs["structure-gallery"];
            typeof t > "u" || (this.galleryScrollLeft = t.scrollLeft)
        },
        pointerDown(t) {
            if (!this.galleryIsAuthorizedToMove || Se.isIE())
                return;
            this.deltaFromMove = 0;
            const e = this.$refs["structure-gallery"];
            typeof e < "u" && (e.style.transition = "none"),
            this.galleryDragLastPosition = t.screenX,
            document.addEventListener("pointermove", this.pointerMove),
            document.addEventListener("pointerup", this.pointerUp)
        },
        clickStructureLocation(t) {
            Math.abs(this.deltaFromMove) > FS || (this.$store.dispatch("anatomy/send-notification", {
                notification: k.ui.PANEL_STRUCTURE.CLICK_GALLERY,
                args: {
                    isCurrentModule: !0
                }
            }),
            this.isolateStructure(t.index))
        },
        pointerMove(t) {
            if (!this.galleryIsAuthorizedToMove)
                return;
            const e = this.galleryDragLastPosition - t.screenX;
            this.deltaFromMove += e,
            this.scrollGalleryTo(e, !1),
            this.galleryDragLastPosition = t.screenX
        },
        pointerUp() {
            document.removeEventListener("pointermove", this.pointerMove),
            document.removeEventListener("pointerup", this.pointerUp);
            const t = this.$refs["structure-gallery"];
            typeof t < "u" && (t.style.transition = "")
        },
        imageLoaded() {
            this.nbLoadedImages++,
            this.nbLoadedImages === this.previewImages.length && (this.$store.dispatch("structure-in-this-module-gallery/setPreviewImagesLoaded", !0),
            this.checkGalleryIsAuthorizedToMove())
        },
        checkGalleryIsAuthorizedToMove() {
            this.$nextTick( () => {
                const t = this.$refs["structure-gallery"];
                typeof t > "u" || (this.galleryOffsetWidth = t.offsetWidth,
                this.galleryScrollWidth = t.scrollWidth)
            }
            )
        },
        reset() {
            this.scrollGalleryTo(0),
            this.galleryDragLastPosition = 0,
            this.nbLoadedImages = 0,
            this.galleryOffsetWidth = 0,
            this.galleryScrollLeft = 0,
            this.galleryScrollWidth = 0
        },
        structureItemKey(t) {
            return `${this.structureDetails.taId}-${this.structureDetails.taxonId}-${t}`
        },
        hasBlackBackground(t) {
            return t.background === "000000"
        }
    }
};
var GS = function() {
    var t = this
      , e = t._self._c;
    return e("div", {
        ref: "container",
        staticClass: "structure-gallery"
    }, [e("p", {
        staticClass: "structure-details-section-title"
    }, [t._v(" " + t._s(t.$t("anatomical-parts.gallery.in-this-module")) + " ")]), t.galleryIsAuthorizedToMove ? e("button", {
        ref: "button-see-more",
        staticClass: "button-see",
        on: {
            click: t.seeMore
        }
    }, [t._v(" " + t._s(t.$t("anatomical-parts.see-more")) + " ")]) : t._e(), e("div", {
        staticClass: "structure-gallery-container"
    }, [e("span", {
        directives: [{
            name: "show",
            rawName: "v-show",
            value: t.canMoveToLeft,
            expression: "canMoveToLeft"
        }],
        staticClass: "structure-gallery-arrow structure-gallery-arrow-left select-none",
        on: {
            click: function(i) {
                return t.scrollGallery(!0)
            }
        }
    }, [e("ArrowSubMenuSVG")], 1), e("span", {
        directives: [{
            name: "show",
            rawName: "v-show",
            value: t.canMoveToRight,
            expression: "canMoveToRight"
        }],
        staticClass: "structure-gallery-arrow structure-gallery-arrow-right select-none",
        on: {
            click: function(i) {
                return t.scrollGallery(!1)
            }
        }
    }, [e("ArrowSubMenuSVG")], 1), e("div", {
        ref: "structure-gallery",
        staticClass: "structure-gallery-list",
        on: {
            pointerdown: t.pointerDown,
            scroll: t.updateGalleryPosition
        }
    }, [t._l(t.previewImages, function(i, s) {
        return e("div", {
            key: t.structureItemKey(s),
            staticClass: "structure-gallery-item select-none",
            class: {
                "white-background": !t.hasBlackBackground(i),
                "black-background": t.hasBlackBackground(i)
            },
            on: {
                pointerup: function(r) {
                    return t.clickStructureLocation(i)
                }
            }
        }, [e("img", {
            staticClass: "structure-gallery-item-image",
            attrs: {
                src: i.url,
                alt: i.module_name,
                draggable: "false"
            },
            on: {
                load: t.imageLoaded,
                error: t.imageLoaded
            }
        })])
    }), t.canSeeMoreImages ? e("div", {
        staticClass: "structure-gallery-item see-more-card",
        on: {
            click: t.seeMore
        }
    }, [e("p", [t._v(t._s(t.$t("anatomical-parts.see-more")))])]) : t._e()], 2)])])
}
  , $S = []
  , jS = x(US, GS, $S, !1, null, "eee5ca4c");
const YS = jS.exports
  , Da = 6
  , WS = {
    name: "StructureInOtherModulePreview",
    computed: {
        structureDetails() {
            return this.$store.state["structure-details"]
        },
        structuresLocations() {
            return this.structureDetails.structuresLocations
        },
        structuresNotInCurrentModule() {
            return this.structuresLocations.filter(t => t.imaios_code !== this.currentModule)
        },
        currentModule() {
            return this.$store.getters["anatomy/module_id"]
        },
        uniqueModules() {
            return this.structuresNotInCurrentModule.reduce( (t, e) => (t.has(e.imaios_code) || t.add(e.imaios_code),
            t), new Set)
        },
        previewImages() {
            const t = []
              , e = new Set;
            for (const i of this.structuresNotInCurrentModule)
                if (e.has(i.imaios_code) || (t.push(i),
                e.add(i.imaios_code)),
                t.length === Da)
                    break;
            return t.length === Da && this.canShowMore && t.pop(),
            t
        },
        canShowMore() {
            return this.uniqueModules.size > Da
        }
    },
    methods: {
        seeMore() {
            this.$store.dispatch("structure-in-other-modules-gallery/displayInOtherModuleGallery")
        },
        structureItemKey(t) {
            return `${this.structureDetails.taId}-${this.structureDetails.taxonId}-${t}`
        },
        hasBlackBackground(t) {
            return t.background === "000000"
        }
    }
};
var KS = function() {
    var t = this
      , e = t._self._c;
    return e("div", {
        staticClass: "structure-gallery hr-after"
    }, [e("p", {
        staticClass: "structure-details-section-title"
    }, [t._v(" " + t._s(t.$t("anatomical-parts.gallery.in-other-modules")) + " ")]), e("div", {
        staticClass: "structure-gallery-container"
    }, [t._l(t.previewImages, function(i, s) {
        return e("div", {
            key: t.structureItemKey(s),
            staticClass: "structure-gallery-item select-none",
            class: {
                "white-background": !t.hasBlackBackground(i),
                "black-background": t.hasBlackBackground(i)
            }
        }, [e("a", {
            staticClass: "structure-gallery-item-link",
            attrs: {
                href: i.link,
                target: "_blank"
            }
        }, [e("img", {
            staticClass: "structure-gallery-item-image",
            attrs: {
                alt: i.moduleName,
                src: i.url,
                draggable: "false"
            }
        })])])
    }), t.canShowMore ? e("div", {
        staticClass: "structure-gallery-item select-none see-more-card",
        on: {
            click: t.seeMore
        }
    }, [e("p", [t._v(t._s(t.$t("anatomical-parts.see-more")))])]) : t._e()], 2)])
}
  , ZS = []
  , QS = x(WS, KS, ZS, !1, null, "5ad8d2e0");
const XS = QS.exports;
let ka = {};
const qS = {
    name: "StructureDetails",
    components: {
        StructureInOtherModulePreview: XS,
        StructureInThisModulePreview: YS,
        StructureTranslation: BS,
        StructureTaCompare: PS,
        StructureRelatedTerms: OS,
        StructureHierarchy: TS,
        StructureDefinition: vS
    },
    data() {
        return {
            displayDefaultStructureIcon: !1,
            defaultStructureIconSrc: wh
        }
    },
    computed: {
        structureDetails() {
            return this.$store.state["structure-details"]
        },
        structuresLocations() {
            return this.structureDetails.structuresLocations
        },
        currentModule() {
            return this.$store.getters["anatomy/module_id"]
        },
        isStructureDetailsLoaded() {
            return this.$store.getters["structure-details/isLoaded"]
        },
        hasInThisModuleImages() {
            return this.$store.getters["structure-in-this-module-gallery/nbImages"] > 0
        },
        hasInOtherModulesImages() {
            return this.structuresLocations.some(t => t.imaios_code !== this.currentModule)
        }
    },
    watch: {
        "structureDetails.structureId"() {
            return _(this, null, function*() {
                yield this.fillStructuresLocations()
            })
        }
    },
    created() {
        const {ui: t} = k;
        ka = y.createHooks([{
            on: t.THEME.SWITCH,
            do: ({detail: {theme: e}}) => this.refreshTranslationImage(e)
        }])
    },
    beforeMount() {
        y.onBeforeMount(ka)
    },
    beforeUnmount() {
        y.onBeforeUnmount(ka)
    },
    methods: {
        refreshTranslationImage(t) {
            if (this.structureDetails !== null) {
                let e = this.structureDetails.translationPicture.substring(0, this.structureDetails.translationPicture.length - 1);
                e += (t === Mi.DARK ? 1 : 0).toString(),
                this.structureDetails.translationPicture = e
            }
        },
        hierarchyClick(t) {
            this.$emit("hierarchy-click", t)
        },
        fillStructuresLocations(t=!0) {
            return _(this, null, function*() {
                yield this.$store.dispatch("structure-in-this-module-gallery/fillStructuresLocations", {
                    structureId: this.structureDetails.structureId,
                    imaiosCode: this.currentModule,
                    limited: t
                })
            })
        }
    }
};
var JS = function() {
    var t = this
      , e = t._self._c;
    return t.isStructureDetailsLoaded ? e("div", {
        staticClass: "structure-details"
    }, [e("div", {
        staticClass: "structure-card-container"
    }, [e("p", {
        staticClass: "structure-name"
    }, [e("a", {
        staticClass: "structure-page-link",
        attrs: {
            href: t.structureDetails.structurePageLink,
            target: "_blank"
        }
    }, [t._v(t._s(t.structureDetails.label.current))])]), e("div", {
        staticClass: "structure-card-subtitle"
    }, [e("img", {
        directives: [{
            name: "show",
            rawName: "v-show",
            value: !t.displayDefaultStructureIcon,
            expression: "!displayDefaultStructureIcon"
        }],
        staticClass: "structure-card-icon",
        attrs: {
            src: t.structureDetails.icon,
            alt: "structure-icon"
        },
        on: {
            error: function(i) {
                t.displayDefaultStructureIcon = !0
            }
        }
    }), t.displayDefaultStructureIcon ? e("img", {
        staticClass: "structure-card-icon",
        attrs: {
            src: t.defaultStructureIconSrc,
            alt: "structure-icon"
        }
    }) : t._e(), e("p", {
        staticClass: "structure-card-subtitle-latin"
    }, [t._v(" " + t._s(t.structureDetails.label.latin) + " ")])])]), e("hr", {
        staticClass: "hr-line"
    }), e("structure-definition"), e("structure-related-terms"), t.hasInThisModuleImages ? e("structure-in-this-module-preview") : t._e(), t.hasInOtherModulesImages ? e("structure-in-other-module-preview") : t._e(), e("structure-hierarchy", {
        on: {
            "hierarchy-click": t.hierarchyClick
        }
    }), e("structure-ta-compare"), e("structure-translation")], 1) : t._e()
}
  , eT = []
  , tT = x(qS, JS, eT, !1, null, "c671a7d9");
const iT = tT.exports
  , sT = {
    name: "GalleryFilters",
    props: {
        structuresLocations: {
            type: Array,
            required: !0
        }
    },
    computed: {
        numberOfSeries() {
            return this.structuresLocations.filter(t => t.series_name !== "").length
        },
        hasMultipleSeries() {
            return this.numberOfSeries > 1
        },
        totalSlices() {
            return this.$store.getters["structure-in-this-module-gallery/nbImages"]
        },
        selectedSeries() {
            return this.$store.state["structure-in-this-module-gallery"].selectedSeries
        }
    },
    methods: {
        clickOnFilter(t) {
            this.$store.dispatch("structure-in-this-module-gallery/selectSeries", t)
        },
        isSelectedSeries(t) {
            return this.selectedSeries === t
        }
    }
};
var rT = function() {
    var t = this
      , e = t._self._c;
    return t.hasMultipleSeries ? e("div", {
        staticClass: "structure-details-gallery-chips-container"
    }, [e("button", {
        staticClass: "structure-chips",
        class: {
            selected: t.isSelectedSeries(-1)
        },
        on: {
            click: function(i) {
                return t.clickOnFilter(-1)
            }
        }
    }, [e("span", {
        staticClass: "series-name"
    }, [t._v(" " + t._s(t.$t("anatomical-parts.gallery.all"))), e("span", {
        staticClass: "nb-images"
    }, [t._v("(" + t._s(t.totalSlices) + ")")])])]), t._l(t.structuresLocations, function(i) {
        return e("button", {
            key: i.series_id,
            staticClass: "structure-chips",
            class: {
                selected: t.isSelectedSeries(i.series_id)
            },
            on: {
                click: function(s) {
                    return t.clickOnFilter(i.series_id)
                }
            }
        }, [e("span", {
            staticClass: "series-name"
        }, [t._v(" " + t._s(i.series_name) + " "), e("span", {
            staticClass: "nb-images"
        }, [t._v("(" + t._s(i.nb_images) + ")")])])])
    })], 2) : t._e()
}
  , nT = []
  , aT = x(sT, rT, nT, !1, null, "6b629d31");
const oT = aT.exports
  , lT = {
    name: "gallery-image",
    props: {
        background: {
            type: String,
            required: !0
        },
        url: {
            type: String,
            required: !0
        },
        alt: {
            type: String,
            required: !1
        }
    }
};
var cT = function() {
    var t = this
      , e = t._self._c;
    return e("figure", {
        directives: [{
            name: "lazy-load-image",
            rawName: "v-lazy-load-image"
        }],
        staticClass: "structure-details-gallery-image__wrapper",
        style: {
            background: `#${t.background}`
        }
    }, [e("div", {
        staticClass: "structure-details-gallery-image__loader"
    }), e("img", {
        staticClass: "structure-details-gallery-image__item",
        attrs: {
            "data-url": t.url,
            alt: t.alt
        }
    })])
}
  , uT = []
  , dT = x(lT, cT, uT, !1, null, "ee24ec43");
const lp = dT.exports
  , hT = {
    name: "GalleryTopBar",
    components: {
        CloseSVG: ts
    },
    props: {
        title: {
            type: String,
            required: !0
        }
    },
    methods: {
        close() {
            this.$emit("close")
        }
    }
};
var pT = function() {
    var t = this
      , e = t._self._c;
    return e("div", {
        staticClass: "structure-details-gallery-top-bar"
    }, [e("p", [t._v(t._s(t.title))]), e("button", {
        on: {
            click: t.close
        }
    }, [e("CloseSVG")], 1)])
}
  , mT = []
  , gT = x(hT, pT, mT, !1, null, "a875a6b5");
const cp = gT.exports
  , fT = {
    name: "structure-in-this-module-gallery",
    components: {
        GalleryTopBar: cp,
        GalleryImage: lp,
        GalleryFilters: oT
    },
    computed: {
        structuresLocations() {
            return this.$store.state["structure-in-this-module-gallery"].structuresLocations
        },
        selectedSeries() {
            return this.$store.state["structure-in-this-module-gallery"].selectedSeries
        },
        structureId() {
            return this.$store.state["structure-details"].structureId
        },
        hasStructureLocations() {
            return this.structuresLocations.length > 0
        }
    },
    methods: {
        clickButtonClose() {
            this.$store.dispatch("structure-in-this-module-gallery/closeGallery")
        },
        isSeriesSelected(t) {
            return this.selectedSeries === -1 || this.selectedSeries === t
        },
        isolateStructure(t) {
            y.emit(k.gallery.IN_THIS_MODULE.CLICK_IMAGE, {
                sliceIndex: t,
                structureId: this.structureId
            })
        }
    }
};
var vT = function() {
    var t = this
      , e = t._self._c;
    return t.hasStructureLocations ? e("div", {
        staticClass: "structure-details-gallery"
    }, [e("gallery-top-bar", {
        attrs: {
            title: t.$t("anatomical-parts.gallery.in-this-module")
        },
        on: {
            close: t.clickButtonClose
        }
    }), e("gallery-filters", {
        attrs: {
            "structures-locations": t.structuresLocations
        }
    }), e("div", {
        staticClass: "structure-details-gallery-list-images"
    }, [t._l(t.structuresLocations, function(i) {
        return t._l(i.slices, function(s) {
            return e("div", {
                directives: [{
                    name: "show",
                    rawName: "v-show",
                    value: t.isSeriesSelected(i.series_id),
                    expression: "isSeriesSelected(structuresLocation.series_id)"
                }],
                key: s.url,
                staticClass: "structure-details-gallery-image-container",
                on: {
                    click: function(r) {
                        return t.isolateStructure(s.index)
                    }
                }
            }, [e("gallery-image", {
                attrs: {
                    background: i.background,
                    url: s.url
                }
            })], 1)
        })
    })], 2)], 1) : t._e()
}
  , yT = []
  , ET = x(fT, vT, yT, !1, null, "c30a0d38");
const IT = ET.exports
  , CT = {
    name: "structure-in-other-module-gallery",
    components: {
        GalleryTopBar: cp,
        GalleryImage: lp
    },
    computed: {
        modulesExcludingCurrent() {
            return this.$store.getters["structure-in-other-modules-gallery/getModulesExcludingCurrent"]
        },
        hasStructureLocations() {
            return this.modulesExcludingCurrent.length > 0
        }
    },
    methods: {
        clickButtonClose() {
            this.$store.dispatch("structure-in-other-modules-gallery/closeGallery")
        }
    }
};
var bT = function() {
    var t = this
      , e = t._self._c;
    return t.hasStructureLocations ? e("div", {
        staticClass: "structure-details-gallery"
    }, [e("gallery-top-bar", {
        attrs: {
            title: t.$t("anatomical-parts.gallery.in-other-modules")
        },
        on: {
            close: t.clickButtonClose
        }
    }), e("div", {
        staticClass: "structure-details-gallery-list-images"
    }, t._l(t.modulesExcludingCurrent, function({id: i, background: s, url: r, link: n}) {
        return e("div", {
            key: i,
            staticClass: "structure-details-gallery-image-container"
        }, [e("a", {
            staticClass: "structure-details-gallery-image-link",
            attrs: {
                href: n,
                target: "_blank"
            }
        }, [e("gallery-image", {
            attrs: {
                background: s,
                url: r
            }
        })], 1)])
    }), 0)], 1) : t._e()
}
  , ST = []
  , TT = x(CT, bT, ST, !1, null, "fac40b63");
const AT = TT.exports;
let Ha = {};
const wT = {
    name: "PanelStructure",
    components: {
        StructureInOtherModuleGallery: AT,
        StructureInThisModuleGallery: IT,
        StructureDetails: iT,
        LoaderCube: _l,
        CloseSVG: ts,
        SelectSVG: nS,
        HideStructureSVG: eS,
        ShowStructureSVG: uS,
        MoreSVG: Zb,
        LockSVG: sp,
        UnlockSVG: rp
    },
    directives: {
        ClickOutside: Ft
    },
    inject: ["container", "viewer"],
    data() {
        return {
            isOpen: !1,
            isStructureLoading: !0,
            url: "",
            isPinned: !1,
            optionIsActive: !1,
            structure: null,
            filter_id: null,
            crossReferencesPanelWasOpen: !1,
            urlGallery: "",
            structurePanelIsScrolled: !1,
            oldSize: null,
            structureDetailsGallery: null,
            stopLoadingAfterRequest: !1
        }
    },
    computed: {
        isGalleryLoading() {
            return this.$store.state["structure-in-this-module-gallery"].isLoading
        },
        displayGallery() {
            return this.$store.state["structure-in-this-module-gallery"].display
        },
        displayInOtherModuleGallery() {
            return this.$store.state["structure-in-other-modules-gallery"].display
        },
        structureName() {
            var t;
            return ((t = this.structure) == null ? void 0 : t.name) || ""
        },
        filterName() {
            return this.$store.getters["anatomy/filterById"](this.filter_id).name || ""
        },
        isLargeTabletScreen() {
            return y.isLargeTabletScreen() && !this.isTabletScreen
        },
        isTabletScreen() {
            return y.isTabletScreen()
        },
        structureDetails() {
            return this.$store.state["structure-details"]
        },
        inThisModuleImagesLoaded() {
            return this.$store.getters["structure-in-this-module-gallery/allPreviewImagesLoaded"]
        },
        showPanelLoader() {
            return this.isStructureLoading || !this.inThisModuleImagesLoaded
        },
        shouldTogglePinPanel() {
            return this.isOpen && !this.isPinned && !this.isTabletScreen
        },
        shouldUnpinPanel() {
            return this.isPinned && this.isTabletScreen
        },
        supportEmail() {
            return _h.WORLD
        }
    },
    created() {
        const {structure: t, ui: e, language: i, gallery: s} = k;
        Ha = y.createHooks([{
            on: e.VIEWER.HAS_BEEN_RESIZED,
            do: () => this.resize()
        }, {
            on: t.CLICK,
            do: r => {
                var n, a;
                if (this.$store.getters["anatomy/hasModuleAccess"]() === !0) {
                    if (!((n = r == null ? void 0 : r.detail) != null && n.point) || !((a = r == null ? void 0 : r.detail) != null && a.structure))
                        return;
                    const o = {
                        isAuthorizedToOpen: !0,
                        point_id: r.detail.point.id
                    };
                    this.$store.dispatch("anatomy/application:panel-structure-open", o),
                    o.isAuthorizedToOpen && ((this.structure === null || this.structure.ta_id !== r.detail.structure.ta_id || this.structure.taxon_id !== r.detail.structure.taxon_id) && (this.filter_id = r.detail.point.filter_id,
                    this.structure = r.detail.structure,
                    this.fillStructure()),
                    this.$store.dispatch("core-context-menu/perform:select-structure", {
                        structure_id: this.structure.id,
                        preferredTaxonKey: this.structure.getTaxonKey(),
                        source: nt.CLICK
                    }),
                    this.isOpen || this.open())
                } else
                    this.$store.dispatch("menu/feature-premium:display")
            }
        }, {
            on: i.CHANGE,
            do: () => this.refreshPanelState()
        }, {
            on: s.IN_THIS_MODULE.CLICK_IMAGE,
            do: ({detail: {sliceIndex: r}}) => this.isolateStructure(r)
        }])
    },
    beforeMount() {
        y.onBeforeMount(Ha)
    },
    beforeUnmount() {
        y.onBeforeUnmount(Ha),
        this.close()
    },
    methods: {
        getSizePanel() {
            return this.$refs["panel-structure"].offsetWidth
        },
        onStructurePanelScroll() {
            var t;
            this.structurePanelIsScrolled = ((t = this.$refs.panel) == null ? void 0 : t.scrollTop) !== 0
        },
        textFilter() {
            return this.filterIsSelect() ? this.$t("panel-structure.list-actions.unselect") : this.$t("panel-structure.list-actions.select")
        },
        textIsolate() {
            return this.isIsolate() ? this.$t("panel-structure.list-actions.cancel_isolate") : this.$t("panel-structure.list-actions.isolate")
        },
        textBlacklistStructure() {
            return this.structureIsBlackListed() ? this.$t("panel-structure.list-actions.display") : this.$t("panel-structure.list-actions.hide")
        },
        filterIsSelect() {
            return this.$store.getters["anatomy/isOnlyOneFilterSelected"](this.filter_id)
        },
        structureIsBlackListed() {
            return this.$store.getters["anatomy/isBlacklistedStructure"](this.structure.id)
        },
        isIsolate() {
            return this.$store.getters["anatomy/getIsolateStructureId"]() === this.structure.id
        },
        open() {
            this.$store.dispatch("menu/structure-panel:toggle", this.structure.getTaxonKey()),
            this.$store.getters["menu/displayCrossReferencesPanel"].display && (this.crossReferencesPanelWasOpen = !0,
            this.$store.dispatch("menu/cross-references:toggle", !1)),
            this.isOpen = !0,
            this.togglePinPanel()
        },
        close() {
            this.$store.dispatch("menu/structure-panel:toggle"),
            this.crossReferencesPanelWasOpen && !this.$store.getters["menu/displayCrossReferencesPanel"].display && this.$store.dispatch("menu/cross-references:toggle"),
            this.isOpen = !1,
            this.$store.dispatch("structure-in-this-module-gallery/closeGallery"),
            this.$store.dispatch("structure-in-other-modules-gallery/closeGallery"),
            this.togglePinPanel()
        },
        togglePinPanel() {
            if (this.isTabletScreen && !this.isPinned)
                return;
            this.isPinned = !this.isPinned;
            let t = this.$store.getters["viewer/viewer-offset-size"]
              , e = this.$store.getters["viewer/container-margin-left"];
            const i = this.getSizePanel();
            this.isPinned ? (t += i,
            e += i,
            this.oldSize = i) : (t -= this.oldSize,
            e -= this.oldSize),
            this.$store.dispatch("viewer/viewer:set-offset-size", t),
            this.$store.dispatch("viewer/container:set-margin", {
                marginLeft: e
            }),
            this.$store.dispatch("viewer/container:set-size", {
                width: this.$store.getters["viewer/container-width"] + (this.isPinned ? -i : this.oldSize)
            })
        },
        clickOption() {
            this.optionIsActive = !this.optionIsActive
        },
        closeOption() {
            this.optionIsActive = !1
        },
        toggleFilter() {
            this.filterIsSelect() ? this.$store.dispatch("core-context-menu/perform:blur-filter") : (this.$store.dispatch("core-context-menu/perform:focus-filter", {
                filter_id: this.filter_id,
                taxonKey: this.structure.getTaxonKey(),
                source: nt.STRUCTURE_DETAILS
            }),
            this.$store.dispatch("anatomy/send-notification", k.ui.PANEL_STRUCTURE.SELECT)),
            this.$forceUpdate()
        },
        clickIsolate() {
            this.isIsolate() ? this.$store.dispatch("core-context-menu/perform:clear-isolate-structure") : (this.$store.dispatch("core-context-menu/perform:isolate-structure", {
                structure_id: this.structure.id,
                preferredTaxonKey: this.structure.getTaxonKey(),
                source: nt.STRUCTURE_DETAILS
            }),
            this.$store.dispatch("anatomy/send-notification", k.ui.PANEL_STRUCTURE.ISOLATE)),
            this.$forceUpdate()
        },
        toggleBlacklistStructure() {
            this.structureIsBlackListed() ? this.$store.dispatch("anatomy/structure:whitelist", this.structure.id) : (this.$store.dispatch("anatomy/structure:blacklist", {
                structure_id: this.structure.id,
                source: nt.STRUCTURE_DETAILS
            }),
            this.$store.dispatch("anatomy/send-notification", k.ui.PANEL_STRUCTURE.HIDE)),
            this.$forceUpdate()
        },
        updateGalleryContainerStyle() {
            const t = this.$refs["in-this-module-gallery-container"].style
              , e = this.$refs["in-other-modules-gallery-container"].style;
            if (this.isTabletScreen)
                t.width = "",
                t.marginLeft = "",
                e.width = "",
                e.marginLeft = "";
            else {
                const i = this.$store.getters["viewer/viewer-width"] - this.$store.getters["viewer/container-margin-left"];
                t.width = `${i}px`,
                t.marginLeft = `${this.getSizePanel()}px`,
                e.width = `${i}px`,
                e.marginLeft = `${this.getSizePanel()}px`
            }
        },
        togglePinPanelIfNeeded() {
            (this.shouldTogglePinPanel || this.shouldUnpinPanel) && this.$nextTick(this.togglePinPanel)
        },
        resize() {
            this.togglePinPanelIfNeeded(),
            this.updateGalleryContainerStyle()
        },
        startStructureLoading() {
            var e;
            const t = (e = this.$refs.panel) != null ? e : null;
            t !== null && (Se.isIE() ? t.scrollTop = 0 : t.scrollTo(0, 0)),
            this.isStructureLoading = !0
        },
        stopStructureLoading() {
            this.isStructureLoading = !1
        },
        refreshPanelState() {
            this.stopLoadingAfterRequest = !0,
            this.fillStructure()
        },
        fillStructure(t=null) {
            this.structure !== null && t === null && (t = this.structure.id),
            t !== null && (this.startStructureLoading(),
            this.$store.dispatch("structure-details/fill-structure", t).then( () => this.stopStructureLoading()).catch(e => {
                this.structure = null,
                this.close(),
                y.sendCoreError(e),
                this.$store.dispatch("dialog-popup/display", {
                    title: this.$t("error.title"),
                    message: this.$t("error.commons", {
                        errorCode: Ao.STRUCTURE_DETAILS,
                        email: this.supportEmail
                    })
                })
            }
            ))
        },
        hierarchyClick({structure_id: t}) {
            try {
                this.structure = this.$store.getters["anatomy/structureWithPointsByStructureId"](t)
            } catch (e) {
                this.structure = null
            }
            this.fillStructure(t)
        },
        isolateStructure(t) {
            this.$store.dispatch("structure-in-this-module-gallery/closeGallery"),
            this.$store.dispatch("structure-in-other-modules-gallery/closeGallery"),
            this.$store.dispatch("core-context-menu/perform:clear-isolate-structure"),
            this.$store.dispatch("anatomy/slice:set", {
                sliceIndex: t
            }),
            this.$store.dispatch("core-context-menu/perform:isolate-structure", {
                structure_id: this.structureDetails.structureId,
                source: nt.STRUCTURE_DETAILS_GALLERY
            })
        }
    }
};
var _T = function() {
    var t = this
      , e = t._self._c;
    return e("div", {
        ref: "panel-structure",
        staticClass: "panel-structure",
        class: {
            open: t.isOpen,
            pinned: t.isPinned,
            "tablet-screen": t.isTabletScreen,
            "large-tablet-screen": t.isLargeTabletScreen
        }
    }, [e("div", {
        ref: "panel",
        staticClass: "panel-container",
        class: {
            "no-scroll": t.showPanelLoader
        },
        on: {
            scroll: t.onStructurePanelScroll
        }
    }, [e("div", {
        ref: "button-container",
        staticClass: "button-container",
        class: {
            fixed: t.structurePanelIsScrolled
        }
    }, [t.structure !== null ? e("button", {
        staticClass: "button-panel-more",
        class: {
            active: t.optionIsActive,
            fixed: t.structurePanelIsScrolled
        },
        on: {
            click: t.clickOption
        }
    }, [e("MoreSVG")], 1) : t._e(), e("button", {
        staticClass: "button-panel-close",
        class: {
            fixed: t.structurePanelIsScrolled
        },
        on: {
            click: t.close
        }
    }, [e("CloseSVG")], 1), t.optionIsActive ? e("div", {
        directives: [{
            name: "click-outside",
            rawName: "v-click-outside",
            value: t.closeOption,
            expression: "closeOption"
        }],
        staticClass: "option-context-menu"
    }, [e("p", {
        staticClass: "title-option ellipsis",
        attrs: {
            title: t.structureName
        }
    }, [t._v(" " + t._s(t.structureName) + " ")]), e("ul", {
        staticClass: "list-actions"
    }, [e("li", {
        staticClass: "action-item",
        on: {
            click: t.clickIsolate
        }
    }, [t.isIsolate() ? e("UnlockSVG") : e("LockSVG"), e("span", {
        staticClass: "text"
    }, [t._v(t._s(t.textIsolate()))])], 1), e("li", {
        staticClass: "action-item",
        class: {
            disabled: t.isIsolate()
        },
        on: {
            click: t.toggleBlacklistStructure
        }
    }, [t.structureIsBlackListed() ? e("ShowStructureSVG") : t._e(), t.structureIsBlackListed() ? t._e() : e("HideStructureSVG"), e("span", {
        staticClass: "text"
    }, [t._v(t._s(t.textBlacklistStructure()))])], 1)]), e("hr", {
        staticClass: "separator"
    }), e("p", {
        staticClass: "title-option ellipsis",
        attrs: {
            title: t.filterName
        }
    }, [t._v(" " + t._s(t.filterName) + " ")]), e("ul", {
        staticClass: "list-actions"
    }, [e("li", {
        staticClass: "action-item",
        on: {
            click: t.toggleFilter
        }
    }, [e("SelectSVG"), e("span", {
        staticClass: "text"
    }, [t._v(t._s(t.textFilter()))])], 1)])]) : t._e()]), t.showPanelLoader ? e("div", {
        staticClass: "loader"
    }, [e("LoaderCube", {
        staticStyle: {
            "margin-top": "50%"
        }
    })], 1) : t._e(), e("structure-details", {
        on: {
            "hierarchy-click": t.hierarchyClick
        }
    })], 1), e("div", {
        directives: [{
            name: "show",
            rawName: "v-show",
            value: t.displayGallery,
            expression: "displayGallery"
        }],
        ref: "in-this-module-gallery-container",
        staticClass: "gallery-container"
    }, [t.isGalleryLoading ? e("div", {
        staticClass: "loader"
    }, [e("LoaderCube", {
        staticStyle: {
            "margin-top": "50%"
        }
    })], 1) : t._e(), e("structure-in-this-module-gallery")], 1), e("div", {
        directives: [{
            name: "show",
            rawName: "v-show",
            value: t.displayInOtherModuleGallery,
            expression: "displayInOtherModuleGallery"
        }],
        ref: "in-other-modules-gallery-container",
        staticClass: "gallery-container"
    }, [e("structure-in-other-module-gallery")], 1)])
}
  , LT = []
  , OT = x(wT, _T, LT, !1, null, "10c9e8d0");
const xT = OT.exports
  , MT = {
    name: "ToolButton",
    props: {
        icon: Object,
        isPressed: {
            type: Boolean,
            default: !1
        },
        title: {
            type: String,
            default: ""
        },
        shortcut: {
            type: String,
            default: ""
        }
    },
    emits: ["click"],
    computed: {
        shortcutText() {
            return this.shortcut ? ` (${this.shortcut})` : ""
        },
        buttonTitle() {
            return `${this.title}${this.shortcutText}`
        }
    },
    methods: {
        handleClick() {
            this.$emit("click")
        }
    }
};
var NT = function() {
    var t = this
      , e = t._self._c;
    return e("button", {
        staticClass: "tool-button",
        attrs: {
            "aria-pressed": t.isPressed,
            title: t.buttonTitle
        },
        on: {
            click: t.handleClick
        }
    }, [e(t.icon, {
        tag: "component",
        staticClass: "icon"
    })], 1)
}
  , RT = []
  , PT = x(MT, NT, RT, !1, null, "fa0ff38a");
const DT = PT.exports
  , kT = {
    name: "MenuToggle",
    components: {
        ToolButton: DT
    },
    computed: {
        MenuSVG() {
            return Oh
        }
    },
    methods: {
        toggleMenu() {
            this.$store.dispatch("menu/menu:toggle")
        }
    }
};
var HT = function() {
    var t = this
      , e = t._self._c;
    return e("div", {
        staticClass: "menu-toggle"
    }, [e("ToolButton", {
        attrs: {
            icon: t.MenuSVG
        },
        on: {
            click: t.toggleMenu
        }
    })], 1)
}
  , zT = []
  , BT = x(kT, HT, zT, !1, null, "c23b3d27");
const FT = BT.exports;
let za = {};
const VT = {
    name: "CounterSlice",
    components: {
        RightArrowSVG: op,
        LeftArrowSVG: ap
    },
    inject: ["container"],
    data() {
        return {
            inputIsHidden: !0,
            mousedownID: -1,
            timeoutMouseDown: -1,
            keydownSinceFocus: !1
        }
    },
    computed: {
        indexOfCurrentSlice() {
            return this.$store.getters["anatomy/indexCurrentSlice"]
        },
        numberOfSlices() {
            return this.$store.getters["anatomy/numberOfSlices"]
        },
        isMobileOrTablet() {
            return Se.isMobileOrTablet()
        },
        isDesktopScreen() {
            return y.isDesktopScreen()
        }
    },
    watch: {
        indexOfCurrentSlice: function() {
            y.forceRedrawSafari(this.$refs["text-number-slice"])
        }
    },
    methods: {
        showInput() {
            this.isMobileOrTablet || (this.inputIsHidden = !1,
            this.$refs.inputNumberSlice.value = this.indexOfCurrentSlice + "/" + this.numberOfSlices,
            this.$refs.inputNumberSlice.selectionEnd = this.indexOfCurrentSlice.toString().length,
            this.$refs.inputNumberSlice.focus())
        },
        hideInput() {
            this.inputIsHidden = !0
        },
        changeSlice(t=!0) {
            if (!this.inputIsHidden) {
                const e = this.parseInputValue();
                !/\D+/gm.test(e) && this.indexOfCurrentSlice !== parseInt(e) && this.$store.dispatch("anatomy/slice:set", {
                    sliceIndex: parseInt(e),
                    placement: W.SLICE_COUNTER
                }),
                t && this.hideInput()
            }
        },
        earnFocus(t) {
            this.keydownSinceFocus = !1,
            t.target.select()
        },
        debounceChangeSlice() {
            this.changeSlice(!1);
            const t = this.$refs.inputNumberSlice
              , e = /\D/gm;
            e.test(t.value.replace("/", "")) && (t.value = t.value.replace(e, "")),
            t.value.includes("/" + this.numberOfSlices) || (t.value.includes("/") ? this.setInputValue(this.parseInputValue()) : this.keydownSinceFocus ? this.setInputValue(t.value.substring(0, t.value.indexOf(this.numberOfSlices))) : (this.setInputValue(t.value),
            this.keydownSinceFocus = !0)),
            this.parseInputValue() > this.numberOfSlices ? this.setInputValue(this.numberOfSlices) : this.parseInputValue() < 1 && this.setInputValue(1),
            t.selectionEnd = this.parseInputValue().length
        },
        keyDownChangeSlice(t) {
            t.key === "Enter" && this.changeSlice()
        },
        goToNextSlice() {
            this.$store.dispatch("anatomy/slice:next")
        },
        eventClick(t=!1) {
            t ? this.goToPreviousSlice() : this.goToNextSlice()
        },
        goToPreviousSlice() {
            this.$store.dispatch("anatomy/slice:previous")
        },
        mouseDownSlice(t=!1) {
            this.timeoutMouseDown === -1 && this.mousedownID === -1 && (this.timeoutMouseDown = setTimeout( () => {
                this.mousedownID = setInterval( () => {
                    this.eventClick(t)
                }
                , 50)
            }
            , 200))
        },
        mouseUp() {
            this.mousedownID !== -1 && (clearInterval(this.mousedownID),
            this.mousedownID = -1),
            clearTimeout(this.timeoutMouseDown),
            this.timeoutMouseDown = -1
        },
        parseInputValue() {
            return this.$refs.inputNumberSlice.value.split("/")[0]
        },
        setInputValue(t) {
            this.$refs.inputNumberSlice.value = t + "/" + this.numberOfSlices
        }
    },
    created() {
        za = y.createHooks([{
            on: "mouseup",
            do: () => this.mouseUp(),
            target: window
        }, {
            on: "touchend",
            do: () => this.mouseUp(),
            target: window
        }])
    },
    beforeMount() {
        y.onBeforeMount(za)
    },
    beforeDestroy() {
        y.onBeforeUnmount(za)
    }
};
var UT = function() {
    var t = this
      , e = t._self._c;
    return e("div", {
        ref: "counterContainer",
        staticClass: "counterContainer",
        class: {
            "desktop-screen": t.isDesktopScreen
        }
    }, [e("div", {
        staticClass: "icon",
        class: {
            "select-none": t.isMobileOrTablet
        },
        on: {
            click: t.goToPreviousSlice,
            mousedown: function(i) {
                return t.mouseDownSlice(!0)
            },
            touchstart: function(i) {
                return t.mouseDownSlice(!0)
            }
        }
    }, [e("LeftArrowSVG")], 1), e("p", {
        ref: "text-number-slice",
        staticClass: "number-of-slices",
        class: {
            isHidden: !t.inputIsHidden,
            "select-none": t.isMobileOrTablet
        },
        on: {
            click: t.showInput
        }
    }, [t._v(" " + t._s(t.indexOfCurrentSlice) + "/" + t._s(t.numberOfSlices) + " ")]), e("input", {
        ref: "inputNumberSlice",
        staticClass: "input-slice",
        class: {
            isHidden: t.inputIsHidden
        },
        attrs: {
            type: "text"
        },
        on: {
            focusout: function(i) {
                return t.changeSlice(!0)
            },
            focus: t.earnFocus,
            input: t.debounceChangeSlice,
            keydown: t.keyDownChangeSlice
        }
    }), e("div", {
        staticClass: "icon",
        class: {
            "select-none": t.isMobileOrTablet
        },
        on: {
            click: t.goToNextSlice,
            mousedown: function(i) {
                return t.mouseDownSlice(!1)
            },
            touchstart: function(i) {
                return t.mouseDownSlice(!1)
            }
        }
    }, [e("RightArrowSVG", {
        ref: "right-arrow"
    })], 1)])
}
  , GT = []
  , $T = x(VT, UT, GT, !1, null, "436a3038");
const jT = $T.exports
  , YT = {
    name: "FullscreenSVG"
};
var WT = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M14.5 3.75C14.5 3.33579 14.8358 3 15.25 3H18.25C19.7688 3 21 4.23122 21 5.75V8.74939C21 9.16361 20.6642 9.49939 20.25 9.49939C19.8358 9.49939 19.5 9.16361 19.5 8.74939V5.75C19.5 5.05964 18.9404 4.5 18.25 4.5H15.25C14.8358 4.5 14.5 4.16421 14.5 3.75Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M5.75 4.5C5.05964 4.5 4.5 5.05964 4.5 5.75V8.75C4.5 9.16421 4.16421 9.5 3.75 9.5C3.33579 9.5 3 9.16421 3 8.75V5.75C3 4.23122 4.23122 3 5.75 3H8.75061C9.16482 3 9.50061 3.33579 9.50061 3.75C9.50061 4.16421 9.16482 4.5 8.75061 4.5H5.75Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M14.5 20.2812C14.5 20.6955 14.8358 21.0312 15.25 21.0312H18.25C19.7688 21.0312 21 19.8 21 18.2812V15.2819C21 14.8676 20.6642 14.5319 20.25 14.5319C19.8358 14.5319 19.5 14.8676 19.5 15.2819V18.2812C19.5 18.9716 18.9404 19.5312 18.25 19.5312H15.25C14.8358 19.5312 14.5 19.867 14.5 20.2812Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M5.75 19.5312C5.05964 19.5312 4.5 18.9716 4.5 18.2812V15.2812C4.5 14.867 4.16421 14.5312 3.75 14.5312C3.33579 14.5312 3 14.867 3 15.2812V18.2812C3 19.8 4.23122 21.0312 5.75 21.0312H8.75061C9.16482 21.0312 9.50061 20.6955 9.50061 20.2812C9.50061 19.867 9.16482 19.5312 8.75061 19.5312H5.75Z",
            fill: "black"
        }
    })])
}
  , KT = []
  , ZT = x(YT, WT, KT, !1, null, "76c5ebe4");
const QT = ZT.exports
  , XT = {
    name: "FullscreenExitSVG"
};
var qT = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M21 8.74939C21 9.16361 20.6642 9.49939 20.25 9.49939H17.25C15.7312 9.49939 14.5 8.26818 14.5 6.74939V3.75C14.5 3.33579 14.8358 3 15.25 3C15.6642 3 16 3.33579 16 3.75V6.74939C16 7.43975 16.5596 7.99939 17.25 7.99939H20.25C20.6642 7.99939 21 8.33518 21 8.74939Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M6.75061 8C7.44096 8 8.00061 7.44036 8.00061 6.75V3.75C8.00061 3.33579 8.33639 3 8.75061 3C9.16482 3 9.50061 3.33579 9.50061 3.75V6.75C9.50061 8.26879 8.26939 9.5 6.75061 9.5H3.75C3.33579 9.5 3 9.16422 3 8.75C3 8.33579 3.33579 8 3.75 8H6.75061Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M21 15.2819C21 14.8677 20.6642 14.5319 20.25 14.5319H17.25C15.7312 14.5319 14.5 15.7631 14.5 17.2819V20.2813C14.5 20.6955 14.8358 21.0313 15.25 21.0313C15.6642 21.0313 16 20.6955 16 20.2813V17.2819C16 16.5915 16.5596 16.0319 17.25 16.0319H20.25C20.6642 16.0319 21 15.6961 21 15.2819Z",
            fill: "black"
        }
    }), e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M6.75061 16.0313C7.44096 16.0313 8.00061 16.5909 8.00061 17.2813V20.2813C8.00061 20.6955 8.33639 21.0313 8.75061 21.0313C9.16482 21.0313 9.50061 20.6955 9.50061 20.2813V17.2813C9.50061 15.7625 8.26939 14.5313 6.75061 14.5313H3.75C3.33579 14.5313 3 14.867 3 15.2813C3 15.6955 3.33579 16.0313 3.75 16.0313H6.75061Z",
            fill: "black"
        }
    })])
}
  , JT = []
  , e5 = x(XT, qT, JT, !1, null, "3d4e35b5");
const t5 = e5.exports;
let Ba = {};
const i5 = {
    name: "FullscreenButton",
    data() {
        return {
            fullscreen: !1
        }
    },
    components: {
        FullscreenExitSVG: t5,
        FullscreenSVG: QT
    },
    computed: {
        isDesktopScreen() {
            return y.isDesktopScreen()
        }
    },
    methods: {
        toggleFullscreen() {
            this.$store.dispatch("anatomy/viewer:toggleFullscreen")
        }
    },
    created() {
        const {application: t} = k;
        Ba = y.createHooks([{
            on: t.RESIZED,
            do: () => _(this, null, function*() {
                return this.fullscreen = yield this.$store.dispatch("anatomy/fullscreen:get")
            })
        }])
    },
    beforeMount() {
        y.onBeforeMount(Ba)
    },
    beforeDestroy() {
        y.onBeforeUnmount(Ba)
    }
};
var s5 = function() {
    var t = this
      , e = t._self._c;
    return e("div", {
        ref: "buttonContainer",
        staticClass: "button-container-screen",
        class: {
            "desktop-screen": t.isDesktopScreen
        }
    }, [e("button", {
        staticClass: "button-fullscreen",
        attrs: {
            title: `${t.$t("keyboard-panel.fullscreen")} (F)`
        },
        on: {
            click: t.toggleFullscreen
        }
    }, [t.fullscreen ? t._e() : e("FullscreenSVG"), t.fullscreen ? e("FullscreenExitSVG") : t._e()], 1)])
}
  , r5 = []
  , n5 = x(i5, s5, r5, !1, null, "469952f3");
const a5 = n5.exports;
let Fa = {};
const o5 = {
    name: "image-progress-bar",
    props: {
        halfSizeThumbnail: 0
    },
    data() {
        return {
            currentDisplayedIndex: [],
            isLoading: !0,
            lastContrastCode: null
        }
    },
    computed: {
        images() {
            return this.$store.state.image.images
        },
        isReady() {
            return this.$store.state.anatomy.isReady
        },
        isZipMode() {
            return y.isZipMode()
        },
        isDisplayed() {
            return t => typeof this.currentDisplayedIndex[t] < "u"
        },
        numberOfSlices() {
            return this.$store.getters["anatomy/numberOfSlices"]
        }
    },
    methods: {
        checkIsLoading() {
            let t = !1;
            for (let e = 0; e < this.images.size; e++)
                typeof this.currentDisplayedIndex[e] < "u" && this.images.get(e) === !1 && (t = !0);
            this.isLoading = t
        },
        updateSizeProgressBar(t) {
            this.$nextTick( () => {
                if (typeof this.$refs["progress-bar"] < "u") {
                    const e = this.$refs["progress-bar"].children;
                    t !== 0 && e.length > 0 && (e[0].style.minWidth = t + "px",
                    e[this.numberOfSlices - 1].style.minWidth = t + "px")
                }
            }
            )
        },
        redraw() {
            this.checkIsLoading(),
            this.$forceUpdate()
        }
    },
    created() {
        let t = null;
        const e = y.throttle( () => {
            this.redraw(),
            clearTimeout(t),
            t = setTimeout( () => {
                this.redraw()
            }
            , 600)
        }
        , 500)
          , {application: i, slice: s, image: r, contrast: n} = k
          , a = y.debounce( () => this.updateSizeProgressBar(), 300);
        Fa = y.createHooks([{
            on: "resize",
            do: a,
            target: window
        }, {
            on: i.READY,
            do: () => this.$store.dispatch("image/set-images", this.numberOfSlices)
        }, {
            on: s.SLICE_INDEX_CHANGE,
            do: () => {
                this.currentDisplayedIndex = this.$store.getters["anatomy/getSlicesIndexFromRelativeIndex"]()
            }
        }, {
            on: r.IMAGE_SLICE_HAS_BEEN_LOADED,
            do: o => {
                this.images.set(o.detail - 1, !0),
                e()
            }
        }, {
            on: n.SELECTED,
            do: () => {
                const o = this.$store.getters["anatomy/contrast:get-current-code"]();
                this.lastContrastCode !== o && this.$store.dispatch("image/image:clear-all"),
                this.lastContrastCode = o
            }
        }, {
            on: r.QUALITY_CHANGE,
            do: () => this.$store.dispatch("image/image:clear-all")
        }])
    },
    beforeMount() {
        y.onBeforeMount(Fa)
    },
    beforeDestroy() {
        y.onBeforeUnmount(Fa)
    }
};
var l5 = function() {
    var t = this
      , e = t._self._c;
    return t.isReady && !t.isZipMode && t.isLoading ? e("div", {
        ref: "progress-bar",
        staticClass: "slice-progress-bar"
    }, t._l(t.images, function([i,s]) {
        return e("span", {
            key: i + 1,
            class: {
                loaded: s,
                hidden: !t.isDisplayed(i + 1)
            },
            attrs: {
                "data-index": i + 1
            }
        })
    }), 0) : t._e()
}
  , c5 = []
  , u5 = x(o5, l5, c5, !1, null, "af582de5");
const d5 = u5.exports
  , h5 = 43
  , p5 = 4;
let Va = {};
const m5 = {
    name: "GalleryBottom",
    components: {
        ImageProgressBar: d5
    },
    data() {
        return {
            displayPreview: !1,
            hideThumbnails: !1,
            mouseDown: !1,
            widthThumb: 0
        }
    },
    computed: {
        thumbnails() {
            return this.$store.getters["anatomy/getGalleryThumbnails"]
        },
        currentIndexSlice() {
            return this.$store.getters["anatomy/indexCurrentSlice"]
        },
        numberOfSlices() {
            return this.$store.getters["anatomy/numberOfSlices"]
        },
        previewThumbnail() {
            return this.$store.getters["anatomy/getPreviewThumbnail"]
        },
        notMobileOrTablet() {
            return !Se.isMobileOrTablet()
        },
        isSmallMobileScreen() {
            return y.isSmallMobileScreen()
        }
    },
    created() {
        const {application: t, slice: e, featureIsolate: i} = k
          , s = () => {
            this.refreshThumbnails(),
            this.updateIndicator(),
            this.$refs["progress-bar"].updateSizeProgressBar(this.getHalfSizeThumbnail())
        }
          , r = y.debounce( () => s(), 300);
        Va = y.createHooks([{
            on: "resize",
            do: r,
            target: window
        }, {
            on: t.READY,
            do: s
        }, {
            on: e.SLICE_INDEX_CHANGE,
            do: s
        }, {
            on: e.CHANGE,
            do: () => this.updateIndicator()
        }, {
            on: i.START_ISOLATE,
            do: () => this.updateIndicator()
        }])
    },
    updated() {
        this.updateIndicator()
    },
    beforeMount() {
        y.onBeforeMount(Va)
    },
    beforeUnmount() {
        y.onBeforeUnmount(Va)
    },
    methods: {
        refreshThumbnails() {
            const t = this.$refs["gallery-container"];
            this.$store.dispatch("anatomy/image:get-one").then(e => _(this, null, function*() {
                if (e !== null) {
                    this.widthThumb = Math.round(e.width / e.height * h5);
                    const i = this.widthThumb + p5;
                    typeof t < "u" && (this.hideThumbnails = !0,
                    this.$nextTick( () => _(this, null, function*() {
                        this.hideThumbnails = !1;
                        const s = t.offsetWidth;
                        s > i && (yield this.$store.dispatch("anatomy/thumbnails:refresh", {
                            sizeThumbs: i,
                            sizeAvailable: s
                        }))
                    })))
                }
            }))
        },
        updateIndicator() {
            const t = this.$refs["gallery-indicator"];
            if (typeof t < "u" && this.numberOfSlices > 0 && this.currentIndexSlice > 0) {
                const e = this.getIndicatorPosition(this.currentIndexSlice);
                t.style.marginLeft = `${e}px`
            }
        },
        getHalfSizeThumbnail() {
            const t = this.$refs["thumbnails-container"].children[0];
            if (typeof t < "u") {
                const e = getComputedStyle(t);
                return (t.offsetWidth + parseInt(e.marginLeft) + parseInt(e.marginRight)) / 2
            }
            return 0
        },
        getIndicatorPosition(t) {
            const e = this.$refs["gallery-indicator"]
              , i = this.$refs["thumbnails-container"];
            if (typeof e < "u" && typeof i < "u" && this.numberOfSlices > 0 && this.currentIndexSlice > 0 && i.childElementCount > 0) {
                const s = this.getHalfSizeThumbnail();
                if (i.childElementCount < this.numberOfSlices) {
                    const r = i.clientWidth
                      , n = r / i.childElementCount;
                    return (r - n) / (this.numberOfSlices - 1) * (t - 1) + n / 2
                } else
                    return Math.round(i.offsetWidth / this.numberOfSlices) * t - (e.clientWidth * .5 + s)
            }
            return -1
        },
        setWidthThumb() {
            const t = this.$refs["thumbnails-container"]
              , e = Math.max(Math.ceil(t.offsetWidth) / 15, 100);
            typeof this.$refs["preview-thumb"] < "u" && (this.$refs["preview-thumb"].style.width = `${e}px`)
        },
        displaySliceHover(t) {
            this.displayPreview = !0,
            document.onmousemove = e => requestAnimationFrame( () => this.handleMouseMove(e)),
            document.onmouseup = e => this.mouseUpMoveToSlice(e),
            t.target.onmouseleave = e => this.hideSliceHover(e),
            this.setWidthThumb(),
            requestAnimationFrame( () => this.refreshPreviewThumb(t))
        },
        getPositionX(t) {
            const e = this.$refs["thumbnails-container"];
            return t.x - e.getBoundingClientRect().left
        },
        refreshPreviewThumb(t) {
            const e = this.$refs["thumbnails-container"]
              , i = this.$refs["preview-thumb"];
            if (typeof i > "u" || typeof e > "u")
                return;
            let s = this.getPositionX(t);
            (s < 0 || s > e.offsetWidth) && (s = Math.max(0, Math.min(s, e.offsetWidth)));
            const r = this.getSliceIndex(t);
            this.$store.dispatch("anatomy/thumbnails:preview", r),
            i.style.marginLeft = `${s}px`
        },
        getSliceIndex(t) {
            const e = this.$refs["thumbnails-container"]
              , i = this.getPositionX(t)
              , s = this.getHalfSizeThumbnail();
            return Math.max(1, Math.min(Math.round(i / (e.offsetWidth - s) * this.numberOfSlices), this.numberOfSlices))
        },
        hideSliceHover(t) {
            t.target !== null && (t.target.onmouseleave = null),
            t.relatedTarget !== null && (t.relatedTarget.onmouseleave = null),
            this.isAuthorizedToMove(t.relatedTarget) ? t.target.onmouseleave = e => {
                this.hideSliceHover(e)
            }
            : this.displayPreview = !1
        },
        isAuthorizedToMove(t) {
            return t !== null && typeof t.classList.contains == "function" && t.classList.contains("isAuthorizedToMove")
        },
        moveToSlice(t) {
            t !== null && (this.$store.dispatch("anatomy/gallery-bottom:image-click", t),
            this.$store.dispatch("anatomy/slice:set", {
                sliceIndex: t
            }))
        },
        mouseDownMoveToSlice() {
            this.mouseDown = !0,
            document.onmouseup = this.mouseUpMoveToSlice
        },
        handleMouseMove(t) {
            this.mouseDown && this.moveToSlice(this.getSliceIndex(t)),
            this.displayPreview && this.refreshPreviewThumb(t)
        },
        mouseUpMoveToSlice(t) {
            const e = this.$store.getters["anatomy/currentSlice"]
              , i = this.$store.getters["anatomy/relativeSliceIndexById"](e.id)
              , s = this.getSliceIndex(t);
            this.displayPreview && this.mouseDown && i !== s && this.moveToSlice(s),
            document.onmouseup = null,
            this.mouseDown = !1
        }
    }
};
var g5 = function() {
    var t = this
      , e = t._self._c;
    return e("div", {
        ref: "gallery-container",
        staticClass: "gallery-container",
        class: {
            hidden: t.isSmallMobileScreen
        }
    }, [e("div", {
        directives: [{
            name: "show",
            rawName: "v-show",
            value: !t.hideThumbnails,
            expression: "!hideThumbnails"
        }],
        staticClass: "center"
    }, [e("svg", {
        ref: "gallery-indicator",
        staticClass: "gallery-indicator isAuthorizedToMove",
        attrs: {
            xmlns: "http://www.w3.org/2000/svg",
            viewBox: "0 0 1.03 25.02"
        }
    }, [e("line", {
        staticClass: "isAuthorizedToMove",
        staticStyle: {
            fill: "none",
            stroke: "#048ffd",
            "stroke-linecap": "square",
            "stroke-miterlimit": "10"
        },
        attrs: {
            x1: "0.51",
            y1: "0.52",
            x2: "0.51",
            y2: "24.52"
        }
    })]), t.notMobileOrTablet ? e("div", {
        ref: "preview-thumb",
        staticClass: "preview-thumb isAuthorizedToMove",
        class: {
            "preview-thumb-hidden": !t.previewThumbnail.src || !t.displayPreview
        },
        attrs: {
            title: `${t.previewThumbnail.title_1} - ${t.previewThumbnail.title_2} (${t.previewThumbnail.titleSeries})`
        },
        on: {
            mouseenter: t.displaySliceHover,
            mousedown: t.mouseDownMoveToSlice
        }
    }, [e("p", {
        staticClass: "preview-thumb-title ellipsis-2-lines"
    }, [t._v(" " + t._s(t.previewThumbnail.title_1) + " - " + t._s(t.previewThumbnail.title_2) + " "), e("span", {
        staticClass: "title-series"
    }, [t._v("(" + t._s(t.previewThumbnail.titleSeries) + ")")])]), e("img", {
        staticClass: "preview-thumb-img",
        attrs: {
            src: t.previewThumbnail.src
        }
    })]) : t._e(), e("div", {
        ref: "thumbnails-container",
        staticClass: "thumbnails-container isAuthorizedToMove",
        on: {
            mouseenter: t.displaySliceHover,
            mousedown: t.mouseDownMoveToSlice
        }
    }, [t._l(t.thumbnails, function(i) {
        return e("div", {
            key: i,
            staticClass: "thumbnail",
            style: {
                width: t.widthThumb + "px"
            }
        }, [e("img", {
            staticClass: "thumbnail-img",
            attrs: {
                src: i,
                height: "43",
                width: t.widthThumb,
                alt: ""
            },
            on: {
                load: t.updateIndicator
            }
        })])
    }), e("image-progress-bar", {
        ref: "progress-bar"
    })], 2)])])
}
  , f5 = []
  , v5 = x(m5, g5, f5, !1, null, "05b38955");
const y5 = v5.exports
  , E5 = {
    name: "GalleryLeftButton",
    components: {
        GallerySVG: Jh
    },
    methods: {
        openGallery() {
            this.$store.dispatch("menu/gallery-left:show")
        }
    }
};
var I5 = function() {
    var t = this
      , e = t._self._c;
    return e("button", {
        staticClass: "button-open-gallery",
        on: {
            click: t.openGallery
        }
    }, [e("GallerySVG", {
        staticClass: "gallery-left-icon"
    })], 1)
}
  , C5 = []
  , b5 = x(E5, I5, C5, !1, null, "33769660");
const S5 = b5.exports
  , T5 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAADAFBMVEVHcEwAOJ4DOaEqluIBN5wpkd4dfM8pl+QBOaAihtYmkuAERKgBN58acshtb2wlj9sqmuknk+Eok98pl+MqmukCPqQkjdoEPqIBOJ4BN50ljdwOZsH++94BR7A0UW7Ou52anJrOxrUBj6ABOJ0BNpsmj9wDPaACO58DPqIihtcde84kiNgihNQnkd4ggdIok+ApluQZcsgji9kdecwfftDh0bLi0rUcdcrRvpkBOZ8Yb8YKT64EQaMAN6PMt5HVwp4ISKkGRacIS6vfzawBSLH369UGQqUSbsfm1bby5tHk0rGsoYzQu5Xbz7mqmn65qIrHs42lmYO9rZDBsZMTdtDVxagwV5GBc1sCQK+hk3rOvqGUiHFncnoKU7MZg9objOIZdcwNWLUfiN0ALqNJY4W7r5eypYzQxbHEuqYsova1o4Kun4WQg2oom+0FRKYSetcDRqzezq/axqI+f7QBQKkTZbibl4vJt5UKXr6DeGObj3eKjo0mkuMAOacjbrXp0q3hyZ9sh5UPaL8MaMYAPadXf5xXd5O+s5++rIlrYU6aiWyhjm0bY61GYnzJuJuMfmU1Z5z66McljNwCP5UFM4YbgdYperYwb6kLa84+d6JTaY5IaI4/Xo6nlXUjTI9ZjrQBN5QeXJzOwKi1qpU/aZLt3L28taibkoE0Sm9zfYSSlZQnkt8xKHBOJnAadcIilegVhd7kzaUhj+CapatGXTccarEAKZu5LRPs2rhyjqCxn4Ayg8SsvMMkT4TFva3/7s0PXrd0Z1CrpZifnZX/9NVmdoj34bx9iIugEKqQIKpNhCONpbWbIhIqSHtTN0noRQcQTp2FgHHd4duVm5rY2NL/9962r52qq6U0XoiHk5ji1sDYya4gKoNpGo0BOYvzCPXCF9Z0mLooRVZtlRh9gXwVO2oabsJZTTkNPo65nHMKN3d8Oy1vKStodSF1gR4lg8YBLIuQzA2H1hXt6N2lo5+QuB6I/wDs38aMqsaGh3+VgF3Fqn3JRQBIABkACVVHcEx3eNMgAAABAHRSTlMAHHfyghvW8vjYyNbH1td/dP2kgPjYd8qmpXXW1tbW19bX//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AZcNYyQAABLZJREFUeNpiAAFGJh4OFSzANjnZloOHiZEBClg4am2xqnt1assUW9taDhaIOokISxVlLMBy26lvH7ckK6tYRkiCzYuwVLYEiVuCSQSy/fD409ct20DsCKCZjBoa6urqQAIT2D569/ZprTpYmpGBKUJNTUNjyhR1DTV0oJG84mwthBnBxCBeoqFhAyiTHgDjyBoAAL/a7v+fzZg7mbbJ2rZj27Zt27Zt1PbZtn03s9v4Gzz7vXXhQhdSfV1SdHS0lZVjVY2jlVUSkg56DOynWlIL3373ve53CJaPUKPrPquRSqsqK9TqioqqOqsgS8L/gA+V6mPZdfFidyGBquETVOf0E8cf1x8XF9e6wOGQGivqkvwOAQICX9jVXeRH0PBLqlnIv+sv4GFhXECrQDLT0jDmJg06BPAosjRbjtfwe9Upk8dokHmycRA0xmqkk1xbWppJ0kOAiPKTOvmh4bmgmsgMhVeuzBPGkiAMho58TE6L60rH/8A5FBmpiAaFy5BSJsJxI0RsNuyP1NJ4A/rT6RltRWupE5nsc6MydfZuRHhoqIgbEcFNQ/tE0UV/tJEPAWsUeTo7L+W2a/4SgyKb98pVKCVCrueEBzJNDNTs6ZVNznse2COqIlNd82eXKAwGg8JKVwmZkISESXUWVodiIDrPa/Gl5aWn0YrEkFkK5Q0JiYLW/BVDCvBQeKmqeS4uvMw0ODPc7Xy7OvIFMDcXdsOVwuC48UkcDgUDY7FwbjhXwXKRyUTOgghVrqpVkf+m+lkQHEZ8mM/gzIRiMTwBg89nkwTpGQoFSzjxaYYLK32eGy6LULl4HAVhefdXKHRXJZvNhCXNWBjzJis9PUMgcMFV56RyM/nOrbmeQoHzUZDVsJLWeM/TYyJ0IicHht8kubm1n/uoWiWE+bzFB+dFrBC1WonNeQ6U8lqmp249SE4ZrLy/fDPVmeXaHlOWkuklYvM9Iu3rm7KywsKaFkKOgtKO8bnf7gQnJgQnxiQETl0efz8m8eywl0oEe4gaf1c1ldHOnk3MCn4KfJKVQAscDD6rQQtOSEhASsqyM4RsHgbL/7ypDM03sTsCTOxMTM6WmpiY2PmKTVZZOM0L05T8m5V5n2gzkIoWCDs7CwvdhKv1YgstcZ4inCvkyup9V3N0jwAzLV3al9evTBejsR7acGSDJEfC76CZrTLfC3S1bOpHr49e80Vi4trLg84BdDo9oBxNahnuBeZaxT1fjV5pszE39425c+seOwCCYiNNDM1X6e8FhlrmDsPX2or1DYsnkxfdcDgMFMuKsTFco7MX6K/qS5500NcRj7s14HBIfy6lNvrr9A4AnVU2KYEODmbjITDOH6L3h5T06WxQcADorUIq2ga2e+Jgf3osO77HVm8jpOLBKFMNHWTokvAAUgA0FhdSbjNguknUQfB/74JXEA61tdnl57GhyuZYXrKu7SubFXg/CfacMEKjtrU/Tgn6mciFii+xjdpQxwD9RZ3YA8Ax904Dg06D8g4Ols1vHC+x7TXYqtP9GECcdDc2MnpFrb79MD7wW9teo22M3U8CjVOn3b2NjQZMB3p7jbfzdj99Cjyy5/jBfft27du1S/Nttu/g8T0A8R+qBw8n7dlvgQAAAABJRU5ErkJggg=="
  , A5 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALrUExURUdwTDydwhBrtSyl7lO/5AlprwlpsQllrB+g8wlkqwtluQlnsDOp6lbC6Eq56QplrD+y6wplrQtavwllrQllrABgrQVdrxSY9xWY9gpps1fB5ApmrdLx/+Dr8c3r+v/ZvcTn9c7j7f7Ovv/Ot8Lh7//NsvzLu/rKu/rKuv/KrPTKvPrHuLrd7frGtf3EsP7DrP/Dp/rDsfnCsP/ApL7V4fjBrazb6/u/q+TGwPu9qP+6of+7m/u7pfq5ovy2nPm2n/+0luS8s7DM2cvCxO62pf+xkPuxl8TBzvutkf+rjPCumf6ph6XG1/+ogfOqkajBzfmig8Gzue2ji52+z9KoodukleChj523xK2uwJW4yY241rykp9Ocjo2zxrmhpJCuvVDE84is1EfE/8OXmZSpttSOmVa/4ner0zu+/6eZomat4JGgr0q45XqkyrOQkM+CjH+htUG17oOcqD+y6AD/AOdycG2ezW2fx0uq5zaw82GhtW6brTWr7Cys+i2u7ZmIkIyKnHeToXiQqkqiwSGp/iml8VmTyQDnAHmInGiPoB6e9E+OuhSe/zKV2GqEkEOMy2iBof5FSROZ+V6DljuPswbICz2HwAO+KgiS/C+FzF55hgy2IgKO/AWL9xyE2Ux1oASJ8wWoRwCH/gWH7gCF9gWE6FFxgQaC5AaA4Cx1sxSLfkFxhhN6zAB+6AV93fIA6Qd711JncwZ40gp3zAd2ziRuqNIL2AeIaAB03Ad0yUVjezdlkQZxxgtvwRNttAtvvCxllgpzpwhvwP8TEQBwzucbGwhtvDxgdIAuwBZoqiRmighrtwBswglptQppsglos6wStwZorz5ZaQpmrl07sQxjsgBmwgplrLAoMANorI8fsxJgqgBmulVAmQVkrU8/pQBkszBOo3EvlQddszBVbgtenwBfrwBdqjdPXQJboSBRaQNWlhtPdSJLYRhLZhtIXwJMhyo6RQJBchM9VwI8ZQQ0WQkxTQkpRAAeM1odCZ4AAAAcdFJOUwAJDyU4UFJjhYWXmZuhpLzCxMnOzs7O0djj8vSq6S+MAAAEE0lEQVR42lXOW0wcVRzH8d+cnZ29AFtYYKEF2sDSQopNFYtCmpiIJj4I4YEYQxMMaYxpmsZoaozaVk1tUwrVECyxUftAfKo+GDXE1ksoJsQUCrRA2RrlUne7wAosbNjbzJlznJmd7W4/Tyfn/53/GegEKaegsCij2FNsnjxut9MqwGTbOTw+mWXp2tlrS8ZpYmRwcOT3nTYYHMOTvmwLt57f0zC0MDE+4/N/8c6FQf/EsMPYNzyTiYLLC75g394qb/dSJPpwyjdwYeCre76ZYRtAyiYzu3x9Z4cWgh8drjn88eYPK7EJ/88DA9/6fb7JMqItzNrX7d3z2nLwzdaXW7ujr36W0N7+oNevT4ZtxOnCI4nZHNvmvwCssJOyXICKVBGhcdmJU0KaLSlXeMkadDvYnVEGEYIVOimXXBeRhYgEiDKFgT1ZmGDgHAbxOnmskxhDUSIJsHL5j3mGuNMNs0x1BAADbGBIrrliDNyaU1buoJLNf5BQMZ2AkrBgJ0BS3xWKUOhUm8DcgqfRKMxQSi7/IxCKiABOt2CI338IIvERD7JC5FRWAxIACmy6QHlCidYl4gXWreJFZoZUk6B5dh6T4eQAViPQ8Dm7V1ontyYqGKjOCJn1Ri9ndEuBwhREqcLk0r9G5xG3rNbtCNBMSAFZ/07lSHO/QrzEwb4sJ3EzVHQ0CapooBMA2WkPsVq+e7HUpsqKQaQAnLIToIDTqTAVoW1oZlHCbN/PHkmqFDpR1i9nVhyyDMgqBMvf/0HgstUPMDEPz21Bho6oqmr/9ebq3IBdOyUBIRYUQAUsE49I7j5bcB+qQVQANNwlrjvo2ExscgYLYUDOzWmy+FR09F1OkUIYYxtPHNzmfOqeuJ6EhgEEP4XEMVyWGykzEaaRGiycJH2IxQg3INr6YsMzU99ISMrZYay0IK7iAQDVZP3lt/HK27X2WcbToazBjiKVSYvBuMoYGLQvpQDo7ULb0y8FmJxCuCaJ3QDDyjIACgZAboKntG9cdkQYTyFMhxIOxqcDXN+o4ZDQdOAAkdQYWIrIoIl53BsWyxxEFSalqepGV6AFqnmTHoklK3ZYwJHCEcmvn0TVCzSRDolqYA7QLEB0mtT/6LYyztUUkSOFishQsB1+cHW+FypFOrhi+Pr43rps9c0tf1Y2B8JrV6+YUHqpX9fT6K3NUlfZebGiI7Q+1p9yqQT2cz26/tON3ppHamsOdR6q6NxYH9OmunN2WM6cN/S8t9+bCavaWir1cMicnrEAucdOG84f37cvE75+qr3y83Do0/eN2bFcAEL+0ZOGD494s57uuPiW9otvG5Oj+QL00tXVdUJ3ss2bCaurT4XXL+uDri6XgBQxb9cbuhNtNftNze3tHd+FP9Eud+WJAPA/8CjA0UaBRo4AAAAASUVORK5CYII="
  , w5 = {
    name: "Gallery",
    components: {
        CounterSlice: jT,
        FullscreenButton: a5,
        GalleryBottom: y5,
        GalleryLeftButton: S5
    },
    computed: {
        isSmallMobileScreen() {
            return y.isSmallMobileScreen()
        },
        haveApplicationUrl() {
            return y.url.applicationHomepage !== null && y.url.applicationHomepage.length > 0
        },
        isVet() {
            return this.$store.getters["anatomy/application_id"] === Rt.VETANATOMY
        },
        applicationIcon() {
            return this.isVet ? T5 : A5
        },
        applicationName() {
            return this.isVet ? this.$t("commons.vet-anatomy") : this.$t("commons.e-anatomy")
        }
    },
    methods: {
        goToApplicationHomepage() {
            const t = y.url.applicationHomepage;
            this.haveApplicationUrl && (y.isEmbed() ? this.$store.dispatch("dialog-popup/display", {
                title: this.$t("dialog.external-link-title"),
                message: this.$t("dialog.external-link-description"),
                displayCancelButton: !0,
                confirmCallback: () => window.open(`${re.baseURL}/${y.getSiteAccess()}/${t}`, "_blank")
            }) : this.$store.dispatch("anatomy/redirect:to", t))
        }
    }
};
var _5 = function() {
    var t = this
      , e = t._self._c;
    return e("div", {
        ref: "toolbar-bottom",
        staticClass: "gallery",
        class: {
            mobile: t.isSmallMobileScreen
        }
    }, [e("div", {
        staticClass: "application-icon-container"
    }, [e("img", {
        staticClass: "application-icon",
        class: {
            clickable: t.haveApplicationUrl
        },
        attrs: {
            src: t.applicationIcon,
            alt: t.applicationName,
            title: t.applicationName
        },
        on: {
            click: t.goToApplicationHomepage
        }
    })]), e("GalleryBottom"), e("div", {
        ref: "wrapper",
        staticClass: "wrapper"
    }, [e("div", {
        staticClass: "flex-content"
    }, [e("GalleryLeftButton"), e("CounterSlice"), e("FullscreenButton")], 1)])], 1)
}
  , L5 = []
  , O5 = x(w5, _5, L5, !1, null, null);
const x5 = O5.exports;
let Ua = {};
const M5 = {
    name: "SeriesTitle",
    data() {
        return {
            title: "",
            orientation: ""
        }
    },
    computed: {
        hasOrientation() {
            return this.orientation !== null && this.orientation.length > 0
        }
    },
    created() {
        const {slice: t, series: e, language: i, translator: s} = k;
        Ua = y.createHooks([{
            on: t.CHANGE,
            do: () => this.refreshTitle()
        }, {
            on: e.CHANGE,
            do: () => this.refreshTitle()
        }, {
            on: s.ADDED,
            do: () => this.refreshTitle()
        }, {
            on: i.CHANGE,
            do: () => this.refreshTitle()
        }, {
            on: i.LOADED,
            do: () => this.refreshTitle()
        }])
    },
    beforeMount() {
        y.onBeforeMount(Ua)
    },
    beforeUnmount() {
        y.onBeforeUnmount(Ua)
    },
    methods: {
        refreshTitle() {
            const t = this.$store.getters["anatomy/currentSlice"]
              , e = this.$store.getters["anatomy/currentSeries"];
            this.title = this.getTitle(t, e),
            this.orientation = t.orientation
        },
        getTitle(t, e) {
            return Vh.getSeriesTitle(t, e)
        }
    }
};
var N5 = function() {
    var t = this
      , e = t._self._c;
    return e("p", {
        staticClass: "title-series-background",
        attrs: {
            title: t.title
        }
    }, [e("span", {
        staticClass: "ellipsis"
    }, [t._v(t._s(t.title))]), t.hasOrientation ? e("span", {
        staticClass: "title-series ellipsis"
    }, [t._v(" (" + t._s(t.orientation) + ") ")]) : t._e()])
}
  , R5 = []
  , P5 = x(M5, N5, R5, !1, null, "33541776");
const D5 = P5.exports
  , k5 = {
    name: "ActionButtons",
    components: {
        ScrollSVG: ep,
        PanSVG: tp,
        ZoomSVG: ip
    },
    data() {
        return {
            savedOffset: 0,
            offsetLeft: 0,
            menuIsPinned: !1,
            INTERACTION: Yt
        }
    },
    computed: {
        isDesktopScreen() {
            return y.isDesktopScreen()
        }
    },
    methods: {
        isSelected(t) {
            return this.$store.getters["action/currentInteraction"] === t
        },
        changeInteraction(t) {
            this.$store.dispatch("action/interaction:change", t)
        }
    }
};
var H5 = function() {
    var t = this
      , e = t._self._c;
    return e("div", {
        ref: "actionButtons",
        staticClass: "actionButtons box-shadow",
        class: {
            "desktop-screen": t.isDesktopScreen
        }
    }, [e("button", {
        staticClass: "button",
        class: {
            selected: t.isSelected(t.INTERACTION.SCROLL)
        },
        attrs: {
            title: `${t.$t("keyboard-panel.scroll")} (A)`
        },
        on: {
            click: function(i) {
                return t.changeInteraction(t.INTERACTION.SCROLL)
            }
        }
    }, [e("ScrollSVG", {
        staticClass: "svg"
    })], 1), e("button", {
        staticClass: "button",
        class: {
            selected: t.isSelected(t.INTERACTION.PAN)
        },
        attrs: {
            title: `${t.$t("keyboard-panel.pan")} (E)`
        },
        on: {
            click: function(i) {
                return t.changeInteraction(t.INTERACTION.PAN)
            }
        }
    }, [e("PanSVG", {
        staticClass: "svg"
    })], 1), e("button", {
        staticClass: "button",
        class: {
            selected: t.isSelected(t.INTERACTION.ZOOM)
        },
        attrs: {
            title: `${t.$t("keyboard-panel.zoom")} (Z)`
        },
        on: {
            click: function(i) {
                return t.changeInteraction(t.INTERACTION.ZOOM)
            }
        }
    }, [e("ZoomSVG", {
        staticClass: "svg"
    })], 1)])
}
  , z5 = []
  , B5 = x(k5, H5, z5, !1, null, null);
const F5 = B5.exports
  , V5 = {
    name: "ToggleDisplayCRSVG"
};
var U5 = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            width: "16",
            height: "16",
            xmlns: "http://www.w3.org/2000/svg",
            fill: "currentColor",
            viewBox: "0 0 16 16"
        }
    }, [e("path", {
        attrs: {
            d: "M13.3 5a1 1 0 0 0-1.4 0L8 8.9 4.1 5a1 1 0 0 0-1.4 1.4l3.9 3.9c.7.7 1 1 1.4 1 .4 0 .7-.3 1.4-1l3.9-3.9c.4-.4.4-1 0-1.4Z"
        }
    })])
}
  , G5 = []
  , $5 = x(V5, U5, G5, !1, null, "a06b9acd");
const j5 = $5.exports
  , Y5 = {
    name: "CrossRefToggle",
    components: {
        ToggleDisplayCRSVG: j5
    },
    computed: {
        showButton() {
            return !y.isMobileScreen() && this.$store.getters["anatomy/crossRefExists"] && (this.$store.state.menu.displayCrossReferencesPanel.display || !this.$store.state.menu.structurePanelIsOpen)
        },
        hideCrossRef() {
            return !this.$store.getters["menu/displayCrossReferencesPanel"].display
        }
    },
    methods: {
        togglePanel() {
            return _(this, null, function*() {
                yield this.$store.dispatch("menu/cross-references:toggle"),
                yield this.$store.dispatch("menu/cross-references:notification", W.CROSS_REFERENCES_BUTTON)
            })
        }
    }
};
var W5 = function() {
    var t = this
      , e = t._self._c;
    return e("button", {
        directives: [{
            name: "show",
            rawName: "v-show",
            value: t.showButton,
            expression: "showButton"
        }],
        ref: "crossRef-btn",
        staticClass: "button-toggleDisplay-crossRef",
        class: {
            "hide-crossRef": t.hideCrossRef
        },
        on: {
            click: function(i) {
                return t.togglePanel()
            }
        }
    }, [e("ToggleDisplayCRSVG")], 1)
}
  , K5 = []
  , Z5 = x(Y5, W5, K5, !1, null, "12467067");
const Q5 = Z5.exports
  , X5 = {
    name: "CheckSVG"
};
var q5 = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        attrs: {
            xmlns: "http://www.w3.org/2000/svg",
            fill: "none",
            viewBox: "0 0 24 24"
        }
    }, [e("path", {
        attrs: {
            stroke: "currentColor",
            "stroke-linecap": "round",
            "stroke-linejoin": "round",
            "stroke-width": "1.5",
            d: "M4 10.9 10 17l10-10"
        }
    })])
}
  , J5 = []
  , e4 = x(X5, q5, J5, !1, null, null);
const up = e4.exports
  , t4 = {
    name: "SeriesQuickSelectOption",
    components: {
        CheckIcon: up
    },
    props: {
        series: {
            required: !0,
            type: Object
        },
        isSelected: {
            required: !0,
            type: Boolean
        },
        uuid: {
            required: !0,
            type: String
        }
    },
    methods: {
        select() {
            this.$emit("select", this.series.id)
        }
    }
};
var i4 = function() {
    var t = this
      , e = t._self._c;
    return t._self._setupProxy,
    e("div", {
        ref: "option",
        staticClass: "series-quick-select-option",
        class: {
            "is-selected": t.isSelected
        },
        attrs: {
            id: `${t.uuid}_${t.series.id}`,
            "aria-label": t.$t("gallery.series"),
            role: "option",
            tabindex: "0"
        },
        on: {
            click: t.select,
            keydown: [function(i) {
                return !i.type.indexOf("key") && t._k(i.keyCode, "enter", 13, i.key, "Enter") ? null : t.select.apply(null, arguments)
            }
            , function(i) {
                return !i.type.indexOf("key") && t._k(i.keyCode, "space", 32, i.key, [" ", "Spacebar"]) ? null : t.select.apply(null, arguments)
            }
            ]
        }
    }, [e("img", {
        staticClass: "image",
        attrs: {
            src: t.series.src,
            alt: t.series.name
        }
    }), e("span", {
        staticClass: "series-quick-select-option__name"
    }, [t._v(t._s(t.series.name))]), e("CheckIcon", {
        staticClass: "icon series-quick-select-option__selected-icon"
    })], 1)
}
  , s4 = []
  , r4 = x(t4, i4, s4, !1, null, null);
const n4 = r4.exports
  , a4 = {
    name: "SeriesQuickSelectAllOption",
    data() {
        return {
            numberOfLoadedImages: 0
        }
    },
    computed: {
        imagesAllSeries() {
            return this.$store.getters["anatomy/imageAllSeries"]
        },
        sourcedSeries() {
            return this.imagesAllSeries.filter(t => t.src !== null)
        },
        displayAllSeries() {
            return this.imagesAllSeries.length > 0 && this.sourcedSeries.length && this.numberOfLoadedImages > 0
        }
    },
    methods: {
        onImageLoaded() {
            this.numberOfLoadedImages++
        }
    }
};
var o4 = function() {
    var t = this
      , e = t._self._c;
    return t._self._setupProxy,
    e("div", {
        staticClass: "series-quick-select-option__all-series"
    }, [t._l(t.sourcedSeries, function(i) {
        return e("img", {
            directives: [{
                name: "show",
                rawName: "v-show",
                value: t.displayAllSeries,
                expression: "displayAllSeries"
            }],
            staticClass: "series-quick-select-option__all-series__image",
            style: {
                "background-color": `#${i.background_color}`
            },
            attrs: {
                src: i.src,
                alt: t.$t("gallery.all-series")
            },
            on: {
                load: t.onImageLoaded
            }
        })
    }), t.displayAllSeries ? t._e() : e("div", {
        staticClass: "series-quick-select-option__all-series__placeholder"
    }, [t._m(0)])], 2)
}
  , l4 = [function() {
    var t = this
      , e = t._self._c;
    return t._self._setupProxy,
    e("div", {
        staticClass: "load-wrapper"
    }, [e("div", {
        staticClass: "activity"
    })])
}
]
  , c4 = x(a4, o4, l4, !1, null, null);
const dp = c4.exports
  , u4 = {
    name: "SeriesQuickSelectAllOption",
    components: {
        CheckIcon: up,
        SeriesQuickSelectAllImages: dp
    },
    props: {
        isSelected: {
            required: !0,
            type: Boolean
        }
    },
    emits: ["select"],
    methods: {
        select() {
            this.$emit("select")
        }
    }
};
var d4 = function() {
    var t = this
      , e = t._self._c;
    return t._self._setupProxy,
    e("div", {
        staticClass: "series-quick-select-option",
        class: {
            "is-selected": t.isSelected
        },
        attrs: {
            "aria-label": t.$t("gallery.series"),
            role: "option",
            tabindex: "0"
        },
        on: {
            click: t.select,
            keydown: [function(i) {
                return !i.type.indexOf("key") && t._k(i.keyCode, "enter", 13, i.key, "Enter") ? null : t.select.apply(null, arguments)
            }
            , function(i) {
                return !i.type.indexOf("key") && t._k(i.keyCode, "space", 32, i.key, [" ", "Spacebar"]) ? null : t.select.apply(null, arguments)
            }
            ]
        }
    }, [e("series-quick-select-all-images"), e("span", {
        staticClass: "series-quick-select-option__name"
    }, [t._v(t._s(t.$t("menu.series.all")))]), e("CheckIcon", {
        staticClass: "icon series-quick-select-option__selected-icon"
    })], 1)
}
  , h4 = []
  , p4 = x(u4, d4, h4, !1, null, null);
const m4 = p4.exports
  , g4 = {
    name: "ArrowBottomSVG"
};
var f4 = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        attrs: {
            width: "12",
            height: "12",
            viewBox: "0 0 12 12",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("g", {
        attrs: {
            id: "Stroke-16px/ArrowBottom"
        }
    }, [e("path", {
        attrs: {
            id: "Vector",
            d: "M9.97096 3.74965C9.67901 3.4577 9.20574 3.45744 8.91346 3.74908L6 6.65619L3.08654 3.74908C2.79426 3.45744 2.32099 3.4577 2.02904 3.74965C1.73686 4.04183 1.73686 4.51555 2.02904 4.80773L4.58579 7.36448C5.25245 8.03115 5.58579 8.36448 6 8.36448C6.41421 8.36448 6.74755 8.03114 7.41421 7.36448L9.97096 4.80773C10.2631 4.51555 10.2631 4.04183 9.97096 3.74965Z",
            fill: "currentColor"
        }
    })])])
}
  , v4 = []
  , y4 = x(g4, f4, v4, !1, null, null);
const E4 = y4.exports
  , I4 = {
    name: "SeriesQuickSelect",
    components: {
        SeriesQuickSelectOption: n4,
        SeriesQuickSelectAllOption: m4,
        ArrowBottomSVG: E4,
        SeriesQuickSelectAllImages: dp
    },
    directives: {
        ClickOutside: Ft
    },
    data() {
        return {
            isOpen: !1,
            uuid: crypto.randomUUID()
        }
    },
    computed: {
        isFullSeries() {
            return this.$store.getters["anatomy/isModeFullSeries"] || this.$store.getters["anatomy/getIsolateStructureId"]() !== null
        },
        seriesList() {
            return this.$store.getters["anatomy/seriesAndImagesList"]
        },
        currentSeries() {
            const t = this.$store.getters["anatomy/currentSeries"];
            return this.seriesList.find(e => e.id === t.id) || null
        },
        hasOptions() {
            return this.seriesList.length > 1
        },
        output() {
            return this.isFullSeries ? this.$t("menu.series.all") : this.currentSeries.name
        }
    },
    watch: {
        isOpen: [{
            handler: "watchIsOpen"
        }]
    },
    mounted() {
        this.uuid = crypto.randomUUID()
    },
    methods: {
        clickOutside(t) {
            t.composedPath().includes(this.$el) || (this.isOpen = !1)
        },
        toggleListBox() {
            if (this.isOpen) {
                this.isOpen = !1;
                return
            }
            this.isOpen = !0,
            this.$nextTick( () => {
                setTimeout( () => {
                    var t, e;
                    (e = document.getElementById(`${this.uuid}_${(t = this.currentSeries) == null ? void 0 : t.id}`)) == null || e.focus()
                }
                , 100)
            }
            )
        },
        onSelect(t) {
            this.$store.dispatch("anatomy/slice:notification", W.RIGHT_MENU),
            this.$store.dispatch("anatomy/series:set", {
                seriesIndex: t,
                relativeSliceIndex: 1,
                keepMode: !1,
                placement: W.SERIES_DROPDOWN
            }),
            this.isOpen = !1,
            this.$el.focus()
        },
        getOptionsList() {
            return this.$refs.listBox ? Array.from(this.$refs.listBox.querySelectorAll("[tabindex]")) : []
        },
        focusOption(t) {
            var s;
            if (!this.isOpen && t > 0) {
                this.isOpen = !0;
                return
            }
            const e = this.getOptionsList()
              , i = e.indexOf(document.activeElement) + t;
            i === -1 && (this.isOpen = !1,
            this.$refs.combobox.focus()),
            i >= 0 && ((s = e[i % e.length]) == null || s.focus())
        },
        watchIsOpen(t) {
            t && this.$nextTick( () => {
                this.$refs.allSeriesOption.$el.focus()
            }
            )
        },
        isSelected(t) {
            const e = this.$store.getters["anatomy/isModeFullSeries"] || this.$store.getters["anatomy/getIsolateStructureId"]() !== null
              , i = this.$store.getters["anatomy/currentSeries"];
            return e && t === -1 || !e && i.id === t
        }
    }
};
var C4 = function() {
    var i;
    var t = this
      , e = t._self._c;
    return t._self._setupProxy,
    e("div", {
        directives: [{
            name: "show",
            rawName: "v-show",
            value: t.hasOptions,
            expression: "hasOptions"
        }, {
            name: "click-outside",
            rawName: "v-click-outside",
            value: t.clickOutside,
            expression: "clickOutside"
        }],
        staticClass: "series-quick-select__wrapper",
        on: {
            keydown: [function(s) {
                return !s.type.indexOf("key") && t._k(s.keyCode, "up", 38, s.key, ["Up", "ArrowUp"]) ? null : (s.stopPropagation(),
                s.preventDefault(),
                t.focusOption(-1))
            }
            , function(s) {
                return !s.type.indexOf("key") && t._k(s.keyCode, "down", 40, s.key, ["Down", "ArrowDown"]) ? null : (s.stopPropagation(),
                s.preventDefault(),
                t.focusOption(1))
            }
            , function(s) {
                return !s.type.indexOf("key") && t._k(s.keyCode, "left", 37, s.key, ["Left", "ArrowLeft"]) || "button"in s && s.button !== 0 ? null : (s.stopPropagation(),
                s.preventDefault(),
                t.focusOption(-1))
            }
            , function(s) {
                return !s.type.indexOf("key") && t._k(s.keyCode, "right", 39, s.key, ["Right", "ArrowRight"]) || "button"in s && s.button !== 2 ? null : (s.stopPropagation(),
                s.preventDefault(),
                t.focusOption(1))
            }
            , function(s) {
                s.stopPropagation()
            }
            ],
            contextmenu: function(s) {
                s.stopPropagation()
            },
            "!mousewheel": function(s) {
                s.stopPropagation()
            },
            "!DOMMouseScroll": function(s) {
                s.stopPropagation()
            }
        }
    }, [e("output", {
        ref: "combobox",
        staticClass: "series-quick-select__output",
        attrs: {
            role: "combobox",
            "aria-expanded": t.isOpen,
            "aria-controls": "list_box",
            tabindex: "0"
        },
        on: {
            click: t.toggleListBox,
            keydown: [function(s) {
                return !s.type.indexOf("key") && t._k(s.keyCode, "space", 32, s.key, [" ", "Spacebar"]) ? null : t.toggleListBox.apply(null, arguments)
            }
            , function(s) {
                return !s.type.indexOf("key") && t._k(s.keyCode, "enter", 13, s.key, "Enter") ? null : t.toggleListBox.apply(null, arguments)
            }
            ]
        }
    }, [t.isFullSeries ? e("SeriesQuickSelectAllImages") : e("img", {
        staticClass: "image",
        attrs: {
            src: t.currentSeries.src,
            alt: t.currentSeries.name
        }
    }), e("span", [t._v(t._s(t.output))]), e("ArrowBottomSVG", {
        staticClass: "icon"
    })], 1), e("div", {
        directives: [{
            name: "show",
            rawName: "v-show",
            value: t.isOpen,
            expression: "isOpen"
        }],
        ref: "listBox",
        staticClass: "series-quick-select__dropdown",
        attrs: {
            id: "list_box",
            role: "listBox",
            "aria-label": "select",
            "aria-activedescendant": (i = t.currentSeries) == null ? void 0 : i.id
        },
        on: {
            mousedown: function(s) {
                s.stopPropagation()
            },
            mouseup: function(s) {
                s.stopPropagation()
            }
        }
    }, [e("div", {
        staticClass: "series-quick-select__scrollbox"
    }, [e("SeriesQuickSelectAllOption", {
        ref: "allSeriesOption",
        attrs: {
            "is-selected": t.isSelected(-1)
        },
        on: {
            select: function(s) {
                return t.onSelect(-1)
            }
        }
    }), t._l(t.seriesList, function(s, r) {
        return e("SeriesQuickSelectOption", {
            key: s.id,
            ref: "individualSeriesOptions",
            refInFor: !0,
            attrs: {
                series: s,
                "is-selected": t.isSelected(s.id),
                uuid: t.uuid
            },
            on: {
                select: function(n) {
                    return t.onSelect(r + 1)
                }
            }
        })
    })], 2)])])
}
  , b4 = []
  , S4 = x(I4, C4, b4, !1, null, null);
const T4 = S4.exports
  , No = -1
  , A4 = {
    name: "suggestions",
    inheritAttributes: !0,
    directives: {
        ClickOutside: Ft
    },
    props: {
        options: {
            type: Object,
            default: {}
        },
        onInputChange: {
            type: Function,
            required: !0
        },
        onItemSelected: {
            type: Function
        },
        value: {
            type: String,
            required: !0
        }
    },
    data() {
        return {
            extendedOptions: Object.assign({}, {
                debounce: 200,
                placeholder: "",
                inputClass: "input"
            }, this.options),
            query: this.value,
            lastSetQuery: null,
            lastQuerySearched: null,
            items: [],
            activeItemIndex: -1,
            showItems: !1
        }
    },
    computed: {
        show() {
            const t = this.items.length > 0 && this.showItems;
            return this.$emit("show", t),
            t
        }
    },
    beforeMount() {
        this.extendedOptions.debounce !== 0 && (this.start = Date.now(),
        this.onQueryChanged = y.debounce(this.onQueryChanged, this.extendedOptions.debounce))
    },
    watch: {
        query: function(t) {
            t === this.lastSetQuery && t !== "" || (this.onQueryChanged(t),
            this.$emit("input", t))
        },
        value: function(t) {
            this.setInputQuery(t)
        }
    },
    methods: {
        onItemSelectedDefault(t) {
            typeof t == "string" && (this.$emit("input", t),
            this.setInputQuery(t),
            this.hideItems())
        },
        hideItems() {
            this.showItems = !1,
            this.blurInput()
        },
        setInputQuery(t) {
            this.lastSetQuery = t,
            this.query = t
        },
        onKeyDown(t) {
            switch (this.$emit("keyDown", t.keyCode),
            t.keyCode) {
            case 40:
                this.highlightItem("down"),
                t.preventDefault();
                break;
            case 38:
                this.highlightItem("up"),
                t.preventDefault();
                break;
            case 13:
                this.selectItem(),
                t.preventDefault();
                break;
            case 27:
                this.showItems = !1,
                t.preventDefault();
                break;
            default:
                return !0
            }
        },
        selectItem(t) {
            let e = null;
            if (typeof t > "u") {
                if (this.activeItemIndex === -1)
                    return;
                e = this.items[this.activeItemIndex]
            } else
                e = this.items[t];
            !e || e.id === No || (this.onItemSelected ? this.onItemSelected(e) : this.onItemSelectedDefault(e),
            this.hideItems())
        },
        highlightItem(t) {
            if (this.items.length === 0)
                return;
            let e = this.items.findIndex( (n, a) => a === this.activeItemIndex);
            e === -1 ? t === "down" ? e = 0 : e = this.items.length - 1 : t === "down" ? (e++,
            e === this.items.length && (e = 0)) : (e--,
            e < 0 && (e = this.items.length - 1));
            const i = this.$refs.items.children[e]
              , {isHidden: s, y: r} = y.isHiddenByOverflow(i);
            s && this.$refs.items.scrollTo({
                top: r,
                left: 0,
                behavior: "smooth"
            }),
            this.activeItemIndex = e
        },
        setItems(t) {
            t.length === 0 && t.push({
                id: No,
                name: this.$t("commons.no-results")
            }),
            this.items = t,
            this.activeItemIndex = -1,
            this.showItems = !0
        },
        onQueryChanged(t) {
            if (t.length >= 1) {
                const e = this.onInputChange(t);
                if (typeof e > "u" || typeof e == "boolean" || e === null)
                    return;
                this.items = [],
                e instanceof Array ? this.setItems(e) : typeof e.then == "function" && e.then(i => {
                    this.setItems(i)
                }
                )
            } else
                this.items = [];
            this.lastQuerySearched = t
        },
        blurInput() {
            this.$refs.input.blur()
        },
        focusInput() {
            this.$refs.input.focus()
        },
        clearItems() {
            this.items = [],
            this.activeItemIndex = -1
        },
        onFocusInput() {
            this.lastQuerySearched !== null && Qe(this.lastQuerySearched.toLowerCase()) !== Qe(this.query.toLowerCase()) && (this.clearItems(),
            this.onQueryChanged(this.query)),
            this.showItems = !0
        }
    }
};
var w4 = function() {
    var t = this
      , e = t._self._c;
    return e("div", {
        directives: [{
            name: "click-outside",
            rawName: "v-click-outside",
            value: t.hideItems,
            expression: "hideItems"
        }],
        staticClass: "v-suggestions"
    }, [e("input", t._b({
        directives: [{
            name: "model",
            rawName: "v-model",
            value: t.query,
            expression: "query"
        }],
        ref: "input",
        class: t.extendedOptions.inputClass,
        attrs: {
            type: "text",
            autocomplete: "off",
            placeholder: t.extendedOptions.placeholder
        },
        domProps: {
            value: t.query
        },
        on: {
            keydown: t.onKeyDown,
            focus: t.onFocusInput,
            input: function(i) {
                i.target.composing || (t.query = i.target.value)
            }
        }
    }, "input", t.$attrs, !1)), e("div", {
        staticClass: "suggestions"
    }, [e("ul", {
        directives: [{
            name: "show",
            rawName: "v-show",
            value: t.show,
            expression: "show"
        }],
        ref: "items",
        staticClass: "items"
    }, t._l(t.items, function(i, s) {
        return e("li", {
            key: s,
            staticClass: "item",
            class: {
                "is-active": s === t.activeItemIndex
            },
            on: {
                click: function(r) {
                    return r.preventDefault(),
                    t.selectItem(s)
                }
            }
        }, [t._t("item", function() {
            return [t._v(" " + t._s(i) + " ")]
        }, {
            item: i
        })], 2)
    }), 0)])])
}
  , _4 = []
  , L4 = x(A4, w4, _4, !1, null, "72501215");
const O4 = L4.exports
  , x4 = {
    name: "SearchSVG"
};
var M4 = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M16.0977 17.1915C14.7181 18.3218 12.9539 19 11.0312 19C6.61297 19 3.03125 15.4183 3.03125 11C3.03125 6.58172 6.61297 3 11.0312 3C15.4495 3 19.0312 6.58172 19.0312 11C19.0312 12.9555 18.3296 14.7471 17.1644 16.1369L20.7809 19.7534C21.0738 20.0463 21.0738 20.5211 20.7809 20.814C20.488 21.1069 20.0132 21.1069 19.7203 20.814L16.0977 17.1915ZM17.5313 11C17.5313 14.5899 14.6211 17.5 11.0312 17.5C7.4414 17.5 4.53125 14.5899 4.53125 11C4.53125 7.41015 7.4414 4.5 11.0312 4.5C14.6211 4.5 17.5313 7.41015 17.5313 11Z",
            fill: "black"
        }
    })])
}
  , N4 = []
  , R4 = x(x4, M4, N4, !1, null, "d62a812a");
const P4 = R4.exports
  , D4 = {};
var k4 = function() {
    var t = this
      , e = t._self._c;
    return e("svg", {
        staticClass: "svg",
        attrs: {
            width: "17",
            height: "16",
            viewBox: "0 0 17 16",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }
    }, [e("path", {
        attrs: {
            "fill-rule": "evenodd",
            "clip-rule": "evenodd",
            d: "M3.69133 3.29289C4.08185 2.90237 4.71502 2.90237 5.10554 3.29289L8.39844 6.58579L11.6913 3.29289C12.0819 2.90237 12.715 2.90237 13.1055 3.29289C13.4961 3.68342 13.4961 4.31658 13.1055 4.70711L9.81265 8L13.1055 11.2929C13.4961 11.6834 13.4961 12.3166 13.1055 12.7071C12.715 13.0976 12.0819 13.0976 11.6913 12.7071L8.39844 9.41421L5.10554 12.7071C4.71502 13.0976 4.08185 13.0976 3.69133 12.7071C3.30081 12.3166 3.30081 11.6834 3.69133 11.2929L6.98422 8L3.69133 4.70711C3.30081 4.31658 3.30081 3.68342 3.69133 3.29289Z",
            fill: "#D9D9D9"
        }
    })])
}
  , H4 = []
  , z4 = x(D4, k4, H4, !1, null, "28479e41");
const B4 = z4.exports;
let Ga = {};
const F4 = {
    name: "Search",
    components: {
        CloseSearchSVG: B4,
        suggestions: O4,
        SearchSVG: P4
    },
    directives: {
        ClickOutside: Ft
    },
    inject: ["container"],
    data() {
        return {
            searchQuery: "",
            selectedSearchItem: null,
            options: {
                placeholder: this.$t("search.placeholder")
            },
            canSearch: !1,
            suggestionIsOpen: !1,
            isOpen: !1,
            isIsolate: !1,
            NO_RESULT_ID: No
        }
    },
    computed: {
        structureLanguageIsNotLatin() {
            return this.$store.getters["anatomy/currentLanguageId"]() !== J.la
        },
        searchQueryIsEmpty() {
            return this.searchQuery === ""
        },
        displayButtonClose() {
            return !this.searchQueryIsEmpty || this.isIsolate
        },
        isSmallSearch() {
            const t = this.$store.getters["viewer/viewer-width"];
            return Jt.MOBILE <= t && t <= Jt.LAPTOP
        }
    },
    created() {
        const {featureIsolate: t, language: e, translator: i} = k;
        Ga = y.createHooks([{
            on: t.CLEAN_ISOLATE,
            do: () => this.clear()
        }, {
            on: t.START_ISOLATE,
            do: s => this.startSearch(s.detail)
        }, {
            on: [e.CHANGE, i.ADDED],
            do: () => {
                this.selectedSearchItem === null ? this.clear() : this.startSearch({
                    structure_id: this.selectedSearchItem.id,
                    preferredTaxonKey: this.selectedSearchItem.getTaxonKey()
                })
            }
        }])
    },
    beforeMount() {
        y.onBeforeMount(Ga)
    },
    beforeUnmount() {
        y.onBeforeUnmount(Ga)
    },
    methods: {
        eventShowSuggestion(t) {
            this.suggestionIsOpen = t
        },
        onInputChange(t) {
            if (this.canSearch) {
                if (this.selectedSearchItem = null,
                t = t.trim(),
                t.length === 0)
                    return null;
                const e = this.$store.getters["anatomy/searchStructure"](t);
                return this.loadStructureIcons(e),
                e
            }
            return null
        },
        clickSearch() {
            this.isOpen === !1 && (this.isOpen = !0,
            this.$nextTick( () => this.$refs.suggestions.focusInput()))
        },
        onSearchItemSelected(t) {
            if (this.canSearch && (this.selectedSearchItem === null || t.id !== this.selectedSearchItem.id)) {
                const e = this.searchQuery;
                this.searchQuery = t.name,
                this.selectedSearchItem = t,
                this.$store.dispatch("core-context-menu/perform:isolate-structure", {
                    structure_id: t.id,
                    preferredTaxonKey: t.getTaxonKey(),
                    source: nt.SEARCH
                }),
                this.$store.dispatch("anatomy/application:search-click", {
                    searchText: e
                })
            }
        },
        resetIsolate() {
            this.$store.dispatch("core-context-menu/perform:clear-isolate-structure")
        },
        clear() {
            this.selectedSearchItem = null,
            this.searchQuery = "",
            this.isOpen = !1,
            this.isIsolate = !1
        },
        close() {
            var t;
            this.searchQueryIsEmpty && !this.isIsolate && (this.isOpen = !1,
            (t = this.$refs) == null || t.suggestions.blurInput())
        },
        canUserSearch() {
            this.$store.getters["anatomy/hasSubscriberAccess"]() ? (this.canSearch = !0,
            this.isOpen = !0) : this.$store.dispatch("menu/feature-premium:display")
        },
        startSearch({structure_id: t, preferredTaxonKey: e}) {
            const i = this.$store.getters["anatomy/structureById"](t, e);
            this.searchQuery = i.name,
            this.selectedSearchItem = i,
            this.isOpen = !0,
            this.isIsolate = !0
        },
        focusoutSearch() {
            this.isOpen && this.searchQueryIsEmpty && (this.isOpen = !1)
        },
        getStructureIcon(t) {
            return this.$store.getters["anatomy/getStructureIcon"](t)
        },
        highlightQuery(t) {
            if (this.searchQueryIsEmpty || t === null || typeof t > "u")
                return t;
            const e = this.searchQuery.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&")
              , i = [...Qe(t).matchAll(new RegExp(Qe(e),"gi"))]
              , s = yu(this.searchQuery).length - this.searchQuery.length;
            return i.forEach( (r, n) => {
                const a = s * n
                  , o = r.index + a;
                t = t.substring(0, o) + yu(t.substring(o, o + this.searchQuery.length)) + t.substring(o + this.searchQuery.length)
            }
            ),
            t
        },
        textIsNotEmpty(t) {
            return t !== ""
        },
        loadStructureIcons(t) {
            t.forEach(e => {
                this.getStructureIcon(e).then(i => this.$set(e, "iconSrc", i))
            }
            )
        }
    }
};
var V4 = function() {
    var t = this
      , e = t._self._c;
    return e("div", {
        directives: [{
            name: "click-outside",
            rawName: "v-click-outside",
            value: t.close,
            expression: "close"
        }],
        ref: "search-container",
        staticClass: "search-container box-shadow",
        class: {
            "small-search": t.isSmallSearch,
            open: t.isOpen
        }
    }, [e("SearchSVG", {
        staticClass: "search-svg",
        nativeOn: {
            click: function(i) {
                return t.clickSearch.apply(null, arguments)
            }
        }
    }), e("suggestions", {
        ref: "suggestions",
        attrs: {
            options: t.options,
            "on-input-change": t.onInputChange,
            "on-item-selected": t.onSearchItemSelected
        },
        on: {
            show: t.eventShowSuggestion
        },
        nativeOn: {
            focusin: function(i) {
                return t.canUserSearch.apply(null, arguments)
            },
            focusout: function(i) {
                return t.focusoutSearch.apply(null, arguments)
            }
        },
        scopedSlots: t._u([{
            key: "item",
            fn: function(i) {
                return [i.item.id !== t.NO_RESULT_ID ? e("div", {
                    staticClass: "single-item",
                    attrs: {
                        title: i.item.name
                    }
                }, [i.item.iconSrc ? e("img", {
                    attrs: {
                        src: i.item.iconSrc,
                        alt: i.item.name
                    }
                }) : t._e(), e("div", {
                    staticClass: "suggestion-structure-item"
                }, [e("span", {
                    staticClass: "suggestion-structure-name",
                    domProps: {
                        innerHTML: t._s(t.highlightQuery(i.item.name))
                    }
                }), t.textIsNotEmpty(i.item.latin_name) && t.structureLanguageIsNotLatin ? e("span", {
                    staticClass: "suggestion-structure-latin-name",
                    domProps: {
                        innerHTML: t._s(t.highlightQuery(i.item.latin_name))
                    }
                }) : t._e(), t.textIsNotEmpty(i.item.associated_terms) ? e("span", {
                    staticClass: "suggestion-structure-associated_terms",
                    domProps: {
                        innerHTML: t._s(t.highlightQuery(i.item.associated_terms))
                    }
                }) : t._e()])]) : e("div", {
                    staticClass: "single-item"
                }, [e("span", {
                    staticClass: "suggestion-structure-name"
                }, [t._v(t._s(i.item.name))])])]
            }
        }]),
        model: {
            value: t.searchQuery,
            callback: function(i) {
                t.searchQuery = i
            },
            expression: "searchQuery"
        }
    }), t.displayButtonClose ? e("CloseSearchSVG", {
        staticClass: "close-svg",
        nativeOn: {
            click: function(i) {
                return t.resetIsolate.apply(null, arguments)
            }
        }
    }) : t._e()], 1)
}
  , U4 = []
  , G4 = x(F4, V4, U4, !1, null, null);
const $4 = G4.exports
  , j4 = {
    __name: "proxy-banner",
    setup(t) {
        var r;
        function e() {
            return _(this, null, function*() {
                if (!y.isIMAIOSDomain() && typeof window.imageTestProxyUrl < "u")
                    try {
                        yield fetch(window.imageTestProxyUrl)
                    } catch (n) {
                        if (n.message === "Failed to fetch")
                            return !0
                    }
                return !1
            })
        }
        const i = ag(!1)
          , s = (r = window.ezProxyLink) != null ? r : "";
        return Ug( () => _(this, null, function*() {
            i.value = yield e()
        })),
        {
            __sfc: !0,
            checkIfUseProxy: e,
            proxyDetected: i,
            link: s
        }
    }
};
var Y4 = function() {
    var t = this
      , e = t._self._c
      , i = t._self._setupProxy;
    return i.proxyDetected ? e("div", {
        staticClass: "proxy-banner"
    }, [e("div", {
        staticClass: "proxy-banner-text"
    }, [e("p", {
        domProps: {
            innerHTML: t._s(t.$t("proxy-banner.update-config", {
                link: i.link
            }))
        }
    })])]) : t._e()
}
  , W4 = []
  , K4 = x(j4, Y4, W4, !1, null, "53416aed");
const Z4 = K4.exports
  , Q4 = '"Open Sans", sans-serif'
  , X4 = "--body-font-family"
  , xu = {
    labelFontFamilyDefault: Q4,
    labelFontFamilyPropertyName: X4
};
let $a = {};
const q4 = {
    name: "AnatomyViewer",
    components: {
        ProxyBanner: Z4,
        Search: $4,
        SeriesQuickSelect: T4,
        CrossRefToggle: Q5,
        ActionButtons: F5,
        SeriesTitle: D5,
        Gallery: x5,
        MenuToggle: FT,
        PanelStructure: xT,
        ShortcutsPanel: $b,
        FeaturePremium: Ib,
        PremiumBanner: gb,
        OrientationPicture: ub,
        GalleryLeft: cC,
        CrossReferences: eC,
        ViewerMenu: HI,
        ContextMenu: np
    },
    provide() {
        const t = {};
        Object.defineProperty(t, "value", {
            enumerable: !0,
            get: () => this.$refs.container
        });
        const e = {};
        return Object.defineProperty(e, "value", {
            enumerable: !0,
            get: () => this.$refs.viewer
        }),
        {
            container: t,
            viewer: e
        }
    },
    data() {
        return {
            menuRef: {},
            crossRef: {},
            refViewer: null,
            pointerHasMoveWhenWasDown: !1,
            pointerIsDown: !1,
            initialized: !1,
            obs: null,
            enableFakeResize: !1,
            topBarBackground: Mi.DARK
        }
    },
    computed: {
        application_id() {
            return `${this.$store.getters["anatomy/getParentContainerId"]}-anatomy-container`
        },
        contextMenu_id() {
            return `${this.$store.getters["anatomy/getParentContainerId"]}-anatomy-context-menu`
        },
        isLargeTabletScreen() {
            return y.isLargeTabletScreen()
        },
        rightPanelWidth() {
            return this.$store.state.menu.menuIsOpen && this.$store.state.menu.menuIsPinned ? "350px" : "0px"
        },
        structurePanelWidth() {
            return this.$store.state.menu.structurePanelIsOpen ? "410px" : "0"
        },
        crossRefPanelWidth() {
            return this.$store.state.menu.displayCrossReferencesPanel.display ? "min(max(200px, 12%), 20%)" : "0"
        },
        isPhone() {
            return y.isMobileScreen()
        },
        isTablet() {
            return y.isLaptopScreen()
        },
        isRightPanelPinned() {
            return this.$store.state.menu.menuIsPinned && this.$store.state.menu.menuIsOpen
        },
        hideSeriesSelector() {
            return this.$store.getters["anatomy/seriesAndImagesList"].length <= 1
        }
    },
    mounted() {
        this.$store.dispatch("anatomy/create", {
            container_id: this.application_id,
            parentContainer_id: this.$store.getters["anatomy/getParentContainerId"],
            fontFamily: getComputedStyle(document.body).getPropertyValue(xu.labelFontFamilyPropertyName) || xu.labelFontFamilyDefault
        }),
        this.$store.dispatch("viewer/viewer:set-size", {
            width: this.$refs.viewer.offsetWidth,
            height: this.$refs.viewer.offsetHeight
        }),
        this.$store.dispatch("viewer/viewer:set-top", this.$refs.viewer.getBoundingClientRect().top),
        this.$store.dispatch("viewer/viewer:set-left", this.$refs.viewer.getBoundingClientRect().left),
        this.$store.dispatch("viewer/container:set-size", {
            width: this.$refs.container.offsetWidth,
            height: this.$refs.container.offsetHeight
        }),
        this.$store.dispatch("shortcut/refresh-shortcuts");
        const {ui: t} = k;
        y.emit(t.VIEWER.MOUNTED),
        this.$nextTick( () => {
            this.initialized = !0
        }
        )
    },
    created() {
        const {series: t, application: e, ui: i, pointerHandler: s} = k;
        $a = y.createHooks([{
            on: e.RESIZED,
            do: () => {
                this.$store.dispatch("viewer/viewer:set-size", {
                    width: this.$refs.viewer.offsetWidth,
                    height: this.$refs.viewer.offsetHeight
                }),
                this.$store.dispatch("viewer/viewer:set-top", this.$refs.viewer.getBoundingClientRect().top),
                this.$store.dispatch("viewer/viewer:set-left", this.$refs.viewer.getBoundingClientRect().left),
                this.$store.dispatch("viewer/container:set-size", {
                    width: this.$refs.container.offsetWidth,
                    height: this.$refs.container.offsetHeight
                }),
                y.emit(i.VIEWER.HAS_BEEN_RESIZED)
            }
        }, {
            on: t.CHANGE,
            do: () => this.checkTheme()
        }, {
            on: s.DOWN,
            do: () => this.pointerIsDown = !0
        }, {
            on: s.MOVE,
            do: () => {
                this.pointerIsDown && (this.pointerHasMoveWhenWasDown = !0)
            }
        }, {
            on: s.UP,
            do: r => {
                if (r.detail.button === Ji.RIGHT_CLICK && !this.pointerHasMoveWhenWasDown || Se.isMacOS() && r.detail.ctrlKey) {
                    const n = this.$refs["parent-container"].getBoundingClientRect();
                    this.openContextMenu(n, r.detail)
                }
                this.pointerIsDown = !1,
                this.pointerHasMoveWhenWasDown = !1
            }
        }])
    },
    beforeMount() {
        y.onBeforeMount($a)
    },
    beforeUnmount() {
        y.onBeforeUnmount($a)
    },
    methods: {
        openContextMenu(t, e) {
            this.$refs["anatomy-context-menu"].show(t, e)
        },
        checkTheme() {
            const t = this.$store.getters["anatomy/currentSeries"]
              , e = this.$store.getters["anatomy/moduleName"];
            this.topBarBackground = y.setThemeByModality(t.modality_id, e);
            const i = y.getBackgroundColor(t.modality_id);
            this.$refs.viewer.style.backgroundColor = i,
            this.$refs["parent-container"].style.borderColor = i
        },
        resizeViewer(t) {
            t.target === this.$refs.viewer && t.propertyName === "grid-template-columns" && this.$store.dispatch("anatomy/viewer:resize")
        }
    }
};
var J4 = function() {
    var t = this
      , e = t._self._c;
    return e("div", {
        ref: "viewer",
        staticClass: "viewer",
        class: [{
            transitions: t.initialized,
            phone: t.isPhone,
            tablet: t.isTablet,
            "right-pinned": t.isRightPanelPinned,
            "no-select": t.hideSeriesSelector
        }, t.topBarBackground],
        style: {
            "--menu-outer-width": t.rightPanelWidth,
            "--structure-width": t.structurePanelWidth,
            "--crossref-width": t.crossRefPanelWidth
        },
        on: {
            transitionend: t.resizeViewer
        }
    }, [e("section", {
        ref: "parent-container",
        staticClass: "parent-container viewer-zone",
        class: {
            "large-tablet-screen": t.isLargeTabletScreen
        }
    }, [e("div", {
        ref: "container",
        staticClass: "container-viewer",
        attrs: {
            id: t.application_id
        }
    }), e("orientation-picture"), e("context-menu", {
        ref: "anatomy-context-menu",
        attrs: {
            "element-id": t.contextMenu_id,
            "store-handler": "core-context-menu"
        }
    })], 1), e("shortcuts-panel"), e("feature-premium"), e("panel-structure", {
        staticClass: "left-panel"
    }), e("CrossReferences", {
        ref: "crossReferences",
        staticClass: "left-panel"
    }), e("GalleryLeft"), e("PremiumBanner", {
        ref: "premiumBanner",
        class: {
            "premium-banner": !t.isRightPanelPinned,
            "premium-banner-pinned": t.isRightPanelPinned
        }
    }), e("proxy-banner", {
        staticClass: "proxy-banner"
    }), e("div", {
        staticClass: "background",
        attrs: {
            "aria-hidden": "true"
        }
    }), e("SeriesTitle", {
        staticClass: "series-title topbar"
    }), e("CrossRefToggle", {
        staticClass: "crossref-toggle topbar"
    }), e("Search", {
        staticClass: "search topbar"
    }), t.isPhone ? t._e() : e("SeriesQuickSelect", {
        staticClass: "series-quick-select topbar"
    }), e("ActionButtons", {
        staticClass: "action-buttons topbar"
    }), e("MenuToggle", {
        staticClass: "menu-button topbar"
    }), e("ViewerMenu", {
        ref: "menu",
        staticClass: "menu"
    }), e("Gallery")], 1)
}
  , e3 = []
  , t3 = x(q4, J4, e3, !1, null, null);
const i3 = t3.exports
  , s3 = {
    name: "BannerIE",
    computed: {
        isIE() {
            return Se.getIEVersion() !== 0
        }
    }
};
var r3 = function() {
    var t = this
      , e = t._self._c;
    return t.isIE ? e("div", {
        staticClass: "banner-container-ie"
    }, [e("div", {
        staticClass: "ie-icon"
    }, [e("svg", {
        staticClass: "svg-icon",
        attrs: {
            xmlns: "http://www.w3.org/2000/svg",
            viewBox: "0 0 45 44",
            width: "45",
            height: "44"
        }
    }, [e("path", {
        attrs: {
            d: "M 41.9943 13.1676 C 44.0511 8.23147 44.1882 4.11806 41.7201 1.65001 C 38.9778 -1.09044 32.3964 -0.269582 25.4054 3.02115 H 24.5827 C 19.6466 3.02115 14.8495 4.80545 11.2845 7.95724 C 8.26804 10.6995 6.07422 14.2645 5.11442 18.2408 C 5.79999 17.4181 9.63917 12.8933 14.0268 10.4253 C 14.1639 10.4253 15.2608 9.73972 15.2608 9.73972 C 15.1237 9.73972 13.067 11.7964 12.6557 12.2078 C 3.05772 22.08 -2.56212 37.0235 1.82552 41.4093 C 4.70308 44.2887 9.9134 43.6031 15.9464 40.3124 C 18.5516 41.5464 21.431 42.0949 24.5827 42.0949 C 28.6961 42.0949 32.5353 40.998 35.8261 38.8042 C 39.2521 36.6103 41.7201 33.1843 43.2302 29.208 H 32.5353 C 31.1642 31.8132 28.0106 33.5957 24.7199 33.5957 C 20.058 33.5957 16.2188 29.7565 16.0835 25.3689 V 24.9575 H 44.0511 V 24.5462 C 44.0511 23.8606 44.1882 23.0379 44.1882 22.4913 C 44.1882 19.2006 43.3655 16.0469 41.9943 13.1676 V 13.1676 Z M 4.84019 40.5885 C 2.64638 38.3946 3.33377 34.146 5.9371 29.0727 C 7.17113 32.5006 9.22783 35.5171 11.833 37.7109 C 12.6557 38.3965 13.6155 39.082 14.5753 39.6305 C 10.1876 41.9596 6.62267 42.3728 4.84019 40.5885 V 40.5885 Z M 32.9467 19.7508 H 16.2206 V 19.6137 C 16.4949 15.3632 20.4693 11.6611 25.1312 11.6611 C 29.5188 11.6611 33.0838 15.089 33.358 19.6137 V 19.7508 H 32.9467 Z M 41.3088 12.0725 C 40.4861 10.7013 39.3892 9.33021 38.1552 8.2333 C 36.2433 6.45558 34.0094 5.05943 31.5737 4.11988 C 35.9613 2.06501 39.6634 1.79078 41.583 3.71037 C 43.0913 5.49285 42.9541 8.50752 41.3088 12.0725 C 41.3088 12.2096 41.3088 12.2096 41.3088 12.0725 C 41.3088 12.2096 41.3088 12.2096 41.3088 12.0725 V 12.0725 Z"
        }
    })])]), e("div", {
        staticClass: "banner-text-container"
    }, [e("p", {
        domProps: {
            innerHTML: t._s(t.$t("ie.banner.features-not-available"))
        }
    }), e("p", {
        domProps: {
            innerHTML: t._s(t.$t("ie.banner.upgrade-full-message"))
        }
    })])]) : t._e()
}
  , n3 = []
  , a3 = x(s3, r3, n3, !1, null, "2c8898ad");
const o3 = a3.exports
  , l3 = {
    name: "favorites-dialog-popup",
    data() {
        return {
            title: "",
            description: ""
        }
    },
    computed: {
        showError() {
            return this.$store.getters["dialog-popup/display-input-error"]
        }
    }
};
var c3 = function() {
    var t = this
      , e = t._self._c;
    return t._self._setupProxy,
    e("div", [e("input", {
        directives: [{
            name: "model",
            rawName: "v-model",
            value: t.title,
            expression: "title"
        }],
        staticClass: "input",
        attrs: {
            type: "text"
        },
        domProps: {
            value: t.title
        },
        on: {
            input: function(i) {
                i.target.composing || (t.title = i.target.value)
            }
        }
    }), e("textarea", {
        directives: [{
            name: "model",
            rawName: "v-model",
            value: t.description,
            expression: "description"
        }],
        staticClass: "input",
        attrs: {
            type: "text",
            cols: "10",
            rows: "5"
        },
        domProps: {
            value: t.description
        },
        on: {
            input: function(i) {
                i.target.composing || (t.description = i.target.value)
            }
        }
    }), t.showError ? e("p", {
        staticClass: "error-message"
    }, [t._v(" " + t._s(t.$t("dialog.input.error")) + " ")]) : t._e()])
}
  , u3 = []
  , d3 = x(l3, c3, u3, !1, null, "8f630e2d");
const h3 = d3.exports
  , p3 = {
    name: "DialogPopup",
    components: {
        FavoritesDialogPopup: h3
    },
    computed: {
        title() {
            return this.$store.getters["dialog-popup/title"]
        },
        message() {
            return this.$store.getters["dialog-popup/message"]
        },
        display() {
            return this.$store.getters["dialog-popup/display-dialog"]
        },
        displayCancelButton() {
            return this.$store.getters["dialog-popup/display-cancel-button"]
        },
        displayInput() {
            return this.$store.getters["dialog-popup/display-input"]
        },
        inputValue() {
            return this.$store.getters["dialog-popup/input"]
        }
    },
    methods: {
        cancel() {
            this.$store.dispatch("dialog-popup/cancel")
        },
        confirm() {
            if (this.displayInput && this.inputValue !== "") {
                this.$store.dispatch("dialog-popup/displayError");
                return
            }
            this.$store.dispatch("dialog-popup/confirm")
        }
    }
};
var m3 = function() {
    var t = this
      , e = t._self._c;
    return t.display ? e("div", {
        staticClass: "dialog-popup-background"
    }, [e("div", {
        staticClass: "dialog-popup-container"
    }, [e("div", {
        staticClass: "title"
    }, [t._v(" " + t._s(t.title) + " ")]), e("div", {
        staticClass: "message"
    }, [t._v(" " + t._s(t.message) + " ")]), t.displayInput ? e("favorites-dialog-popup") : t._e(), e("div", {
        staticClass: "button-container"
    }, [e("button", {
        staticClass: "button button-confirm",
        on: {
            click: t.confirm
        }
    }, [t._v(" " + t._s(t.$t("dialog.ok")) + " ")]), t.displayCancelButton ? e("button", {
        staticClass: "button button-cancel",
        on: {
            click: t.cancel
        }
    }, [t._v(" " + t._s(t.$t("dialog.cancel")) + " ")]) : t._e()])], 1)]) : t._e()
}
  , g3 = []
  , f3 = x(p3, m3, g3, !1, null, "31bd4208");
const Mu = f3.exports;
let ja = {};
const v3 = {
    components: {
        DialogPopup: Mu,
        ErrorPopup: Mu,
        BannerIE: o3,
        AnatomyViewer: i3,
        LoaderCube: _l
    },
    props: ["id", "application", "moduleId", "title", "language"],
    data() {
        return {
            isFirstWSError: !0
        }
    },
    computed: {
        isLoading() {
            return this.$store.state.isLoading
        },
        loadingMessage() {
            return this.$store.state.loadingMessage || this.$t("loader.loading")
        },
        coverImageModule() {
            return this.$store.getters["anatomy/coverImage"] || null
        },
        getBackgroundColor() {
            return this.$store.getters["anatomy/backgroundColor"] || "#8c8c8c"
        },
        supportEmail() {
            return _h.WORLD
        }
    },
    created() {
        const t = this.$store
          , {filter: e, contrast: i, translator: s, interaction: r, series: n, language: a, slice: o, application: l} = k;
        t.dispatch("anatomy/set-parent-id", this.id);
        const c = this.language || y.getSiteAccess();
        this.$i18n.locale = y.transformSiteAccessToLocal(c),
        t.dispatch("anatomy/application:set-interface-language", J[c]),
        this.$store.dispatch("anatomy/application:initialize", {
            application: this.application,
            moduleId: this.moduleId,
            language: c
        }),
        ja = y.createHooks([{
            on: l.ERROR,
            do: u => {
                const h = y.getErrorCode(u.detail.from);
                y.sendApplicationError(u.detail.error, h),
                this.isLoading && this.isFirstWSError ? (this.isFirstWSError = !1,
                t.dispatch("dialog-popup/display", {
                    title: this.$t("error.title"),
                    message: this.$t("error.commons", {
                        errorCode: h,
                        email: this.supportEmail
                    }),
                    displayCancelButton: !1
                })) : this.isLoading || t.dispatch("dialog-popup/display", {
                    title: this.$t("error.title"),
                    message: this.$t("error.commons", {
                        errorCode: h,
                        email: this.supportEmail
                    }),
                    displayCancelButton: !1
                })
            }
        }, {
            on: l.MODULE_DATA_LOADED,
            do: u => {
                t.dispatch("anatomy/application:set-background-color"),
                t.dispatch("anatomy/application:set-cover-image"),
                t.dispatch("anatomy/application:set-module-name", u.detail.moduleName)
            }
        }, {
            on: l.READY,
            do: () => t.commit("stopLoading")
        }, {
            on: [l.FONT_SIZE_UPDATED, l.RENDERING_FIRST_FRAME],
            do: () => t.dispatch("anatomy/font-size:update")
        }, {
            on: e.LOADED,
            do: () => t.dispatch("anatomy/filter:update")
        }, {
            on: i.LOADED,
            do: () => {
                t.dispatch("anatomy/contrast:update-other-series-have-more-than-one-contrast"),
                t.dispatch("anatomy/contrast:update")
            }
        }, {
            on: s.ADDED,
            do: () => {
                t.dispatch("anatomy/slice:update"),
                t.dispatch("anatomy/series:update"),
                t.dispatch("anatomy/filter:update"),
                t.dispatch("anatomy/contrast:update")
            }
        }, {
            on: r.CHANGE,
            do: () => t.dispatch("action/interaction:update")
        }, {
            on: n.CHANGE,
            do: () => {
                t.dispatch("anatomy/series:update"),
                t.dispatch("anatomy/contrast:update")
            }
        }, {
            on: a.LOADED,
            do: () => {
                t.dispatch("anatomy/language:get"),
                t.dispatch("anatomy/slice:update"),
                t.dispatch("anatomy/series:update"),
                t.dispatch("anatomy/contrast:update"),
                t.dispatch("anatomy/filter:update")
            }
        }, {
            on: a.CHANGE,
            do: () => {
                t.dispatch("anatomy/language:get"),
                t.dispatch("anatomy/slice:update"),
                t.dispatch("anatomy/series:update"),
                t.dispatch("anatomy/filter:update"),
                t.dispatch("anatomy/contrast:update")
            }
        }, {
            on: o.CHANGE,
            do: () => t.dispatch("anatomy/slice:update")
        }, {
            on: o.SLICE_INDEX_CHANGE,
            do: () => {
                t.dispatch("anatomy/slice:updateRelativeIndex"),
                t.dispatch("anatomy/application:update-mode-series")
            }
        }, {
            on: i.SELECTED,
            do: () => t.dispatch("anatomy/contrast:update")
        }])
    },
    mounted() {
        this.$store.commit("startLoading", this.title)
    },
    beforeMount() {
        y.onBeforeMount(ja)
    },
    beforeUnmount() {
        y.onBeforeUnmount(ja)
    }
};
var y3 = function() {
    var t = this
      , e = t._self._c;
    return e("div", {
        staticClass: "imaios-app-container",
        attrs: {
            id: t.id
        }
    }, [e("BannerIE"), e("AnatomyViewer"), e("dialog-popup"), t.isLoading ? e("div", {
        staticClass: "loader-container",
        style: {
            background: t.getBackgroundColor
        }
    }, [e("LoaderCube", {
        staticClass: "loader",
        attrs: {
            "message-label": t.loadingMessage
        }
    }), e("img", {
        staticClass: "image-cover",
        class: {
            loading: t.coverImageModule === null
        },
        attrs: {
            src: t.coverImageModule,
            alt: t.moduleId
        }
    })], 1) : t._e()], 1)
}
  , E3 = []
  , I3 = x(v3, y3, E3, !1, null, null);
const C3 = I3.exports;
/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */
function b3(t) {
    var e = Number(t.version.split(".")[0]);
    if (e >= 2)
        t.mixin({
            beforeCreate: s
        });
    else {
        var i = t.prototype._init;
        t.prototype._init = function(r) {
            r === void 0 && (r = {}),
            r.init = r.init ? [s].concat(r.init) : s,
            i.call(this, r)
        }
    }
    function s() {
        var r = this.$options;
        r.store ? this.$store = typeof r.store == "function" ? r.store() : r.store : r.parent && r.parent.$store && (this.$store = r.parent.$store)
    }
}
var S3 = typeof window < "u" ? window : typeof global < "u" ? global : {}
  , hs = S3.__VUE_DEVTOOLS_GLOBAL_HOOK__;
function T3(t) {
    hs && (t._devtoolHook = hs,
    hs.emit("vuex:init", t),
    hs.on("vuex:travel-to-state", function(e) {
        t.replaceState(e)
    }),
    t.subscribe(function(e, i) {
        hs.emit("vuex:mutation", e, i)
    }, {
        prepend: !0
    }),
    t.subscribeAction(function(e, i) {
        hs.emit("vuex:action", e, i)
    }, {
        prepend: !0
    }))
}
function A3(t, e) {
    return t.filter(e)[0]
}
function Ro(t, e) {
    if (e === void 0 && (e = []),
    t === null || typeof t != "object")
        return t;
    var i = A3(e, function(r) {
        return r.original === t
    });
    if (i)
        return i.copy;
    var s = Array.isArray(t) ? [] : {};
    return e.push({
        original: t,
        copy: s
    }),
    Object.keys(t).forEach(function(r) {
        s[r] = Ro(t[r], e)
    }),
    s
}
function zs(t, e) {
    Object.keys(t).forEach(function(i) {
        return e(t[i], i)
    })
}
function hp(t) {
    return t !== null && typeof t == "object"
}
function w3(t) {
    return t && typeof t.then == "function"
}
function _3(t, e) {
    return function() {
        return t(e)
    }
}
var Vt = function(t, e) {
    this.runtime = e,
    this._children = Object.create(null),
    this._rawModule = t;
    var i = t.state;
    this.state = (typeof i == "function" ? i() : i) || {}
}
  , pp = {
    namespaced: {
        configurable: !0
    }
};
pp.namespaced.get = function() {
    return !!this._rawModule.namespaced
}
;
Vt.prototype.addChild = function(t, e) {
    this._children[t] = e
}
;
Vt.prototype.removeChild = function(t) {
    delete this._children[t]
}
;
Vt.prototype.getChild = function(t) {
    return this._children[t]
}
;
Vt.prototype.hasChild = function(t) {
    return t in this._children
}
;
Vt.prototype.update = function(t) {
    this._rawModule.namespaced = t.namespaced,
    t.actions && (this._rawModule.actions = t.actions),
    t.mutations && (this._rawModule.mutations = t.mutations),
    t.getters && (this._rawModule.getters = t.getters)
}
;
Vt.prototype.forEachChild = function(t) {
    zs(this._children, t)
}
;
Vt.prototype.forEachGetter = function(t) {
    this._rawModule.getters && zs(this._rawModule.getters, t)
}
;
Vt.prototype.forEachAction = function(t) {
    this._rawModule.actions && zs(this._rawModule.actions, t)
}
;
Vt.prototype.forEachMutation = function(t) {
    this._rawModule.mutations && zs(this._rawModule.mutations, t)
}
;
Object.defineProperties(Vt.prototype, pp);
var as = function(t) {
    this.register([], t, !1)
};
as.prototype.get = function(t) {
    return t.reduce(function(e, i) {
        return e.getChild(i)
    }, this.root)
}
;
as.prototype.getNamespace = function(t) {
    var e = this.root;
    return t.reduce(function(i, s) {
        return e = e.getChild(s),
        i + (e.namespaced ? s + "/" : "")
    }, "")
}
;
as.prototype.update = function(t) {
    mp([], this.root, t)
}
;
as.prototype.register = function(t, e, i) {
    var s = this;
    i === void 0 && (i = !0);
    var r = new Vt(e,i);
    if (t.length === 0)
        this.root = r;
    else {
        var n = this.get(t.slice(0, -1));
        n.addChild(t[t.length - 1], r)
    }
    e.modules && zs(e.modules, function(a, o) {
        s.register(t.concat(o), a, i)
    })
}
;
as.prototype.unregister = function(t) {
    var e = this.get(t.slice(0, -1))
      , i = t[t.length - 1]
      , s = e.getChild(i);
    s && s.runtime && e.removeChild(i)
}
;
as.prototype.isRegistered = function(t) {
    var e = this.get(t.slice(0, -1))
      , i = t[t.length - 1];
    return e ? e.hasChild(i) : !1
}
;
function mp(t, e, i) {
    if (e.update(i),
    i.modules)
        for (var s in i.modules) {
            if (!e.getChild(s))
                return;
            mp(t.concat(s), e.getChild(s), i.modules[s])
        }
}
var at, vt = function(e) {
    var i = this;
    e === void 0 && (e = {}),
    !at && typeof window < "u" && window.Vue && vp(window.Vue);
    var s = e.plugins;
    s === void 0 && (s = []);
    var r = e.strict;
    r === void 0 && (r = !1),
    this._committing = !1,
    this._actions = Object.create(null),
    this._actionSubscribers = [],
    this._mutations = Object.create(null),
    this._wrappedGetters = Object.create(null),
    this._modules = new as(e),
    this._modulesNamespaceMap = Object.create(null),
    this._subscribers = [],
    this._watcherVM = new at,
    this._makeLocalGettersCache = Object.create(null);
    var n = this
      , a = this
      , o = a.dispatch
      , l = a.commit;
    this.dispatch = function(h, d) {
        return o.call(n, h, d)
    }
    ,
    this.commit = function(h, d, m) {
        return l.call(n, h, d, m)
    }
    ,
    this.strict = r;
    var c = this._modules.root.state;
    Bn(this, c, [], this._modules.root),
    Ol(this, c),
    s.forEach(function(h) {
        return h(i)
    });
    var u = e.devtools !== void 0 ? e.devtools : at.config.devtools;
    u && T3(this)
}, Ll = {
    state: {
        configurable: !0
    }
};
Ll.state.get = function() {
    return this._vm._data.$$state
}
;
Ll.state.set = function(t) {}
;
vt.prototype.commit = function(t, e, i) {
    var s = this
      , r = Tn(t, e, i)
      , n = r.type
      , a = r.payload
      , o = {
        type: n,
        payload: a
    }
      , l = this._mutations[n];
    l && (this._withCommit(function() {
        l.forEach(function(c) {
            c(a)
        })
    }),
    this._subscribers.slice().forEach(function(c) {
        return c(o, s.state)
    }))
}
;
vt.prototype.dispatch = function(t, e) {
    var i = this
      , s = Tn(t, e)
      , r = s.type
      , n = s.payload
      , a = {
        type: r,
        payload: n
    }
      , o = this._actions[r];
    if (o) {
        try {
            this._actionSubscribers.slice().filter(function(c) {
                return c.before
            }).forEach(function(c) {
                return c.before(a, i.state)
            })
        } catch (c) {}
        var l = o.length > 1 ? Promise.all(o.map(function(c) {
            return c(n)
        })) : o[0](n);
        return new Promise(function(c, u) {
            l.then(function(h) {
                try {
                    i._actionSubscribers.filter(function(d) {
                        return d.after
                    }).forEach(function(d) {
                        return d.after(a, i.state)
                    })
                } catch (d) {}
                c(h)
            }, function(h) {
                try {
                    i._actionSubscribers.filter(function(d) {
                        return d.error
                    }).forEach(function(d) {
                        return d.error(a, i.state, h)
                    })
                } catch (d) {}
                u(h)
            })
        }
        )
    }
}
;
vt.prototype.subscribe = function(t, e) {
    return gp(t, this._subscribers, e)
}
;
vt.prototype.subscribeAction = function(t, e) {
    var i = typeof t == "function" ? {
        before: t
    } : t;
    return gp(i, this._actionSubscribers, e)
}
;
vt.prototype.watch = function(t, e, i) {
    var s = this;
    return this._watcherVM.$watch(function() {
        return t(s.state, s.getters)
    }, e, i)
}
;
vt.prototype.replaceState = function(t) {
    var e = this;
    this._withCommit(function() {
        e._vm._data.$$state = t
    })
}
;
vt.prototype.registerModule = function(t, e, i) {
    i === void 0 && (i = {}),
    typeof t == "string" && (t = [t]),
    this._modules.register(t, e),
    Bn(this, this.state, t, this._modules.get(t), i.preserveState),
    Ol(this, this.state)
}
;
vt.prototype.unregisterModule = function(t) {
    var e = this;
    typeof t == "string" && (t = [t]),
    this._modules.unregister(t),
    this._withCommit(function() {
        var i = xl(e.state, t.slice(0, -1));
        at.delete(i, t[t.length - 1])
    }),
    fp(this)
}
;
vt.prototype.hasModule = function(t) {
    return typeof t == "string" && (t = [t]),
    this._modules.isRegistered(t)
}
;
vt.prototype.hotUpdate = function(t) {
    this._modules.update(t),
    fp(this, !0)
}
;
vt.prototype._withCommit = function(t) {
    var e = this._committing;
    this._committing = !0,
    t(),
    this._committing = e
}
;
Object.defineProperties(vt.prototype, Ll);
function gp(t, e, i) {
    return e.indexOf(t) < 0 && (i && i.prepend ? e.unshift(t) : e.push(t)),
    function() {
        var s = e.indexOf(t);
        s > -1 && e.splice(s, 1)
    }
}
function fp(t, e) {
    t._actions = Object.create(null),
    t._mutations = Object.create(null),
    t._wrappedGetters = Object.create(null),
    t._modulesNamespaceMap = Object.create(null);
    var i = t.state;
    Bn(t, i, [], t._modules.root, !0),
    Ol(t, i, e)
}
function Ol(t, e, i) {
    var s = t._vm;
    t.getters = {},
    t._makeLocalGettersCache = Object.create(null);
    var r = t._wrappedGetters
      , n = {};
    zs(r, function(o, l) {
        n[l] = _3(o, t),
        Object.defineProperty(t.getters, l, {
            get: function() {
                return t._vm[l]
            },
            enumerable: !0
        })
    });
    var a = at.config.silent;
    at.config.silent = !0,
    t._vm = new at({
        data: {
            $$state: e
        },
        computed: n
    }),
    at.config.silent = a,
    t.strict && R3(t),
    s && (i && t._withCommit(function() {
        s._data.$$state = null
    }),
    at.nextTick(function() {
        return s.$destroy()
    }))
}
function Bn(t, e, i, s, r) {
    var n = !i.length
      , a = t._modules.getNamespace(i);
    if (s.namespaced && (t._modulesNamespaceMap[a],
    t._modulesNamespaceMap[a] = s),
    !n && !r) {
        var o = xl(e, i.slice(0, -1))
          , l = i[i.length - 1];
        t._withCommit(function() {
            at.set(o, l, s.state)
        })
    }
    var c = s.context = L3(t, a, i);
    s.forEachMutation(function(u, h) {
        var d = a + h;
        x3(t, d, u, c)
    }),
    s.forEachAction(function(u, h) {
        var d = u.root ? h : a + h
          , m = u.handler || u;
        M3(t, d, m, c)
    }),
    s.forEachGetter(function(u, h) {
        var d = a + h;
        N3(t, d, u, c)
    }),
    s.forEachChild(function(u, h) {
        Bn(t, e, i.concat(h), u, r)
    })
}
function L3(t, e, i) {
    var s = e === ""
      , r = {
        dispatch: s ? t.dispatch : function(n, a, o) {
            var l = Tn(n, a, o)
              , c = l.payload
              , u = l.options
              , h = l.type;
            return (!u || !u.root) && (h = e + h),
            t.dispatch(h, c)
        }
        ,
        commit: s ? t.commit : function(n, a, o) {
            var l = Tn(n, a, o)
              , c = l.payload
              , u = l.options
              , h = l.type;
            (!u || !u.root) && (h = e + h),
            t.commit(h, c, u)
        }
    };
    return Object.defineProperties(r, {
        getters: {
            get: s ? function() {
                return t.getters
            }
            : function() {
                return O3(t, e)
            }
        },
        state: {
            get: function() {
                return xl(t.state, i)
            }
        }
    }),
    r
}
function O3(t, e) {
    if (!t._makeLocalGettersCache[e]) {
        var i = {}
          , s = e.length;
        Object.keys(t.getters).forEach(function(r) {
            if (r.slice(0, s) === e) {
                var n = r.slice(s);
                Object.defineProperty(i, n, {
                    get: function() {
                        return t.getters[r]
                    },
                    enumerable: !0
                })
            }
        }),
        t._makeLocalGettersCache[e] = i
    }
    return t._makeLocalGettersCache[e]
}
function x3(t, e, i, s) {
    var r = t._mutations[e] || (t._mutations[e] = []);
    r.push(function(n) {
        i.call(t, s.state, n)
    })
}
function M3(t, e, i, s) {
    var r = t._actions[e] || (t._actions[e] = []);
    r.push(function(n) {
        var a = i.call(t, {
            dispatch: s.dispatch,
            commit: s.commit,
            getters: s.getters,
            state: s.state,
            rootGetters: t.getters,
            rootState: t.state
        }, n);
        return w3(a) || (a = Promise.resolve(a)),
        t._devtoolHook ? a.catch(function(o) {
            throw t._devtoolHook.emit("vuex:error", o),
            o
        }) : a
    })
}
function N3(t, e, i, s) {
    t._wrappedGetters[e] || (t._wrappedGetters[e] = function(r) {
        return i(s.state, s.getters, r.state, r.getters)
    }
    )
}
function R3(t) {
    t._vm.$watch(function() {
        return this._data.$$state
    }, function() {}, {
        deep: !0,
        sync: !0
    })
}
function xl(t, e) {
    return e.reduce(function(i, s) {
        return i[s]
    }, t)
}
function Tn(t, e, i) {
    return hp(t) && t.type && (i = e,
    e = t,
    t = t.type),
    {
        type: t,
        payload: e,
        options: i
    }
}
function vp(t) {
    at && t === at || (at = t,
    b3(at))
}
var yp = Vn(function(t, e) {
    var i = {};
    return Fn(e).forEach(function(s) {
        var r = s.key
          , n = s.val;
        i[r] = function() {
            var a = this.$store.state
              , o = this.$store.getters;
            if (t) {
                var l = Un(this.$store, "mapState", t);
                if (!l)
                    return;
                a = l.context.state,
                o = l.context.getters
            }
            return typeof n == "function" ? n.call(this, a, o) : a[n]
        }
        ,
        i[r].vuex = !0
    }),
    i
})
  , Ep = Vn(function(t, e) {
    var i = {};
    return Fn(e).forEach(function(s) {
        var r = s.key
          , n = s.val;
        i[r] = function() {
            for (var a = [], o = arguments.length; o--; )
                a[o] = arguments[o];
            var l = this.$store.commit;
            if (t) {
                var c = Un(this.$store, "mapMutations", t);
                if (!c)
                    return;
                l = c.context.commit
            }
            return typeof n == "function" ? n.apply(this, [l].concat(a)) : l.apply(this.$store, [n].concat(a))
        }
    }),
    i
})
  , Ip = Vn(function(t, e) {
    var i = {};
    return Fn(e).forEach(function(s) {
        var r = s.key
          , n = s.val;
        n = t + n,
        i[r] = function() {
            if (!(t && !Un(this.$store, "mapGetters", t)))
                return this.$store.getters[n]
        }
        ,
        i[r].vuex = !0
    }),
    i
})
  , Cp = Vn(function(t, e) {
    var i = {};
    return Fn(e).forEach(function(s) {
        var r = s.key
          , n = s.val;
        i[r] = function() {
            for (var a = [], o = arguments.length; o--; )
                a[o] = arguments[o];
            var l = this.$store.dispatch;
            if (t) {
                var c = Un(this.$store, "mapActions", t);
                if (!c)
                    return;
                l = c.context.dispatch
            }
            return typeof n == "function" ? n.apply(this, [l].concat(a)) : l.apply(this.$store, [n].concat(a))
        }
    }),
    i
})
  , P3 = function(t) {
    return {
        mapState: yp.bind(null, t),
        mapGetters: Ip.bind(null, t),
        mapMutations: Ep.bind(null, t),
        mapActions: Cp.bind(null, t)
    }
};
function Fn(t) {
    return D3(t) ? Array.isArray(t) ? t.map(function(e) {
        return {
            key: e,
            val: e
        }
    }) : Object.keys(t).map(function(e) {
        return {
            key: e,
            val: t[e]
        }
    }) : []
}
function D3(t) {
    return Array.isArray(t) || hp(t)
}
function Vn(t) {
    return function(e, i) {
        return typeof e != "string" ? (i = e,
        e = "") : e.charAt(e.length - 1) !== "/" && (e += "/"),
        t(e, i)
    }
}
function Un(t, e, i) {
    var s = t._modulesNamespaceMap[i];
    return s
}
function k3(t) {
    t === void 0 && (t = {});
    var e = t.collapsed;
    e === void 0 && (e = !0);
    var i = t.filter;
    i === void 0 && (i = function(u, h, d) {
        return !0
    }
    );
    var s = t.transformer;
    s === void 0 && (s = function(u) {
        return u
    }
    );
    var r = t.mutationTransformer;
    r === void 0 && (r = function(u) {
        return u
    }
    );
    var n = t.actionFilter;
    n === void 0 && (n = function(u, h) {
        return !0
    }
    );
    var a = t.actionTransformer;
    a === void 0 && (a = function(u) {
        return u
    }
    );
    var o = t.logMutations;
    o === void 0 && (o = !0);
    var l = t.logActions;
    l === void 0 && (l = !0);
    var c = t.logger;
    return c === void 0 && (c = console),
    function(u) {
        var h = Ro(u.state);
        typeof c > "u" || (o && u.subscribe(function(d, m) {
            var p = Ro(m);
            if (i(d, h, p)) {
                var f = Pu()
                  , g = r(d)
                  , E = "mutation " + d.type + f;
                Nu(c, E, e),
                c.log("%c prev state", "color: #9E9E9E; font-weight: bold", s(h)),
                c.log("%c mutation", "color: #03A9F4; font-weight: bold", g),
                c.log("%c next state", "color: #4CAF50; font-weight: bold", s(p)),
                Ru(c)
            }
            h = p
        }),
        l && u.subscribeAction(function(d, m) {
            if (n(d, m)) {
                var p = Pu()
                  , f = a(d)
                  , g = "action " + d.type + p;
                Nu(c, g, e),
                c.log("%c action", "color: #03A9F4; font-weight: bold", f),
                Ru(c)
            }
        }))
    }
}
function Nu(t, e, i) {
    var s = i ? t.groupCollapsed : t.group;
    try {
        s.call(t, e)
    } catch (r) {
        t.log(e)
    }
}
function Ru(t) {
    try {
        t.groupEnd()
    } catch (e) {
        t.log("—— log end ——")
    }
}
function Pu() {
    var t = new Date;
    return " @ " + Vr(t.getHours(), 2) + ":" + Vr(t.getMinutes(), 2) + ":" + Vr(t.getSeconds(), 2) + "." + Vr(t.getMilliseconds(), 3)
}
function H3(t, e) {
    return new Array(e + 1).join(t)
}
function Vr(t, e) {
    return H3("0", e - t.toString().length) + t
}
var bp = {
    Store: vt,
    install: vp,
    version: "3.6.2",
    mapState: yp,
    mapMutations: Ep,
    mapGetters: Ip,
    mapActions: Cp,
    createNamespacedHelpers: P3,
    createLogger: k3
};
class Sp extends Error {
    constructor(e) {
        super(`Unable to find Element with selector "${e}".`),
        this.name = this.constructor.name
    }
}
class z3 extends Error {
    constructor(e) {
        super(e),
        this.name = this.constructor.name
    }
}
const Ya = () => {}
;
class tr {
    constructor(e={}) {
        this.name = e.name,
        this.data = {
            isSelected: !1,
            isHover: !1
        },
        this.handlers = {
            update: e.update || Ya,
            resize: e.resize || Ya,
            refresh: e.refresh || Ya
        },
        this.hooks = {
            transformCoordinatesOnCollisionCheck: e.transformCoordinatesOnCollisionCheck || null
        },
        this.visibility = !1,
        this.sensivity = e.sensitivity || 5,
        this.setupStyle(e)
    }
    setVisibility(e) {
        this.visibility = e
    }
    isVisible() {
        return this.visibility
    }
    setupStyle(e={}) {
        this.data.style = {
            cursor: {
                hover: "auto"
            }
        },
        e.style && e.style.cursor && e.style.cursor.hover && (this.data.style.cursor.hover = e.style.cursor.hover)
    }
    refresh() {
        this.handlers.refresh()
    }
    onMouseOver(e) {
        this.data.isHover = !0,
        this.refresh()
    }
    onMouseOut(e) {
        this.data.isHover = !1,
        this.refresh()
    }
    resize(e, i, s) {
        this.handlers.resize(e, i, s)
    }
    update(e) {
        this.handlers.update(this, e)
    }
    onMouseDown(e, i, s) {
        this.data.isSelected = !0
    }
    onMouseUp(e, i, s) {
        this.data.isSelected = !1
    }
}
class B3 extends Me {
    constructor(e={}) {
        super(e),
        this.publish("component-created")
    }
    onSetup(e) {
        super.onSetup(e),
        this.data.color = e.color || "#000000",
        this.data.coordinates = {},
        this.data.resizerSelected = !1
    }
    setColor(e) {
        this.data.color = e
    }
    getCollisionBox(e={}) {}
    getResizerCollisionBox(e={}) {}
    checkCollisionWithPointer(e={}) {}
    checkOriginResizerCollisionWithPointer(e={}) {}
    setCoords(e={}) {}
    getCoords(e={}) {
        return this.data.coordinates
    }
    drawResizeZone(e={}) {}
    translate(e) {}
    translateByImageCoords(e) {}
    resize(e={}) {
        const i = this.getCoords(e);
        this.data.resizerSelected instanceof tr && this.data.resizerSelected.resize(e.x, e.y, i)
    }
    onPointerDown(e) {
        this.checkResizerCollisionWithPointer(e).hasCollision && (this.data.resizerSelected = !0)
    }
    findCollisionWithResizer(e={}) {
        const i = this.checkResizerCollisionWithPointer(e);
        return (i.hasCollision === !0 || this.checkOriginResizerCollisionWithPointer(e)) && i.resizer instanceof tr ? i.resizer : null
    }
    onPointerOver(e) {
        this.resizers.forEach(s => {
            s.onMouseOut(e)
        }
        );
        const i = this.findCollisionWithResizer(e);
        i instanceof tr ? i.onMouseOver(e) : this.setCursor("move")
    }
    onMouseOut(e, i, s) {
        this.setCursor(null),
        this.resizers.forEach(r => {
            r.data.isHover === !0 && r.onMouseOut(e, i, s)
        }
        )
    }
    setCursor(e) {
        this.publish("request-change-cursor", e)
    }
    onPointerUp(e, i, s) {
        this.data.resizerSelected = !1
    }
    onPointerMove(e, i, s) {
        this.data.resizerSelected ? this.resize(e) : this.translate(e)
    }
}
const F3 = 2 * Math.PI;
class Ur extends tr {
    constructor(e={}) {
        super(T({
            sensivity: 10
        }, e)),
        this.data.x = e.x,
        this.data.y = e.y,
        this.data.color = e.color || "#FFFFFF",
        this.data.radius = e.radius || 10
    }
    setRadius(e) {
        this.data.radius = e
    }
    setCoords(e=0, i=0) {
        this.data.x = e,
        this.data.y = i
    }
    checkCollision(e, i) {
        let s = this.data.x
          , r = this.data.y;
        if (typeof this.hooks.transformCoordinatesOnCollisionCheck == "function") {
            const l = this.hooks.transformCoordinatesOnCollisionCheck({
                x: s,
                y: r
            });
            s = l.x,
            r = l.y
        }
        const n = s - e
          , a = r - i
          , o = this.data.radius + this.sensivity;
        return o * o - (n * n + a * a) >= 0
    }
    render(e, i={}) {
        e.beginPath(),
        e.arc(this.data.x, this.data.y, this.data.radius, 0, F3),
        e.strokeStyle = "#999999",
        e.fillStyle = "#FFFFFF",
        e.stroke(),
        e.fill(),
        e.closePath(),
        this.data.isHover === !0 && (i.canvas.style.cursor = this.data.style.cursor.hover)
    }
}
class Gr extends tr {
    constructor(e={}) {
        super(T({
            sensivity: 10
        }, e)),
        this.data.x = e.x,
        this.data.y = e.y,
        this.data.color = e.color || "#FFFFFF",
        this.data.radius = e.radius || 10,
        this.data.direction = e.direction || "horizontal"
    }
    setRadius(e) {
        this.data.radius = e
    }
    setCoords(e=0, i=0) {
        this.data.x = e,
        this.data.y = i
    }
    checkCollision(e, i) {
        let s = this.data.x
          , r = this.data.y;
        if (typeof this.hooks.transformCoordinatesOnCollisionCheck == "function") {
            const l = this.hooks.transformCoordinatesOnCollisionCheck({
                x: s,
                y: r
            });
            s = l.x,
            r = l.y
        }
        const n = s - e
          , a = r - i
          , o = this.data.radius + this.sensivity;
        return o * o - (n * n + a * a) >= 0
    }
    render(e, i={}) {
        e.beginPath();
        const s = this.data.radius;
        if (this.data.direction === "horizontal") {
            const r = s * 2
              , n = r * 3
              , a = this.data.x - n / 2
              , o = this.data.y - r / 2;
            e.arc(a + s, o + s, s, Math.PI / 2, Math.PI * 1.5),
            e.lineTo(a + n - s, o),
            e.arc(a + n - s, o + s, s, Math.PI * 1.5, Math.PI / 2),
            e.lineTo(a + s, o + r)
        } else if (this.data.direction === "vertical") {
            const r = s * 2
              , n = r * 3
              , a = this.data.x - r / 2
              , o = this.data.y - n / 2;
            e.arc(a + s, o + s, s, Math.PI, 0),
            e.lineTo(a + r, o + n - s),
            e.arc(a + s, o + n - s, s, 0, Math.PI),
            e.lineTo(a, o + s)
        }
        e.closePath(),
        e.strokeStyle = "#999999",
        e.fillStyle = "#FFFFFF",
        e.stroke(),
        e.fill(),
        this.data.isHover === !0 && (i.canvas.style.cursor = this.data.style.cursor.hover)
    }
}
const V3 = {
    generate: (t={}) => {
        const e = t.radius || 10
          , i = t.color;
        t.component;
        const s = 25
          , r = 25
          , n = {
            refresh: () => {}
            ,
            radius: e,
            color: i
        };
        return [new Ur(T({
            name: "top-left",
            update: (a, o) => {
                a.setCoords(o.left, o.top)
            }
            ,
            style: {
                cursor: {
                    hover: "nwse-resize"
                }
            },
            resize: (a, o, l) => {
                const c = l.startX + l.width
                  , u = l.startY + l.height;
                c - a > r && (l.startX = a,
                l.width = c - l.startX,
                l.centerX = l.startX + l.width / 2,
                l.endX = l.centerX + l.width / 2),
                u - o > s && (l.startY = o,
                l.height = u - l.startY,
                l.centerY = l.startY + l.height / 2,
                l.endY = l.centerY + l.height / 2)
            }
        }, n)), new Gr(T({
            name: "middle-left",
            direction: "vertical",
            style: {
                cursor: {
                    hover: "ew-resize"
                }
            },
            update: (a, o) => {
                a.setCoords(o.left, o.middle_y)
            }
            ,
            resize: (a, o, l) => {
                const c = l.startX + l.width;
                c - a > r && (l.startX = a,
                l.width = c - a,
                l.centerX = l.startX + l.width / 2,
                l.endX = l.centerX + l.width / 2,
                l.endY = l.centerY + l.height / 2)
            }
        }, n)), new Ur(T({
            name: "bottom-left",
            update: (a, o) => {
                a.setCoords(o.left, o.bottom)
            }
            ,
            style: {
                cursor: {
                    hover: "nesw-resize"
                }
            },
            resize: (a, o, l) => {
                const c = o
                  , u = l.startX + l.width;
                u - a > r && (l.startX = a,
                l.width = u - a,
                l.centerX = l.startX + l.width / 2,
                l.endX = l.centerX + l.width / 2),
                c - l.startY > s && (l.height = c - l.startY,
                l.centerY = l.startY + l.height / 2,
                l.endY = l.centerY + l.height / 2)
            }
        }, n)), new Gr(T({
            name: "top-middle",
            direction: "horizontal",
            update: (a, o) => {
                a.setCoords(o.middle_x, o.top)
            }
            ,
            style: {
                cursor: {
                    hover: "ns-resize"
                }
            },
            resize: (a, o, l) => {
                const c = l.startY + l.height;
                c - o > s && (l.startY = o,
                l.height = c - o,
                l.centerY = l.startY + l.height / 2,
                l.height = Math.abs(l.height),
                l.endX = l.centerX + l.width / 2,
                l.endY = l.centerY + l.height / 2)
            }
        }, n)), new Gr(T({
            name: "bottom-middle",
            direction: "horizontal",
            update: (a, o) => {
                a.setCoords(o.middle_x, o.bottom)
            }
            ,
            style: {
                cursor: {
                    hover: "ns-resize"
                }
            },
            resize: (a, o, l) => {
                const c = o;
                c - l.startY > s && (l.height = c - l.startY,
                l.centerY = l.startY + l.height / 2,
                l.endX = l.centerX + l.width / 2,
                l.endY = l.centerY + l.height / 2)
            }
        }, n)), new Ur(T({
            name: "top-right",
            update: (a, o) => {
                a.setCoords(o.right, o.top)
            }
            ,
            style: {
                cursor: {
                    hover: "nesw-resize"
                }
            },
            resize: (a, o, l) => {
                const c = a
                  , u = l.startY + l.height;
                c - l.startX > r && (l.width = c - l.startX,
                l.centerX = l.startX + l.width / 2,
                l.endX = l.centerX + l.width / 2),
                u - o > s && (l.startY = o,
                l.height = u - o,
                l.centerY = l.startY + l.height / 2,
                l.endY = l.centerY + l.height / 2)
            }
        }, n)), new Gr(T({
            name: "middle-right",
            direction: "vertical",
            update: (a, o) => {
                a.setCoords(o.right, o.middle_y)
            }
            ,
            style: {
                cursor: {
                    hover: "ew-resize"
                }
            },
            resize: (a, o, l) => {
                const c = a;
                c - l.startX > r && (l.width = c - l.startX,
                l.centerX = l.startX + l.width / 2,
                l.endX = l.centerX + l.width / 2,
                l.endY = l.centerY + l.height / 2)
            }
        }, n)), new Ur(T({
            name: "bottom-right",
            update: (a, o) => {
                a.setCoords(o.right, o.bottom)
            }
            ,
            style: {
                cursor: {
                    hover: "nwse-resize"
                }
            },
            resize: (a, o, l) => {
                const c = a
                  , u = o;
                c - l.startX > r && (l.width = c - l.startX,
                l.centerX = l.startX + l.width / 2,
                l.endX = c),
                u - l.startY > s && (l.height = u - l.startY,
                l.centerY = l.startY + l.height / 2,
                l.endY = u)
            }
        }, n))]
    }
};
class U3 extends B3 {
    constructor(e={}) {
        super(e),
        this.sensivity = e.sensitivity || 10,
        this.setCoords({
            startX: 0,
            startY: 0,
            endX: 0,
            endY: 0
        })
    }
    onSetup(e) {
        super.onSetup(e),
        this.resizers = V3.generate({
            radius: 5,
            color: this.color,
            component: this
        })
    }
    updateResizersRadius() {
        const {width: e, height: i} = this.getCoords()
          , s = Math.min(15, Math.ceil(.01 * Math.max(e, i, 500)));
        this.resizers.forEach(r => r.setRadius(s))
    }
    resize(e={}) {
        super.resize(e),
        this.updateResizersRadius()
    }
    sanitizeCoords(e) {
        if (e.startX > e.endX) {
            const i = e.endX;
            e.endX = e.startX,
            e.startX = i
        }
        if (e.startY > e.endY) {
            const i = e.endY;
            e.endY = e.startY,
            e.startY = i
        }
        e.width = e.endX - e.startX,
        e.centerX = e.startX + e.width / 2,
        e.height = e.endY - e.startY,
        e.centerY = e.startY + e.height / 2
    }
    computeDrawCoords(e={}) {
        const i = e.coordinates
          , s = e.scaleX || 1
          , r = e.scaleY || 1
          , n = e.offsetX || 0
          , a = e.offsetY || 0;
        return {
            x: (i.centerX - i.width / 2) / s + n,
            y: (i.centerY - i.height / 2) / r + a,
            width: i.width / s,
            height: i.height / r
        }
    }
    draw(e={
        canvas: null,
        coordinates: {}
    }) {
        const i = e.canvasComponent
          , s = this.computeDrawCoords(T({
            coordinates: this.getCoords(e)
        }, e));
        this.drawElement(i, s, this.data.color, 1),
        this.isHover && this.drawResizeZone(e)
    }
    drawElement(e, i, s, r) {
        e.strokeRect(i.x, i.y, i.width, i.height, r, s)
    }
    drawResizeZone(e={}) {
        const i = this.getCoords(e)
          , s = {
            left: i.centerX - i.width / 2,
            middle_x: i.centerX,
            right: i.centerX + i.width / 2,
            top: i.centerY - i.height / 2,
            middle_y: i.centerY,
            bottom: i.centerY + i.height / 2
        }
          , r = e.canvasComponent
          , n = r.getCanvasContext();
        n.save(),
        this.resizers.forEach(a => {
            a.update(s),
            a.isVisible() && a.render(n, {
                canvas: r.getCanvas()
            })
        }
        ),
        n.restore()
    }
    setCoords(e={}) {
        const i = this.data.coordinates;
        Number.isFinite(e.startX) && (i.startX = e.startX),
        Number.isFinite(e.startY) && (i.startY = e.startY),
        Number.isFinite(e.endX) && (i.endX = e.endX),
        Number.isFinite(e.endY) && (i.endY = e.endY),
        Number.isFinite(e.centerX) ? i.centerX = e.centerX : i.centerX = (i.endX + i.startX) / 2,
        Number.isFinite(e.centerY) ? i.centerY = e.centerY : i.centerY = (i.endY + i.startY) / 2,
        i.width = Math.abs(i.endX - i.startX),
        i.height = Math.abs(i.endY - i.startY),
        this.updateResizersRadius()
    }
    getCollisionBox(e) {
        const i = this.getCoords(e);
        if (i === null)
            return null;
        {
            const s = i.centerX
              , r = i.centerY;
            return {
                startX: s - i.width / 2,
                startY: r - i.height / 2,
                endX: s + i.width / 2,
                endY: r + i.height / 2
            }
        }
    }
    getCoords(e={}) {
        const i = super.getCoords(e);
        return i !== null && (typeof i.startX != "number" && (i.startX = i.centerX - i.width / 2),
        typeof i.startY != "number" && (i.startY = i.centerY - i.height / 2)),
        i
    }
    translate(e={}) {
        const i = this.getCoords(e)
          , {x: s, y: r} = e;
        i.centerX && (i.centerX += s),
        i.centerY && (i.centerY += r),
        i.endX && (i.endX += s),
        i.endY && (i.endY += r),
        i.startX = i.centerX - i.width / 2,
        i.startY = i.centerY - i.height / 2,
        this.setCoords(i)
    }
    isVisible(e={}) {
        return !0
    }
    checkResizerCollisionWithPointer(e={}) {
        const i = this.resizers
          , s = {
            hasCollision: !1,
            distance: Number.POSITIVE_INFINITY,
            resizer: null
        };
        if (this.isVisible(e) !== !0)
            return s;
        const {x: r, y: n} = e;
        for (let a = 0; a < i.length; a++) {
            const o = i[a];
            o.checkCollision(r, n) && (s.distance = 0,
            s.hasCollision = !0,
            s.resizer = o)
        }
        return s
    }
    checkCollisionWithPointer(e={}) {
        const i = this.getDistanceWithPoint(e);
        return {
            hasCollision: Number.isFinite(i) && i <= this.sensivity || this.isInBox(e),
            distance: i
        }
    }
    isInBox(e={}) {
        const i = this.getCollisionBox(e);
        if (i === null)
            return !1;
        const {x: s, y: r} = e;
        return i !== null && s >= i.startX && s <= i.endX && r >= i.startY && r <= i.endY
    }
    getDistanceWithPoint(e={}) {
        const i = this.getCollisionBox(e);
        if (i === null)
            return !1;
        const {x: s, y: r} = e
          , n = li.getOne(s, r)
          , a = li.getOne(i.startX, i.startY)
          , o = li.getOne(i.endX, i.startY)
          , l = li.getOne(i.startX, i.endY)
          , c = li.getOne(i.endX, i.endY)
          , u = Qs.distancePointToEdge2D(n, a, o, 0)
          , h = Qs.distancePointToEdge2D(n, a, l, 0)
          , d = Qs.distancePointToEdge2D(n, o, c, 0)
          , m = Qs.distancePointToEdge2D(n, l, c, 0);
        return a.recycle(),
        o.recycle(),
        l.recycle(),
        c.recycle(),
        n.recycle(),
        Math.min(u, h, d, m)
    }
}
const qr = {
    width: 128,
    height: 128,
    color: {
        dark: "#64B1EC",
        light: "#0275CF"
    }
};
class gi extends ae {
    constructor(e={}) {
        super(e);
        const i = e.style;
        this.data.initialWidth = e.width || qr.width,
        this.data.initialHeight = e.height || qr.height,
        this.data.color = e.color || qr.color.dark,
        this.rectangleComponent = new U3(e),
        this.setViewzoneColor(this.data.color),
        this.rectangleComponent.setCoords({
            startX: 0,
            startY: 0,
            endX: this.data.initialWidth,
            endY: this.data.initialHeight
        }),
        this.data.parentElement = e.parentElement,
        this.style = T({}, i),
        this.services = {
            style: e.services.style,
            point: e.services.point
        },
        this.data.resizerSelected = null,
        this.subscribe(this.rectangleComponent, "request-change-cursor", s => {
            this.ui.wrapper.style.cursor = s
        }
        )
    }
    setHover(e, i, s) {
        const r = this.rectangleComponent.isHover;
        this.rectangleComponent.isHover = e,
        r !== e && this.draw()
    }
    hasHover() {
        return this.isEnabled() && this.rectangleComponent.isHover === !0
    }
    findCollisionWithResizer(e, i) {
        return this.rectangleComponent.checkResizerCollisionWithPointer({
            x: e,
            y: i
        })
    }
    checkIsInsideRectangle(e, i) {
        const s = this.rectangleComponent.checkCollisionWithPointer({
            x: e,
            y: i
        });
        return s === !0 || s.hasCollision === !0
    }
    isCloseButtonHover(e, i) {
        const s = this.services.point
          , r = s.fromCoords(e, i)
          , n = s.isInBox(r, this.getCloseButton());
        return ve.recycle(r),
        n
    }
    refreshHover(e, i) {
        const s = this.checkIsInsideRectangle(e, i)
          , r = this.isNearToCollisionBox(e, i)
          , n = this.isNearToOneResizer(e, i)
          , a = this.isCloseButtonHover(e, i)
          , o = r || n;
        this.setHover(s || o),
        this.rectangleComponent.resizers.forEach(l => {
            l.setVisibility(o)
        }
        ),
        s ? (this.getFocus(),
        this.rectangleComponent.onPointerOver({
            x: e,
            y: i
        }),
        this.draw()) : a ? (this.getFocus(),
        this.ui.wrapper.style.cursor = "pointer",
        this.draw()) : o ? this.draw() : this.looseFocus()
    }
    getFocus() {
        this.ui.wrapper.style.pointerEvents = "auto"
    }
    looseFocus() {
        this.ui.wrapper.style.removeProperty("pointer-events"),
        this.ui.wrapper.style.removeProperty("cursor")
    }
    selectResizer(e) {
        this.rectangleComponent.data.resizerSelected = e
    }
    checkHover(e, i) {
        return this.findCollisionWithResizer(e, i).hasCollision || this.checkIsInsideRectangle(e, i)
    }
    hide(e) {
        super.hide(),
        this.setEnabled(!1, null, e)
    }
    show(e, i) {
        super.show(),
        this.setEnabled(!0, e, i)
    }
    toggle(e=null, i=null) {
        this.isEnabled() ? this.hide(i) : this.show(e, i)
    }
    setEnabled(e=!0, i=null, s=null) {
        e !== this.isEnabled() && (e ? this.enable() : this.disable(),
        this.publish(gi.EVENT.STATUS_CHANGE, {
            status: e,
            coords: i,
            placement: s
        }))
    }
    getBoundingBox() {
        const e = this.rectangleComponent.getCollisionBox();
        return {
            top: Math.floor(e.startY),
            bottom: Math.ceil(e.endY),
            left: Math.ceil(e.startX),
            right: Math.ceil(e.endX)
        }
    }
    reset() {
        const e = this.data.initialWidth / 2
          , i = this.data.initialHeight / 2
          , {centerX: s, centerY: r} = this.rectangleComponent.getCoords();
        this.rectangleComponent.setCoords({
            startX: s - e,
            startY: r - i,
            endX: s + e,
            endY: r + i
        })
    }
    center(e, i) {
        const {width: s, height: r} = this.rectangleComponent.getCoords()
          , n = s / 2
          , a = r / 2;
        this.rectangleComponent.setCoords({
            startX: e - n,
            startY: i - a,
            endX: e + n,
            endY: i + a
        })
    }
    isNearToCollisionBox(e, i) {
        return this.rectangleComponent.getDistanceWithPoint({
            x: e,
            y: i
        }) < 25
    }
    isNearToOneResizer(e, i) {
        const s = this.findCollisionWithResizer(e, i);
        return this.selectResizer(s.resizer),
        s.resizer !== null && s.distance < 10
    }
    getCloseButton() {
        const {startX: e, endX: i, startY: s} = this.rectangleComponent.getCoords()
          , r = (e + i) / 2
          , n = s - 40
          , a = 15;
        return {
            x: r,
            y: n,
            radius: a,
            top: n - a,
            bottom: n + a,
            left: r - a,
            right: r + a
        }
    }
    draw() {
        this.clear(),
        this.lineWidth(2),
        this.rectangleComponent.draw({
            canvasComponent: this
        });
        const e = this.getCloseButton();
        this.saveCanvas(),
        this.setShadowStyle(10, "#00000066", 0, 3),
        this.fillCircle(e.x, e.y, e.radius, 1, `#${ze.WHITE}`);
        const i = 5;
        this.beginPath(),
        this.setShadowStyle(0, "transparent"),
        this.moveTo(e.x - i, e.y - i),
        this.lineTo(e.x + i, e.y + i),
        this.moveTo(e.x + i, e.y - i),
        this.lineTo(e.x - i, e.y + i),
        this.setStrokeStyle(`#${ze.BLACK}`),
        this.stroke(),
        this.closePath(),
        this.restoreCanvas()
    }
    translate(e, i) {
        this.rectangleComponent.translate({
            x: e,
            y: i
        }),
        this.draw(),
        this.publish(gi.EVENT.MOVE)
    }
    focus() {
        const e = this.ui.container
          , i = e.getBoundingClientRect()
          , s = new MouseEvent("mousedown",{
            clientX: i.left,
            clientY: i.top
        });
        e.dispatchEvent(s)
    }
    getContainer() {
        return this.ui.container
    }
    resizeRectangle(e={
        x: 0,
        y: 0
    }) {
        this.rectangleComponent.resize(e),
        this.publish(gi.EVENT.RESIZE)
    }
    getCoords() {
        return this.rectangleComponent.getCoords()
    }
    setViewzoneColor(e) {
        this.rectangleComponent.setColor(e)
    }
    setCoords(e) {
        this.rectangleComponent.setCoords(e),
        this.draw()
    }
    redrawToCoords(e) {
        const {x: i, y: s} = e;
        this.center(i, s),
        this.draw()
    }
}
gi.EVENT = {
    MOVE: "viewzone-move",
    CLOSE: "viewzone-close",
    HOVER: "viewzone-hover",
    WHEEL: "viewzone-wheel",
    RESIZE: "viewzone-resize",
    RESIZE_END: "viewzone-resize-end",
    STATUS_CHANGE: "viewzone-status-change",
    HOVER_CHANGE: "viewzone-hover-change"
};
const G3 = (t, e) => {
    const i = e.pointerState
      , s = T({
        width: e.width,
        height: e.height,
        pointerState: i,
        container: t.container,
        useController: !1
    }, e);
    t.components = {
        imageCanvas: new ae(T({
            name: "image-canvas",
            _id: "anatomy-canvas"
        }, s)),
        overlaysCanvas: new ae(T({
            name: "overlays-canvas"
        }, s)),
        fakeImaiosCanvas: new ae(T({
            name: "fake-canvas"
        }, s)),
        leftLinesCanvas: new ae(T({
            name: "left-lines-canvas",
            paddingTop: Pi,
            paddingBottom: oa
        }, s)),
        rightLinesCanvas: new ae(T({
            name: "right-lines-canvas",
            paddingTop: Pi,
            paddingBottom: oa
        }, s)),
        animatedLineCanvas: new ae(T({
            name: "animated-line-canvas",
            paddingTop: Pi,
            paddingBottom: oa
        }, s)),
        pointsCanvas: new wi(Y(T({
            name: "points-canvas"
        }, s), {
            paddingTop: Pi
        }))
    },
    t.components.viewzone = new gi(T({
        name: "view-zone-canvas"
    }, s)),
    Object.values(t.components).forEach(r => {
        t.ui.container.appendChild(r.ui.wrapper),
        r.name === "points-canvas" && t.ui.container.appendChild(r.animationCanvasComponent.ui.wrapper)
    }
    )
}
;
class $3 {
    retrieveContainer(e=null) {
        if (e === null)
            throw new z3;
        const i = document.getElementById(e);
        if (i === null)
            throw new Sp(e);
        return i
    }
    generateComponents(e, i) {
        G3(e, i)
    }
}
const Ke = {
    TOOLBAR_HEIGHT: 32,
    SERIES_TITLE_HEIGHT: 25,
    CROSS_REF_TITLE_HEIGHT: 18,
    LINE_INTERVAL_PX: 2,
    MAX_FONT_PX: 20,
    BASE_MAX_FONT_PX: 20,
    MAX_LABEL_LINES: 2,
    FONT_FAMILY: "'Helvetica Neue', Helvetica, arial, verdana, 'lucida sans unicode', tahoma, sans-serif",
    TEXT_TO_VERTICAL_LINE_PADDING: 7,
    VERTICAL_LINE_PADDING: 4,
    TEXT_PADDING: 4,
    MARGIN: 10,
    LABELS_ISOLATE_ALPHA: "1.0",
    LABELS_WEAK_ALPHA: "0.4",
    POINT_HOVER_MULTIPLIER: 2,
    LABELS_FULL_ALPHA: "1.0",
    LABELS_EDGE_ALPHA: "0.3",
    PIN_WEAK_ALPHA: .4,
    LEFT_RIGHT_ALPHA: "0.5",
    ISOLATE_COLOR_PIN: "#FF9000",
    MINIMAL_FONT_SIZE_FOR_NAVIGATORS: 80,
    POINT_RADIUS: 2,
    LABELS_MAX_V_SPACING: 1,
    SMALL_HORIZONTAL_LINE_LENGTH: 15,
    TEXT_OVERLAYS_HEIGHT_PADDING: 1,
    IMAGE_TILE_HEIGHT: 18,
    RECENTER_SLIGHT_MARGIN: 10,
    RADIANT_OFFSET_ANGLE_FOR_DEGREES: 90,
    TOP_IMAGE_POSITION: 90,
    RIGHT_IMAGE_POSITION: 360,
    DOWN_IMAGE_POSITION: 270,
    LEFT_IMAGE_POSITION: 180,
    ROTATION_PRESS_ANGLE: 90,
    MIN_FONT_PX: 12,
    BASE_MIN_FONT_PX: 12,
    NO_MAX_LINES: 20,
    MAX_PIXEL_PER_IMAGE: 20,
    ORIENTATION_PICTURE_MARGIN_TOP: 10,
    ORIENTATION_LOGO: "/extension/imdesign/design/ezwebin/images/flechesbleues.png",
    MIN_MARGIN_LABEL: 4 + cr * 2
};
Ke.MAX_LABEL_HEIGHT_WITH_LINES = Ke.MAX_FONT_PX * Ke.MAX_LABEL_LINES + (Ke.MAX_LABEL_LINES - 1) * Ke.LINE_INTERVAL_PX;
Ke.MIN_LABEL_HEIGHT_WITH_LINES = Ke.MIN_FONT_PX * Ke.MAX_LABEL_LINES + (Ke.MAX_LABEL_LINES - 1) * Ke.LINE_INTERVAL_PX;
Ke.LINE_DIM = Ke.SMALL_HORIZONTAL_LINE_LENGTH + Ke.TEXT_TO_VERTICAL_LINE_PADDING;
Ke.TOOLBAR_N_TITLE_OFFSET = Ke.TOOLBAR_HEIGHT + Ke.SERIES_TITLE_HEIGHT - 8;
class j3 {
    constructor(e) {
        const i = window.hasAccess;
        Object.defineProperty(this, "hasSubscriberAccess", {
            value: function() {
                return typeof i == "object" && i[e] || !1
            },
            configurable: !1,
            writable: !1,
            enumerable: !1
        }),
        Object.defineProperty(this, "checkAccess", {
            value: () => this.hasEmbedAccess() || this.isModuleFree() || this.hasSubscriberAcces(),
            configurable: !1,
            writable: !1,
            enumerable: !1
        })
    }
    hasEmbedAccess() {
        return typeof window.embedAccess === !0
    }
    isModuleFree() {
        return typeof window.moduleIsPremium !== !0
    }
}
class Y3 extends xe {
    constructor(e) {
        super(T({
            resources: e.state.filter
        }, e)),
        this.storageName = null,
        this.filtersBeforeIsolation = []
    }
    setStorageName(e="") {
        this.storageName = `im_filters-${e}`
    }
    onFilterLoaded() {
        if (se.isAvailable)
            try {
                const e = localStorage.getItem(this.storageName);
                if (e === null)
                    super.onFilterLoaded();
                else {
                    let i;
                    e ? i = JSON.parse(e) : i = Array.from(this.data.resources.default_id),
                    Array.isArray(i) ? (this.unselectAll(),
                    i.forEach(s => {
                        this.findById(s) !== null && this.select(s)
                    }
                    ),
                    i.length !== 0 && this.getCurrent().length === 0 && super.onFilterLoaded()) : super.onFilterLoaded()
                }
            } catch (e) {
                super.onFilterLoaded()
            }
        else
            super.onFilterLoaded()
    }
    save() {
        se.isAvailable && localStorage.setItem(this.storageName, JSON.stringify(Array.from(this.data.resources.current_id)))
    }
    onSelect(e) {
        this.save(),
        super.onSelect(e)
    }
    onUnselect(e) {
        this.save(),
        super.onUnselect(e)
    }
    selectAll() {
        super.selectAll(),
        this.save()
    }
    unselectAll() {
        super.unselectAll(),
        this.save()
    }
    updateFiltersBeforeIsolation() {
        this.filtersBeforeIsolation = super.getCurrent()
    }
    focus(e, i=!1) {
        this.updateFiltersBeforeIsolation(),
        super.unselectAll(),
        e.forEach(s => {
            super.select(s, i)
        }
        )
    }
    blur(e=!1) {
        super.unselectAll(),
        this.filtersBeforeIsolation.forEach(i => {
            super.select(i, e)
        }
        )
    }
}
class Tp {
    getCoordsPoint(e) {
        return e.services.point.fromCoords(e.state.pointer.data.coords.x * window.devicePixelRatio, e.state.pointer.data.coords.y * window.devicePixelRatio)
    }
    getMaxDistance() {
        return 100
    }
    getPointHover(e) {
        const i = e.services.point
          , s = e.components.pointsCanvas
          , r = this.getCoordsPoint(e)
          , {point: n, distance2: a} = i.findNearest({
            point: r,
            transformation: o => {
                s.applyLocalTransformationToPoint(o)
            }
        });
        return ve.recycle(r),
        a <= this.getMaxDistance() ? n : null
    }
    getBoundingBox(e) {
        return {
            top: 0,
            bottom: Math.ceil(e.getCanvasHeight()),
            left: Math.ceil(.2 * e.getCanvasWidth()),
            right: Math.ceil(e.getCanvasWidth() * .8)
        }
    }
    onPointerUp(e, i) {
        const s = e.services.point;
        if (s.hasHover()) {
            const r = s.getHover();
            K.isRightClick(i) === !1 && e.publish(Ce.CLICK, {
                event: i,
                point: r
            })
        }
    }
    onUpdatePointStyle(e, i, s, r, n) {
        const a = e.services.style.get(N.ATTRIBUTE.LABELS_ISOLATE_ALPHA)
          , o = e.services.style.get(N.ATTRIBUTE.LABELS_FULL_ALPHA)
          , l = e.services.style.get(N.ATTRIBUTE.LABELS_WEAK_ALPHA)
          , c = e.services.series.isSchema(e.services.series.getCurrent());
        s || n ? (i.circleAlpha = a,
        i.edgeColor = ze.RED,
        i.edgeAlpha = o,
        i.circleColor = ze.RED,
        i.sizeMultiplier = e.services.style.get(N.ATTRIBUTE.POINT_HOVER_MULTIPLIER)) : !s && !n && (i.circleAlpha = r ? o : l,
        i.edgeColor = c ? i.color : ze.BLACK,
        i.circleColor = c ? ze.BLACK : i.color,
        i.edgeAlpha = r ? o : l)
    }
}
class W3 extends Er {
    constructor(e={}) {
        super(T({
            name: e.name || "point-service"
        }, e)),
        this.leftLinkedPointsById = {},
        this.rightLinkedPointsById = {},
        this.highestPriority = Number.NEGATIVE_INFINITY,
        this.pointsToDraw = [],
        this.pointsActives = [],
        this.pointsVisible = [],
        this.selectedPoints = [],
        this.unselectPoints = new Set,
        this.injectFeature("manage-hoverable-resources", Rh(this, {
            hoverEvent: Ce.HOVER,
            looseHoverEvent: Ce.LOOSE_HOVER
        })),
        this.pointHelper = new Tp,
        this.pointsByTaxonKey = {}
    }
    addResource(e, i=null) {
        super.addResource(e, i),
        typeof this.pointsByTaxonKey[e.taxon_key] > "u" && (this.pointsByTaxonKey[e.taxon_key] = []),
        this.pointsByTaxonKey[e.taxon_key].push(e)
    }
    findByTaxonKey(e) {
        return typeof this.pointsByTaxonKey[e] < "u" ? this.pointsByTaxonKey[e] : []
    }
    clearLinks() {
        this.leftLinkedPointsById = {},
        this.rightLinkedPointsById = {}
    }
    getVisible() {
        return this.pointsVisible
    }
    getAllLinked() {
        return T(T({}, this.leftLinkedPointsById), this.rightLinkedPointsById)
    }
    link(e, i="left") {
        i === "left" ? this.linkToLeftSide(e) : this.linkToRightSide(e)
    }
    linkToLeftSide(e) {
        this.leftLinkedPointsById[e.id] = e
    }
    linkToRightSide(e) {
        this.rightLinkedPointsById[e.id] = e
    }
    setDrawable(e) {
        this.pointsToDraw.push(e)
    }
    isLinked(e) {
        return typeof this.leftLinkedPointsById[e] < "u" || typeof this.rightLinkedPointsById[e] < "u"
    }
    setPointsVisible(e) {
        this.pointsVisible = e;
        const i = [].concat(e);
        this.setActives(i),
        this.publish(Ce.UPDATE_ACTIVE, i)
    }
    getActives() {
        return this.pointsActives
    }
    setActives(e) {
        this.pointsActives = e
    }
    setPriority(e, i) {
        this.findById(e).setPriority(i)
    }
    fromCoords(e, i) {
        return ve.getOne().setCoords(e, i)
    }
    recycle(e) {
        ve.recycle(e)
    }
    getPointsToDraw() {
        return this.pointsToDraw.map(e => this.findById(e))
    }
    getSelected() {
        return this.selectedPoints
    }
    clearPointsToDraw() {
        this.pointsToDraw.length = 0
    }
    distance2(e, i) {
        return e.distance2(i)
    }
    findNearest(e={}) {
        const i = e.point;
        let s = Number.MAX_VALUE
          , r = 0
          , n = null;
        const a = this.getActives()
          , o = e.selection || (u => !0)
          , l = e.transformation || (u => u)
          , c = ve.getOne();
        return a.forEach(u => {
            o(u) !== !1 && (c.copy(u),
            l(c),
            r = this.distance2(i, c),
            r < s && (s = r,
            n = u))
        }
        ),
        ve.recycle(c),
        {
            point: n,
            distance2: s
        }
    }
    getPointHover(e) {
        return this.pointHelper.getPointHover(e)
    }
    setHighestPriority(e) {
        this.highestPriority = e
    }
    getHighestPriority() {
        return this.highestPriority
    }
    distance(e, i) {
        return Math.sqrt(this.distance2(e, i))
    }
    select(e) {
        this.isAvailable(e.id) && (this.selectedPoints.push(e),
        e.isSelected = !0,
        this.unselectPoints.delete(e.id),
        this.publish(Ce.SELECTED, e))
    }
    unselect(e) {
        if (this.isAvailable(e.id)) {
            const i = this.selectedPoints.findIndex(s => s.id === e.id);
            this.selectedPoints.splice(i, 1),
            e.isSelected = !1,
            this.unselectPoints.add(e.id),
            this.publish(Ce.UNSELECTED, e)
        }
    }
    getNbPointsToDraw() {
        return this.pointsToDraw.length
    }
    isInBox(e, i) {
        return e.x > i.left && e.x < i.right && e.y > i.top && e.y < i.bottom
    }
    getTaxonKey(e) {
        const i = this.findById(e);
        return `${i.ta_id}-${i.taxon_id}`
    }
    isVisible(e) {
        const i = this.findById(e)
          , s = ve.getOne().copy(i);
        this.publish(Ce.CHECK_VISIBILITY, s);
        const r = s.isSelected;
        return ve.recycle(s),
        r
    }
    create({point: e, transformation: i=Sy}) {
        const s = ve.getOne().copy(e);
        return i(s),
        s
    }
    getTransformCoordinate(e) {
        const i = this.create(e)
          , s = {
            x: i.x,
            y: i.y
        };
        return this.recycle(i),
        s
    }
    refreshContextualCoords(e) {
        const i = this.getTransformCoordinate(e);
        return e.point.contextual_x = i.x,
        e.point.contextual_y = i.y,
        i
    }
    update(e, i) {
        Object.values(this.data.resources.availables).find(s => {
            let r = !0;
            return Object.keys(e).forEach(n => {
                r = r && s.hasOwnProperty(n) && s[n] === e[n]
            }
            ),
            r
        }
        ).forEach(s => {
            Object.keys(i).forEach(r => {
                s.hasOwnProperty(r) && (s[r] = i[r])
            }
            )
        }
        )
    }
    setPointSelected(e) {
        this.selectedPoints = e
    }
    getUnselectedPoints() {
        return this.unselectPoints
    }
    setPointHelper(e) {
        this.pointHelper !== e && (this.pointHelper = e)
    }
    getCoordsPoint(e) {
        return this.pointHelper.getCoordsPoint(e)
    }
    getMaxDistance() {
        return this.pointHelper.getMaxDistance()
    }
    onPointerUp(e, i) {
        this.pointHelper.onPointerUp(e, i)
    }
    onUpdatePointStyle(e, i, s, r, n) {
        this.pointHelper.onUpdatePointStyle(e, i, s, r, n)
    }
    isActivePoint(e) {
        const i = this.getActives();
        for (let s = 0; s < i.length; s++)
            if (i[s].id === parseInt(e, 10))
                return !0;
        return !1
    }
}
class Sr extends ke {
    constructor(e={}) {
        super(T({
            name: e.name || Sr.interactionName
        }, e)),
        this.lastY = 0
    }
    onStart() {
        const e = this.component
          , {MAX_PIXEL_PER_IMAGE: i} = e.services.style.get()
          , s = e.services.slice.sizeOfRelativeIndex()
          , r = e.services.series.getCurrent();
        this.pxPerImg = r.slices_height / s,
        this.pxPerImg = Math.min(Math.max(this.pxPerImg * 3, 1), i),
        this.totalDistanceAccumulated = 0;
        const n = e.services.pointer.getCoords();
        this.lastY = n.y,
        e.publish(Di.SET_PLACEMENT_IMAGE_VIEW, {
            placement: W.SCROLL
        })
    }
    getDelta() {
        const e = this.component.services.pointer.getCoords()
          , i = e.y - this.lastY;
        return this.lastY = e.y,
        i
    }
    onAnimation(e) {
        const i = this.component
          , s = this.getDelta();
        this.totalDistanceAccumulated += s;
        const r = Math.abs(this.totalDistanceAccumulated)
          , n = (i.modes.scroll === Th.SLOW ? 3 : 1) * this.pxPerImg
          , a = i.services.slice;
        if (r > n) {
            const o = a.getCurrentRelativeIndex() + i.data.scrollDirection * Math.round(this.totalDistanceAccumulated / n);
            this.totalDistanceAccumulated = 0,
            o !== a.getCurrentRelativeIndex() && i.moveToSlice(o)
        }
    }
    onMouseLeave(e) {
        this.finish(e)
    }
    onMouseUp(e) {
        this.finish(e)
    }
}
Sr.interactionName = Yt.SCROLL;
class is extends ke {
    constructor(e={}) {
        super(T({
            name: e.name || is.interactionName
        }, e)),
        this.services = {
            renderingContext: e.services.renderingContext,
            pointer: e.services.pointer
        },
        this.lastX = 0,
        this.lastY = 0
    }
    onStart() {
        this.component.onUserInteraction(),
        this.component.clearOverlays();
        const e = this.services.pointer.getCoords();
        this.lastX = e.x,
        this.lastY = e.y
    }
    onFinish(e) {
        this.component.animations.redrawOnlyOverlays.trigger()
    }
    onMouseUp(e) {
        this.finish(e)
    }
    onMouseLeave(e) {
        this.finish(e)
    }
}
is.interactionName = Yt.PAN;
class ss extends ke {
    constructor(e={}) {
        super(T({
            name: e.name || ss.interactionName
        }, e)),
        this.application = e.component,
        this.services = {
            renderingContext: e.services.renderingContext,
            pointer: e.services.pointer
        },
        this.lastX = 0,
        this.lastY = 0,
        this.zoomFocusPoint = {
            x: 0,
            y: 0
        },
        this.scaleOffset = 0
    }
    get coords() {
        const e = this.services.pointer.getCoords();
        return {
            x: e.x * window.devicePixelRatio,
            y: e.y * window.devicePixelRatio
        }
    }
    onStart(e) {
        this.component.onUserInteraction(),
        this.component.clearOverlays();
        const i = this.coords;
        this.zoomFocusPoint = this.application.components.pointsCanvas.transformCoordinates(i.x, i.y, !0),
        this.lastX = i.x,
        this.lastY = i.y,
        this.services.renderingContext.update($.ATTRIBUTE.USER_ZOOM_PERFORMED, !0)
    }
    getDelta() {
        const e = this.coords
          , i = Math.round(e.y - this.lastY);
        return this.lastY = e.y,
        -i
    }
    onMouseMove(e) {
        this.scaleOffset = this.getDelta() / xy
    }
    getScaleOffset() {
        const e = this.scaleOffset;
        return this.scaleOffset = 0,
        e
    }
    onFinish() {
        this.component.animations.redrawOnlyOverlays.trigger(),
        this.zoomFocusPoint.recycle()
    }
    onMouseUp(e) {
        this.finish(e)
    }
    onMouseLeave(e) {
        this.finish(e)
    }
}
ss.interactionName = Yt.ZOOM;
const K3 = [Sr, is, ss];
class Wt extends ni {
    constructor(e) {
        super(T({
            resources: e.state.image
        }, e)),
        this.data.isContentAvailable = !1,
        this.data.lastImageRendered = null,
        this.data.lastImageRenderedWasAskedAt = Date.now(),
        this.latestImageThatShouldBeDrawnId = null,
        this.providers = {
            icon: e.providers.icon,
            image: e.providers.image,
            sliceThumb: e.providers.imageThumb,
            cr: e.providers.crImages
        },
        this.services = {
            imageCache: e.services.imageCache,
            imageSettingsStorage: e.services.imageSettingsStorage,
            imageHelper: e.services["image-helper"],
            series: e.services.series,
            renderingContext: e.services.renderingContext
        },
        this.pendingRequest = {},
        this.isAFallbackImage = {},
        De([{
            name: j.EVENT.LOADING_END,
            from: this.providers.image
        }]).then( () => {
            this.publish(Wt.EVENT.CONTENT_AVAILABLE)
        }
        )
    }
    setCurrent(e) {
        this.data.resources.current_id = e,
        this.publish(Wt.EVENT.IMAGE_CHANGE, e)
    }
    setLastImageRendered(e) {
        this.data.lastImageRendered = e
    }
    getLastImageRendered() {
        return this.data.lastImageRendered
    }
    getDefaultQuality() {
        return this.data.resources.qualities.default
    }
    setDefaultQuality(e) {
        try {
            e === qi.LOWEST && (e = this.getLowestQuality()),
            this.isQualityAvailable(e) && (this.data.resources.qualities.default = e)
        } catch (i) {}
    }
    isQualityAvailable(e) {
        try {
            return this.data.resources.qualities.availables.has(e)
        } catch (i) {
            return !1
        }
    }
    setQuality(e) {
        this.data.resources.qualities.current_id = e,
        this.publish(Cr.EVENT.QUALITY_CHANGE)
    }
    getQuality() {
        return this.data.resources.qualities.current_id
    }
    getLowestQuality() {
        if (this.data.resources.qualities.availables.size > 0)
            return Math.min(...Array.from(this.data.resources.qualities.availables));
        throw new Error("No quality found")
    }
    switchQuality(e) {
        return _(this, null, function*() {
            try {
                e === qi.LOWEST && (e = this.getLowestQuality()),
                yield Promise.all([this.providers.cr.switchQuality(e), this.providers.image.switchQuality(e)]),
                this.setQuality(e)
            } catch (i) {}
        })
    }
    storeImageSettings(e, i={}) {
        typeof i.sort_order > "u" && this.services.imageHelper.addSliceOrder(i),
        this.services.imageSettingsStorage.set(e, i)
    }
    getImageSettings(e) {
        return this.services.imageSettingsStorage.get(e)
    }
    generateImageId(e={}) {
        let i;
        return e.type === de.SLICE ? i = Object.values({
            type: e.type,
            sort_order: e.sort_order,
            code: e.code,
            quality: e.quality
        }).join("-") : i = Object.values(e).join("-"),
        e.dedupedImageId = `${e.code}#images-${e.sort_order}`,
        e.image_id = i,
        e.latestRenderingAskedAt = Date.now(),
        this.storeImageSettings(i, e),
        i
    }
    getFromCache(e) {
        return this.services.imageCache.get(e)
    }
    loadFallbackImage(e=null) {
        return _(this, null, function*() {
            const i = e || this.getCurrentId()
              , s = this.getImageSettings(i)
              , r = yield this.providers.sliceThumb.getImage(s);
            return !this.hasImageInCache(i) && s.type === de.SLICE && this.cacheImage(i, r),
            r
        })
    }
    getImage(e={}, i=j.PRIORITY.STANDARD) {
        return new Promise(s => {
            if (typeof e.quality > "u" && (e.quality = this.getQuality()),
            typeof e.image_id > "u" && typeof e.sort_order > "u") {
                if (typeof e.slice_id > "u")
                    throw new Error("missing slice_id");
                this.services.imageHelper.addSliceOrder(e)
            }
            const r = e.image_id || this.generateImageId(e);
            if (e.image_id) {
                const n = this.getImageSettings(r);
                n.latestRenderingAskedAt = Date.now(),
                this.storeImageSettings(r, n)
            }
            this.hasImageInCache(r) && this.isAFallbackImage[r] === !1 ? s({
                image_id: r,
                image: this.getFromCache(r)
            }) : (this.publish("missing-image-in-cache", r),
            typeof this.pendingRequest[r] > "u" ? (this.pendingRequest[r] = !0,
            this.providers.image.getImage(Y(T(T({}, this.getImageSettings(r)), e), {
                image_id: r
            }), i).then(n => _(this, null, function*() {
                const a = n === null || n === ""
                  , o = e.type === de.OVERLAY;
                a && (o ? n = null : n = yield this.loadFallbackImage(r)),
                this.cacheImage(r, n),
                this.isAFallbackImage[r] = !1,
                s({
                    image_id: r,
                    image: n
                })
            }))) : setTimeout( () => {
                this.getImage(e, i).then(s)
            }
            , 100))
        }
        )
    }
    addQuality(e) {
        this.data.resources.qualities.availables.add(e)
    }
    hasImageInCache(e) {
        return this.services.imageCache.has(e)
    }
    canBeRendered(e) {
        return this.hasImageInCache(e) && this.isAFallbackImage[e] === !1
    }
    addResource(e, i=null) {
        i === null && (i = e.id),
        this.data.resources.availables[i] = e
    }
    cacheImage(e, i) {
        return this.addResource(i, e),
        this.services.imageCache.set(e, i)
    }
    haveSameSize(e, i) {
        return e.width === i.width && e.height === i.height
    }
    draw(e, i, s) {
        const r = this.getFromCache(s)
          , n = this.services.series.getCurrent()
          , {MULTIPLIER: a} = this.services.renderingContext.getAll()
          , o = n.slices_width * a
          , l = n.slices_height * a
          , c = -o / 2
          , u = -l / 2;
        i.update($.ATTRIBUTE.IMAGE_OFFSET_X, c),
        i.update($.ATTRIBUTE.IMAGE_OFFSET_Y, u),
        e.data.context.drawImage(r, 0, 0, r.width, r.height, c, u, o, l),
        this.setLastImageRendered(r)
    }
    getCurrent() {
        return super.getCurrent()
    }
    setImageProvider(e) {
        this.providers.image !== e && (this.providers.image = e,
        this.providers.cr.setImageProvider(e))
    }
    loadImages(e, i=null) {
        return _(this, null, function*() {
            Array.isArray(e.qualitiesAvailable) && e.qualitiesAvailable.forEach(s => {
                this.addQuality(s)
            }
            ),
            this.setDefaultQuality(typeof e.defaultQuality < "u" ? e.defaultQuality : y.getHighQuality()),
            i === null && (i = this.getDefaultQuality()),
            yield Promise.all([this.providers.image.switchQuality(i), this.providers.cr.switchQuality(i)]),
            this.setQuality(i)
        })
    }
    getType() {
        return "Image"
    }
}
Wt.EVENT = {
    CONTENT_AVAILABLE: "image-content-available",
    LOADING_START: "image-loading-start",
    LOADING_PROGRESS: "image-loading-progress",
    LOADING_END: "image-loading-end",
    IMAGE_CHANGE: "image-change",
    IMAGE_AVAILABLE: "image-available",
    CURRENT_IMAGE_SIZE_CHANGE: "current-image-size-change"
};
class Z3 {
    constructor(e) {
        this.services = {
            structure: e.services.structure
        }
    }
    searchStructure(e, i) {
        e = Qe(e.toLowerCase());
        const s = this.services.structure
          , r = Object.values(Object.values(s.getResources()).reduce( (n, a) => {
            var l;
            a.name = s.getTranslation(a),
            a.latin_name = s.getTranslation(a, J.la);
            const o = this.matchStructure(a, e);
            if (o.hasMatched) {
                const c = Y(T({}, a), {
                    getTaxonKey: a.getTaxonKey,
                    score: o.score,
                    associated_terms: o.matchingProperties.reduce( (h, d) => (h.length > 0 ? h += `; ${a[d]}` : h += a[d],
                    h), ""),
                    latin_name: o.latin_matching ? a.latin_name : ""
                })
                  , u = (l = n[c.id]) != null ? l : null;
                u !== null ? s.getTaxonHigherPriority(i, a, u) === a && (n[c.id] = c) : n[c.id] = c
            }
            return n
        }
        , {})).sort( (n, a) => n.name - a.name).sort( (n, a) => n.name.length - a.name.length).sort( (n, a) => a.score - n.score);
        return this.addParentNameIfDuplicate(r),
        r
    }
    addParentNameIfDuplicate(e) {
        e.forEach( (i, s) => {
            const r = e.filter( (n, a) => n.name === i.name && a !== s);
            if (r.length > 0) {
                const n = this.services.structure.getParentTranslation(i);
                n !== null && (i.name += ` - (${n})`),
                r.forEach(a => {
                    const o = this.services.structure.getParentTranslation(a);
                    o !== null && (a.name += ` - (${o})`)
                }
                )
            }
        }
        )
    }
    matchStructure(e, i) {
        var r, n, a, o, l, c, u, h, d, m, p, f, g, E, I, C, w, O, M, z;
        const s = {
            hasMatched: !1,
            matchingProperties: [],
            score: 0,
            latin_matching: !1
        };
        return (n = Qe((r = e.name) == null ? void 0 : r.toLowerCase())) != null && n.includes(i) ? (s.hasMatched = !0,
        s.score = this.calcScore(i, e.name, Et.name),
        s) : (o = Qe((a = e.latin_name) == null ? void 0 : a.toLowerCase())) != null && o.includes(i) ? (s.hasMatched = !0,
        s.latin_matching = !0,
        s.score = this.calcScore(i, e.latin_name, Et.latin_name),
        s) : (c = Qe((l = e.legacy_eponym) == null ? void 0 : l.toLowerCase())) != null && c.includes(i) ? (s.hasMatched = !0,
        s.matchingProperties.push("legacy_eponym"),
        s.score = this.calcScore(i, e.legacy_eponym, Et.legacy_eponym),
        s) : (h = Qe((u = e.synonym) == null ? void 0 : u.toLowerCase())) != null && h.includes(i) ? (s.hasMatched = !0,
        s.matchingProperties.push("synonym"),
        s.score = this.calcScore(i, e.synonym, Et.synonym),
        s) : (m = Qe((d = e.acronym) == null ? void 0 : d.toLowerCase())) != null && m.includes(i) ? (s.hasMatched = !0,
        s.matchingProperties.push("acronym"),
        s.score = this.calcScore(i, e.acronym, Et.acronym),
        s) : (f = Qe((p = e.patronym) == null ? void 0 : p.toLowerCase())) != null && f.includes(i) ? (s.hasMatched = !0,
        s.matchingProperties.push("patronym"),
        s.score = this.calcScore(i, e.patronym, Et.patronym),
        s) : (E = Qe((g = e.fr_anc) == null ? void 0 : g.toLowerCase())) != null && E.includes(i) ? (s.hasMatched = !0,
        s.matchingProperties.push("fr_anc"),
        s.score = this.calcScore(i, e.fr_anc, Et.fr_anc),
        s) : (C = Qe((I = e.latin_synonym) == null ? void 0 : I.toLowerCase())) != null && C.includes(i) ? (s.hasMatched = !0,
        s.matchingProperties.push("latin_synonym"),
        s.score = this.calcScore(i, e.latin_synonym, Et.latin_synonym),
        s) : (O = Qe((w = e.latin_acronym) == null ? void 0 : w.toLowerCase())) != null && O.includes(i) ? (s.hasMatched = !0,
        s.matchingProperties.push("latin_acronym"),
        s.score = this.calcScore(i, e.latin_acronym, Et.latin_acronym),
        s) : ((z = Qe((M = e.latin_patronym) == null ? void 0 : M.toLowerCase())) != null && z.includes(i) && (s.hasMatched = !0,
        s.matchingProperties.push("latin_patronym"),
        s.score = this.calcScore(i, e.latin_patronym, Et.latin_patronym)),
        s)
    }
    calcScore(e, i, s) {
        var c;
        let r = !1
          , n = (c = Qe(i)) == null ? void 0 : c.toLowerCase();
        if (n === e)
            return Et.full_match;
        const a = n == null ? void 0 : n.toLowerCase().split(";").filter(u => u.length > 0)
          , o = e.split(" ");
        a.forEach(u => {
            o.some(h => h === u) && (r = !0)
        }
        );
        let l;
        return r ? l = s * Et.word_match : l = s,
        l
    }
}
class Q3 extends zt {
    constructor() {
        super(),
        this.availables = new Set
    }
}
class X3 extends ie {
    constructor(e) {
        super(e),
        this.services = {
            language: e.services.language
        }
    }
    getTranslation(e, i=ie.NAMESPACE.DEFAULT, s=null) {
        const r = s || this.services.language.getCurrent();
        let n = super.getTranslation(e, r, i);
        return n !== null ? n : (r !== null && !this.languagesLoaded.has(r.toString()) && this.services.language.temporaryLanguage !== null && (n = super.getTranslation(e, this.services.language.temporaryLanguage, i)),
        n === null ? super.getTranslation(e, this.services.language.getDefault(), i) : n)
    }
}
class q3 extends zt {
    constructor() {
        super()
    }
}
class J3 extends zt {
    constructor() {
        super()
    }
}
class eA extends zt {
    constructor() {
        super(),
        this.currentImageSrc = ""
    }
}
class tA extends zt {
    constructor() {
        super(),
        this.index = {},
        this.currentRelativeSliceIndex = 0,
        this.relativeSliceIndex = {}
    }
}
class iA {
    constructor() {
        this.cover = null,
        this.id = null,
        this.name = null,
        this.name_translation = null,
        this.nbImages = null,
        this.background_color = null,
        this.version = null,
        this.short_name = null,
        this.modality_name = null,
        this.isFree = null
    }
    set(e) {
        var i;
        this.cover = e.cover,
        this.id = e.id,
        this.name = e.name,
        this.name_translation = e.nameTranslation,
        this.nbImages = e.nbImages,
        this.background_color = e.backgroundColor,
        this.version = e.version,
        this.short_name = e.shortName,
        this.modality_name = e.modalityName,
        this.isFree = (i = e.isFree) != null ? i : null
    }
}
class sA extends zt {
    constructor() {
        super(),
        this.current_id = new Set,
        this.default_id = new Set,
        this.main_id = new Set
    }
}
class rA extends zt {
    constructor() {
        super()
    }
}
class Ap {
    constructor(e={}) {
        this.state = e.state
    }
    update(e, i) {
        this.state.data.hasOwnProperty(e) && (this.state.data[e] = i)
    }
    get(e=null) {
        return e === null ? this.getAll() : this.state.data[e]
    }
    getAll() {
        return this.state.data
    }
}
class nA extends Ap {
    constructor(e={}) {
        super({
            state: e.state.style
        })
    }
}
class aA extends zt {
    constructor() {
        super()
    }
}
class oA extends ni {
    constructor(e) {
        super(T({
            resources: e.state.slice
        }, e))
    }
    is2XOverSampling(e) {
        return e === Ve.SCHEMA || e === Ve.RX2 || e === Ve.XA2 || e === Ve.PHOTOGRAPHY_X2
    }
    useFirstSliceAsPreview(e) {
        return e === Ve.SCHEMA || e === Ve.RX2 || e === Ve.XA2 || e === Ve.PHOTOGRAPHY_X2
    }
    isHighQuality(e) {
        return e === Ve.SCHEMA || e === Ve.PHOTOGRAPHY || e === Ve.PHOTOGRAPHY_X2
    }
    getIndexSlicePreview(e) {
        return this.useFirstSliceAsPreview(e.modality_id) ? 0 : Math.max(Math.min(Math.round(e.number_of_images / 2), e.number_of_images - 1), 0)
    }
}
class lA extends Ap {
    constructor(e={}) {
        super({
            state: e.state.renderingContext
        }),
        this.services = {
            style: e.services.style
        }
    }
    setScale(e, i=null) {
        i === null && (i = e),
        this.setMinScale(e),
        this.setMaxScale(i)
    }
    leavePointSelectionMode() {
        this.get($.ATTRIBUTE.POINT_SELECTION_MODE) === !0 && this.update($.ATTRIBUTE.POINT_SELECTION_MODE, !1)
    }
    usePointSelectionMode() {
        this.get($.ATTRIBUTE.POINT_SELECTION_MODE) === !1 && this.update($.ATTRIBUTE.POINT_SELECTION_MODE, !0)
    }
    setContainer(e) {
        this.update($.ATTRIBUTE.CONTAINER_ELEMENT, e)
    }
    updateRenderingContext() {
        const {CONTAINER_ELEMENT: e, LEFT_PADDING: i, RIGHT_PADDING: s, WIDTH_AVAILABLE: r} = $.ATTRIBUTE
          , n = this.services.style.get(N.ATTRIBUTE.LINE_DIM)
          , a = this.get(e);
        if (!a)
            return;
        const o = .2 * a.offsetWidth
          , l = o - n
          , c = a.offsetWidth - l - n;
        this.update(i, o),
        this.update(s, c),
        this.update(r, l)
    }
    setZoomSettings(e) {
        const {MIN_ZOOM: i, MAX_ZOOM: s, ZOOM_DYNAMIC: r, INITIAL_MIN_SCALE: n, INITIAL_MAX_SCALE: a, MIN_SCALE: o, MAX_SCALE: l} = $.ATTRIBUTE;
        this.update(i, Math.max(e.min, 0)),
        this.update(s, Math.max(e.max, e.min)),
        this.update(r, this.get(s) - this.get(i)),
        this.update(n, this.get(i) - ds),
        this.update(a, this.get(s) + ds),
        this.update(o, this.get(n)),
        this.update(l, this.get(a))
    }
    setMinScale(e) {
        this.update($.ATTRIBUTE.MIN_SCALE, Math.min(Math.abs(e - ds), this.get($.ATTRIBUTE.MIN_ZOOM) - ds) / window.devicePixelRatio)
    }
    setMaxScale(e) {
        this.update($.ATTRIBUTE.MAX_SCALE, Math.max(Math.abs(e + ds), this.get($.ATTRIBUTE.MAX_ZOOM) + ds) * window.devicePixelRatio)
    }
    setScaleLevel(e) {
        this.update($.ATTRIBUTE.SCALE, e)
    }
}
class cA {
    constructor() {
        this.resources = [],
        this.rightIndex = new Set,
        this.leftIndex = new Set
    }
}
class lt {
    constructor(e, i, s, r, n, a) {
        ++lt.instance,
        this.labelX = e,
        this.labelY = i,
        this.labelWidth = s,
        this.labelHeight = r,
        this.taxon_key = n,
        this.point_id = a
    }
}
lt.POOL = {
    AVAIBLE: [new lt(0,0,0,0,0), new lt(0,0,0,0,0), new lt(0,0,0,0,0)]
};
lt.getOne = function(t, e, i, s, r, n) {
    if (lt.POOL.AVAIBLE.length > 0) {
        const a = lt.POOL.AVAIBLE.pop();
        return a.labelX = t,
        a.labelY = e,
        a.labelWidth = i,
        a.labelHeight = s,
        a.taxon_key = r,
        a.point_id = n,
        a
    } else
        return new lt(t,e,i,s,r,n)
}
;
lt.recycle = function(t) {
    lt.POOL.AVAIBLE.push(t)
}
;
class Po {
    constructor(e={}) {
        this.color = e.color || "",
        this.alpha = e.alpha || "1",
        this.originalColor = e.color || "",
        this.extraWidth = 0,
        this.isHovered = !1,
        this.isIsolated = !1,
        this.isSelected = !1
    }
    setColor(e) {
        this.color = e
    }
    setAlpha(e) {
        this.alpha = e
    }
    setColorOf(e) {
        this.setColor(e.color),
        this.setAlpha(e.alpha)
    }
    static areColorEquals(e, i) {
        return e.color === i.color && e.alpha === i.alpha
    }
    load(e={}) {
        for (const i in e)
            this.hasOwnProperty(i) && (this[i] = e[i])
    }
}
class Si extends Me {
    constructor(e={}) {
        super(T({
            name: e.name || "point-service"
        }, e)),
        this.state = {
            label: e.state.label
        },
        this.additionnalStyle = {}
    }
    clear() {
        const e = this.state.label;
        e.resources.forEach(i => {
            lt.recycle(i)
        }
        ),
        e.resources.length = 0,
        e.rightIndex.clear(),
        e.leftIndex.clear()
    }
    findByCoords(e, i, s={}) {
        let r;
        if (s.left && s.right)
            r = this.state.label.resources.find(n => e + zr.LEFT >= n.labelX && e - zr.RIGHT <= n.labelX + n.labelWidth && i + zr.TOP >= n.labelY && i - zr.BOTTOM <= n.labelY + n.labelHeight);
        else {
            let n = null;
            if (e >= s.right)
                n = this.state.label.rightIndex;
            else if (e <= s.left)
                n = this.state.label.leftIndex;
            else
                return null;
            r = n.find(a => {
                const o = this.state.label.resources[a];
                return e >= o.labelX && e <= o.labelX + o.labelWidth && i >= o.labelY && i <= o.labelY + o.labelHeight
            }
            )
        }
        return typeof r > "u" ? null : r
    }
    record(e, i, s, r, n, a, o=null) {
        const l = lt.getOne(e, i, s, r, n, a)
          , c = this.state.label.resources.push(l);
        o === Si.LEFT_INDEX ? this.state.label.leftIndex.add(c - 1) : o === Si.RIGHT_INDEX && this.state.label.rightIndex.add(c - 1)
    }
    getLabelStyle(e) {
        const i = new Po({
            color: e.color || ze.BLACK
        });
        return i.load(this.additionnalStyle[`${e.id}`]),
        i.id = e.id,
        i
    }
    setStyle(e, i, s) {
        typeof this.additionnalStyle[e] > "u" && (this.additionnalStyle[e] = {}),
        this.additionnalStyle[e][i] = s
    }
    getDisplayedLabels() {
        return this.state.label.resources
    }
}
Si.RIGHT_INDEX = 0;
Si.LEFT_INDEX = 1;
class uA extends bl {
    constructor(e={}) {
        super(e),
        this.hidden = new Set,
        this.hover = null
    }
}
class dA {
    constructor(e) {
        this.state = e.state.pointer
    }
    getDelta() {
        return this.state.data.delta
    }
    getCoords() {
        return this.state.data.coords
    }
    clearDelta() {
        this.state.data.delta.x = 0,
        this.state.data.delta.y = 0
    }
}
class ri extends Me {
    constructor(e={}) {
        super({
            name: "transform-service",
            container: e
        }),
        this.services = {
            renderingContext: e.services.renderingContext
        }
    }
    toggleVerticalFlipContext() {
        this.toggleFlipContext($.ATTRIBUTE.VERTICAL_FLIP)
    }
    toggleHorizontalFlipContext() {
        this.toggleFlipContext($.ATTRIBUTE.HORIZONTAL_FLIP)
    }
    toggleFlipContext(e) {
        const i = this.services.renderingContext.get(e);
        this.services.renderingContext.update(e, !i),
        this.publish(ri.EVENT.FLIP)
    }
    verticalFlip(e) {
        this.applyFlip(e, ae.METHOD.FLIP_X),
        this.toggleVerticalFlipContext()
    }
    horizontalFlip(e) {
        this.applyFlip(e, ae.METHOD.FLIP_Y),
        this.toggleHorizontalFlipContext()
    }
    scale(e, i) {
        this.apply(e, ae.METHOD.SCALE, i)
    }
    apply(e, i, s) {
        const {imageCanvas: r, pointsCanvas: n, overlaysCanvas: a} = e.components;
        try {
            r[i](s),
            n[i](s),
            a[i](s)
        } catch (o) {}
    }
    applyFlip(e, i) {
        Math.abs(e.services.renderingContext.get($.ATTRIBUTE.ROTATION_ANGLE)) % 180 >= 90 && (i === ae.METHOD.FLIP_X ? i = ae.METHOD.FLIP_Y : i = ae.METHOD.FLIP_X,
        this.toggleVerticalFlipContext(),
        this.toggleHorizontalFlipContext()),
        this.apply(e, i)
    }
    restore(e) {
        this.apply(e, ae.METHOD.RESTORE)
    }
    save(e) {
        this.apply(e, ae.METHOD.SAVE)
    }
    rotate(e, i) {
        const s = e.services.renderingContext
          , r = s.get($.ATTRIBUTE.HORIZONTAL_FLIP)
          , n = s.get($.ATTRIBUTE.VERTICAL_FLIP)
          , a = (r && !n || !r && n ? -1 : 1) * i * To;
        this.apply(e, ae.METHOD.ROTATE, a);
        let o = e.services.renderingContext.get($.ATTRIBUTE.ROTATION_ANGLE);
        o += i,
        e.services.renderingContext.update($.ATTRIBUTE.ROTATION_ANGLE, o),
        e.data.overlaysDrawn = !1,
        this.publish(ri.EVENT.ROTATE)
    }
}
ri.EVENT = {
    FLIP: "on-flip",
    ROTATE: "on-rotate"
};
const hA = 8;
class Bs extends Nh {
    constructor(e) {
        super({
            resources: e.state.overlay,
            settings: e
        }),
        this.services = {
            textOverlay: e.services.textOverlay,
            slice: e.services.slice,
            series: e.services.series,
            style: e.services.style
        },
        this.data.overlaysCurrentlyDrawn = 0,
        this.data.lastRenderingKey = null,
        this.data.imageOpacity = lu
    }
    addResource(e, i=null) {
        i === null && (i = e.layer),
        super.addResource(e, i)
    }
    getDefaultImageOverlayOpacity() {
        return lu
    }
    getOpacity() {
        return parseFloat(this.data.imageOpacity)
    }
    setImageOpacity(e) {
        this.data.imageOpacity = e,
        this.publish(Bs.EVENT.IMAGE_OPACITY_CHANGE, {
            opacity: e
        })
    }
    refreshSelected(e) {
        const i = e.getCurrent();
        this.unselectAll(),
        this.isAvailable(da) && this.select(da),
        i.forEach(s => {
            const r = e.findById(s);
            typeof r.layer == "string" && r.layer.split(",").forEach(n => {
                this.isAvailable(n) && this.select(n)
            }
            )
        }
        )
    }
    draw(e, i, s, r) {
        const n = this.getCurrent();
        e.isEnabled() !== !0 || n.length === 0 || (this.data.overlaysCurrentlyDrawn > 0 && (this.data.overlaysCurrentlyDrawn = 0,
        e.clear()),
        this.drawImageOverlays(e, i, s, n),
        this.drawTextOverlays(e, s, r))
    }
    getValidOverlays(e) {
        return this.getCurrent().filter(i => this.existOverlay(i, this.services.slice.findById(e)))
    }
    drawImageOverlays(e, i, s, r) {
        const n = this.services.slice.getCurrentId()
          , a = `${n}-${r.join("#")}-${Math.random() * 100}`;
        this.data.lastRenderingKey = a;
        const o = this.getValidOverlays(n);
        Promise.all(o.map(l => i.getImage({
            slice_id: n,
            format: "png",
            type: de.OVERLAY,
            code: l
        }), j.PRIORITY.HIGH)).then(l => {
            if (this.data.lastRenderingKey === a) {
                const {IMAGE_OFFSET_X: c, IMAGE_OFFSET_Y: u, MULTIPLIER: h} = s.get()
                  , d = i.getLastImageRendered()
                  , m = this.services.series.getCurrent().slices_width;
                e.setContextOpacity(this.data.imageOpacity),
                d !== null && l.forEach(p => {
                    if (p.image !== null) {
                        const f = m * h / p.image.width;
                        e.drawImage(p.image, c, u, p.image.width * f, p.image.height * f)
                    }
                }
                ),
                e.setContextOpacity(1),
                this.data.overlaysCurrentlyDrawn += o.length
            }
        }
        )
    }
    drawTextOverlays(e, i, s) {
        const r = this.services.slice.getCurrent()
          , n = this.services.textOverlay.find({
            layer: {
                $in: [...this.getCurrent(), da]
            },
            slice_id: r.id
        })
          , {IMAGE_OFFSET_X: a, IMAGE_OFFSET_Y: o, MULTIPLIER: l} = i.get();
        n.forEach(c => {
            const u = s.getTranslation(c.name_id, ie.NAMESPACE.UI);
            if (u !== null) {
                const h = c.fontSize * l
                  , d = c.y * l + o;
                let m = a;
                c.align_id === la.CODES.CENTER ? m += l * c.x + c.width * l / 2 : c.align_id === la.CODES.RIGHT ? m += c.x * l + c.width * l : m += c.x * l;
                const p = this.services.style.get(N.ATTRIBUTE.FONT_FAMILY);
                e.setTextAlign(la[c.align_id]),
                e.setFillStyle(`#${c.color}`),
                e.setFont(p, h, "px");
                const f = et(e.getCanvasContext(), u)
                  , g = Math.floor(f.fontBoundingBoxDescent + f.fontBoundingBoxAscent)
                  , E = c.width * l
                  , I = g + hA;
                e.drawMultilineText({
                    text: u,
                    x: m,
                    y: d - (g - I) / 2,
                    maxWidth: E,
                    lineHeight: g,
                    maxLines: 2,
                    splitHyphen: !0,
                    allowCenter: !1
                })
            }
        }
        ),
        this.data.overlaysCurrentlyDrawn += n.length
    }
    existOverlay(e, i) {
        let s = !1;
        const r = this.findById(e);
        return r !== null && r.range !== null && r.range.split(",").map(n => {
            const a = n.split("-");
            return {
                min: a[0],
                max: a[1]
            }
        }
        ).forEach(n => {
            i.sort_order >= n.min && i.sort_order <= n.max && (s = !0)
        }
        ),
        s
    }
    getType() {
        return "Overlay"
    }
}
Bs.EVENT = {
    IMAGE_OPACITY_CHANGE: "overlays-image-opacity-change"
};
class pA extends zt {
    constructor() {
        super(),
        this.current_id = new Set,
        this.default_id = new Set
    }
}
const wp = 300;
function mA(t, e, i, s, r) {
    return Math.pow(1 - t, 3) * e + t * i * (3 * Math.pow(1 - t, 2)) + s * (3 * (1 - t) * Math.pow(t, 2)) + r * Math.pow(t, 3)
}
function _p(t) {
    return mA(t, .25, .1, .25, 1)
}
const gA = 100
  , fA = 1.5
  , Du = 2.5
  , vA = 1;
let yA = 0;
class Lp extends Me {
    constructor(e={}) {
        super({
            _id: e.drawer_id || `standard-label-drawer_${++yA}`
        }),
        this.services = {
            style: e.services.style,
            structure: e.services.structure,
            translator: e.services.translator,
            renderingContext: e.services.renderingContext,
            label: e.services.label,
            point: e.services.point
        },
        this.context = {
            idealLabelHeight: 0,
            heightAvailable: 0,
            heightRequired: 0,
            candidates: [],
            filteredPoints: [],
            interline: 0,
            side: null,
            currentYForLabels: 0,
            textAvailableWidth: 0,
            labelsInfo: {},
            taxon_key: null,
            labelComponent: null,
            maxLength: 0,
            allPreselectedLabelsShouldBeDrawn: !1
        },
        this.data.translationLength = {},
        this.index = 1,
        this.animationRaf = null
    }
    reset() {
        this.publish(ge.EVENT.NEW_RENDERING),
        this.index = 1
    }
    onResetContext(e) {
        e.heightRequired = 0,
        e.heightAvailable = 0,
        e.idealLabelHeight = 0,
        e.candidates = [],
        e.filteredPoints = [],
        e.side = null,
        e.interline = 0,
        e.currentYForLabels = 0,
        e.textAvailableWidth = 0,
        e.labelsInfo = {},
        e.taxon_key = null,
        e.labelComponent = null,
        e.maxLength = 0,
        e.allPreselectedLabelsShouldBeDrawn = !1
    }
    stopAnimation() {
        cancelAnimationFrame(this.animationRaf)
    }
    resetContext(e) {
        this.onResetContext(e),
        this.publish(ge.EVENT.CONTEXT_RESET, e)
    }
    dispatchPointBySide(e, i) {
        const s = e.length
          , r = new Array(s)
          , n = new Array(s);
        let a = 0
          , o = 0;
        return e.forEach(l => {
            l.contextual_x < i ? (r[a] = l,
            a++) : (n[o] = l,
            o++)
        }
        ),
        r.length = a,
        n.length = o,
        {
            left: r,
            right: n
        }
    }
    setTextStyle(e, i) {
        const s = this.getFontSize()
          , r = e.side === "left" ? "right" : "start";
        e.labelComponent = e.side === "left" ? i.layers.leftLabels : i.layers.rightLabels,
        e.labelComponent.setTextAlign(r),
        e.labelComponent.setFontSize(s),
        i.layers.buffer.setTextAlign(r),
        i.layers.buffer.setFontSize(s)
    }
    updateRangeFontSize() {
        const {BASE_MIN_FONT_PX: e, BASE_MAX_FONT_PX: i, FONT_ZOOM_LEVEL: s} = this.services.style.get();
        this.services.style.update(N.ATTRIBUTE.MIN_FONT_PX, Math.ceil(e * s)),
        this.services.style.update(N.ATTRIBUTE.MAX_FONT_PX, Math.ceil(i * s)),
        this.publish(ge.EVENT.UPDATE_RANGE_FONT_SIZE)
    }
    computeSpaceAvailable(e) {
        this.computeWidthAvailable(e, e.labelComponent),
        this.computeHeightAvailable(e.labelComponent)
    }
    draw(e) {
        this.resetContext(this.context),
        e.candidates.length !== 0 && (this.context.candidates = this.updateCandidates(e.candidates),
        this.setSide(e.side),
        this.setTextStyle(this.context, e),
        this.computeSpaceAvailable(this.context),
        this.filterPointsByPriority(this.context, e),
        this.context.idealLabelHeight = this.computeIdealLabelHeight(this.context),
        this.updateDrawingData(this.context, e),
        this.computeVerticalCoordsOfFirstLabel(this.context, e.layers.points),
        this.computeLabelsInfo(this.context, e),
        this.drawLabels(this.context, e))
    }
    computeWidthAvailable(e, i) {
        const {TEXT_PADDING: s, SMALL_HORIZONTAL_LINE_LENGTH: r, LINE_DIM: n, MARGIN: a} = this.services.style.get()
          , o = Math.ceil(i.getWidth() * .2) - a;
        e.textAvailableWidth = o - (s + r),
        e.leftBorderForText = o,
        e.rightBorderForText = i.getWidth() - e.textAvailableWidth - n,
        e.rightThreshold = Math.ceil(i.getWidth() * .8),
        e.leftThreshold = Math.ceil(i.getWidth() * .2)
    }
    updateCandidates(e) {
        const i = {
            candidates: e
        };
        return this.publish(ge.EVENT.BEFORE_SET_CANDIDATES, i),
        i.candidates
    }
    setSide(e) {
        this.context.side = e
    }
    computeHeightAvailable(e) {
        const i = this.services.style.get(N.ATTRIBUTE.VERTICAL_LINE_PADDING);
        this.context.heightAvailable = e.getHeightAvailable() - i
    }
    getBestInterlineByNbLabels(e, i, s) {
        const {MAX_LABEL_HEIGHT_WITH_LINES: r, MIN_MARGIN_LABEL: n} = this.services.style.get();
        return Math.floor(Math.max(Math.min((s - i) / e, r), n))
    }
    computeDrawingData(e, i, s, r, n) {
        let a = 0, o = 0, l;
        return e.forEach(c => {
            const u = this.getLabelInfo(r, c, n, s);
            a += u.lineHeight * u.nbLines,
            o += u.nbLines
        }
        ),
        l = this.getBestInterlineByNbLabels(e.length, a, i),
        a + l > r.getHeightAvailable() && (l = Math.max(r.getHeightAvailable() - a, 0)),
        {
            totalSizeRequired: a + l * (e.length - 1),
            paddingInterline: l
        }
    }
    computeLossyDrawingData(e, i, s, r, n) {
        let a = 0
          , o = 0
          , l = 0
          , c = 0;
        const u = e.length;
        let h;
        const d = {};
        for (; a + c < i && o < u; ) {
            h = e[o];
            const m = this.getLabelInfo(r, h, n, s);
            d[h.id] = m,
            a += m.nbLines * m.lineHeight,
            l += m.nbLines,
            c = this.getBestInterlineByNbLabels(o, a, i),
            ++o
        }
        for (e.length = o,
        c = this.getBestInterlineByNbLabels(e.length, a, i); o > 1 && a + c * (e.length - 1) > i; )
            try {
                const m = e[o - 1];
                a -= d[m.id].nbLines * d[m.id].lineHeight,
                l -= d[m.id].nbLines,
                d[m.id].recycle(),
                delete d[m.id],
                --o,
                e.length = o
            } catch (m) {}
        return c = this.getBestInterlineByNbLabels(e.length, a, i),
        {
            totalSizeRequired: a + c * (e.length - 1),
            nbLines: l,
            paddingInterline: c
        }
    }
    getLabelInfo(e, i, s, r) {
        const {MAX_LABEL_LINES: n} = this.services.style.get()
          , a = {
            textAvailableWidth: r
        };
        return this.publish(ge.EVENT.BEFORE_GET_LABEL_INFO, {
            taxon_key: i.taxon_key,
            context: a
        }),
        e.getLabelInfos(s(i.taxon_key, i.id), this.services.style.get(N.ATTRIBUTE.FONT_SIZE), a.textAvailableWidth, n)
    }
    filterPointsByPriority(e, i) {
        this.context.allPreselectedLabelsShouldBeDrawn !== !0 ? e.candidates.forEach(s => {
            s.priority < gA && e.filteredPoints.push(s)
        }
        ) : e.filteredPoints = e.candidates.slice(0),
        e.filteredPoints.sort( (s, r) => s.priority - r.priority)
    }
    computeIdealLabelHeight(e) {
        const i = this.services.style.get(N.ATTRIBUTE.MAX_LABEL_HEIGHT_WITH_LINES)
          , s = e.filteredPoints.length;
        return Math.min(Math.floor(e.heightAvailable / s), i)
    }
    getVerticalThresholds(e, i) {
        let s = 0;
        const {MULTIPLIER: r, IMAGE_OFFSET_Y: n, VERTICAL_FLIP: a} = this.services.renderingContext.get();
        e.filteredPoints.forEach(h => {
            const d = h.y * r + n;
            s += d * i.getComputedScaleY(a) + i.getTy()
        }
        );
        const o = s / e.filteredPoints.length;
        let l;
        const c = Pi;
        l = o - e.heightRequired / 2;
        const u = e.heightAvailable - e.heightRequired;
        return l > u && (l = u),
        l + e.heightRequired / 2 > e.heightAvailable && (l -= e.heightAvailable - l + e.heightRequired / 2),
        l < c && (l = c),
        {
            start: Math.floor(l),
            max: Math.floor(u),
            min: Math.floor(c),
            center: Math.floor(o)
        }
    }
    computeVerticalCoordsOfFirstLabel(e, i) {
        const s = this.getVerticalThresholds(e, i);
        return this.context.currentYForLabels = s.start,
        s
    }
    updateDrawingData(e, i) {
        if (e.filteredPoints.length === 0) {
            e.heightRequired = 0,
            e.interline = 0;
            return
        }
        let s;
        this.context.allPreselectedLabelsShouldBeDrawn === !0 ? s = this.computeDrawingData(e.filteredPoints, e.heightAvailable, e.textAvailableWidth, e.labelComponent, i.translator) : s = this.computeLossyDrawingData(e.filteredPoints, e.heightAvailable, e.textAvailableWidth, e.labelComponent, i.translator),
        e.heightRequired = s.totalSizeRequired,
        e.interline = s.paddingInterline
    }
    updateStyleIfNeeded(e, i, s) {
        if (this.publish(ge.EVENT.UPDATE_STYLE, s),
        Po.areColorEquals(i, s) !== !0) {
            s.isHovered && (s.alpha = vA);
            const r = Ts(s.color, s.alpha);
            e.setFillStyle(r),
            e.setStrokeStyle(r),
            i.setColorOf(s)
        }
    }
    drawLine(e, i, s, r, n, a, o=!1) {
        const {SMALL_HORIZONTAL_LINE_LENGTH: l, VERTICAL_LINE_PADDING: c} = this.services.style.get()
          , u = r.side === "left" ? r.leftThreshold : r.rightThreshold
          , h = r.side === "left" ? -l : l
          , d = u
          , m = d + h
          , p = r.currentYForLabels + c
          , f = p + r.heightOfOneLine * s.nbLines
          , g = r.currentYForLabels + Math.floor(r.heightDisplay / 2) + c;
        e.beginPath();
        const E = e.getCanvasContext();
        if (a.isHovered || a.isIsolated || a.isSelected ? E.lineWidth = Du : E.lineWidth = fA,
        !a.isHovered && !a.isIsolated && !a.isSelected && (e.moveTo(m, p),
        e.lineTo(m, f)),
        e.moveTo(m, g),
        e.lineTo(d, g),
        e.stroke(),
        a.isHovered || a.isIsolated || a.isSelected) {
            const I = i.x - m
              , C = i.y - g
              , w = Math.sqrt(I * I + C * C)
              , O = I / w
              , M = C / w
              , z = this.services.style.get(N.ATTRIBUTE.POINT_RADIUS) * i.sizeMultiplier
              , B = i.x - z * O
              , D = i.y - z * M;
            if (o) {
                e.beginPath(),
                e.moveTo(d, g),
                e.lineTo(B, D),
                e.stroke();
                return
            }
            const R = Ts(a.color, a.alpha);
            n.setFillStyle(R),
            n.setStrokeStyle(R),
            n.getCanvasContext().lineWidth = Du;
            const P = wp
              , b = performance.now()
              , S = i.x
              , L = i.y
              , H = U => {
                const Z = U - b
                  , q = Math.min(Z / P, 1)
                  , Q = _p(q)
                  , le = S + (B - S) * Q
                  , oe = L + (D - L) * Q;
                n.clear(),
                n.beginPath(),
                n.moveTo(d, g),
                n.lineTo(le, oe),
                n.stroke(),
                q < 1 && (this.animationRaf = requestAnimationFrame(H))
            }
            ;
            this.animationRaf = requestAnimationFrame(H)
        } else
            e.beginPath(),
            e.moveTo(d, g),
            e.lineTo(i.x, i.y),
            e.stroke()
    }
    computeLabelsInfo(e, i) {
        e.filteredPoints.forEach(s => {
            const r = e.side === "left" ? i.layers.leftLabels : i.layers.rightLabels;
            e.labelsInfo[s.id] = this.getLabelInfo(r, s, i.translator, e.textAvailableWidth)
        }
        )
    }
    getSideLayer(e, i) {
        return e.side === "left" ? i.layers.leftLabels : i.layers.rightLabels
    }
    getTextX(e) {
        if (e.side === "left") {
            const {MARGIN: i} = this.services.style.get();
            return i
        } else {
            const {SMALL_HORIZONTAL_LINE_LENGTH: i, TEXT_PADDING: s} = this.services.style.get();
            return e.rightThreshold + i + s
        }
    }
    getLabelAlignment(e, i) {
        return {
            horizontal: i ? "right" : "left",
            vertical: "alphabetic"
        }
    }
    drawLabels(e, i) {
        const s = e.filteredPoints
          , r = e.filteredPoints.length
          , n = e.side === "left"
          , a = e.textAvailableWidth;
        for (let o = 0; o < r; o++) {
            e.textAvailableWidth = a;
            let l = 0;
            const c = s.length
              , u = ve.getOne().copy(s[0]);
            i.layers.points.applyLocalTransformationToPoint(u, !0);
            const h = u.x
              , d = u.y;
            ve.recycle(u, e.currentYForLabels);
            const m = e.side === "left" ? h - e.leftBorderForText : h - e.rightBorderForText;
            let p = (d - e.currentYForLabels - e.idealLabelHeight / 2) / m;
            const f = new Po({
                color: "#000000",
                alpha: 0
            });
            for (let P = 1; P < c; P++) {
                const b = ve.getOne().copy(s[P]);
                i.layers.points.applyLocalTransformationToPoint(b, !0);
                const S = b.x
                  , L = b.y;
                ve.recycle(b);
                const H = n ? S - e.leftBorderForText : S - e.rightBorderForText
                  , U = (L - e.currentYForLabels - e.idealLabelHeight / 2) / H;
                n ? U < p && (p = U,
                l = P) : U > p && (p = U,
                l = P)
            }
            const g = ve.getOne().copy(s[l]);
            this.context.taxon_key = g.taxon_key;
            const E = s[l];
            i.layers.points.applyLocalTransformationToPoint(g, !0),
            s.splice(l, 1);
            const I = i.translator(g.taxon_key, g.id, this.index);
            this.index++;
            const C = e.labelsInfo[g.id];
            e.heightOfOneLine = C.lineHeight,
            e.heightDisplay = C.nbLines * C.lineHeight;
            const {VERTICAL_LINE_PADDING: w} = this.services.style.get()
              , O = this.services.label.getLabelStyle(g)
              , M = O.isIsolated || O.isSelected
              , z = this.getSideLayer(e, i);
            this.updateStyleIfNeeded(z, f, O),
            this.drawLine(z, g, C, e, i.layers.animatedLineCanvas, O, M);
            const B = {
                x: this.getTextX(e),
                y: Math.ceil(e.currentYForLabels + w)
            };
            this.publish(ge.EVENT.BEFORE_DRAW_TEXT, {
                taxon_key: g.taxon_key,
                context: e,
                position: B
            });
            const D = z.drawMultilineText({
                text: I,
                x: B.x,
                y: B.y,
                maxWidth: e.textAvailableWidth,
                lineHeight: e.heightOfOneLine,
                maxLinesBeforeEllipsis: C.nbLines,
                alignment: this.getLabelAlignment(g.taxon_key, e.side === "left"),
                currentLabelStyle: O
            });
            e.maxLength = D.maxLength;
            const R = this.services.structure.findByTaxonKey(g.taxon_key);
            this.services.structure.updateById(R.id, {
                isTrunk8: D.isTrunk8,
                color: O.color
            }),
            D.lengthOfFirstLine < 0 && (D.lengthOfFirstLine *= -1),
            this.services.label.record(e.side === "left" ? e.textAvailableWidth - D.maxLength + B.x : B.x, e.currentYForLabels, D.maxLength, e.heightDisplay, g.taxon_key, g.id, e.side === "left" ? Si.LEFT_INDEX : Si.RIGHT_INDEX),
            this.services.point.link(E, e.side),
            this.publish(ge.EVENT.LABEL_DRAWN, {
                context: e,
                labelStyle: O,
                point: g,
                position: {
                    x: D.x,
                    y: D.y,
                    height: D.height
                }
            }),
            C.recycle(),
            this.addLabelMarginBottom(e),
            ve.recycle(g)
        }
    }
    getTranslationLength(e, i, s) {
        const r = `${e}-${i}`;
        if (this.data.translationLength[r])
            return this.data.translationLength[r];
        {
            const n = this.services.translator.getTranslation(e, ie.NAMESPACE.CONTENT)
              , a = s.layers.buffer.getLabelInfos(n, i);
            return this.data.translationLength[r] = a.textWidth,
            a.recycle(),
            a.textWidth
        }
    }
    getLabelHeight(e, i, s, r, n=2) {
        const {MIN_MARGIN_LABEL: a} = this.services.style.get()
          , o = this.getTranslationLength(e, i, r);
        return this.getLabelNbLine(o, s, n) * i + a
    }
    getLabelWidth(e, i, s, r, n=2) {
        const {MIN_MARGIN_LABEL: a} = this.services.style.get()
          , o = this.getTranslationLength(e, i, r)
          , l = this.getLabelNbLine(o, s, n);
        return Math.round(o / l + a)
    }
    getLabelNbLine(e, i, s=2) {
        let r = 1;
        return e > i.textAvailableWidth && (r = e - e % i.textAvailableWidth / i.textAvailableWidth,
        e / i.textAvailableWidth > this.getAuthorizedOverflow(i) && r++),
        Math.min(r, s)
    }
    addLabelMarginBottom(e) {
        e.currentYForLabels += e.heightDisplay + e.interline
    }
    findBestFontSize(e, i) {
        const {MIN_FONT_PX: s} = this.services.style.get()
          , r = this.getBestFontSizeCandidates(e, i.candidates.left, i)
          , n = this.getBestFontSizeCandidates(e, i.candidates.right, i);
        return Math.floor(Math.max(Math.min(r, n), s))
    }
    setFontSize(e) {
        this.services.style.update(N.ATTRIBUTE.FONT_SIZE, e)
    }
    getFontSize() {
        return this.services.style.get(N.ATTRIBUTE.FONT_SIZE)
    }
    getAuthorizedOverflow(e) {
        return e.textAvailableWidth * My
    }
    getBestFontSizeCandidates(e, i, s) {
        const {MAX_FONT_PX: r, MIN_FONT_PX: n, VERTICAL_LINE_PADDING: a} = this.services.style.get();
        let o, l = !1;
        const c = s.layers.buffer;
        let u = r;
        const h = this.getAuthorizedOverflow(e);
        for (; !l && u >= n; ) {
            let d = 0
              , m = 0;
            o = 0,
            c.setFontSize(u),
            i.forEach(p => {
                const f = this.services.structure.findByTaxonKey(p.taxon_key);
                o += this.getLabelHeight(f.translation_key, u, e, s);
                const g = this.getLabelWidth(f.translation_key, u, e, s);
                d = g > d ? g : d,
                g > e.textAvailableWidth && m++
            }
            ),
            o <= s.layers.leftLabels.getHeightAvailable() - a && (d - h < e.textAvailableWidth || m <= i.length * .25) ? l = !0 : u--
        }
        return u
    }
    precomputeContext(e) {
        const i = {};
        this.resetContext(i),
        this.computeWidthAvailable(i, e.layers.points),
        e.candidates.left = this.updateCandidates(e.candidates.left),
        e.candidates.right = this.updateCandidates(e.candidates.right);
        const s = {
            forceSizeAuto: !1
        };
        this.publish(ge.EVENT.FORCE_FONT_SIZE_AUTO, s),
        (e.application.data.fontSizeAuto || s.forceSizeAuto) && this.setFontSize(this.findBestFontSize(i, e))
    }
}
class ce {
    constructor(e) {
        this.data = e
    }
    static recordFactory(e, i, s) {
        return {
            alias: e,
            generate(r, n) {
                Le({
                    instanceAlias: e,
                    parameters: r.get(s),
                    InstanceType: r.get(i) || i
                }).create(r.getContent(), n)
            }
        }
    }
    set(e, i) {
        this.data[e] = i
    }
    get(e) {
        return this.data[e]
    }
    getContent() {
        return this.data
    }
    addFactory(e, i, s, r={}) {
        Array.isArray(this.data.factories) || (this.data.factories = []);
        const n = ce.recordFactory(e, i, s);
        if (typeof r.insertBefore < "u") {
            let a = this.data.factories.findIndex(o => o.alias === r.insertBefore);
            a >= 0 ? this.data.factories.splice(a, 0, n) : this.data.factories.push(n)
        } else
            this.data.factories.push(n)
    }
    startFactories(e) {
        this.data.factories.forEach(i => {
            typeof i.generate == "function" ? i.generate(this, e) : i.create(this.getContent(), e)
        }
        ),
        delete this.data.factories
    }
}
class EA extends j {
    constructor(e) {
        super(e),
        this.application_id = null
    }
    setApplicationId(e) {
        this.application_id = e
    }
    getApplicationId() {
        return this.application_id
    }
    getImage(e, i=j.PRIORITY.STANDARD) {
        return new Promise( (s, r) => {
            const n = new Image;
            n.onload = () => {
                s(n)
            }
            ,
            n.onerror = () => {
                r()
            }
            ,
            this.imageHelper.requestImage(`${re.imageBaseURL}/web/images/${this.getApplicationId()}/orientations/v${e.version}/${e.name}.png?w=75&fit=clip`).then(a => n.src = a)
        }
        )
    }
}
class IA extends Me {
    constructor(e={}) {
        super({
            _id: e._id || "standard-point-drawer"
        }),
        this.animationRaf = null,
        this.disablePulseAnimation = !1
    }
    disablePulseAnimationOnPoint() {
        this.disablePulseAnimation = !0
    }
    enablePulseAnimationOnPoint() {
        this.disablePulseAnimation = !1
    }
    stopAnimation() {
        cancelAnimationFrame(this.animationRaf)
    }
    drawPoints(e, i, s=!1) {
        const r = i.getBoundingBox()
          , n = e.slice(0);
        let a = 0;
        const o = i.services.point;
        this.stopAnimation(),
        e.forEach(c => {
            const u = o.refreshContextualCoords({
                transformation: m => i.applyLocalTransformationToPoint(m),
                point: c
            })
              , {x: h, y: d} = u;
            if (o.isVisible(c.id))
                if (i.updatePointStyle(c),
                o.isInBox(u, r))
                    c.isIsolated || c.isSelectedByUser ? this.drawAnimatedPoint(c, i, !0) : c.sizeMultiplier === 1 ? this.drawOnePoint(c, i) : this.drawAnimatedPoint(c, i, s),
                    n[a++] = c;
                else {
                    const {RECENTER_SLIGHT_MARGIN: m} = i.services.style.get();
                    if (i.needToHandleIsolateOffset === !0) {
                        i.needToHandleIsolateOffset = !1;
                        let p = 0
                          , f = 0;
                        c < r.left ? p = r.left - h + m : h > r.right && (p = r.right - h - m),
                        d < r.top ? f = r.top - d + m : d > r.bottom && (f = r.bottom - d - m),
                        (p !== 0 || f !== 0) && i.translateCanvas(p, f)
                    }
                }
        }
        ),
        n.length = a;
        const l = r.left + (r.right - r.left) * .5;
        i.services.renderingContext.update($.ATTRIBUTE.LEFT_RIGHT_THRESHOLD, l),
        i.services.point.setPointsVisible(n)
    }
    drawOnePoint(e, i) {
        const {MULTIPLIER: s, IMAGE_OFFSET_X: r, IMAGE_OFFSET_Y: n, VERTICAL_FLIP: a} = i.services.renderingContext.get()
          , o = e.x * s + r
          , l = e.y * s + n
          , c = i.services.style.get(N.ATTRIBUTE.POINT_RADIUS) * window.devicePixelRatio
          , u = i.getComputedScaleX(a);
        i.strokeCircle(o, l, Math.abs((c + 1) / u), e.edgeAlpha, e.edgeColor, Math.abs(1 / u) * window.devicePixelRatio),
        i.fillCircle(o, l, Math.abs(c / u), e.circleAlpha, e.circleColor)
    }
    drawAnimatedPoint(e, i, s) {
        const {MULTIPLIER: r, IMAGE_OFFSET_X: n, IMAGE_OFFSET_Y: a, VERTICAL_FLIP: o} = i.services.renderingContext.get()
          , l = e.x * r + n
          , c = e.y * r + a
          , u = i.services.style.get(N.ATTRIBUTE.POINT_RADIUS) * e.sizeMultiplier * window.devicePixelRatio
          , h = i.getComputedScaleX(o)
          , d = i.animationCanvasComponent
          , m = 7 * window.devicePixelRatio
          , p = 2e3
          , f = wp;
        if (s) {
            d.clear(),
            i.strokeCircle(l, c, Math.abs(u / h), e.circleAlpha, e.circleColor, Math.abs(2 * window.devicePixelRatio / h));
            return
        }
        const g = performance.now()
          , E = I => {
            d.clear();
            const C = I - g;
            if (C < f) {
                const w = C / f
                  , O = _p(w)
                  , M = u * O;
                d.strokeCircle(l, c, Math.abs(M / h), e.circleAlpha, e.circleColor, Math.abs(2 * window.devicePixelRatio / h))
            } else {
                const w = (C - f) % p / p;
                if (d.strokeCircle(l, c, Math.abs(u / h), e.circleAlpha, e.circleColor, Math.abs(2 * window.devicePixelRatio / h)),
                this.disablePulseAnimation)
                    return;
                const O = Math.abs(2 * window.devicePixelRatio / h)
                  , M = u + O + w * m
                  , z = .8 - w * .3;
                d.strokeCircle(l, c, Math.abs(M / h), z, e.edgeColor, O)
            }
            this.animationRaf = requestAnimationFrame(E)
        }
        ;
        this.animationRaf = requestAnimationFrame(E)
    }
}
class Do {
    constructor() {
        this.data = new Map
    }
    has(e) {
        return this.data.has(e)
    }
    get(e) {
        return this.data.get(e)
    }
    set(e, i) {
        this.data.set(e, i)
    }
    filter(e) {
        return new Map([...this.data].filter(e))
    }
}
class Ml extends ws {
    constructor(e={}) {
        super(e),
        this.state = {
            module: e.state.module
        },
        this.zip.default = null,
        this.typeImageDefaultContrast = [de.THUMBNAILS, de.BOTTOM_PREVIEW_SLICE],
        this.loadedZip = {},
        this.cacheThumb = new Do
    }
    getImageKey({sort_order: e}) {
        try {
            const i = xh(e, "4")
              , s = `${this.state.module.name}#thumb#images-${i}.jpg`;
            return mr(s)
        } catch (i) {
            return null
        }
    }
    setZipSrc() {
        return _(this, arguments, function*(e=We) {
            if (typeof this.loadedZip[e] < "u") {
                this.zip[0] = this.loadedZip[e],
                this.setQuality(0),
                this.isContentAvailable = !0,
                this.isSwitchingQuality = !1;
                return
            }
            yield this.loadZip(this.zipUrl[e]).then(i => _(this, null, function*() {
                this.zip[0] = i,
                this.loadedZip[e] = i,
                this.setQuality(0),
                this.isContentAvailable = !0,
                this.isSwitchingQuality = !1,
                e === We && (this.zip.default = i),
                yield this.preloadZip(e)
            }))
        })
    }
    getImage(e={}, i=j.PRIORITY.STANDARD) {
        const s = e.code || We;
        return this.typeImageDefaultContrast.includes(e.type) ? new Promise(r => _(this, null, function*() {
            const n = new Image;
            let a = e.key;
            if (typeof a > "u" && (a = this.getImageKey(e)),
            this.hasInCache(a, s))
                r(this.getFromCache(a, s));
            else {
                const o = yield this.getDefaultImageFile(a);
                if (o === null)
                    return r(null);
                try {
                    o.async("arraybuffer").then(l => {
                        n.src = Mh(l)
                    }
                    ),
                    n.onload = () => {
                        r(n)
                    }
                } catch (l) {
                    r("")
                }
            }
        })) : new Promise(r => _(this, null, function*() {
            const n = this.getImageKey(e);
            if (this.hasInCache(n, s))
                r(this.getFromCache(n, s));
            else {
                const a = yield je(Ml.prototype, this, "getImage").call(this, e, i);
                this.cacheThumb.has(s) && this.addToCache(n, a, s),
                r(a)
            }
        }))
    }
    getDefaultImageFile(e) {
        return new Promise(i => {
            this.zip.default === null ? De([{
                name: j.EVENT.LOADING_END,
                from: this
            }]).then( () => {
                i(this.zip.default.file(e))
            }
            ) : i(this.zip.default.file(e))
        }
        )
    }
    addToCache(e, i, s=We) {
        let r;
        this.cacheThumb.has(s) ? r = this.cacheThumb.get(s) : r = new Map,
        r.has(e) || r.set(e, i),
        this.cacheThumb.set(s, r)
    }
    getFromCache(e, i=We) {
        if (this.cacheThumb.has(i)) {
            const s = this.cacheThumb.get(i);
            if (s.has(e))
                return s.get(e)
        }
        return null
    }
    hasInCache(e, i=We) {
        return this.cacheThumb.has(i) && this.cacheThumb.get(i).has(e)
    }
    preloadZip() {
        return _(this, arguments, function*(e=We) {
            this.cacheThumb.has(e) || (this.cacheThumb.set(e, new Map),
            yield Promise.all(Object.keys(this.zip.current.files).map( (i, s) => new Promise(r => {
                this.getImage({
                    sort_order: s,
                    type: de.SLICE
                }).then(r)
            }
            ))))
        })
    }
    loadZipUrls(e, i) {
        return _(this, null, function*() {
            const s = `${re.baseURL}/api/${e}/images/${i.id}/thumbs/${i.version}`;
            yield re.fetch(s).then(r => r.json()).then(r => {
                this.zipUrl = r
            }
            ).catch(r => {
                throw new kh(r.message)
            }
            )
        })
    }
}
class Tr {
    listToObject(e) {
        const i = e[0]
          , s = e[1]
          , r = [];
        let n = 0;
        for (; n < s.length; ) {
            let a = {};
            i.forEach( (o, l) => {
                a[o] = s[n + l]
            }
            ),
            n += i.length,
            r.push(a)
        }
        return r
    }
    parseEncrypted(e, i, s) {
        return _(this, null, function*() {
            const {encryptedContent: r, notEncryptedContent: n} = i
              , {crypted: a, notCrypted: o} = e
              , l = yield s.run(r)
              , c = [];
            let u = 0
              , h = 0;
            for (; u < l.length; ) {
                let d = {};
                o.forEach( (m, p) => {
                    d[m] = n[h + p]
                }
                ),
                a.forEach( (m, p) => {
                    d[m] = l[u + p]
                }
                ),
                c.push(d),
                u += a.length,
                h += o.length
            }
            return c
        })
    }
}
class ur {
}
ur.EVENT = {
    CONTENT_AVAILABLE: "content-available"
};
class Ls extends Ai {
    constructor(e={}) {
        super(e),
        this.languagesLoaded = new Set,
        this.decipher = null
    }
    getDecipher(e={}) {
        return typeof e.services < "u" && e.services !== null && typeof e.services.decipher < "u" ? e.services.decipher : this.decipher
    }
    getResourcesUrl({application_id: e, module_id: i, lang_id: s}) {
        const r = this.getResourceSubName();
        let n = `${re.baseURL}/en/api/${e}/${this.getResourceName()}/${i}/lang/${s}`;
        return r !== "" && (n += `/${r}`),
        n
    }
    loadContent(e) {
        return _(this, null, function*() {
            if (this.languagesLoaded.has(e.lang_id) !== !0) {
                const i = yield this.loadLanguage(e);
                this.publish(ur.EVENT.CONTENT_AVAILABLE, i)
            }
            e.services.language.temporaryLanguage = null
        })
    }
    initializeLanguageAutoload(e) {
        this.subscribe(e.services.language, bt.EVENT.CHANGE, s => _(this, [s], function*({lang_id: i}) {
            yield this.loadContent(Y(T({}, e), {
                lang_id: i
            }))
        }))
    }
    parseResponse(s) {
        return _(this, arguments, function*(e, i={
            services,
            lang_id
        }) {
            const {lang_id: r} = i
              , n = this.getDecipher(i)
              , a = yield je(Ls.prototype, this, "parseResponse").call(this, e, i);
            if (a.granted !== !0)
                return a;
            const o = yield new Tr().parseEncrypted(a.data[0], {
                encryptedContent: a.data[1],
                notEncryptedContent: a.data[2]
            }, n)
              , l = {};
            return o.forEach(c => {
                typeof c.lang_id > "u" && (c.lang_id = r),
                Array.isArray(l[c.lang_id]) === !1 && (l[c.lang_id] = []),
                l[c.lang_id].push(c)
            }
            ),
            l
        })
    }
    loadLanguage(e) {
        return _(this, null, function*() {
            const i = je(Ls.prototype, this, "getData").call(this, e);
            return this.languagesLoaded.add(e.lang_id),
            i
        })
    }
    getDataForDefaultLanguage(e) {
        return _(this, null, function*() {
            return this.loadLanguage(Y(T({}, e), {
                lang_id: e.defaultLanguageId
            }))
        })
    }
    getDataForCurrentLanguage(e) {
        return _(this, null, function*() {
            return this.loadLanguage(Y(T({}, e), {
                lang_id: e.currentLanguageId
            }))
        })
    }
    initialize(e) {
        this.decipher = e.services.decipher,
        this.initializeLanguageAutoload(e)
    }
    getData(e) {
        return _(this, null, function*() {
            this.initialize(e);
            const i = [];
            i.push(this.getDataForDefaultLanguage(e)),
            (e.defaultLanguageId !== e.currentLanguageId || e.defaultLanguageId !== e.interfaceLanguageId) && i.push(this.getDataForCurrentLanguage(e));
            const s = yield Promise.all(i);
            let r = {};
            s.forEach(n => {
                r = T(T({}, r), n)
            }
            ),
            this.publish(ur.EVENT.CONTENT_AVAILABLE, r)
        })
    }
}
class CA extends Ls {
    getResourceName() {
        return "ui-translation"
    }
    getDataForCurrentLanguage(e) {
        return _(this, null, function*() {
            return yield this.loadLanguage(Y(T({}, e), {
                lang_id: e.interfaceLanguageId
            }))
        })
    }
}
class _t extends Ai {
    parseResponse(e, i) {
        return _(this, null, function*() {
            const s = yield je(_t.prototype, this, "parseResponse").call(this, e, i);
            return new Tr().listToObject(s)
        })
    }
}
class Op {
    constructor(e={}) {
        this.imaios_code = e.imaios_code || null,
        this.layer = e.layer || null,
        this.range = e.range || null
    }
}
class Nl extends _t {
    getResourceName() {
        return "overlay"
    }
    parseResponse(e, i) {
        return _(this, null, function*() {
            const s = yield je(Nl.prototype, this, "parseResponse").call(this, e)
              , r = [];
            return s.forEach(n => {
                r.push(new Op(n))
            }
            ),
            r
        })
    }
}
class bA extends Er {
    constructor() {
        super()
    }
}
class SA {
    constructor(e={}) {
        this.id = e.id || null,
        this.align_id = e.align_id || null,
        this.color = e.color || null,
        this.height = e.h || null,
        this.width = e.w || null,
        this.name_id = e.name_id || null,
        this.slice_id = e.slice_id || null,
        this.layer = e.layer || null,
        this.x = e.x || null,
        this.y = e.y || null,
        this.fontSize = e.font_size || null
    }
}
class Rl extends _t {
    getResourceName() {
        return "text-overlay"
    }
    parseResponse(e, i) {
        return _(this, null, function*() {
            const s = yield je(Rl.prototype, this, "parseResponse").call(this, e)
              , r = [];
            return s.forEach(n => {
                const a = new SA(n);
                r.push(a)
            }
            ),
            r
        })
    }
}
class TA extends Er {
    constructor(e) {
        super(e),
        this.providers = {
            iconSource: e.providers.iconSource
        }
    }
    addResource(e, i=null) {
        super.addResource(e, i)
    }
    getIcon(e) {
        const i = this.findById(e);
        let s = {
            name: ou.name,
            version: ou.version
        };
        return i !== null && (s = {
            name: i.name,
            version: i.version
        }),
        this.providers.iconSource.getImage(s)
    }
    getType() {
        return "Icon"
    }
}
class AA extends Ai {
    getResourceName() {
        return "point"
    }
    parseResponse(e, i) {
        return _(this, null, function*() {
            const {decipher: s} = i.services
              , r = yield e.json();
            return new Tr().parseEncrypted(r[0], {
                encryptedContent: r[1],
                notEncryptedContent: r[2]
            }, s)
        })
    }
}
class wA extends Ai {
    getResourceName() {
        return "module"
    }
    getResourcesUrl({application_id: e, moduleName: i}) {
        const s = this.getResourceSubName()
          , r = J[y.getSiteAccess()];
        let n = `${re.baseURL}/en/api/${e}/${this.getResourceName()}/${i}/lang/${r}`;
        return s !== "" && (n += `/${s}`),
        n
    }
}
class Pl extends _t {
    getResourceName() {
        return "contrast"
    }
    getData(e) {
        return _(this, null, function*() {
            const i = yield je(Pl.prototype, this, "getData").call(this, e);
            return i.length > 0 ? i : [T({}, Sh)]
        })
    }
}
class Dl extends Ai {
    getResourceName() {
        return "orientation"
    }
    parseResponse(e, i) {
        return _(this, null, function*() {
            const s = yield je(Dl.prototype, this, "parseResponse").call(this, e, i)
              , r = new Tr
              , n = s.icons[0].indexOf("id");
            return n >= 0 && (s.icons[0][n] = "id"),
            {
                iconsNameByOrientationId: r.listToObject(s.icons),
                translationIdByOrientationId: r.listToObject(s.data)
            }
        })
    }
}
class _A extends Ls {
    getResourceName() {
        return "translation"
    }
}
class LA {
    constructor(e) {
        this.instances = new Array(e);
        for (let i = 0; i < e; i++)
            this.instances.push(new Image)
    }
    getOne() {
        return this.instances.pop() || null
    }
    allowNewConnexion() {
        this.instances.push(new Image)
    }
}
class OA extends Me {
    constructor(e={}) {
        super(e),
        this.queue = {},
        this.priorityAvailables = [],
        this.nbItems = 0,
        this.services = {
            imagePriorityHeuristic: e.services.imagePriorityHeuristic,
            slice: e.services.slice,
            series: e.services.series
        },
        this.shouldIRefreshPriorities = !1,
        Array.isArray(e.prioritiesAvailables) && this.addPriorities(e.prioritiesAvailables),
        this.subscribe(e.services.slice, Fe.EVENT.SLICE_CHANGE, () => {
            this.shouldIRefreshPriorities = !0
        }
        )
    }
    push(e, i) {
        this.isPriorityAvailable(i) || this.addPriorities([i]),
        this.queue[i].push(e),
        this.nbItems++
    }
    pop() {
        this.shouldIRefreshPriorities === !0 && (this.refreshPriorities(),
        this.shouldIRefreshPriorities = !1);
        let e = 0;
        const i = this.priorityAvailables.length;
        let s = null;
        for (; e < i && s === null; ) {
            const r = this.priorityAvailables[e];
            this.queue[r].length > 0 && (s = this.queue[r].pop()),
            e++
        }
        return s !== null && this.nbItems--,
        s
    }
    isPriorityAvailable(e) {
        return this.priorityAvailables.indexOf(e) > 0
    }
    addPriorities(e=[]) {
        e.forEach(i => {
            this.isPriorityAvailable(i) || (Array.isArray(this.queue[i]) || (this.queue[i] = []),
            this.priorityAvailables.push(i))
        }
        ),
        this.priorityAvailables.sort( (i, s) => s - i)
    }
    refreshPriorities() {
        const e = {
            [j.PRIORITY.MAX]: [],
            [j.PRIORITY.HIGH]: [],
            [j.PRIORITY.STANDARD]: []
        };
        this.priorityAvailables.forEach(r => {
            Array.isArray(e[r]) || (e[r] = [])
        }
        );
        const i = this.services.slice.getCurrentId()
          , s = this.services.series.getCurrentId();
        Object.keys(this.queue).forEach(r => {
            const n = parseInt(r, 10);
            this.queue[r].forEach(a => {
                let o = n;
                if (a.type === de.SLICE || a.type === de.OVERLAY)
                    if (a.slice_id === i)
                        o = j.PRIORITY.MAX;
                    else if (typeof a.slice_id < "u") {
                        const l = this.services.slice.findById(a.slice_id);
                        l.series_id === s ? o = j.PRIORITY.HIGH : o > j.PRIORITY.STANDARD && (o = j.PRIORITY.STANDARD)
                    } else
                        o > j.PRIORITY.STANDARD && (o = j.PRIORITY.STANDARD);
                e[o].push(a)
            }
            )
        }
        ),
        this.setQueue(e)
    }
    setQueue(e) {
        this.queue = e,
        this.addPriorities(Object.keys(e).map(i => parseInt(i, 10)))
    }
    isEmpty() {
        return this.nbItems <= 0
    }
}
const xA = 1e3;
class MA extends Me {
    constructor(e={}) {
        super(e),
        this.connexionPool = new LA(4),
        this.queue = new OA(e),
        this.imageHelper = e.services["image-helper"],
        this.loadingImage = new Set,
        this.lastTimeStopLoadingImageNotification = null,
        document.addEventListener(k.image.STOP_LOADING_IMAGES, () => {
            this.lastTimeStopLoadingImageNotification = Date.now()
        }
        )
    }
    getImage(e, i=j.PRIORITY.STANDARD) {
        const s = this.connexionPool.getOne();
        return s === null ? this.delayLoading(e, i) : this.load(s, e)
    }
    delayLoading(e, i) {
        return new Promise(s => {
            e.resolve = s,
            this.queue.push(e, i)
        }
        )
    }
    load(e, i) {
        return new Promise(s => {
            this.loadingImage.add(e),
            e.crossOrigin = "Anonymous",
            e.onload = () => {
                const r = document.createElement("CANVAS")
                  , n = r.getContext("2d");
                r.height = e.naturalHeight,
                r.width = e.naturalWidth,
                n.drawImage(e, 0, 0),
                this.loadNextImage(),
                this.publish(j.EVENT.ASK_HIDE_PROGRESS, i.image_id),
                this.publish(j.EVENT.LOADING_END, i.image_id),
                this.loadingImage.delete(e),
                s(e)
            }
            ,
            e.onerror = () => {
                this.lastTimeStopLoadingImageNotification !== null && Date.now() - this.lastTimeStopLoadingImageNotification <= xA ? this.imageHelper.requestImage(i.src).then(r => e.src = r) : (this.loadNextImage(),
                this.loadingImage.delete(e),
                s(null))
            }
            ,
            this.imageHelper.requestImage(i.src).then(r => e.src = r)
        }
        )
    }
    loadNextImage() {
        this.connexionPool.allowNewConnexion(),
        this.startNewRequestFromQueue()
    }
    startNewRequestFromQueue() {
        const e = this.connexionPool.getOne();
        if (e === null)
            return;
        if (this.queue.isEmpty()) {
            this.connexionPool.allowNewConnexion();
            return
        }
        const i = this.queue.pop();
        i !== null && this.load(e, i).then(s => {
            typeof i.resolve == "function" && i.resolve(s)
        }
        )
    }
}
class kl extends Ai {
    constructor(e) {
        super(e),
        this.imageHelper = e.services["image-helper"],
        this.imageQueueProvider = new MA(e),
        this.state = {
            module: e.state.module
        },
        this.services = {
            slice: e.services.slice,
            series: e.services.series,
            renderingContext: e.services.renderingContext,
            imageCache: e.services.imageCache,
            imageSettingsStorage: e.services.imageSettingsStorage,
            modality: e.services.modality
        },
        this.application_id = null,
        this.initialized = !1
    }
    setApplicationId(e) {
        this.application_id = e
    }
    getApplicationId() {
        return this.application_id
    }
    getResourceName() {
        return "images"
    }
    getSliceHeight(e) {
        return this.services.series.findById(e.series_id).slices_height
    }
    getSliceWidth(e) {
        return this.services.series.findById(e.series_id).slices_width
    }
    restrictBySliceSize(e, i=null, s=null) {
        const r = [480, 740, 920];
        i === null && (i = this.getSliceWidth(e)),
        s === null && (s = this.getSliceHeight(e));
        let n, a;
        s < i ? (n = "h",
        a = s) : (n = "w",
        a = i);
        const o = r[0]
          , l = Math.max(r[r.length - 1], a);
        let c = 0;
        for (; c < r.length && a > r[c]; )
            ++c;
        if (c > 0) {
            const u = r[c] - a < a - r[c - 1] ? c : c - 1;
            a = r[u]
        }
        return {
            name: n,
            value: Math.max(Math.min(a, l), o)
        }
    }
    forgeImageSrc(e, i) {
        var n;
        const s = new URLSearchParams;
        let r = null;
        if (i.slice_id && (r = this.services.slice.findById(i.slice_id)),
        r === null && i.sort_order && (r = this.services.slice.findOne({
            sort_order: i.sort_order
        })),
        r !== null) {
            const a = this.getSliceHeight(r)
              , o = this.getSliceWidth(r);
            if (i.type === de.SLICE || i.type === de.OVERLAY) {
                let l = this.restrictBySliceSize(r, o, a);
                const c = i.quality || 0;
                let u = Math.max(Math.min(c, y.getHighQuality()), qi.LOWEST);
                const h = (n = this.services.series.findById(r.series_id).modality_id) != null ? n : -1;
                this.services.modality.isHighQuality(h) && (u = y.getHighQuality(),
                l = null),
                s.set("q", (i.type === de.SLICE ? u : by).toString(10)),
                l !== null && (s.set(l == null ? void 0 : l.name, l == null ? void 0 : l.value),
                s.set("fit", "clip"))
            } else
                (i.type === de.THUMBNAILS || i.type === de.GALLERY_THUMB) && i.width && (s.set("w", i.width),
                s.set("fit", "clip"));
            i.type === de.OVERLAY && s.set("fm", "png")
        }
        return `${re.imageBaseURL}/web/images/${this.getApplicationId()}/modules/${this.state.module.name}/images/v${this.state.module.version}/${e}?${s.toString()}`
    }
    searchUpscaledImage(e) {
        if (e.type === de.SLICE || e.type === de.OVERLAY || e.type === de.CROSS_REFERENCES)
            return null;
        const i = this.services.imageSettingsStorage.filter(r => r.dedupedImageId === e.dedupedImageId && this.services.imageCache.has(r.image_id));
        let s = e;
        return i.forEach(r => {
            (r.type === de.SLICE || s.type === de.THUMBNAILS || s.type === de.BOTTOM_PREVIEW_SLICE && r.type === de.GALLERY_THUMB) && (s = r)
        }
        ),
        this.services.imageCache.get(s.image_id) || null
    }
    fillSettings(e) {
        if (e.image_id) {
            const i = e.image_id.split("-");
            if (typeof e.slice_id > "u")
                if (typeof e.sort_order == "number") {
                    e.sort_order === 0 && (e.sort_order = 1);
                    const s = this.services.slice.findOne({
                        sort_order: e.sort_order
                    });
                    if (s === null)
                        return;
                    e.slice_id = s.id
                } else
                    e.slice_id = i[0];
            typeof e.code > "u" && (e.code = i[1])
        }
    }
    getImage(e={}, i=j.PRIORITY.STANDARD) {
        return new Promise(s => {
            let r = e.key;
            this.fillSettings(e);
            const n = this.searchUpscaledImage(e);
            if (n !== null)
                return s(n);
            typeof r > "u" && (r = this.imageHelper.getImageKey(e)),
            this.imageQueueProvider.getImage(Y(T({}, e), {
                src: this.forgeImageSrc(r, e)
            }), i).then(a => {
                this.publish(j.EVENT.LOADING_END, r),
                this.publish(j.EVENT.ASK_HIDE_PROGRESS, r),
                e.type === de.SLICE && this.publish(j.EVENT.IMAGE_SLICE_HAS_BEEN_LOADED, e.sort_order),
                s(a === null ? "" : a)
            }
            )
        }
        )
    }
    getData(e) {
        return _(this, null, function*() {
            if (!this.initialized) {
                const i = yield je(kl.prototype, this, "getData").call(this, e);
                this.initialized = !0,
                this.data = i
            }
            return this.data
        })
    }
    switchQuality(e) {}
}
class NA extends _t {
    getResourceName() {
        return "cross-references"
    }
    getResourceSubName() {
        return "title"
    }
}
class Ar {
    constructor(e={}) {
        this.id = e.id,
        this.name_id = e.name_id,
        this.sort_order = e.sort_order || 0,
        this.number_of_images = e.number_of_images || 0,
        this.background_color = e.background_color || "000000",
        this.full_search = e.full_search || "no",
        this.canvas_width = e.canvas_width,
        this.canvas_height = e.canvas_height,
        this.modality_id = e.modality_id,
        this.start_index = e.start_index,
        this.end_index = e.end_index,
        this.cross_references_titles = e.cross_references_titles || [],
        this.contrasts = [],
        this.slices_width = e.slices_width,
        this.slices_height = e.slices_height,
        ++Ar.count
    }
    addCrossRefTitleToSeries(e) {
        this.cross_references_titles.push(e)
    }
}
Ar.count = 0;
class Hl extends _t {
    getResourceName() {
        return "series"
    }
    getData(e) {
        return _(this, null, function*() {
            const i = new NA
              , [s,r] = yield Promise.all([je(Hl.prototype, this, "getData").call(this, e), i.getData(e)])
              , n = {};
            return s.forEach(a => {
                const o = new Ar(a);
                n[o.id] = o
            }
            ),
            r.forEach(a => {
                n[a.series_id].addCrossRefTitleToSeries(a)
            }
            ),
            Object.values(n)
        })
    }
}
class zl extends _t {
    getResourceName() {
        return "cross-references"
    }
    getData(e) {
        return _(this, null, function*() {
            const i = yield je(zl.prototype, this, "getData").call(this, e);
            return i.length > 0 && i.forEach(s => {
                s.path = JSON.parse(s.path[0])
            }
            ),
            i
        })
    }
}
class RA {
    constructor(e={}) {
        this.crossReferencesLines = e.crossReferencesLines || [],
        this.id = e.id || null,
        this.sort_order = e.sort_order || null,
        this.title_id1 = e.title_id1 || null,
        this.title_id2 = e.title_id2 || null,
        this.left = e.left || null,
        this.right = e.right || null,
        this.series_id = e.series_id || null,
        this.textOverlaysByLayer = e.textOverlaysByLayer || {},
        this.orientation_id = e.orientation_id || null,
        this.orientation_icon_id = e.orientation_icon_id || null,
        this.points = []
    }
    addCrossReference(e) {
        this.crossReferencesLines.push(e)
    }
}
class Bl extends _t {
    getResourceName() {
        return "slice"
    }
    getData(e) {
        return _(this, null, function*() {
            const i = new zl
              , [s,r] = yield Promise.all([je(Bl.prototype, this, "getData").call(this, e), i.getData(e)])
              , n = {};
            return s.forEach(a => {
                const o = new RA(a);
                n[o.id] = o
            }
            ),
            r.forEach(a => {
                n[a.slice_id].addCrossReference(a)
            }
            ),
            Object.values(n)
        })
    }
}
class PA {
    constructor(e={}) {
        this.id = e.id || null,
        this.name = e.name || null,
        this.version = e.version || 1
    }
}
class Fl extends _t {
    getResourceName() {
        return "icon"
    }
    parseResponse(e, i) {
        return _(this, null, function*() {
            const s = yield je(Fl.prototype, this, "parseResponse").call(this, e)
              , r = [];
            return s.forEach(n => r.push(new PA(n))),
            r
        })
    }
}
class DA {
    constructor(e={}) {
        this.id = e.id,
        this.taxon_id = e.taxon_id,
        this.ta_id = e.ta_id,
        this.translation_key = e.translation_key,
        this.icon_id = e.icon_id,
        this.isTrunk8 = e.isTrunk8 || !1,
        this.variant_id = e.variant_id,
        this.legacy_eponym = e.legacy_eponym || null,
        this.synonym = e.synonym || null,
        this.acronym = e.acronym || null,
        this.patronym = e.patronym || null,
        this.fr_anc = e.fr_anc || null,
        this.latin_synonym = e.latin_synonym || null,
        this.latin_acronym = e.latin_acronym || null,
        this.latin_patronym = e.latin_patronym || null,
        this.parent_translation_key = e.parent_translation_key || null,
        this.name = null,
        this.latin_name = null
    }
    getTaxonKey() {
        return `${this.ta_id}-${this.taxon_id}`
    }
}
class kA extends Ls {
    getResourceName() {
        return "structure"
    }
    getResourceSubName() {
        return "related-terms"
    }
    getResourcesUrl({application_id: e, module_id: i, lang_id: s}) {
        return `${re.baseURL}/en/api/${e}/${this.getResourceName()}/${i}/${this.getResourceSubName()}/lang/${s}`
    }
    getData(e) {
        return _(this, null, function*() {
            if (this.initialize(e),
            e.defaultLanguageId !== e.currentLanguageId || e.defaultLanguageId !== e.interfaceLanguageId)
                return yield this.getDataForCurrentLanguage(e)
        })
    }
    parseResponse(e, i) {
        return _(this, null, function*() {
            const s = this.getDecipher(i)
              , r = yield Ai.prototype.parseResponse(e, i);
            if (r.granted !== !0)
                return r;
            const n = yield new Tr().parseEncrypted(r.data[0], {
                encryptedContent: r.data[1],
                notEncryptedContent: r.data[2]
            }, s);
            return Object.values(n).reduce( (a, o) => (a[`${o.ta_id}-${o.taxon_id}`] = o,
            a), {})
        })
    }
}
class Vl extends _t {
    getResourceName() {
        return "structure"
    }
    getData(e) {
        return _(this, null, function*() {
            const i = new kA(e)
              , [s,r] = yield Promise.all([je(Vl.prototype, this, "getData").call(this, e), i.getData(e)]);
            return s.map(n => {
                var o;
                const a = (o = r[`${n.ta_id}-${n.taxon_id}`]) != null ? o : {};
                return new DA(T(T({
                    id: n.struct_id
                }, n), a))
            }
            )
        })
    }
}
class Ul extends _t {
    getResourceName() {
        return "filter"
    }
    getData(e) {
        return _(this, null, function*() {
            const i = yield je(Ul.prototype, this, "getData").call(this, e)
              , s = {};
            return i.forEach(r => {
                s[r.id] = r,
                r.children = []
            }
            ),
            i.forEach(r => {
                const n = r.parents
                  , a = s[n];
                a && (r.isChild = !0,
                a.children.push(r))
            }
            ),
            i
        })
    }
}
class HA extends Error {
    constructor(e, i) {
        super(`Unable to load image with key "${e}", type of image is "${i}"`),
        this.name = this.constructor.name
    }
}
class zA {
    constructor(e={}) {
        this.imageProvider = e.providers.image,
        this.imageHelper = e.services["image-helper"],
        this.imageInCache = {}
    }
    getImageKey(e=0, i=0, s="jpg") {
        try {
            const r = `${this.imageProvider.state.module.name}#crossref-${e}-${i}.${s}`;
            return mr(r)
        } catch (r) {
            return null
        }
    }
    getImage() {
        return _(this, arguments, function*(e={}, i=j.PRIORITY.STANDARD) {
            const {series: s, cr_sort_order: r} = e
              , n = e.format || "jpg"
              , a = this.getImageKey(s.sort_order, r, n);
            if (typeof this.imageInCache[a] < "u")
                return this.imageInCache[a];
            let o = yield this.imageProvider.getImage(Y(T({
                type: de.CROSS_REFERENCES
            }, e), {
                key: a
            }), j.PRIORITY.HIGH);
            if (o === null)
                throw new HA(a,"Cross-reference");
            return o !== "" && (o = this.imageHelper.asLocalImage(o),
            this.imageInCache[a] = o),
            o
        })
    }
    switchQuality(e) {
        return _(this, null, function*() {
            return this.imageProvider.switchQuality(e)
        })
    }
    setImageProvider(e) {
        this.imageProvider !== e && (this.imageProvider = e)
    }
}
class BA extends j {
    constructor(e) {
        super(e),
        this.application_id = null,
        this.imageHelper = e.services["image-helper"]
    }
    setApplicationId(e) {
        this.application_id = e
    }
    getApplicationId() {
        return this.application_id
    }
    isQualityAvailable(e) {}
    setQuality(e) {}
    switchQuality(e) {}
    getImage({name: e, version: i}, s=j.PRIORITY.STANDARD) {
        return this.imageHelper.requestImage(`${re.imageBaseURL}/web/images/${this.getApplicationId()}/icons/v${i}/${e}.png?w=25&h=25`)
    }
}
class FA {
    constructor(e) {
        this.state = {
            module: e.state.module
        },
        this.services = {
            slice: e.services.slice
        },
        this.imagixApiProvider = e.providers.imagixApiProvider
    }
    getImageKey(e={}) {
        const i = e.code
          , s = e.format || "jpg";
        typeof e.sort_order > "u" && this.addSliceOrder(e);
        try {
            const r = this.state.module.name
              , n = xh(e.sort_order, "4")
              , a = `${r}#${i}#images-${n}.${s}`;
            return mr(a)
        } catch (r) {
            return null
        }
    }
    addSliceOrder(e={}, i=null) {
        return i === null && typeof e.slice_id < "u" && (i = this.services.slice.findById(e.slice_id)),
        e.sort_order = i === null ? 1 : i.sort_order,
        e
    }
    asLocalImage(e) {
        const i = document.createElement("canvas")
          , s = i.getContext("2d");
        i.width = e.width,
        i.height = e.height,
        s.drawImage(e, 0, 0);
        const r = new Image(e.width,e.height);
        return r.src = i.toDataURL("image/jpeg"),
        r
    }
    requestImage(e) {
        return this.imagixApiProvider.buildValidUrl(e)
    }
}
class VA {
    decrypt(e) {
        const i = us.enc.Base64.parse(y.keyIV)
          , s = us.enc.Utf8.parse(us.MD5(y.key).toString().substr(0, 16).toLocaleUpperCase())
          , r = {
            iv: i,
            padding: us.pad.ZeroPadding
        }
          , n = us.AES.decrypt(String(e), s, r);
        return JSON.parse(n.toString(us.enc.Utf8))
    }
}
class UA {
    constructor(e) {
        this.callback = e
    }
    run(e) {
        return _(this, null, function*() {
            return yield this.callback(e)
        })
    }
}
class Nt {
    static generateId() {
        return `w_${Math.random().toString(36).substr(2, 9)}`
    }
    static getDeviceId() {
        if (Nt.deviceId !== null)
            return Nt.deviceId;
        if (typeof window.siq < "u") {
            const i = window.siq.getDeviceId();
            return Nt.deviceId = i,
            i
        }
        let e = se.get("im_device_id");
        return e || (e = Nt.generateId(),
        se.add("im_device_id", e)),
        Nt.deviceId = e,
        e
    }
}
Nt.deviceId = null;
const ku = "signature_not_initiated"
  , GA = 31;
class dr {
    constructor() {
        this.signature = ku,
        this.expire = this.getExpire(),
        this.imageEncodingSupported = null,
        this.agent = new Me({
            _id: "imagix-api-provider"
        }),
        this.initialize()
    }
    initialize() {
        this.initializeSignature(),
        this.getBestImageFormatSupported().then(e => this.imageEncodingSupported = e)
    }
    getExpire() {
        const e = new Date
          , i = e.getFullYear()
          , s = e.getMonth()
          , r = new Date(i,s,1);
        return r.setHours(0, 0, 0, 0),
        r.setHours(24 * GA),
        r.getTime()
    }
    buildValidUrl(e) {
        return _(this, null, function*() {
            const i = new URL(e);
            return this.imageEncodingSupported !== ua.DEFAULT && i.searchParams.delete("fm"),
            i.searchParams.set(Ys.device, Nt.getDeviceId()),
            i.searchParams.sort(),
            this.signature === ku && (yield De([{
                from: this.agent,
                name: dr.EVENT.SIGNATURE_INITIALIZED
            }])),
            this.signature !== null && (i.searchParams.set(Ys.expire, this.expire),
            i.searchParams.set(Ys.signature, this.getSignedUrl(i.toString(), this.signature, this.expire))),
            i.toString()
        })
    }
    getBestImageFormatSupported() {
        return new Promise( (e, i) => {
            const s = new Image;
            s.onload = e,
            s.onerror = i,
            s.src = "data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="
        }
        ).then( () => ua.AVIF).catch( () => ua.DEFAULT)
    }
    initializeSignature() {
        const e = new Headers;
        e.set(uu.device, Nt.getDeviceId()),
        fetch("/api/imagix/sig", {
            method: "POST",
            headers: e,
            body: JSON.stringify({
                device_id: Nt.getDeviceId()
            })
        }).then(i => i.json()).then(i => {
            this.agent.publish(dr.EVENT.SIGNATURE_INITIALIZED),
            this.signature = i[uu.signature]
        }
        ).catch(i => {
            this.signature = null,
            y.sendCoreError(i)
        }
        )
    }
    buildHeaders() {
        const e = new Headers;
        return this.imageEncodingSupported !== null && e.set("Accept", this.imageEncodingSupported),
        e
    }
    getSignedUrl(e, i, s) {
        return y.md5(i + this.getUrlToSign(e, s))
    }
    getUrlToSign(e, i) {
        const s = new URL(e);
        return s.searchParams.delete(Ys.signature),
        s.searchParams.set(Ys.expire, i),
        s.searchParams.sort(),
        s.toString().replace(s.origin, "")
    }
}
dr.EVENT = {
    SIGNATURE_INITIALIZED: "signature-initialized"
};
class $A extends Me {
    constructor(e) {
        super(e),
        this.application = null,
        this.services = {
            series: e.services.series,
            renderingContext: e.services.renderingContext
        }
    }
    setApplication(e) {
        this.application = e
    }
    getCurrentSeriesSize() {
        const e = this.services.series.getCurrent();
        if (e === null)
            return null;
        const {MULTIPLIER: i} = this.services.renderingContext.get();
        return {
            width: e.slices_width * i,
            height: e.slices_height * i
        }
    }
    getPointCanvas() {
        const e = this.application.components.pointsCanvas
          , i = e.getComputedScaleX()
          , s = e.getComputedScaleY()
          , r = e.getTx()
          , n = e.getTy();
        return {
            pointsCanvas: e,
            scaleX: i,
            scaleY: s,
            translateX: r,
            translateY: n
        }
    }
    getImageCorners() {
        const e = this.getCurrentSeriesSize();
        if (e === null)
            return null;
        const {pointsCanvas: i, scaleX: s, scaleY: r, translateX: n, translateY: a} = this.getPointCanvas()
          , o = {
            x: e.width / 2,
            y: e.height / 2
        }
          , l = [i.transformMatrix.rotatePoint(-o.x, -o.y), i.transformMatrix.rotatePoint(o.x, -o.y), i.transformMatrix.rotatePoint(o.x, o.y), i.transformMatrix.rotatePoint(-o.x, o.y)];
        return l.forEach(c => {
            c.setX(c.getX() * s + n),
            c.setY(c.getY() * r + a)
        }
        ),
        l
    }
    getImageBorders(e) {
        const i = Math.min(e[0].getX(), e[1].getX(), e[2].getX(), e[3].getX())
          , s = Math.max(e[0].getX(), e[1].getX(), e[2].getX(), e[3].getX())
          , r = Math.min(e[0].getY(), e[1].getY(), e[2].getY(), e[3].getY())
          , n = Math.max(e[0].getY(), e[1].getY(), e[2].getY(), e[3].getY());
        return {
            top: r,
            left: i,
            right: s,
            bottom: n
        }
    }
    getVisibleImageBorder(e, i) {
        const {pointsCanvas: s, scaleX: r, scaleY: n} = this.getPointCanvas()
          , a = s.paddingTop * devicePixelRatio
          , o = {
            x: Math.max(i.left, 0),
            y: Math.max(i.top, a)
        };
        return {
            x: o.x,
            y: o.y,
            width: (Math.min(i.right, s.getCanvasWidth()) - o.x) / r,
            height: (Math.min(i.bottom, s.getCanvasHeightAvailable() + a) - o.y) / n
        }
    }
    getRoi() {
        const e = this.getImageCorners();
        if (e === null)
            return null;
        const i = this.application.components.pointsCanvas
          , {SCALE: s} = this.services.renderingContext.get()
          , r = this.getImageBorders(e)
          , n = this.getVisibleImageBorder(e, r)
          , a = r.left > 0 ? 0 : Math.abs(r.left / s)
          , o = r.top - i.paddingTop > 0 ? 0 : Math.abs(r.top - i.paddingTop) / s;
        return {
            x: Math.round(a),
            y: Math.round(o),
            w: Math.round(n.width),
            h: Math.round(n.height)
        }
    }
}
class jA extends Me {
    constructor(e) {
        super(e),
        this.application = null,
        this.services = {
            roi: e.services.roi
        }
    }
    setApplication(e) {
        this.application = e
    }
    draw() {
        const e = this.services.roi.getImageCorners();
        if (e === null)
            return;
        const i = this.services.roi.getImageBorders(e)
          , s = this.services.roi.getVisibleImageBorder(e, i)
          , {pointsCanvas: r} = this.services.roi.getPointCanvas()
          , n = this.application.components.imageCanvas.getCanvasContext();
        n.save(),
        n.resetTransform(),
        this.drawImageBorder(n, i),
        this.drawTopLeftCorner(n, s),
        this.drawVisibleRect(n, s),
        this.drawInformationPoint(n, r, s, i),
        this.drawCanvasCenter(n),
        this.drawRoiCenter(n, s),
        this.drawImageCenter(n, i),
        n.restore()
    }
    drawImageBorder(e, i) {
        e.strokeStyle = "red",
        e.lineWidth = 6,
        e.strokeRect(i.left, i.top, i.right - i.left, i.bottom - i.top)
    }
    drawTopLeftCorner(e, i) {
        e.fillStyle = "blue";
        const s = 6;
        e.fillRect(i.x - s / 2, i.y - s / 2, s, s)
    }
    drawVisibleRect(e, i) {
        const {scaleX: s, scaleY: r} = this.services.roi.getPointCanvas();
        e.strokeStyle = "green",
        e.lineWidth = 3,
        e.strokeRect(i.x, i.y, i.width * s, i.height * r)
    }
    drawInformationPoint(e, i, s, r) {
        const n = this.application.services.roi.getRoi()
          , {scaleX: a, scaleY: o} = this.services.roi.getPointCanvas();
        e.font = "bold 16px sans-serif",
        e.fillStyle = "rgba(0, 0, 0, .8)";
        const l = i.getCanvasHeight() - 200
          , c = i.getCanvasWidth() - 175;
        e.fillRect(c, l, 165, 190),
        e.fillStyle = "#fff",
        e.fillText(`X: ${n.x.toFixed(2)}`, c + 10, l + 20),
        e.fillText(`Y: ${n.y.toFixed(2)}`, c + 10, l + 40),
        e.fillText(`W: ${n.w.toFixed(2)}`, c + 10, l + 60),
        e.fillText(`H: ${n.h.toFixed(2)}`, c + 10, l + 80),
        e.fillText(`ScaleX: ${a.toFixed(2)}`, c + 10, l + 100),
        e.fillText(`ScaleY: ${o.toFixed(2)}`, c + 10, l + 120),
        e.fillText(`left: ${r.left.toFixed(2)}`, c + 10, l + 140),
        e.fillText(`top: ${r.top.toFixed(2)}`, c + 10, l + 160)
    }
    drawCenterCross(e, i, s=20, r="#000") {
        e.beginPath(),
        e.strokeStyle = r,
        e.moveTo(i.x, i.y - s / 2),
        e.lineTo(i.x, i.y + s / 2),
        e.moveTo(i.x - s / 2, i.y),
        e.lineTo(i.x + s / 2, i.y),
        e.stroke(),
        e.closePath()
    }
    drawCanvasCenter(e) {
        const {width: i, height: s, top: r} = this.application.getViewport();
        this.drawCenterCross(e, {
            x: i / 2,
            y: s / 2 + r
        })
    }
    drawRoiCenter(e, i) {
        const {scaleX: s, scaleY: r} = this.services.roi.getPointCanvas();
        this.drawCenterCross(e, {
            x: i.x + i.width * s / 2,
            y: i.y + i.height * r / 2
        }, 20, "green")
    }
    drawImageCenter(e, i) {
        const s = this.application.services.series.getCurrent()
          , {MULTIPLIER: r} = this.application.services.renderingContext.get()
          , {scaleX: n, scaleY: a} = this.services.roi.getPointCanvas()
          , o = {
            width: s.slices_width * r,
            height: s.slices_height * r
        };
        this.drawCenterCross(e, {
            x: i.left + o.width * n / 2,
            y: i.top + o.height * a / 2
        }, 20, "red")
    }
}
const Gn = new ce({
    interactions: K3,
    "state.label.instance": cA,
    "state.structure.instance": uA,
    "state.image.instance": Cr,
    "state.pointer.instance": Zu,
    "state.language.instance": Q3,
    "state.contrast.instance": q3,
    "state.series.instance": J3,
    "state.orientation.instance": eA,
    "state.slice.instance": tA,
    "state.style.instance": N,
    "state.module.instance": iA,
    "state.interaction.instance": rA,
    "state.modality.instance": aA,
    "state.renderingContext.instance": $,
    "state.filter.instance": sA,
    "state.overlay.instance": pA,
    viewerHelper: new $3,
    "image.provider.instance": kl,
    "image.provider.parameters": {},
    "image-thumb.provider.instance": Ml,
    "image-thumb.provider.parameters": {},
    "points.provider.instance": AA,
    "points.provider.parameters": {
        data: {}
    },
    "module.provider.instance": wA,
    "module.provider.parameters": {},
    "structures.provider.instance": Vl,
    "structures.provider.parameters": {},
    "series.provider.instance": Hl,
    "series.provider.parameters": {},
    "contrasts.provider.instance": Pl,
    "contrasts.provider.parameters": {},
    "filters.provider.instance": Ul,
    "filters.provider.parameters": {},
    "slices.provider.instance": Bl,
    "slices.provider.parameters": {},
    "translations.provider.instance": _A,
    "translations.provider.parameters": {},
    "ui-translations.provider.instance": CA,
    "ui-translations.provider.parameters": {},
    "icons.provider.instance": Fl,
    "icons.provider.parameters": {},
    "crImages.provider.instance": zA,
    "crImages.provider.parameters": {},
    "iconSource.provider.instance": BA,
    "iconSource.provider.parameters": {
        _id: "legacy-icon-zip-provider"
    },
    "orientation.provider.instance": Dl,
    "orientation.provider.parameters": {
        data: {
            iconsNameByOrientationId: {},
            translationIdByOrientationId: {}
        }
    },
    "orientationImage.provider.instance": EA,
    "overlays.provider.instance": Nl,
    "overlays.provider.parameters": {},
    "textOverlays.provider.instance": Rl,
    "textOverlays.provider.parameters": {},
    "imagix.provider.instance": dr,
    "imagix.provider.parameters": {},
    factories: [ce.recordFactory("state.module", "state.module.instance"), ce.recordFactory("state.label", "state.label.instance"), ce.recordFactory("state.structure", "state.structure.instance"), ce.recordFactory("state.image", "state.image.instance"), ce.recordFactory("state.pointer", "state.pointer.instance"), ce.recordFactory("state.language", "state.language.instance"), ce.recordFactory("state.contrast", "state.contrast.instance"), ce.recordFactory("state.series", "state.series.instance"), ce.recordFactory("state.orientation", "state.orientation.instance"), ce.recordFactory("state.slice", "state.slice.instance"), ce.recordFactory("state.style", "state.style.instance"), ce.recordFactory("state.interaction", "state.interaction.instance"), ce.recordFactory("stat.modality", "state.modality.instance"), ce.recordFactory("state.renderingContext", "state.renderingContext.instance"), ce.recordFactory("state.filter", "state.filter.instance"), ce.recordFactory("state.overlay", "state.overlay.instance"), ce.recordFactory("providers.imagixApiProvider", "imagix.provider.instance", "imagix.provider.parameters"), ce.recordFactory("providers.module", "module.provider.instance", "module.provider.parameters"), ce.recordFactory("providers.points", "points.provider.instance", "points.provider.parameters"), ce.recordFactory("providers.structures", "structures.provider.instance", "structures.provider.parameters"), ce.recordFactory("providers.series", "series.provider.instance", "series.provider.parameters"), ce.recordFactory("providers.orientation", "orientation.provider.instance", "orientation.provider.parameters"), ce.recordFactory("providers.contrasts", "contrasts.provider.instance", "contrasts.provider.parameters"), ce.recordFactory("providers.filters", "filters.provider.instance", "filters.provider.parameters"), ce.recordFactory("providers.slices", "slices.provider.instance", "slices.provider.parameters"), ce.recordFactory("providers.translations", "translations.provider.instance", "translations.provider.parameters"), ce.recordFactory("providers.ui-translations", "ui-translations.provider.instance", "ui-translations.provider.parameters"), ce.recordFactory("providers.icon", "icons.provider.instance", "icons.provider.parameters"), ce.recordFactory("providers.overlays", "overlays.provider.instance", "overlays.provider.parameters"), ce.recordFactory("providers.textOverlays", "textOverlays.provider.instance", "textOverlays.provider.parameters"), Le({
        InstanceType: nA,
        instanceAlias: "services.style"
    }), Le({
        InstanceType: Si,
        instanceAlias: "services.label"
    }), Le({
        InstanceType: dA,
        instanceAlias: "services.pointer"
    }), Le({
        InstanceType: lA,
        instanceAlias: "services.renderingContext"
    }), Le({
        InstanceType: Fe,
        instanceAlias: "services.slice"
    }), Le({
        InstanceType: oA,
        instanceAlias: "services.modality"
    }), Le({
        InstanceType: ns,
        instanceAlias: "services.series"
    }), Le({
        InstanceType: ri,
        instanceAlias: "services.transform"
    }), Le({
        InstanceType: bA,
        instanceAlias: "services.textOverlay"
    }), Le({
        InstanceType: Bs,
        instanceAlias: "services.overlay"
    }), ce.recordFactory("providers.image", "image.provider.instance", "image.provider.parameters"), ce.recordFactory("providers.imageThumb", "image-thumb.provider.instance", "image-thumb.provider.parameters"), ce.recordFactory("providers.iconSource", "iconSource.provider.instance", "iconSource.provider.parameters"), ce.recordFactory("providers.orientationImage", "orientationImage.provider.instance"), ce.recordFactory("providers.crImages", "crImages.provider.instance", "crImages.provider.parameters"), Le({
        InstanceType: bt,
        instanceAlias: "services.language"
    }), Le({
        InstanceType: ot,
        instanceAlias: "services.contrast"
    }), Le({
        InstanceType: Y3,
        instanceAlias: "services.filter"
    }), Le({
        InstanceType: Wt,
        instanceAlias: "services.image"
    }), Le({
        InstanceType: X3,
        instanceAlias: "services.translator"
    }), Le({
        InstanceType: He,
        instanceAlias: "services.structure"
    }), Le({
        InstanceType: $i,
        instanceAlias: "services.orientation"
    }), Le({
        InstanceType: TA,
        instanceAlias: "services.icon"
    }), Le({
        InstanceType: Z3,
        instanceAlias: "services.search"
    }), Le({
        InstanceType: ks,
        instanceAlias: "services.interaction"
    }), Le({
        InstanceType: Lp,
        instanceAlias: "services.labelsDrawer"
    }), Le({
        InstanceType: IA,
        instanceAlias: "services.pointDrawer"
    }), Le({
        InstanceType: Tp,
        instanceAlias: "services.pointHelper"
    }), Le({
        InstanceType: $A,
        instanceAlias: "services.roi"
    }), Le({
        InstanceType: jA,
        instanceAlias: "services.debug"
    })],
    accessResolverFactory: {
        create(t) {
            return new j3(t)
        }
    },
    services: {
        point: new W3,
        imageCache: new Do,
        imageSettingsStorage: new Do
    },
    clickSensitivity: 10,
    iconPrefixInFolder: "eanatomycategoriesicons",
    defaultCategoryIcon: "anatomie-generale.png",
    iconBlacklisted: ["TODO", "3D"],
    zoom: {
        min: 1,
        max: 5
    },
    providers: {},
    style: Ke
});
Gn.addFactory("services.image-helper", FA, {}, {
    insertBefore: "providers.image"
});
const YA = ( () => {
    const t = new VA;
    return new UA(e => t.decrypt(e))
}
)();
Gn.data.services.decipher = YA;
function WA(t, e) {
    e.forEach(i => {
        let s;
        typeof i.restrict == "function" ? s = r => {
            i.restrict(r) && i.action(r)
        }
        : s = i.action,
        t.subscribe(i.from, i.name, s)
    }
    )
}
function KA(t) {
    return {
        redraw() {
            t.animations.redrawFullSlice.trigger()
        },
        redrawOverlays() {
            t.redrawOverlays()
        },
        updateStructurePriority(e) {
            t.services.point.update({
                structure_id: e.structure_id
            }, {
                priority: e.priority
            })
        }
    }
}
const ZA = {
    recordCoreSubscriptions(t) {
        const e = t.services.transform
          , i = t.services.overlay
          , s = KA(t);
        WA(t, [{
            from: e,
            name: ri.EVENT.FLIP,
            action: s.redraw
        }, {
            from: e,
            name: ri.EVENT.ROTATE,
            action: s.redraw
        }, {
            from: i,
            name: Bs.EVENT.IMAGE_OPACITY_CHANGE,
            action: s.redrawOverlays
        }])
    }
};
class QA extends Error {
    constructor(e) {
        super(`Unknown application: ${e}.`),
        this.name = this.constructor.name
    }
}
const XA = {
    loadModule: [],
    loadThumbs: ["loadModule"],
    loadPoints: ["loadModule", "loadStructures"],
    loadSeries: ["loadModule"],
    loadOrientation: ["loadModule"],
    loadTranslations: ["loadModule"],
    loadUITranslations: ["loadModule"],
    loadContrasts: ["loadModule", "loadSeries"],
    loadSlices: ["loadModule"],
    loadIcons: ["loadModule"],
    loadStructures: ["loadModule"],
    loadFilters: ["loadIcons", "loadModule"],
    loadTextOverlays: ["loadModule"],
    loadOverlays: ["loadModule", "loadTextOverlays"]
};
class qA extends Error {
    constructor(e) {
        super(`The series with id "${e}" doesn't have any slices!`),
        this.name = this.constructor.name
    }
}
class JA extends Pe {
    subscribe(e) {
        return [{
            from: e.services.language,
            name: bt.EVENT.CHANGE,
            action: i => {
                e.redrawOverlays(),
                e.redrawLabels()
            }
        }, {
            from: e.services.translator,
            name: ie.EVENT.ADDED,
            action: i => {
                parseInt(i) === e.getCurrentLanguage() && (e.redrawOverlays(),
                e.redrawLabels())
            }
        }]
    }
}
const ew = (t, e) => {
    const i = new JA(e);
    return i.init(t, e),
    i
}
;
class tw extends At {
    constructor() {
        super()
    }
    redraw(e) {
        e.services.overlay.refreshSelected(e.services.filter),
        e.animations.redrawOnlySliceMeta.trigger()
    }
    init(e) {
        const i = e.services.filter;
        De([{
            name: xe.EVENT.LOADED,
            from: i
        }]).then( () => {
            [xe.EVENT.SELECTED, xe.EVENT.UNSELECTED].forEach(s => {
                e.subscribe(i, s, () => {
                    this.redraw(e)
                }
                )
            }
            )
        }
        )
    }
}
const iw = (t, e) => {
    const i = new tw(e);
    return i.init(t, e),
    i
}
;
let jt = null
  , Gl = null
  , ki = null;
const sw = 10;
let Jr = null;
function Os(t) {
    const e = t.state.pointer
      , i = t.services.label
      , {LEFT_PADDING: s, RIGHT_PADDING: r} = t.services.renderingContext.get();
    return i.findByCoords(e.data.coords.x, e.data.coords.y, {
        left: s,
        right: r
    })
}
function hr(t) {
    return t.services.point.getPointHover(t)
}
function en(t) {
    const e = t.services.point
      , i = hr(t)
      , s = e.hasHover();
    i !== null && (!s || s && e.getHover().id !== i.id) ? e.setHover({
        resource_id: i.id
    }) : s && i === null && e.clearHover()
}
function $l() {
    Jr !== null && (clearTimeout(Jr),
    Jr = null)
}
function An(t, e=!1) {
    $l();
    const i = t.services.structure
      , s = Os(t);
    Jr = setTimeout( () => {
        i.hasHover() === !0 && (s === null && jt === null || e) && (i.clearHover(),
        Gl = null,
        ki = null,
        jt = null)
    }
    , sw)
}
function ps(t) {
    const e = t.services.structure
      , i = Os(t);
    if (i !== null && i.point_id !== ki && i.point_id !== jt) {
        const s = e.findByTaxonKey(i.taxon_key);
        if (!s)
            return;
        $l(),
        e.hasHover() === !0 && e.clearHover(),
        ki = i.point_id,
        e.setHover({
            resource_id: t.services.structure.getResourcesId(s),
            taxon_key: i.taxon_key,
            point_id: i.point_id
        })
    } else
        e.hasHover() === !0 && jt === null && An(t)
}
function rw(t, e) {
    jt = e;
    const i = t.services.structure
      , s = t.services.point;
    $l(),
    i.hasHover() === !0 && i.clearHover(),
    Gl = e;
    const r = s.findById(e)
      , n = i.findByTaxonKey(r.taxon_key);
    n && i.setHover({
        resource_id: t.services.structure.getResourcesId(n),
        taxon_key: r.taxon_key,
        point_id: e
    })
}
function Hu(t) {
    jt = null,
    An(t)
}
function nw(t, e) {
    if (!t.services.structure.hasHover())
        return !1;
    const i = t.services.structure.findByTaxonKey(e.taxon_key);
    return i === null ? !1 : i.id === t.services.structure.getHover().id
}
const aw = (t, e) => ({
    onPointClick(i) {
        const s = i.id;
        if (t.isBlacklisted(s)) {
            t.whitelist(s),
            e.animations.redrawOnlySliceMeta.trigger();
            return
        }
        t.isLastPointClicked(s) !== !0 ? t.setLastPointClicked(s) : t.timeBetweenTwoClickIsValid() ? (t.increaseCounter(),
        t.clickThresholdIsReached() && (t.blacklist(s),
        e.animations.redrawOnlySliceMeta.trigger())) : t.resetCounter(),
        t.updateLastClickTimestamp()
    },
    clearBlackList() {
        t.clear()
    }
})
  , xp = 300;
class ow extends Pe {
    constructor() {
        super({
            subscriber_id: "point-multi-click-feature"
        }),
        this.pointsHidden = new Set,
        this.lastClickTimestamp = Date.now(),
        this.lastClickPoint = null,
        this.counterClick = 0,
        this.application = null
    }
    init(e) {
        super.init(e),
        e.haveHiddenPoints = () => this.pointsHidden.size > 0,
        this.application = e
    }
    updateLastClickTimestamp() {
        this.lastClickTimestamp = Date.now()
    }
    setLastPointClicked(e) {
        this.lastClickPoint = e,
        this.resetCounter()
    }
    isLastPointClicked(e) {
        return this.lastClickPoint === e
    }
    isBlacklisted(e) {
        return this.pointsHidden.has(e)
    }
    resetCounter() {
        this.counterClick = 1
    }
    clickThresholdIsReached() {
        return this.counterClick >= 2
    }
    increaseCounter() {
        this.counterClick++
    }
    timeBetweenTwoClickIsValid() {
        return Date.now() - this.lastClickTimestamp < xp
    }
    whitelist(e) {
        this.pointsHidden.delete(e),
        this.lastClickPoint = null
    }
    blacklist(e) {
        this.pointsHidden.add(e),
        this.application.publish(Sn.BLACKLIST_POINT)
    }
    clear() {
        this.pointsHidden.clear(),
        this.application.publish(Sn.WHITELIST_POINT)
    }
    subscribe(e) {
        const i = e.services.point
          , s = e.services.slice
          , r = e.services.filter
          , {onPointClick: n, clearBlackList: a} = aw(this, e);
        return [{
            from: e,
            name: Ce.CLICK,
            action: ({point: o, event: l}) => {
                l.shiftKey && n(o)
            }
        }, {
            from: s,
            name: Fe.EVENT.SLICE_CHANGE,
            action: a
        }, {
            from: r,
            name: [xe.EVENT.SELECTED, xe.EVENT.UNSELECTED],
            action: a
        }, {
            from: e,
            name: mi.CLEAR_BLACKLIST,
            action: a
        }, {
            from: e.services.point,
            name: Ce.CHECK_VISIBILITY,
            action: o => {
                this.isBlacklisted(o.id) && (o.isSelected = !1)
            }
        }, {
            from: i,
            name: Ce.UPDATE_ACTIVE,
            action: o => {
                this.pointsHidden.forEach(l => {
                    o.push(i.findById(l))
                }
                )
            }
        }, {
            from: e,
            name: _s.EVENT.STATUS_CHANGE,
            action: () => {
                a()
            }
        }]
    }
}
const lw = (t, e) => {
    const i = new ow(e);
    return i.init(t, e),
    i
}
;
class cw extends wt {
    constructor(e) {
        super({
            subscriber_id: "clickable_label_feature",
            component: e
        }),
        this.eventClickStartWithLabelHover = !1,
        this.labelHoveredOnFirstClick = null,
        this.structure_id = null,
        this.preferredTaxonKey = null,
        this.taxonKeys = [],
        this.currentSliceId = null,
        this.listPointsSelectedInCurrentSlice = []
    }
    triggerPointClickOnLabelClick(e, i) {
        if (ki === null && this.labelHoveredOnFirstClick === null)
            return;
        const s = this.labelHoveredOnFirstClick !== null ? e.services.point.findById(this.labelHoveredOnFirstClick) : e.services.point.findById(ki);
        this.labelHoveredOnFirstClick = ki,
        e.publish(Ce.CLICK, {
            event: i,
            point: s
        }),
        requestAnimationFrame( () => ps(e)),
        setTimeout( () => this.labelHoveredOnFirstClick = null, xp)
    }
    subscribe(e) {
        return [{
            from: e,
            name: es.TOGGLE,
            action: i => {
                i && (this.clearSubscriptions(),
                this.agent.subscribe(e, es.TOGGLE, () => {
                    this.bindSubscriptions(e)
                }
                ))
            }
        }, {
            from: e.handlers.pointer,
            name: K.EVENT.POINTER_DOWN,
            action: () => {
                e.services.structure.hasHover() && (this.eventClickStartWithLabelHover = !0)
            }
        }, {
            from: e.handlers.pointer,
            name: K.EVENT.POINTER_LEAVE,
            action: () => {
                var s;
                const i = e.getContainerElement();
                if ((s = i.querySelector(".imaios-context-menu-layout")) != null && s.dataset.open) {
                    const r = i.querySelector(".imaios-context-menu-layout")
                      , n = y.getEventName("close")
                      , a = () => {
                        ps(e),
                        en(e),
                        r.removeEventListener(n, a)
                    }
                    ;
                    r.addEventListener(n, a);
                    return
                }
                An(e, !0)
            }
        }, {
            from: e.handlers.pointer,
            name: K.EVENT.POINTER_MOVE,
            action: () => {
                var i;
                (i = e.getContainerElement().querySelector(".imaios-context-menu-layout")) != null && i.dataset.open || (e.state.pointer.isDown ? this.eventClickStartWithLabelHover && (ps(e),
                e.services.structure.hasHover() || (e.services.structure.clearHover(),
                e.services.interaction.getCurrent().start(),
                this.eventClickStartWithLabelHover = !1)) : ps(e))
            }
        }, {
            from: e.handlers.pointer,
            name: [K.EVENT.POINTER_UP, K.EVENT.TOUCH_END],
            action: i => {
                if (Os(e) === null && hr(e) === null)
                    return;
                const s = Se.isMobileOrTablet();
                if (s && (ps(e),
                setTimeout( () => An(e), 150)),
                !(!s && !Se.isLeftClick(i)))
                    if (!i.shiftKey && e.services.structure.hasHover()) {
                        let r = e.services.point.findById(jt);
                        jt === null && (r = e.services.point.findById(ki));
                        const n = e.services.structure.getHover();
                        e.services.structure.publish(He.EVENT.CLICK, {
                            structure: n,
                            point: r
                        })
                    } else
                        (jt === null || this.labelHoveredOnFirstClick !== null) && this.triggerPointClickOnLabelClick(e, i)
            }
        }, {
            from: e.handlers.pointer,
            name: K.EVENT.TOUCH_END,
            action: i => {
                if (Se.isSafariBrowser() && !i.shiftKey) {
                    if (ps(e),
                    e.services.structure.hasHover() === !0) {
                        const s = e.services.structure.getHover()
                          , r = e.services.point.findById(jt);
                        e.services.structure.publish(He.EVENT.CLICK, {
                            structure: s,
                            point: r
                        })
                    }
                    setTimeout( () => {
                        e.services.structure.clearHover()
                    }
                    , 150)
                }
            }
        }, {
            from: e.services.slice,
            name: Fe.EVENT.SLICE_CHANGE,
            action: () => {
                this.clearSelected(e)
            }
        }, {
            from: e.handlers.pointer,
            name: K.EVENT.POINTER_DOWN,
            action: () => {
                this.clearSelected(e)
            }
        }, {
            from: e,
            name: mi.BLACKLIST,
            action: ({structure_id: i}) => {
                i === this.structure_id && this.clearSelected(e)
            }
        }]
    }
    clearSelected(e) {
        const i = this.taxonKeys.reduce( (s, r) => (s.push(...e.services.point.findByTaxonKey(r)),
        s), []);
        this.setPointSelected(e, i, !1),
        this.structure_id = null,
        this.taxonKeys = [],
        this.preferredTaxonKey = null,
        e.services.structure.select(null)
    }
    setPointSelected(e, i, s) {
        i.forEach(r => {
            e.services.label.setStyle(r.id, "isSelected", s),
            r.isSelectedByUser = s
        }
        ),
        e.animations.redrawOnlySliceMeta.trigger()
    }
    select(e, i, s, r) {
        if (this.structure_id === s)
            return;
        this.setPointSelected(e, e.services.point.find({
            taxon_key: {
                $in: this.taxonKeys
            }
        }), !1),
        this.currentSliceId = e.services.slice.getCurrentId();
        const n = e.services.point
          , a = e.services.structure.findByStructId(s).map(o => o.getTaxonKey());
        this.listPointsSelectedInCurrentSlice = n.find({
            taxon_key: {
                $in: a
            },
            slice_id: this.currentSliceId
        }),
        e.services.structure.select(s),
        this.structure_id = s,
        this.taxonKeys = a,
        this.preferredTaxonKey = r,
        this.setPointSelected(e, this.listPointsSelectedInCurrentSlice, !0)
    }
    init(e) {
        super.init(e),
        e.selectedStructure = (i, s, r=null) => {
            if (e.services.structure.findByStructId(s) !== null)
                this.select(e, i, s, r);
            else
                throw new bi(s,"structure")
        }
    }
}
const uw = (t, e) => {
    const i = new cw(e);
    return i.init(t, e),
    i
}
;
class dw extends Pe {
    constructor(e) {
        super(e),
        this.eventClickStartWithPointHover = !1
    }
    subscribe(e) {
        return [{
            from: e.handlers.pointer,
            name: K.EVENT.POINTER_DOWN,
            action: () => {
                e.services.point.hasHover() && (this.eventClickStartWithPointHover = !0)
            }
        }, {
            from: e.handlers.pointer,
            name: K.EVENT.POINTER_MOVE,
            action: () => {
                var i;
                hr(e) !== null && !e.ui.container.classList.contains("point-hover") ? e.ui.container.classList.add("point-hover") : hr(e) === null && e.ui.container.classList.contains("point-hover") && e.ui.container.classList.remove("point-hover"),
                !((i = e.getContainerElement().querySelector(".imaios-context-menu-layout")) != null && i.dataset.open) && (e.state.pointer.isDown === !1 ? en(e) : this.eventClickStartWithPointHover && (en(e),
                e.services.point.hasHover() || (e.services.point.clearHover(),
                e.services.interaction.getCurrent().start(),
                this.eventClickStartWithPointHover = !1)))
            }
        }, {
            from: e.services.point,
            name: Ce.HOVER,
            action: ({resource_id: i}) => {
                const s = e.services.point.findById(i);
                e.services.structure.setLastTaxonKey(s.taxon_key)
            }
        }, {
            from: e.handlers.pointer,
            name: [K.EVENT.POINTER_UP, K.EVENT.TOUCH_END],
            action: i => {
                Se.isMobileOrTablet() && en(e),
                e.services.point.onPointerUp(e, i)
            }
        }]
    }
}
const hw = (t, e) => {
    const i = new dw(e);
    return i.init(t, e),
    i
}
;
class pw extends At {
    constructor() {
        super()
    }
    init(e, i) {
        Object.keys(k).forEach(s => {
            const r = k[s];
            let n = e.services[s];
            typeof n > "u" && s.includes("Handler") && (n = e.handlers[s.replace("Handler", "")]),
            this.addSubscriberForEvents(r, n, e, i)
        }
        )
    }
    addSubscriberForEvents(e, i, s, r) {
        Object.keys(e).forEach(n => {
            if (typeof e[n] == "object")
                this.addSubscriberForEvents(e[n], i, s, r);
            else {
                const a = e[n];
                (a === j.EVENT.LOADING_END || a === j.EVENT.LOADING_START || a === j.EVENT.ASK_HIDE_PROGRESS || a === j.EVENT.ASK_SHOW_PROGRESS || a === j.EVENT.IMAGE_SLICE_HAS_BEEN_LOADED) && (i = r.providers.image),
                typeof i > "u" && (i = s),
                s.subscribe(i, a, o => {
                    s.emit(`${y.id}-${a}`, {
                        detail: o
                    })
                }
                )
            }
        }
        )
    }
    addSubFeature(e, i, s=null) {
        s === null && (s = e),
        e.subscribe(s, i, r => {
            e.emit(i, {
                detail: r
            })
        }
        )
    }
}
const mw = (t, e) => {
    const i = new pw(e);
    return i.init(t, e),
    i
}
;
class gw extends At {
    constructor(e) {
        super(),
        e.data.labelCanvasHidden = !1
    }
    toggle() {
        const {pointsCanvas: e, leftLinesCanvas: i, rightLinesCanvas: s, animatedLineCanvas: r} = this.application.components
          , n = document.getElementsByClassName("isolate-close-icon");
        n.length > 0 && Array.from(n).forEach(a => a.classList.toggle("toggle-label-feature-hidden")),
        e.getCanvas().classList.toggle("toggle-label-feature-hidden"),
        i.getCanvas().classList.toggle("toggle-label-feature-hidden"),
        s.getCanvas().classList.toggle("toggle-label-feature-hidden"),
        r.getCanvas().classList.toggle("toggle-label-feature-hidden"),
        this.application.data.labelCanvasHidden = !this.application.data.labelCanvasHidden
    }
    init(e) {
        this.application = e,
        e.toggleLabels = () => {
            this.toggle(),
            e.publish(es.TOGGLE, this.application.data.labelCanvasHidden)
        }
    }
}
const fw = (t, e) => {
    const i = new gw(t);
    return i.init(t, e),
    i
}
;
class vw extends At {
    constructor() {
        super()
    }
    init(e) {
        const i = e.services.contrast;
        [ot.EVENT.SELECTED].forEach(s => {
            e.subscribe(i, s, r => {
                var a;
                const n = (a = i.findById(r)) == null ? void 0 : a.imaios_code;
                e.services.image.providers.sliceThumb.setZipSrc(n).then( () => {
                    e.loadFrame()
                }
                ).catch(o => {}
                )
            }
            )
        }
        )
    }
}
const yw = (t, e) => {
    const i = new vw(e);
    return i.init(t, e),
    i
}
  , Ew = 15
  , Iw = 15
  , Cw = 5;
class bw extends Me {
    constructor(e={}) {
        super(Y(T({}, e), {
            component: {}
        })),
        this.data.disabledBy = new Set,
        this.data.nbDisablers = 0,
        this.generateElement(),
        this.disable()
    }
    enable(e="anonymous") {
        this.data.disabledBy.delete(e),
        this.data.nbDisablers = this.data.disabledBy.size
    }
    disable(e="anonymous") {
        this.data.disabledBy.add(e),
        this.data.nbDisablers = this.data.disabledBy.size,
        this.hide()
    }
    isEnabled() {
        return this.data.nbDisablers === 0
    }
    show(e=this.ui.wrapper) {
        this.isEnabled() && super.show(e)
    }
    hide(e=this.ui.wrapper) {
        super.hide(e)
    }
    generateElement() {
        const e = document.createElement("div");
        e.classList.add("structure-title-component");
        const i = document.createElement("img")
          , s = document.createElement("span");
        e.appendChild(i),
        e.appendChild(s),
        this.ui.wrapper = e,
        this.ui.text = s,
        this.ui.icon = i
    }
    setText(e) {
        this.ui.text.textContent = e
    }
    setImage(e) {
        this.ui.icon.src = e
    }
    setPosition(e, i) {
        var o, l;
        const s = (l = (o = this.ui.wrapper) == null ? void 0 : o.parentElement) != null ? l : null;
        let r = Ew / window.devicePixelRatio;
        const n = Cw / window.devicePixelRatio;
        let a = Iw / window.devicePixelRatio;
        if (s !== null) {
            const c = s.getBoundingClientRect()
              , u = this.ui.wrapper.getBoundingClientRect()
              , h = i + u.height
              , d = c.top + c.height;
            h + r >= d - n && (r = d - (h + n));
            const m = e + u.width
              , p = c.left + c.width;
            m + a >= p && (a = p - (m + a))
        }
        this.ui.wrapper.style.left = `${e + a}px`,
        this.ui.wrapper.style.top = `${i + r}px`
    }
    setFontColor(e) {
        this.ui.wrapper.style.color = `#${e}`
    }
}
class st extends Pe {
    static updateComponentPosition(e) {
        const i = e.components["structure-title"];
        if (typeof i < "u" && i.isEnabled()) {
            const s = e.state.pointer.data.lastCoordsOnScreen;
            i.setPosition(s.x, s.y)
        }
    }
    static showComponentWhenATruncatedLabelIsHover(e) {
        const i = e.services.structure;
        e.subscribe(i, He.EVENT.HOVER, n => _(this, [n], function*({taxon_key: s, point_id: r}) {
            if (!Se.isMobileOrTablet()) {
                const a = i.findByTaxonKey(s);
                a.isTrunk8 === !0 && (yield st.renderComponent(e, a, r))
            }
        })),
        e.subscribe(i, He.EVENT.LOOSE_HOVER, () => {
            e.components["structure-title"].hide()
        }
        ),
        e.subscribe(i, He.EVENT.CLICK, () => {
            y.getWidthElement(e.ui.container) <= 730 && e.components["structure-title"].hide()
        }
        )
    }
    static renderComponent(e, i, s) {
        const r = e.components["structure-title"];
        r.setText(e.getTextLabelByTaxonKey(i.getTaxonKey(), s)),
        r.setFontColor(i.color !== ze.BLACK ? i.color : ze.WHITE),
        st.refreshIcon(e, i.icon_id),
        e.publish("structure-title-render", {
            structure_id: i.id,
            point_id: s
        }),
        r.show(),
        st.updateComponentPosition(e)
    }
    static refreshIcon(e, i) {
        if (e.get(st.ATTRIBUTE.LAST_ICON_ID) !== i) {
            e.store(st.ATTRIBUTE.LAST_ICON_ID, i);
            const s = e.components["structure-title"];
            s.setImage(""),
            i === e.get(st.ATTRIBUTE.LAST_ICON_ID) && e.getIcon(i).then(r => s.setImage(r))
        }
    }
    static showComponentWhenAPointIsHover(e) {
        const i = e.services.point;
        e.subscribe(i, Ce.HOVER, r => _(this, [r], function*({resource_id: s}) {
            if (!Se.isMobileOrTablet()) {
                const n = i.findById(s)
                  , a = e.services.structure.findByTaxonKey(n.taxon_key);
                yield st.renderComponent(e, a, n.id)
            }
        })),
        e.subscribe(i, Ce.LOOSE_HOVER, () => {
            e.components["structure-title"].hide()
        }
        )
    }
    subscribe(e) {
        return [{
            from: e,
            name: F.EVENT.READY,
            action: () => {
                const i = new bw(e);
                e.components["structure-title"] = i,
                e.ui.container.appendChild(i.ui.wrapper),
                i.enable()
            }
        }, {
            from: e.handlers.pointer,
            name: K.EVENT.POINTER_MOVE,
            action: () => {
                if (hr(e) === null && Os(e) === null) {
                    e.components["structure-title"].hide();
                    return
                }
                st.updateComponentPosition(e)
            }
        }]
    }
    init(e) {
        super.init(e),
        e.store(st.ATTRIBUTE.LAST_ICON_ID, null),
        st.showComponentWhenATruncatedLabelIsHover(e),
        st.showComponentWhenAPointIsHover(e)
    }
}
st.ATTRIBUTE = {
    LAST_ICON_ID: "structure-title-feature.state.last-structure-icon"
};
const Sw = (t, e) => {
    const i = new st(e);
    return i.init(t, e),
    i
}
;
class Tw extends Lp {
    resetContext(e) {
        super.resetContext(e),
        e.allPreselectedLabelsShouldBeDrawn = !0
    }
    filterPointsByPriority(e) {
        e.filteredPoints = e.candidates.slice(0),
        e.filteredPoints.sort( (i, s) => i.priority - s.priority)
    }
    updateCandidates(e) {
        return super.updateCandidates(e).filter(i => i.isSelected)
    }
    updateRangeFontSize() {
        this.services.style.update(N.ATTRIBUTE.MIN_FONT_PX, 1),
        this.publish(ge.EVENT.UPDATE_RANGE_FONT_SIZE)
    }
}
class Aw extends Pe {
    constructor(e) {
        super({
            subscriber_id: "point-selection-feature"
        }),
        this.standardLabelDrawer = e.services.labelsDrawer,
        this.labelsDrawer = new Tw(Y(T({}, e), {
            drawer_id: "point-selection-label-drawer"
        }))
    }
    subscribe(e) {
        const i = () => {
            this.isSelectionMode(e) && (e.services.renderingContext.leavePointSelectionMode(),
            e.setLabelDrawer(this.standardLabelDrawer))
        }
        ;
        return [{
            from: e.services.filter,
            name: xe.EVENT.SELECTED,
            action: i
        }, {
            from: e.services.filter,
            name: xe.EVENT.UNSELECTED,
            action: i
        }, {
            from: e.services.slice,
            name: Fe.EVENT.SLICE_CHANGE,
            action: i
        }, {
            from: e,
            name: "keydown.arrowup",
            action: i
        }, {
            from: e,
            name: "keydown.arrowdown",
            action: i
        }, {
            from: e.handlers.pointer,
            name: K.EVENT.MOUSE_WHEEL,
            action: i
        }, {
            from: e.components.viewzone,
            name: gi.EVENT.STATUS_CHANGE,
            action: i
        }, {
            from: e,
            name: ke.EVENT.START,
            action: i,
            restrict: s => [is.interactionName, ss.interactionName].includes(s)
        }]
    }
    isSelectionMode(e) {
        return e.services.renderingContext.get($.ATTRIBUTE.POINT_SELECTION_MODE)
    }
    enterSelectionMode(e) {
        this.isSelectionMode(e) !== !0 && (e.services.renderingContext.usePointSelectionMode(),
        e.setLabelDrawer(this.labelsDrawer))
    }
}
const ww = t => new Aw(t);
class _w extends ke {
    constructor(e={}) {
        super(T({
            name: "viewzone-pan"
        }, e)),
        this.services = {
            pointer: e.services.pointer
        },
        this.lastX = 0,
        this.lastY = 0
    }
    onStart() {
        const e = this.services.pointer.getCoords();
        this.lastX = e.x,
        this.lastY = e.y
    }
    getDelta() {
        const e = this.services.pointer.getCoords()
          , i = e.x - this.lastX
          , s = e.y - this.lastY;
        return this.lastX = e.x,
        this.lastY = e.y,
        {
            x: i,
            y: s
        }
    }
    onAnimation(e) {
        try {
            const i = this.getDelta();
            this.component.translate(i.x, i.y)
        } catch (i) {}
    }
    onMouseUp(e) {
        this.finish(e)
    }
    onMouseLeave(e) {
        this.finish(e)
    }
}
class Lw extends ke {
    constructor(e={}) {
        super(T({
            name: "viewzone-resize"
        }, e)),
        this.services = {
            pointer: e.services.pointer
        },
        this.lastX = 0,
        this.lastY = 0
    }
    onStart() {
        this.updateLastCoords(this.services.pointer.getCoords())
    }
    updateLastCoords(e) {
        this.lastX = e.x,
        this.lastY = e.y
    }
    needsRedraw(e) {
        return e.x !== this.lastX || e.y !== this.lastY
    }
    onAnimation(e) {
        try {
            const i = this.services.pointer.getCoords();
            this.needsRedraw(i) && (this.component.resizeRectangle(i),
            this.component.draw(),
            this.updateLastCoords(i))
        } catch (i) {}
    }
}
class Ow extends Ir {
    constructor(e) {
        super(e),
        this.setInteraction(this.application.services.interaction.findById("viewzone-pan"))
    }
    loop() {
        this.interaction.onAnimation(),
        this.application.animations.redrawOnlySliceMeta.trigger()
    }
}
class xw extends Ir {
    constructor(e) {
        super(e),
        this.setInteraction(this.application.services.interaction.findById("viewzone-resize"))
    }
    loop() {
        this.interaction.onAnimation(),
        this.application.animations.redrawOnlySliceMeta.trigger()
    }
}
class Mw extends Pe {
    constructor() {
        super({
            subscriber_id: "viewzone-feature"
        }),
        this.vz = null,
        this.fontSizeBeforeEnalbed = null,
        this.fontSizeAutoBeforeEnabled = !1
    }
    subscribe(e) {
        const i = e.handlers.pointer
          , s = e.services.labelsDrawer;
        return [{
            from: e.services.labelsDrawer,
            name: ge.EVENT.BEFORE_SET_CANDIDATES,
            action: r => {
                if (this.vz.isEnabled()) {
                    const n = r.candidates
                      , a = this.vz.getBoundingBox();
                    r.candidates = n.filter(o => {
                        const l = e.services.point.refreshContextualCoords({
                            transformation: c => e.components.pointsCanvas.applyLocalTransformationToPoint(c, !0),
                            point: o
                        });
                        return e.services.point.isInBox(l, a)
                    }
                    )
                }
            }
        }, {
            from: e.services.point,
            name: Ce.CHECK_VISIBILITY,
            action: r => {
                this.vz.isEnabled() && (r.isSelected = !0)
            }
        }, {
            from: e.services.labelsDrawer,
            name: ge.EVENT.CONTEXT_RESET,
            action: r => {
                this.vz.isEnabled() && (r.allPreselectedLabelsShouldBeDrawn = !0)
            }
        }, {
            from: e,
            name: ge.EVENT.CHANGE,
            action: () => {
                this.bindSubscriptions(e)
            }
        }, {
            from: this.vz,
            name: gi.EVENT.STATUS_CHANGE,
            action: ({coords: r, placement: n}) => {
                this.toggleViewzone(e, r, n)
            }
        }, {
            from: i,
            name: K.EVENT.POINTER_MOVE,
            action: () => this.refreshHover(e)
        }, {
            from: i,
            name: K.EVENT.POINTER_DOWN,
            action: r => this.vzPointerDown(e, r)
        }, {
            from: i,
            name: [K.EVENT.POINTER_UP, K.EVENT.TOUCH_END],
            action: () => this.clearInteraction(e)
        }, {
            from: i,
            name: K.EVENT.POINTER_LEAVE,
            action: () => this.clearInteraction(e)
        }, {
            from: i,
            name: K.EVENT.CLICK,
            action: r => {
                if (r.button === Ji.LEFT_CLICK) {
                    const {x: n, y: a} = e.services.pointer.getCoords();
                    this.vz.isCloseButtonHover(n, a) && this.vz.hide()
                }
            }
        }, {
            from: i,
            name: K.EVENT.LONG_CLICK,
            action: r => {
                if (r.button === Ji.LEFT_CLICK) {
                    const n = e.services.pointer.getCoords();
                    this.vz.show(n),
                    e.services.interaction.setCurrent(this.vzPanInteraction.name);
                    const {x: a, y: o} = e.services.pointer.getCoords();
                    this.vz.refreshHover(a, o),
                    this.vzPanInteraction.start()
                }
            }
        }, {
            from: s,
            name: ge.EVENT.FORCE_FONT_SIZE_AUTO,
            action: r => {
                this.vz.isEnabled() && (r.forceSizeAuto = !0)
            }
        }, {
            from: s,
            name: ge.EVENT.UPDATE_RANGE_FONT_SIZE,
            action: () => {
                this.vz.isEnabled() && e.services.style.update(N.ATTRIBUTE.MIN_FONT_PX, 1)
            }
        }, {
            from: e,
            name: F.EVENT.FONT_SIZE_UPDATED,
            action: () => {
                this.vz.isEnabled() && !this.fontSizeAutoBeforeEnabled && (this.fontSizeBeforeEnalbed = e.getFontSize())
            }
        }, {
            from: e,
            name: F.EVENT.FONT_SIZE_MODE_UPDATED,
            action: () => {
                this.vz.isEnabled() && (this.fontSizeAutoBeforeEnabled = e.data.fontSizeAuto)
            }
        }]
    }
    startViewzone(e, i=null) {
        this.vz.reset(),
        this.vz.redrawToCoords(i || e.services.pointer.getCoords())
    }
    vzPointerDown(e, i) {
        i.type.includes("touch") && this.refreshHover(e, !0),
        this.vz.hasHover() && (this.vz.rectangleComponent.data.resizerSelected !== null ? e.services.interaction.setCurrent(this.vzResizeInteraction.name) : e.services.interaction.setCurrent(this.vzPanInteraction.name),
        e.startInteraction(i))
    }
    onInit(e) {
        const i = e.components.viewzone;
        this.vz = i,
        this.vzPanInteraction = new _w({
            component: i,
            services: e.services
        }),
        this.vzResizeInteraction = new Lw({
            component: i,
            services: e.services
        }),
        e.services.interaction.addResource(this.vzPanInteraction, this.vzPanInteraction.name),
        e.services.interaction.addResource(this.vzResizeInteraction, this.vzResizeInteraction.name),
        new Ow({
            application: e,
            manager: e.data.manager
        }),
        new xw({
            application: e,
            manager: e.data.manager
        }),
        e.backgroundColor() !== "#000000" && this.vz.setViewzoneColor(qr.color.light)
    }
    init(e) {
        De([{
            name: F.EVENT.READY,
            from: e
        }]).then( () => {
            this.onInit(e),
            super.init(e)
        }
        )
    }
    refreshHover(e, i=!1) {
        const {x: s, y: r} = e.services.pointer.getCoords();
        (e.state.pointer.isDown === !1 || i) && this.vz.isEnabled() && this.vz.refreshHover(s, r)
    }
    clearInteraction(e) {
        (e.services.interaction.getCurrentId() === this.vzPanInteraction.name || e.services.interaction.getCurrentId() === this.vzResizeInteraction.name) && e.services.interaction.restorePreviousInteraction()
    }
    toggleViewzone(e, i, s=null) {
        e.publish(kn.STATUS_CHANGE, {
            placement: s
        });
        const r = this.vz.isEnabled();
        r ? (this.fontSizeAutoBeforeEnabled = e.data.fontSizeAuto,
        this.fontSizeBeforeEnalbed = e.getFontSize(),
        this.startViewzone(e, i)) : (this.vz.clear(),
        Object.values(e.services.point.getResources()).forEach(n => {
            n.isSelected = !1
        }
        ),
        this.fontSizeAutoBeforeEnabled || (e.setFontSize(this.fontSizeBeforeEnalbed),
        this.fontSizeAutoBeforeEnabled = !1,
        this.fontSizeBeforeEnalbed = null)),
        e.services.renderingContext.update($.ATTRIBUTE.VIEWZONE_ACTIVE, r),
        e.animations.redrawOnlySliceMeta.trigger()
    }
}
const Nw = (t, e) => {
    const i = new Mw(t);
    return i.init(t, e),
    i
}
  , Rw = `
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M8 1.31152C6.067 1.31152 4.5 2.87853 4.5 4.81152V6.68849H3.57662C3.25816 6.68849 3 6.93991 3 7.25005V11.1914V11.6878C3 13.3446 4.34377 14.6885 6.00062 14.6885H6.80514H9.19486H9.99938C11.6562 14.6885 13 13.3446 13 11.6878V11.1914V7.25005C13 6.93991 12.7418 6.68849 12.4234 6.68849H11.5V4.81152C11.5 2.87853 9.933 1.31152 8 1.31152ZM9.5 6.68849V4.81152C9.5 3.9831 8.82843 3.31152 8 3.31152C7.17157 3.31152 6.5 3.9831 6.5 4.81152V6.68849H9.5Z" fill="black"/>
</svg>
`
  , Wa = 0
  , ms = 31;
class Pw extends Pe {
    constructor() {
        super({
            subscriber_id: "isolate-structure-feature"
        }),
        this.closeIcons = [],
        this.structure_id = null,
        this.preferredTaxonKey = null,
        this.taxonKeys = [],
        this.isolateStructureHasPointForCurrentSlice = !0
    }
    subscribe(e) {
        const i = e.services.labelsDrawer;
        return [{
            from: e,
            name: F.EVENT.MOVE_SERIES,
            action: () => {
                this.cleanIsolate(e)
            }
        }, {
            from: i,
            name: ge.EVENT.BEFORE_GET_LABEL_INFO,
            action: ({taxon_key: s, context: r}) => {
                this.taxonKeys.includes(s) && (r.textAvailableWidth -= ms)
            }
        }, {
            from: i,
            name: ge.EVENT.BEFORE_DRAW_TEXT,
            action: ({taxon_key: s, context: r, position: n}) => {
                this.taxonKeys.includes(s) && (r.textAvailableWidth -= ms,
                r.side === "left" && (n.x += ms))
            }
        }, {
            from: i,
            name: ge.EVENT.NEW_RENDERING,
            action: () => {
                this.deleteCloseButton()
            }
        }, {
            from: i,
            name: ge.EVENT.LABEL_DRAWN,
            action: ({context: s, position: r, labelStyle: n}) => {
                this.taxonKeys.length > 0 && this.taxonKeys.includes(s.taxon_key) && this.drawCloseButton(e, s, r, n)
            }
        }, {
            from: e,
            name: ge.EVENT.CHANGE,
            action: () => {
                this.bindSubscriptions(e)
            }
        }, {
            from: e,
            name: es.TOGGLE,
            action: s => {
                s && (this.clearSubscriptions(),
                this.agent.subscribe(e, es.TOGGLE, () => {
                    this.bindSubscriptions(e)
                }
                ))
            }
        }, {
            from: e.services.point,
            name: Ce.CHECK_VISIBILITY,
            action: s => {
                this.taxonKeys.includes(s.taxon_key) && (s.isSelected = !0,
                s.priority = e.services.point.getHighestPriority() - 1e4)
            }
        }, {
            from: e,
            name: F.EVENT.MOVE_TO_SLICE,
            action: s => {
                this.taxonKeys.length > 0 && (s.isAuthorizedToMove = !1)
            }
        }, {
            from: e,
            name: Ce.ALL_POINT_DRAWN,
            action: () => {
                this.taxonKeys.length > 0 && this.checkCurrentSliceHasPointsForIsolatedStructure(e)
            }
        }]
    }
    deleteCloseButton() {
        this.closeIcons.forEach(e => {
            e.remove()
        }
        ),
        this.closeIcons = []
    }
    createCloseButton(e, i) {
        const s = document.createElement("div");
        return s.innerHTML = Rw,
        s.classList.add("isolate-close-icon"),
        s.classList.add(i.side),
        s.addEventListener("pointerdown", r => {
            r.button === 0 && this.cleanIsolate(e)
        }
        ),
        e.ui.container.appendChild(s),
        this.closeIcons.push(s),
        s
    }
    drawCloseButton(e, i, s, r) {
        const n = this.createCloseButton(e, i);
        let a;
        i.side === "left" ? a = Math.floor(s.x - (ms + Wa + i.maxLength + bn)) : a = Math.round(s.x + i.maxLength + Wa + bn);
        const o = window.devicePixelRatio > 1 ? 1 : 0
          , l = n.style;
        l.position = "absolute",
        l.left = `${a}px`,
        l.width = `${ms + o}px`,
        l.height = `${s.height + cr * 2 + o}px`,
        l.top = `${Math.floor(s.y - cr)}px`,
        l.color = Lo(Ts(r.originalColor, r.alpha)),
        n.classList.add("close-icon-dark")
    }
    setPointIsolated(e, i, s) {
        i.forEach(r => {
            e.services.label.setStyle(r.id, "isIsolated", s),
            e.services.label.setStyle(r.id, "extraWidth", s ? ms + Wa : 0),
            r.isIsolated = s
        }
        )
    }
    isolate(e, i, s, r=null) {
        if (this.structure_id === s)
            return;
        this.setPointIsolated(e, e.services.point.find({
            taxon_key: {
                $in: this.taxonKeys
            }
        }), !1);
        const n = e.services.slice
          , a = e.services.point
          , o = e.services.series
          , l = e.services.structure.findByStructId(s)
          , c = l.map(E => E.getTaxonKey());
        this.bindSubscriptions(e);
        const u = a.find({
            taxon_key: {
                $in: c
            }
        });
        e.services.filter.find({
            id: {
                $in: u.map(E => parseInt(E.filter_id, 10))
            }
        }).forEach(E => {
            const I = e.services.overlay;
            E.layer !== null && I.findById(E.layer) !== null && e.services.overlay.select(E.layer)
        }
        ),
        u.forEach(E => E.priority = a.getHighestPriority());
        const h = u.map(E => n.findById(E.slice_id))
          , d = Array.from(new Set(l.map(E => E.translation_key)))
          , m = n.find({
            title_id1: {
                $in: d
            }
        })
          , p = n.find({
            title_id2: {
                $in: d
            }
        })
          , f = o.find({
            name_id: {
                $in: d
            }
        }).flatMap(E => n.find({
            series_id: E.id
        }))
          , g = Array.from(new Set([...h, ...m, ...p, ...f]));
        n.updateRelativeIndexWith(g),
        this.redirectToCurrentSlice(e),
        e.ui.container.parentElement.classList.add("isolate-mode"),
        e.services.structure.isolate(s),
        this.structure_id = s,
        this.preferredTaxonKey = r,
        this.taxonKeys = c,
        this.checkCurrentSliceHasPointsForIsolatedStructure(e),
        this.setPointIsolated(e, u, !0),
        e.publish(Zt.START_ISOLATE, {
            structure_id: s,
            preferredTaxonKey: r,
            source: i
        })
    }
    checkCurrentSliceHasPointsForIsolatedStructure(e) {
        this.isolateStructureHasPointForCurrentSlice = e.services.point.getActives().some(i => this.taxonKeys.includes(i.taxon_key))
    }
    redirectToCurrentSlice(e) {
        const i = e.services.slice.getCurrent();
        let s = 1;
        i !== null && (s = e.services.slice.getRelativeIndexById(i.id)),
        s < 1 && (s = 1),
        e.moveToSlice(s)
    }
    cleanIsolate(e) {
        this.clearSubscriptions(),
        e.services.slice.restoreDefaultIndex(),
        this.redirectToCurrentSlice(e),
        this.deleteCloseButton();
        const i = this.taxonKeys.reduce( (s, r) => (s.push(...e.services.point.findByTaxonKey(r)),
        s), []);
        this.setPointIsolated(e, i, !1),
        this.structure_id = null,
        this.taxonKeys = [],
        this.preferredTaxonKey = null,
        e.services.overlay.refreshSelected(e.services.filter),
        e.services.structure.isolate(null),
        e.ui.container.parentElement.classList.remove("isolate-mode"),
        e.publish(Zt.CLEAN_ISOLATE)
    }
    init(e) {
        e.isolateStructure = (i, s, r=null) => {
            if (e.services.structure.findByStructId(s) !== null)
                this.isolate(e, i, s, r);
            else
                throw new bi(s,"structure")
        }
        ,
        e.cleanIsolate = () => this.cleanIsolate(e),
        e.getIsolatedStructureID = () => this.structure_id,
        e.getPreferredTaxonKeyForIsolatedStructure = () => this.preferredTaxonKey,
        De([{
            name: F.EVENT.READY,
            from: e
        }]).then( () => {
            super.init(e)
        }
        )
    }
}
const Dw = (t, e) => {
    const i = new Pw(t);
    return i.init(t, e),
    i
}
  , gs = "quiz-mode";
class kw extends At {
    constructor() {
        super(),
        this.agent = new Me({
            subscriber_id: "quiz-mode-feature"
        }),
        this.pointsFound = {},
        this.lastLabelMode = null,
        this.lastFindedPoint = null
    }
    createSubscriptionsFromList(e, i) {
        i.forEach(s => {
            let r;
            typeof s.restrict == "function" ? r = n => {
                s.restrict(n) && s.action(n)
            }
            : r = s.action,
            e.subscribe(s.from, s.name, r)
        }
        )
    }
    getColor(e) {
        return e.services.series.isSchema() ? ze.BLACK : ze.WHITE
    }
    updateLabelColor(e, i) {
        e.color = this.getColor(i)
    }
    updatePointColor(e, i) {
        e.circleColor = this.getColor(i)
    }
    bindSubscriptions(e) {
        this.clearSubscriptions(e),
        this.createSubscriptionsFromList(this.agent, [{
            from: e.services.labelsDrawer,
            name: ge.EVENT.UPDATE_STYLE,
            action: i => {
                this.updateLabelColor(i, e)
            }
        }, {
            from: e.components.pointsCanvas,
            name: wi.EVENT.UPDATE_POINT_STYLE,
            action: i => {
                this.updatePointColor(i, e)
            }
        }, {
            from: e,
            name: ge.EVENT.CHANGE,
            action: () => {
                this.bindSubscriptions(e)
            }
        }, {
            from: e.services.structure,
            name: He.EVENT.HOVER,
            action: ({point_id: i}) => {
                Se.isMobileOrTablet() && this.pointsFound[i] !== !0 && (this.lastFindedPoint = {
                    time: Date.now(),
                    point_id: i
                }),
                this.pointsFound[i] !== !0 && (this.pointsFound[i] = !0,
                e.animations.redrawOnlySliceMeta.trigger())
            }
        }, {
            from: e,
            name: k.ui.PANEL_STRUCTURE.OPEN,
            action: i => {
                (this.pointsFound[i.point_id] !== !0 || this.lastFindedPoint !== null && this.lastFindedPoint.point_id === i.point_id && Date.now() - this.lastFindedPoint.time < 50) && (i.isAuthorizedToOpen = !1)
            }
        }, {
            from: e.services.slice,
            name: Fe.EVENT.SLICE_CHANGE,
            action: () => {
                this.pointsFound = {}
            }
        }, {
            from: e,
            name: "structure-title-render",
            action: ({point_id: i}) => {
                this.pointsFound[i] === !0 ? e.components["structure-title"].enable(gs) : e.components["structure-title"].disable(gs)
            }
        }, {
            from: e,
            name: Zt.START_ISOLATE,
            action: () => {
                this.endQuizMode(e)
            }
        }])
    }
    startQuizMode(e) {
        this.bindSubscriptions(e),
        e.hasFeature("structure-title") && e.components["structure-title"].disable(gs),
        this.lastLabelMode = e.getLabelMode(),
        e.setLabelMode(Gi.QUIZ),
        e.components.overlaysCanvas.disable(gs),
        e.animations.redrawOnlySliceMeta.trigger()
    }
    clearSubscriptions(e) {
        Object.values(this.agent.core.subscriptions).forEach(i => {
            i.forEach(s => s.unsubscribe())
        }
        ),
        this.subscribeToToggle(e)
    }
    subscribeToToggle(e) {
        this.agent.subscribe(e, "toggle-quiz-mode", i => {
            e.publish(Dn.EVENT.STATUS_CHANGE, {
                placement: i
            }),
            e.getLabelMode() === Gi.QUIZ ? this.endQuizMode(e) : this.startQuizMode(e)
        }
        )
    }
    endQuizMode(e) {
        this.pointsFound = {},
        this.clearSubscriptions(e),
        e.setLabelMode(this.lastLabelMode),
        e.components.overlaysCanvas.enable(gs),
        e.animations.redrawOnlySliceMeta.trigger(),
        e.hasFeature("structure-title") && e.components["structure-title"].enable(gs)
    }
    init(e) {
        this.subscribeToToggle(e),
        e.recordLabelMode(Gi.QUIZ, (i, s, r=null) => this.pointsFound[s] === !0 ? e.standardGetLabelText(i) : r === null ? "?" : String(r))
    }
}
const Hw = (t, e) => {
    const i = new kw(t);
    return t.subscribe(t, F.EVENT.READY, () => {
        i.init(t, e)
    }
    ),
    i
}
;
class zw extends At {
    constructor() {
        super()
    }
    init(e) {
        const i = e.services.point
          , s = e.services.filter;
        e.subscribe(i, Ce.CHECK_VISIBILITY, r => {
            r.isSelected = s.isSelected(r.filter_id)
        }
        )
    }
}
const Bw = (t, e) => {
    const i = new zw(e);
    return i.init(t, e),
    i
}
;
class Fw extends At {
    constructor() {
        super(),
        this.data = {
            blacklist: new Set
        }
    }
    blacklist(e) {
        this.data.blacklist.add(e)
    }
    whitelist(e) {
        this.data.blacklist.delete(e)
    }
    isBlacklisted(e) {
        return this.data.blacklist.has(e)
    }
    init(e) {
        e.blacklist = (i, s) => {
            this.blacklist(i),
            e.animations.redrawOnlySliceMeta.trigger(),
            e.publish(mi.BLACKLIST, {
                structure_id: i,
                source: s
            })
        }
        ,
        e.whitelist = i => {
            this.whitelist(i),
            e.animations.redrawOnlySliceMeta.trigger(),
            e.publish(mi.CLEAR_BLACKLIST)
        }
        ,
        e.isBlacklisted = i => this.isBlacklisted(i),
        e.haveBlacklistedStructures = () => this.data.blacklist.size > 0,
        e.clearAllHiddenStructures = () => {
            this.data.blacklist.forEach(i => this.whitelist(i)),
            e.animations.redrawOnlySliceMeta.trigger(),
            e.publish(mi.CLEAR_BLACKLIST)
        }
        ,
        e.subscribe(e.services.point, Ce.CHECK_VISIBILITY, i => {
            const s = e.services.structure.findByTaxonKey(i.taxon_key);
            this.isBlacklisted(s.id) && (i.isSelected = !1)
        }
        ),
        e.subscribe(e, k.ui.SETTINGS.RESET, e.clearAllHiddenStructures)
    }
}
const Vw = (t, e) => {
    const i = new Fw(t);
    return i.init(t, e),
    i
}
;
class Uw extends Pe {
    constructor() {
        super({
            subscriber_id: "increase-text-opacity-feature"
        })
    }
    subscribe(e) {
        return [{
            from: e.services.labelsDrawer,
            name: ge.EVENT.UPDATE_STYLE,
            action: i => {
                e.services.series.isSchema() && (i.color = ze.BLACK)
            }
        }, {
            from: e,
            name: ge.EVENT.CHANGE,
            action: () => {
                this.bindSubscriptions(e)
            }
        }]
    }
}
const Gw = (t, e) => {
    const i = new Uw;
    return i.init(t, e),
    i
}
;
class $w extends wt {
    subscribe(e) {
        const i = e.services.slice
          , s = e.services.orientation;
        return [{
            from: i,
            name: Fe.EVENT.SLICE_CHANGE,
            action: () => {
                const r = i.getCurrent();
                s.refreshOrientation(r.orientation_icon_id)
            }
        }]
    }
}
const jw = (t, e) => {
    const i = new $w(t);
    return i.init(t, e),
    i
}
;
class Yw extends Pe {
    subscribe(e) {
        return [{
            from: e.services.series,
            name: ns.EVENT.SERIES_CHANGE,
            action: () => {
                const i = e.services.series.getCurrent();
                e.changeBackgroundColors(i.background_color);
                let s = e.services.contrast.getCurrentCode();
                if (s !== e.services.contrast.lastContrastCode && (s = e.services.contrast.lastContrastCode),
                s !== null) {
                    const r = e.getContrasts();
                    let n = r.find(a => a.imaios_code === s);
                    typeof n > "u" && (n = r[0]),
                    e.selectContrast(n.id, !1)
                }
            }
        }]
    }
}
const Ww = (t, e) => {
    const i = new Yw(t);
    return i.init(t, e),
    i
}
;
class Kw extends Pe {
    resetPoints(e) {
        e.publish(Ce.RESET_ALL_PRIORITY)
    }
    subscribe(e) {
        return [{
            from: e.services.filter,
            name: xe.EVENT.UNSELECTED,
            action: () => this.resetPoints(e)
        }]
    }
    init(e) {
        De([{
            from: e.services.filter,
            name: xe.EVENT.LOADED
        }]).then( () => {
            this.bindSubscriptions(e)
        }
        )
    }
}
const Zw = (t, e) => {
    const i = new Kw(e);
    return i.init(t, e),
    i
}
;
class ir extends At {
    init(e) {
        e.setBehavior("getContext", () => this.getContext(e))
    }
    getContext(e) {
        const {ROTATION_ANGLE: i, HORIZONTAL_FLIP: s, VERTICAL_FLIP: r} = e.services.renderingContext.get()
          , n = e.services.image.getCurrent();
        return {
            slice: e.services.slice.getCurrentRelativeIndex(),
            series: e.getCurrentSeries().id,
            "mode-full-series": e.isModeFullSeries(),
            filters: this.getFiltersContext(e),
            contrast: e.services.contrast.getCurrentCode(),
            pan: this.getPanContext(e),
            zoom: this.getZoomContext(e),
            canvasSize: this.getCanvasSizeContext(e),
            "label-mode": this.getLabelMode(e),
            language: e.getCurrentLanguage(),
            interfaceLanguage: e.services.language.getCurrentInterfaceLanguage(),
            fontSize: e.isFontSizeAuto() ? null : e.getFontSize(),
            points: this.getPointContext(e),
            rotation: i % 360,
            isolatedStructure: e.getIsolatedStructureID(),
            flip: {
                horizontal: s,
                vertical: r
            },
            imageSize: {
                width: n.width,
                height: n.height
            },
            interface: {
                menu_open: this.getMenuIsOpen(),
                cr_open: this.getCrossReferenceIsOpen(),
                overlay_opacity: e.services.overlay.getOpacity(),
                orientation: y.store.getters["orientation-context-menu/widgetVisibility"],
                details_open: this.getDetailsOpen()
            }
        }
    }
    getDetailsOpen() {
        const e = y.store.getters["menu/structurePanelActiveTaxonKey"];
        if (e !== null) {
            const i = e.split("-")
              , s = {};
            return s[i[0]] = i[1],
            s
        }
        return null
    }
    getLabelMode(e) {
        return e.services.pointDrawer instanceof Tl ? Gi.PIN : e.data.labelMode
    }
    getPointContext(e) {
        return [...e.pointsWithLabel].join(",")
    }
    getFiltersContext(e) {
        return e.services.filter.getCurrent().map(i => e.services.filter.findById(i).category).filter(i => i !== "").join(",")
    }
    getPanContext(e) {
        const i = e.components.imageCanvas;
        return [ir.parseNumber(2 * (i.getTx() / i.getCanvasWidth() - .5)), ir.parseNumber(2 * (i.getTy() / i.getCanvasHeight() - .5))]
    }
    getZoomContext(e) {
        const {SCALE: i, MULTIPLIER: s} = e.services.renderingContext.get();
        return ir.parseNumber(i * s)
    }
    getCanvasSizeContext(e) {
        const i = e.ui.container;
        return {
            width: i.offsetWidth,
            height: i.offsetHeight
        }
    }
    static parseNumber(e) {
        return Math.round(e * 1e3) / 1e3
    }
    getMenuIsOpen() {
        return y.store.getters["menu/menuIsOpen"]
    }
    getCrossReferenceIsOpen() {
        return y.store.getters["menu/displayCrossReferencesPanel"].display
    }
}
const Qw = (t, e) => {
    const i = new ir(e);
    return i.init(t, e),
    i
}
;
class Xw extends At {
    init(e) {
        e.setBehavior("promptContext", () => {
            this.promptContext(e)
        }
        )
    }
    promptContext(e) {
        if (typeof e.behaviours.getContext == "function") {
            const i = e.behaviours.getContext();
            i.url = window.location.href
        }
    }
}
const qw = (t, e) => {
    const i = new Xw(e);
    return i.init(t, e),
    i
}
  , Ze = {
    UP: 0,
    DOWN: 1,
    LEFT: 2,
    RIGHT: 3,
    UP_MIRRORED: 4,
    DOWN_MIRRORED: 5,
    LEFT_MIRRORED: 6,
    RIGHT_MIRRORED: 7
}
  , Jw = t => Object.keys(t).reduce( (e, i) => Object.assign(e, {
    [t[i]]: (e[t[i]] || []).concat(i)
}), {})
  , Ka = t => decodeURIComponent(atob(t))
  , Za = t => btoa(encodeURIComponent(t));
class e_ extends Pe {
    constructor(e) {
        super(),
        this.application = e,
        this.timeoutLoadPoints = null
    }
    getShareLink(e) {
        if (typeof e.behaviours.getContext == "function") {
            const i = this.parseContext(e.behaviours.getContext(e));
            let s = "";
            return Object.keys(i).forEach( (r, n) => {
                n !== 0 && (s += "&"),
                s += `${r}=${i[r]}`
            }
            ),
            `${window.location.origin + window.location.pathname}?${s}`
        }
    }
    parseContext(e) {
        const i = {}
          , s = this.application.services.roi.getRoi();
        s !== null && (i.x = s.x,
        i.y = s.y,
        i.w = s.w,
        i.h = s.h),
        i.mic = this.application.state.module.name,
        i.afi = e.slice,
        i.cic = encodeURIComponent(e.contrast),
        i.o = this.getOrientation(e),
        i.f = Za(e.filters),
        i.is = e.isolatedStructure,
        i.t = Za(JSON.stringify(this.getDisplayedLabelsStructure())),
        i.i = Za(encodeURIComponent(JSON.stringify(this.getInterfaceStatus(e)))),
        i.lm = this.getLabelMode(e);
        const r = Jw(J);
        return i.l = r[e.language],
        i.il = r[e.interfaceLanguage],
        e.fontSize !== null && (i.fs = e.fontSize),
        i.series = e.series,
        i["mode-full-series"] = e["mode-full-series"],
        i
    }
    getInterfaceStatus(e) {
        const i = {
            mo: e.interface.menu_open,
            co: e.interface.cr_open,
            oo: e.interface.orientation,
            oop: e.interface.overlay_opacity
        };
        return e.interface.details_open !== null && (i.do = e.interface.details_open),
        i
    }
    getLabelMode(e) {
        const i = {
            STANDARD: 1,
            PIN: 2,
            TEACHER: 3
        };
        switch (e["label-mode"]) {
        case Gi.PIN:
            return i.PIN;
        case Gi.QUIZ:
            return i.TEACHER;
        default:
            return i.STANDARD
        }
    }
    isUpOrientation(e) {
        return e.rotation === 0 && !e.flip.horizontal && !e.flip.vertical || e.rotation === 180 && e.flip.horizontal && e.flip.vertical
    }
    isUpMirroredOrientation(e) {
        return e.rotation === 0 && e.flip.horizontal && !e.flip.vertical || e.rotation === 180 && !e.flip.horizontal && e.flip.vertical
    }
    isRightOrientation(e) {
        return e.rotation === 90 && !e.flip.horizontal && !e.flip.vertical || e.rotation === 270 && e.flip.horizontal && e.flip.vertical
    }
    isRightMirroredOrientation(e) {
        return e.rotation === 90 && !e.flip.horizontal && e.flip.vertical || e.rotation === 270 && e.flip.horizontal && !e.flip.vertical
    }
    isDownOrientation(e) {
        return e.rotation === 180 && !e.flip.horizontal && !e.flip.vertical || e.rotation === 0 && e.flip.horizontal && e.flip.vertical
    }
    isDownMirroredOrientation(e) {
        return e.rotation === 180 && e.flip.horizontal && !e.flip.vertical || e.rotation === 0 && !e.flip.horizontal && e.flip.vertical
    }
    isLeftOrientation(e) {
        return e.rotation === 270 && !e.flip.horizontal && !e.flip.vertical || e.rotation === 90 && e.flip.horizontal && e.flip.vertical
    }
    isLeftMirroredOrientation(e) {
        return e.rotation === 270 && !e.flip.horizontal && e.flip.vertical || e.rotation === 90 && e.flip.horizontal && !e.flip.vertical
    }
    getOrientation(e) {
        return this.isUpOrientation(e) ? Ze.UP : this.isUpMirroredOrientation(e) ? Ze.UP_MIRRORED : this.isRightOrientation(e) ? Ze.RIGHT : this.isRightMirroredOrientation(e) ? Ze.RIGHT_MIRRORED : this.isDownOrientation(e) ? Ze.DOWN : this.isDownMirroredOrientation(e) ? Ze.DOWN_MIRRORED : this.isLeftOrientation(e) ? Ze.LEFT : this.isLeftMirroredOrientation(e) ? Ze.LEFT_MIRRORED : Ze.UP
    }
    getUniqueTaxonKeys() {
        return Array.from(new Set(this.application.services.label.getDisplayedLabels().map( ({taxon_key: e}) => e)))
    }
    getDisplayedLabelsStructure() {
        const e = this.getUniqueTaxonKeys()
          , i = {};
        return e.forEach(s => {
            const r = this.application.services.structure.findByTaxonKey(s);
            i[r.ta_id] || (i[r.ta_id] = []),
            i[r.ta_id].push(r.taxon_id)
        }
        ),
        i
    }
    init(e) {
        super.init(e),
        e.setBehavior("share-link", () => this.getShareLink(e)),
        this.parameters = r0(window.location.search),
        this.checkOldParameters(),
        this.parseParameters(),
        this.loadInterface(),
        De([{
            from: e,
            name: F.EVENT.READY
        }]).then( () => {
            this.loadSeriesAndSlice(),
            this.loadContrast(),
            this.loadPanZoom(),
            this.loadFiltersAndPoints(),
            this.loadTaxon(),
            this.loadFlip(),
            this.loadLanguage(),
            this.loadRotation(),
            this.loadIsolate(),
            this.toggleFeatures()
        }
        );
        const i = [{
            from: e,
            name: F.EVENT.READY
        }];
        (this.parameters.point || this.parameters.taxon) && i.push({
            from: e,
            name: vs.POINTS_LOADED
        }),
        (this.parameters.pan || this.parameters.zoom) && i.push({
            from: e,
            name: vs.PAN_ZOOM_LOADED
        }),
        De(i).then( () => {
            e.publish(vs.LOADED),
            this.clearSubscriptions()
        }
        )
    }
    parseParameters() {
        if (delete this.parameters.mic,
        this.parameters.afi && (this.parameters.slice = parseInt(this.parameters.afi, 10),
        delete this.parameters.afi),
        this.parameters.cic && (this.parameters.contrast = this.parameters.cic,
        delete this.parameters.cic),
        this.parameters.o) {
            switch (this.parameters.flip = {},
            this.parameters.o) {
            case Ze.UP_MIRRORED:
                this.parameters.flip.horizontal = !0;
                break;
            case Ze.DOWN_MIRRORED:
                this.parameters.flip.horizontal = !0;
            case Ze.DOWN:
                this.parameters.rotation = 180;
                break;
            case Ze.LEFT_MIRRORED:
                this.parameters.flip.vertical = !0;
            case Ze.LEFT:
                this.parameters.rotation = 270;
                break;
            case Ze.RIGHT_MIRRORED:
                this.parameters.flip.vertical = !0;
            case Ze.RIGHT:
                this.parameters.rotation = 90;
                break
            }
            delete this.parameters.o
        }
        if (this.parameters.f && (this.parameters.filters = Ka(this.parameters.f),
        delete this.parameters.f),
        this.parameters.is && (this.parameters.structureId = this.parameters.is,
        delete this.parameters.is),
        this.parameters.isf && (this.parameters.isolatedStructureFilters = this.parameters.isf,
        delete this.parameters.isf),
        this.parameters.t) {
            try {
                this.parameters.taxon = JSON.parse(Ka(this.parameters.t))
            } catch (e) {
                y.sendCoreError(e)
            }
            delete this.parameters.t
        }
        if (this.parameters.i) {
            const e = Ka(this.parameters.i);
            this.parameters.interface = {},
            e.mo && (this.parameters.interface.menu_open = e.mo),
            e.co && (this.parameters.interface.cr_open = e.co),
            delete this.parameters.i
        }
        this.parameters.l && (this.parameters.language = J[this.parameters.l.toLowerCase()],
        delete this.parameters.l),
        delete this.parameters.il
    }
    loadSeriesAndSlice() {
        if (this.parameters.series) {
            const e = this.parameters.series
              , i = Object.values(this.application.services.series.getResources()).find(s => s.id === e);
            if (typeof i < "u") {
                let s = 1;
                this.parameters.slice && this.parameters.slice > 0 && (s = this.parameters.slice),
                this.parameters["mode-full-series"] !== null && this.parameters["mode-full-series"] === !1 ? (s > i.number_of_images && (s = 1),
                this.application.selectDisplaySeriesMode(e, s)) : this.application.services.slice.isInRange(s) && this.application.moveToSlice(s)
            }
        } else
            this.parameters.slice && this.parameters.slice > 0 && this.application.services.slice.isInRange(this.parameters.slice) && this.application.moveToSlice(this.parameters.slice)
    }
    loadContrast() {
        if (this.parameters.contrast) {
            const e = this.application.services.contrast.findOne({
                imaios_code: this.parameters.contrast
            });
            e !== null && e.id !== -1 && this.application.selectContrast(e.id)
        }
    }
    loadLanguage() {
        this.parameters.language && this.application.services.language.isAvailable(this.parameters.language) && this.application.setLanguage(this.parameters.language)
    }
    loadFlip() {
        this.parameters.flip && De([{
            name: F.EVENT.RENDERING_FIRST_FRAME,
            from: this.application
        }]).then( () => {
            this.parameters.flip.horizontal && this.application.horizontalFlip(),
            this.parameters.flip.vertical && this.application.verticalFlip()
        }
        )
    }
    loadRotation() {
        this.parameters.rotation && De([{
            name: F.EVENT.RENDERING_FIRST_FRAME,
            from: this.application
        }]).then( () => {
            this.application.rotate(this.parameters.rotation)
        }
        )
    }
    loadTranslation() {
        const {x: e, y: i, w: s, h: r} = this.parameters;
        this.application.loadRoi(s, r, e, i)
    }
    hasTranslation() {
        return typeof this.parameters.x < "u" && typeof this.parameters.y < "u" && typeof this.parameters.w < "u" && typeof this.parameters.h < "u"
    }
    loadPanZoom() {
        (this.parameters.pan || this.parameters.zoom || this.hasTranslation()) && De([{
            name: F.EVENT.RENDERING_FIRST_FRAME,
            from: this.application
        }]).then( () => {
            const e = this.application.components.imageCanvas
              , {SCALE: i, MULTIPLIER: s} = this.application.services.renderingContext.get();
            let r = 0
              , n = 0;
            this.parameters.pan && (r = (this.parameters.pan[0] + 1) * (e.getCanvasWidth() / 2) - e.getTx(),
            n = (this.parameters.pan[1] + 1) * (e.getCanvasHeight() / 2) - e.getTy());
            let a = 0
              , o = 1;
            this.parameters.zoom && (a = this.parameters.zoom - s * i,
            o = -(this.parameters.zoom / s) + i),
            this.application.zoomOnCoords(r / o, n / o, a),
            this.hasTranslation() && this.loadTranslation(),
            this.parameters.canvasSize && (this.parameters.canvasSize.width !== this.application.ui.container.offsetWidth || this.parameters.canvasSize.height !== this.application.ui.container.offsetHeight) && (this.application.data.lastContainerWidth = this.parameters.canvasSize.width,
            this.application.data.lastContainerHeight = this.parameters.canvasSize.height,
            this.application.resize(!0)),
            this.application.publish(vs.PAN_ZOOM_LOADED)
        }
        )
    }
    loadFiltersAndPoints() {
        if (this.parameters.structureId && this.parameters.isolatedStructureFilters) {
            const e = this.application.getStructureById(this.parameters.structureId)
              , i = this.application.services.point.findByTaxonKey(e.getTaxonKey()).map(r => r.filter_id)
              , s = Array.from(new Set(i));
            this.application.services.filter.focus(s, !0)
        } else if (this.parameters.filters) {
            const e = this.parameters.filters.split(",")
              , i = this.application.services.filter.find({
                category: {
                    $in: e
                }
            }).map(s => s.id.toString());
            this.application.services.filter.focus(i, !0)
        }
        (this.parameters.filters || this.parameters.structureId) && this.parameters.points && this.agent.subscribe(this.application.services.point, Ce.UPDATE_ACTIVE, e => this.loadPoints(e, this.parameters.points.toString().split(",").map(i => parseInt(i, 10))))
    }
    loadTaxon() {
        if (!this.parameters.taxon)
            return;
        const e = Object.keys(this.parameters.taxon).flatMap(i => this.parameters.taxon[i].map(s => `${i}-${s}`)).flatMap(i => this.application.services.point.findByTaxonKey(i)).map(i => parseInt(i.id, 10));
        this.agent.subscribe(this.application.services.point, Ce.UPDATE_ACTIVE, i => {
            this.loadPoints(i, e)
        }
        )
    }
    loadPoints(e, i) {
        const s = this.application.features["priority-point-select"];
        i.every(r => e.findIndex(n => n.id === r) !== -1) && e.forEach(r => {
            i.includes(r.id) ? s.selectPoint(this.application, r) : s.unselectPoint(this.application, r)
        }
        ),
        this.clearSubscriptions(),
        clearTimeout(this.timeoutLoadPoints),
        this.application.publish(vs.POINTS_LOADED)
    }
    loadIsolate() {
        typeof this.parameters.structureId < "u" && this.parameters.structureId !== null && this.application.services.structure.exists(this.parameters.structureId) && this.application.isolateStructure(null, this.parameters.structureId, this.parameters.taxonKey || null)
    }
    checkOldParameters() {
        ["taxonId", "taId", "structureID", "frame"].some(e => Object.keys(this.parameters).includes(e)) && (this.parameters.frame && (this.parameters.slice = this.parameters.frame),
        this.parameters.structureID && (this.parameters.isolate = !0,
        this.parameters.structureId = this.parameters.structureID,
        typeof this.parameters.taId < "u" && typeof this.parameters.taxonId && (this.parameters.taxonKey = `${this.parameters.taId}-${this.parameters.taxonId}`)))
    }
    loadInterface() {
        this.parameters.interface && (typeof this.parameters.interface.menu_open < "u" && De([{
            name: k.ui.VIEWER.MENU_INITIALIZED,
            from: this.application
        }]).then( () => {
            (this.parameters.interface.menu_open && !y.store.getters["menu/menuIsOpen"] || !this.parameters.interface.menu_open && y.store.getters["menu/menuIsOpen"]) && y.store.dispatch("menu/menu:toggle")
        }
        ),
        typeof this.parameters.interface.cr_open < "u" && De([{
            name: k.ui.VIEWER.CROSS_REFERENCES_INITIALIZED,
            from: this.application
        }]).then( () => {
            (this.parameters.interface.cr_open && !y.store.getters["menu/displayCrossReferencesPanel"].display || !this.parameters.interface.cr_open && y.store.getters["menu/displayCrossReferencesPanel"].display) && y.store.dispatch("menu/cross-references:toggle")
        }
        ))
    }
    toggleFeatures() {
        this.parameters.hidePointWithoutLabel && this.application.toggleFeatureHidePointWithoutLabel()
    }
}
const t_ = (t, e) => {
    const i = new e_(t);
    return i.init(t, e),
    i
}
;
let i_ = class extends wt {
    constructor() {
        super({
            subscriber_id: "image-auto-load-feature"
        })
    }
    redrawFullSliceThumbs(t) {
        t.services.image.getCurrent() !== null ? t.redrawImageCanvas() : t.redrawImageCanvas(t.services.image.latestImageThatShouldBeDrawnId),
        t.clearOverlays(),
        t.redrawSliceMetadata(),
        t.redrawOverlays(),
        t.showMetaCanvas()
    }
    subscribe(t) {
        return [{
            from: t.services.image,
            name: Wt.EVENT.IMAGE_AVAILABLE,
            action: e => {
                e.image_id === t.services.image.getCurrentId() && (t.services.image.latestImageThatShouldBeDrawnId = e.image_id,
                t.animations.redrawFullSlice.trigger())
            }
        }, {
            from: t.services.image,
            name: Cr.EVENT.QUALITY_CHANGE,
            action: () => {
                t.loadFrame()
            }
        }, {
            from: t.services.image,
            name: Wt.EVENT.IMAGE_CHANGE,
            action: e => _(this, null, function*() {
                t.services.image.getCurrentId() === e && !t.services.image.canBeRendered(e) && (yield t.services.image.loadFallbackImage(),
                t.services.image.latestImageThatShouldBeDrawnId = e,
                this.redrawFullSliceThumbs(t)),
                t.services.image.getImage({
                    image_id: e
                }, j.PRIORITY.MAX).then(i => {
                    t.services.image.publish(Wt.EVENT.IMAGE_AVAILABLE, i)
                }
                )
            })
        }]
    }
}
;
const s_ = (t, e) => {
    const i = new i_(t);
    return i.init(t, e),
    i
}
  , Qa = 100;
class r_ extends Pe {
    constructor() {
        super(),
        this.pointHasBeenUpdated = !1,
        this.pointsPriority = {},
        this.priority = Qa
    }
    subscribe(e) {
        const i = e.services.point
          , s = r => {
            this.pointHasBeenUpdated === !1 && this.updatePointSelected(e),
            this.toggleSelection.call(e, r)
        }
        ;
        return [{
            from: e.services.slice,
            name: Fe.EVENT.SLICE_CHANGE,
            action: () => this.pointHasBeenUpdated = !1
        }, {
            from: e,
            name: Ce.CLICK,
            action: ({event: r, point: n}) => {
                r.shiftKey && !n.isIsolated && s(n)
            }
        }, {
            from: i,
            name: Ce.UNSELECTED,
            action: r => this.unselectPoint(e, r)
        }, {
            from: i,
            name: Ce.SELECTED,
            action: r => this.selectPoint(e, r)
        }, {
            from: e,
            name: Ce.RESET_ALL_PRIORITY,
            action: () => this.resetPriority(e)
        }]
    }
    unselectPoint(e, i) {
        e.services.point.findByTaxonKey(i.taxon_key).forEach(s => {
            this.pointsPriority[s.id] = s.priority,
            e.services.point.setPriority(s.id, Qa)
        }
        )
    }
    selectPoint(e, i) {
        e.services.point.findByTaxonKey(i.taxon_key).forEach(s => {
            typeof this.pointsPriority[s.id] > "u" && (this.pointsPriority[s.id] = s.priority),
            e.services.point.setPriority(s.id, -this.priority)
        }
        ),
        this.priority++
    }
    toggleSelection(e) {
        e.isSelected === !0 && typeof this.pointsWithLabel && this.pointsWithLabel.has(e.id) ? this.services.point.unselect(e) : this.services.point.select(e),
        this.redrawLabels()
    }
    resetPriority(e) {
        Object.keys(this.pointsPriority).forEach(i => {
            e.services.point.setPriority(i, this.pointsPriority[i])
        }
        ),
        this.pointsPriority = {},
        this.priority = Qa,
        e.redrawLabels()
    }
    updatePointSelected(e) {
        const i = e.services.point;
        Object.keys(i.leftLinkedPointsById).concat(Object.keys(i.rightLinkedPointsById)).forEach(s => {
            const r = i.findById(s);
            r.isSelected = !0
        }
        ),
        this.pointHasBeenUpdated = !0
    }
}
const n_ = (t, e) => {
    const i = new r_(e);
    return i.init(t, e),
    i
}
;
class a_ extends wt {
    constructor() {
        super({
            subscriber_id: "increase-image-quality-on-zoom"
        }),
        this.lastQuality = null
    }
    getQuality(e) {
        const {SCALE: i, MULTIPLIER: s} = e.services.renderingContext.get()
          , r = i * s;
        let n = null;
        return y.isZipMode() ? n = Js.HIGH : r > ca.HIGH ? n = qi.HIGH : Object.values(ca).forEach( (a, o) => {
            r <= a && n === null && (n = qi[Object.keys(ca)[o]])
        }
        ),
        n
    }
    subscribe(e) {
        return [{
            from: e,
            name: F.EVENT.ZOOM,
            action: () => {
                const i = this.getQuality(e)
                  , s = e.services.image.getQuality(e);
                s < i && (this.lastQuality = s,
                e.services.image.switchQuality(i))
            }
        }, {
            from: e.services.slice,
            name: Fe.EVENT.SLICE_CHANGE,
            action: () => {
                this.lastQuality !== e.services.image.getQuality(e) && e.services.image.switchQuality(this.lastQuality)
            }
        }, {
            from: e,
            name: F.EVENT.RENDERING_FIRST_FRAME,
            action: () => _(this, null, function*() {
                const i = this.getQuality(e);
                yield e.services.image.switchQuality(i),
                this.lastQuality = i
            })
        }]
    }
}
const o_ = (t, e) => {
    const i = new a_(e);
    return i.init(t, e),
    i
}
;
class l_ extends Pe {
    constructor() {
        super({
            subscriber_id: "image-auto-compute-multiplier"
        })
    }
    refreshMultiplier(e) {
        const i = e.services.series.getCurrent();
        let s = e.services.modality.is2XOverSampling(i.modality_id) ? au.DPX_2 : au.DPX_1;
        e.services.renderingContext.update($.ATTRIBUTE.MULTIPLIER, s)
    }
    subscribe(e) {
        return [{
            from: e.services.series,
            name: ns.EVENT.SERIES_CHANGE,
            action: () => {
                this.refreshMultiplier(e)
            }
        }, {
            from: e,
            name: F.EVENT.READY,
            action: () => {
                this.refreshMultiplier(e)
            }
        }]
    }
}
const c_ = (t, e) => {
    const i = new l_(t);
    return i.init(t, e),
    i
}
;
typeof window.requestIdleCallback != "function" && (window.requestIdleCallback = t => {
    let e = Date.now();
    return setTimeout( () => {
        t({
            didTimeout: !1,
            timeRemaining: () => Math.max(0, 50 - (Date.now() - e))
        })
    }
    , 1)
}
),
typeof window.cancelIdleCallback != "function" && (window.cancelIdleCallback = t => clearTimeout(t));
const $r = 10;
class u_ extends wt {
    constructor() {
        super({
            subscriber_id: "load-image-on-idle-feature"
        }),
        this.currentIndex = 0,
        this.loadingContrast = We,
        this.loadingSeriesId = null,
        this.state = {},
        this.lastProcess = null,
        this.tick = this.loadingLoop.bind(this),
        this.taskKilledById = new Map,
        this.task_id = 0,
        this.hasRenderFirstFrame = !1
    }
    loadSlice(e) {
        const i = this.task_id++;
        if (this.taskKilledById.set(i, !1),
        this.taskKilledById.get(i) === !0) {
            this.taskKilledById.delete(i);
            return
        }
        let s, r = We;
        if (typeof this.state[e.series_id][this.loadingContrast] < "u" ? s = this.state[e.series_id][this.loadingContrast] : s = this.state[e.series_id][We],
        s.sliceIds[e.id] === !1) {
            const n = this.application.services.overlay.getValidOverlays(e.id);
            this.application.services.image.getImage({
                slice_id: e.id,
                code: r,
                type: de.SLICE
            }, j.PRIORITY.LOW),
            n.forEach(a => {
                this.application.services.image.getImage({
                    slice_id: e.id,
                    format: "png",
                    type: de.OVERLAY,
                    code: a
                }, j.PRIORITY.LOW)
            }
            ),
            s.nbLoaded++,
            s.sliceIds[e.id] = !0
        }
    }
    loadingLoop() {
        return _(this, null, function*() {
            const e = this.state[this.loadingSeriesId][this.loadingContrast]
              , i = Object.keys(e.sliceIds)
              , s = this.getLoadingSeries()
              , r = this.task_id++;
            for (this.taskKilledById.set(r, !1); this.currentIndex < s.number_of_images; ) {
                if (this.taskKilledById.get(r) === !0) {
                    this.taskKilledById.delete(r);
                    return
                }
                const n = i[this.currentIndex];
                if (this.currentIndex++,
                e.sliceIds[n] === !1) {
                    const a = this.application.services.overlay.getValidOverlays(n);
                    yield Promise.all([this.application.services.image.getImage({
                        slice_id: n,
                        code: this.loadingContrast,
                        type: de.SLICE
                    }, j.PRIORITY.LOW)]),
                    a.forEach(o => {
                        this.application.services.image.getImage({
                            slice_id: n,
                            format: "png",
                            type: de.OVERLAY,
                            code: o
                        }, j.PRIORITY.LOW)
                    }
                    ),
                    e.nbLoaded++,
                    e.sliceIds[n] = !0
                }
            }
            this.currentIndex !== s.number_of_images ? this.prepareNextTick() : this.agent.publish(Xa.END_LOOP)
        })
    }
    prepareNextTick() {
        this.lastProcess = window.requestIdleCallback(this.tick)
    }
    getLoadingSeries() {
        return this.application.services.series.findById(this.loadingSeriesId)
    }
    startLoadingLoop() {
        try {
            if (this.loadingSeriesId !== null) {
                const e = this.state[this.loadingSeriesId][this.loadingContrast];
                if (typeof e < "u" && e !== null) {
                    const i = this.getLoadingSeries();
                    e.nbLoaded === i.number_of_images ? this.agent.publish(Xa.END_LOOP) : (this.agent.publish(j.EVENT.ASK_SHOW_PROGRESS),
                    this.prepareNextTick())
                }
            }
        } catch (e) {}
    }
    killLoadingLoop() {
        this.taskKilledById.forEach( (e, i) => this.taskKilledById.set(i, !0)),
        window.cancelIdleCallback(this.lastProcess),
        this.lastProcess = null
    }
    initializeState(e) {
        this.application = e,
        [j.EVENT.LOADING_END, j.EVENT.ASK_SHOW_PROGRESS, j.EVENT.ASK_HIDE_PROGRESS].forEach(i => {
            e.subscribe(this.agent, i, s => {
                e.emit(i, {
                    detail: s
                })
            }
            )
        }
        ),
        Object.values(e.services.series.getResources()).forEach(i => {
            this.state[i.id] = {};
            const s = e.services.contrast.find({
                series_id: {
                    $or: [i.id, -1]
                }
            })
              , r = e.services.slice.find({
                series_id: i.id
            }).reduce( (n, a) => (n[a.id] = !1,
            n), {});
            s.forEach(n => {
                this.state[i.id][n.imaios_code] = {
                    nbLoaded: 0,
                    sliceIds: T({}, r)
                }
            }
            )
        }
        ),
        this.loadingSeriesId = e.services.series.getCurrentId(),
        this.loadingContrast = e.services.contrast.getCurrentCode(),
        this.currentIndex = e.getRelativeSliceIndexById(e.services.slice.getCurrentId(), this.loadingSeriesId) - 1
    }
    needToKillLoopOnSliceChange(e, i) {
        const s = this.currentIndex - 1;
        if (!this.checkIfSliceIsLoaded(e))
            return !0;
        const r = this.application.services.slice.getTotalSlices();
        if (e.sort_order < r)
            for (let n = 1; n < $r; n++) {
                if (e.sort_order + n <= r) {
                    const a = this.application.services.slice.getSliceBySliceIndex(e.sort_order + n);
                    if (!this.checkIfSliceIsLoaded(a))
                        return !0
                }
                if (e.sort_order - n > 1) {
                    const a = this.application.services.slice.getSliceBySliceIndex(e.sort_order - n);
                    if (!this.checkIfSliceIsLoaded(a))
                        return !0
                }
            }
        if (this.loadingSeriesId === e.series_id) {
            if (s < i)
                return !0;
            {
                const n = Object.values(this.state[e.series_id][this.loadingContrast].sliceIds);
                for (let a = i; a < s; a++)
                    if (n[a] === !1)
                        return !0;
                return !1
            }
        } else if (typeof this.state[e.series_id][this.loadingContrast] < "u" && this.state[e.series_id][this.loadingContrast].nbLoaded === this.application.services.series.findById(e.series_id).number_of_images)
            return !1;
        return !0
    }
    checkIfSliceIsLoaded(e) {
        let i;
        return typeof this.state[e.series_id][this.loadingContrast] < "u" ? i = this.state[e.series_id][this.loadingContrast].sliceIds : i = this.state[e.series_id][We].sliceIds,
        i[e.id]
    }
    getNextSeriesAndContrastToLoad(e) {
        let i = null
          , s = We;
        const r = this.application.services.series.findById(e);
        return typeof this.state[e][this.loadingContrast] < "u" ? this.state[e][this.loadingContrast].nbLoaded < r.number_of_images && (i = e,
        s = this.loadingContrast) : this.state[e][We].nbLoaded < r.number_of_images && (i = e),
        {
            nextSeriesToLoad: i,
            nextContrast: s
        }
    }
    loadNeighboursSlice(e) {
        this.checkIfSliceIsLoaded(e) || this.loadSlice(e);
        const i = this.application.services.slice.getTotalSlices();
        for (let s = 1; s < $r + 1; s++) {
            if (e.sort_order + s <= i) {
                const r = this.application.services.slice.getSliceBySliceIndex(e.sort_order + s);
                this.checkIfSliceIsLoaded(r) || this.loadSlice(r)
            }
            if (e.sort_order - s > 1) {
                const r = this.application.services.slice.getSliceBySliceIndex(e.sort_order - s);
                this.checkIfSliceIsLoaded(r) || this.loadSlice(r)
            }
        }
    }
    subscribe(e) {
        return this.initializeState(e),
        this.startLoadingLoop(e),
        [{
            from: e.services.slice,
            name: Fe.EVENT.SLICE_CHANGE,
            action: i => _(this, null, function*() {
                if (this.hasRenderFirstFrame) {
                    const s = e.services.slice.findById(i)
                      , r = e.getRelativeSliceIndexById(i, s.series_id);
                    if (this.needToKillLoopOnSliceChange(s, r)) {
                        this.killLoadingLoop(),
                        this.loadNeighboursSlice(s);
                        let n = s.sort_order + $r;
                        s.sort_order + $r > this.application.services.slice.getTotalSlices() && (n = this.application.services.slice.getTotalSlices());
                        const a = this.application.services.slice.getSliceBySliceIndex(n);
                        this.loadingSeriesId = a.series_id,
                        this.currentIndex = e.getRelativeSliceIndexById(a.id, a.series_id) - 1,
                        this.startLoadingLoop(e)
                    }
                }
            })
        }, {
            from: e,
            name: F.EVENT.RENDERING_FIRST_FRAME,
            action: () => {
                this.hasRenderFirstFrame = !0
            }
        }, {
            from: e.services.contrast,
            name: ot.EVENT.SELECTED,
            action: i => {
                const s = e.services.slice.getCurrent()
                  , r = e.getRelativeSliceIndexById(s.id, s.series_id) - 1;
                this.killLoadingLoop(),
                this.loadingContrast = e.services.contrast.findById(i).imaios_code,
                this.loadingSeriesId = s.series_id,
                this.currentIndex = r,
                this.startLoadingLoop(e)
            }
        }, {
            from: this.agent,
            name: Xa.END_LOOP,
            action: () => {
                this.killLoadingLoop(),
                this.currentIndex = 0;
                let i = null
                  , s = We;
                const r = Object.keys(this.state);
                let n = r.findIndex(o => parseInt(o) === this.loadingSeriesId)
                  , a = n + 1 < r.length ? n + 1 : 0;
                for (; a < r.length; a++) {
                    const o = parseInt(r[a]);
                    if (i === null) {
                        const l = this.getNextSeriesAndContrastToLoad(o);
                        l.nextSeriesToLoad !== null && (i = l.nextSeriesToLoad,
                        s = l.nextContrast)
                    }
                }
                if (i === null) {
                    const o = n + 1;
                    for (let l = 0; l < o; l++) {
                        const c = parseInt(r[l]);
                        if (i === null) {
                            const u = this.getNextSeriesAndContrastToLoad(c);
                            u.nextSeriesToLoad !== null && (i = u.nextSeriesToLoad,
                            s = u.nextContrast)
                        }
                    }
                }
                i !== null ? (this.loadingSeriesId = i,
                this.loadingContrast = s,
                this.startLoadingLoop(e)) : this.agent.publish(j.EVENT.ASK_HIDE_PROGRESS)
            }
        }]
    }
}
const Xa = {
    END_LOOP: "end"
}
  , d_ = (t, e) => {
    const i = new u_(t);
    return i.init(t, e),
    i
}
;
class h_ extends Pe {
    constructor(e) {
        super({
            subscriber_id: "double-click-zoom"
        }),
        this.application = e
    }
    shouldPerform(e) {
        return !e.services.point.hasHover() && !e.services.structure.hasHover()
    }
    subscribe(e) {
        return [{
            from: e.handlers.pointer,
            name: K.EVENT.DOUBLE_CLICK,
            action: i => {
                !this.shouldPerform(e) || i.button !== Ji.LEFT_CLICK || i.shiftKey || i.ctrlKey || i.metaKey || i.altKey || e.behave("toggleFullScreen")
            }
        }]
    }
}
const p_ = (t, e) => {
    const i = new h_(t);
    return i.init(t, e),
    i
}
  , zu = {
    EANATOMY: 300,
    VETANATOMY: 418052
}
  , G = {
    ENABLED: !1,
    SILENT: !0,
    STATUS: {
        BLOCKED: "blocked",
        STAY_TUNED: "staytuned"
    },
    STATE: {
        DETERMINED: "determined",
        STOP: "stop",
        HELLO: "hello",
        PING: "ping",
        STAY_TUNED: "staytuned"
    },
    CONFIG: {
        url: "/c",
        timeout: 1e4,
        togglePopinFunction: (t, e) => {
            if (!G.SILENT)
                if (t.length > 0) {
                    let i = G.STATUS.BLOCKED;
                    t === "Already_using_on_another_device" && (i = G.STATUS.STAY_TUNED),
                    e.$modal.innerHTML = `
                    <iframe
                        src="${re.baseURL}/${y.getSiteAccess()}/capping/${G.CONFIG.cappingProduictId}/${i}"
                        style="height: 100%; width: 100%;min-height: 695px"
                        frameBorder="0"
                        height="100%"
                        width="100%"
                    ><iframe>
                `
                } else
                    e.$modal.hide(),
                    e.$modal.innerHTML = ""
        }
    }
};
class m_ extends wt {
    constructor() {
        super(),
        this.lastAction = "",
        this.state = G.STATE.STOP,
        this.$modal = null,
        this.instanceHasInitializedCapping = !1
    }
    onInit(e) {
        var i, s, r;
        window.IMAIOS_CAPPING_EXIST || (window.IMAIOS_CAPPING_EXIST = !0,
        this.instanceHasInitializedCapping = !0,
        G.CONFIG.brand = e.application_id === Rt.EANATOMY ? zu.EANATOMY : zu.VETANATOMY,
        G.CONFIG.cappingProduictId = e.application_id,
        G.CONFIG.userId = (s = (i = re.APIUserId) != null ? i : re.APIClientId) != null ? s : y.getUserId(),
        G.CONFIG.tolerance = "",
        y.isEmbed() && (G.CONFIG.url = re.baseURL + G.CONFIG.url),
        y.user_id === null && y.pubSub.subscribe(y.pubSub, Cl.USER_ID_UPDATED, n => {
            G.CONFIG.userId = n,
            this.tryActivatingCapping()
        }
        ),
        (r = imaios.pubsub) == null || r.publish("capping-ready", G),
        this.tryActivatingCapping())
    }
    tryActivatingCapping() {
        !G.ENABLED || G.CONFIG.userId === yr || (this.deviceId = Nt.getDeviceId(),
        this.start(),
        window.restartCapping = () => {
            this.determined()
        }
        ,
        window.stopCapping = () => {
            this.stop()
        }
        )
    }
    hello() {
        this.$modal === null && !G.SILENT && this.createModal(),
        this.state !== G.STATE.HELLO && (this.state = G.STATE.HELLO,
        this.lastAction = G.STATE.HELLO,
        re.fetch(`${G.CONFIG.url}/hello?user=${this.userId}&brand=${this.brand}&device=${this.deviceId}&tolerance=${this.tolerance}`).then(e => e.json()).then( () => {
            this.state === G.STATE.HELLO && this.ping()
        }
        ).catch( () => {
            this.state = G.STATE.STOP
        }
        ))
    }
    bye() {
        re.fetch(`${G.CONFIG.url}/bye?user=${this.userId}&brand=${this.brand}&device=${this.deviceId}&tolerance=${this.tolerance}`).catch(e => {}
        )
    }
    determined() {
        this.state !== G.STATE.DETERMINED && (this.state = G.STATE.DETERMINED,
        this.lastAction = G.STATE.DETERMINED,
        G.CONFIG.togglePopinFunction("", this),
        re.fetch(`${G.CONFIG.url}/hello?user=${this.userId}&brand=${this.brand}&device=${this.deviceId}&tolerance=${this.tolerance}&determined=1`).then(e => e.json()).then( () => {
            this.state === G.STATE.DETERMINED && this.ping()
        }
        ).catch( () => {
            this.state = G.STATE.STOP
        }
        ))
    }
    ping() {
        this.state !== G.STATE.PING && (this.state = G.STATE.PING,
        this.lastAction = G.STATE.PING,
        setTimeout(this.doPing.bind(this), G.CONFIG.timeout))
    }
    doPing() {
        document[this.hidden] || this.state !== G.STATE.PING || re.fetch(`${G.CONFIG.url}/ping?user=${this.userId}&brand=${this.brand}&device=${this.deviceId}&tolerance=${this.tolerance}`).then(e => e.json()).then(e => {
            if (this.state === G.STATE.PING)
                if (e.pause === !0)
                    e.block === !0 ? (G.CONFIG.togglePopinFunction(e.message, this),
                    this.staytuned()) : (this.state = G.STATE.STOP,
                    this.lastAction = "");
                else {
                    if (document[this.hidden]) {
                        this.state = G.STATE.STOP;
                        return
                    }
                    this.state = G.STATE.STOP,
                    this.ping()
                }
        }
        ).catch( () => {
            this.state = G.STATE.STOP
        }
        )
    }
    staytuned() {
        this.state !== G.STATE.STAY_TUNED && (this.state = G.STATE.STAY_TUNED,
        this.lastAction = G.STATE.STAY_TUNED,
        setTimeout(this.doStaytuned.bind(this), G.CONFIG.timeout))
    }
    doStaytuned() {
        document[this.hidden] || this.state !== G.STATE.STAY_TUNED || re.fetch(`${G.CONFIG.url}/stayTuned?user=${this.userId}&brand=${this.brand}&device=${this.deviceId}&tolerance=${this.tolerance}`).then(e => e.json()).then(e => {
            if (this.state === G.STATE.STAY_TUNED)
                if (e.block === !0)
                    document[this.hidden] ? this.state = G.STATE.STOP : (this.state = G.STATE.STOP,
                    this.staytuned());
                else {
                    if (document[this.hidden]) {
                        this.state = G.STATE.STOP;
                        return
                    }
                    G.CONFIG.togglePopinFunction("", this),
                    this.state === G.STATE.STAY_TUNED && this.hello()
                }
        }
        ).catch( () => {
            this.state = G.STATE.STOP
        }
        )
    }
    start() {
        typeof document.hidden < "u" ? (this.hidden = "hidden",
        this.visibilityChange = "visibilitychange") : typeof document.msHidden < "u" ? (this.hidden = "msHidden",
        this.visibilityChange = "msvisibilitychange") : typeof document.webkitHidden < "u" && (this.hidden = "webkitHidden",
        this.visibilityChange = "webkitvisibilitychange"),
        this.initializeData(),
        this.hello();
        const e = () => {
            if (document[this.hidden])
                this.state === G.STATE.PING && (this.state = G.STATE.STOP,
                this.bye()),
                this.state === G.STATE.HELLO && (this.state = G.STATE.STOP,
                setTimeout(this.bye.bind(this), G.CONFIG.timeout));
            else {
                if (this.lastAction === G.STATE.STAY_TUNED) {
                    this.staytuned();
                    return
                }
                (this.lastAction === G.STATE.PING || this.lastAction === G.STATE.HELLO) && this.hello()
            }
        }
        ;
        typeof document.addEventListener > "u" || typeof document[this.hidden] > "u" || document.addEventListener(this.visibilityChange, e, !1)
    }
    stop() {
        this.state = G.STATE.STOP
    }
    initializeData() {
        this.userId = G.CONFIG.userId,
        this.brand = G.CONFIG.brand,
        this.tolerance = G.CONFIG.tolerance
    }
    createModal() {
        const e = document.createElement("div");
        e.classList.add("imaios-capping-modal"),
        e.innerHTML = '<div class="imaios-capping-modal-content"></div>',
        window.addEventListener("message", i => {
            if (i.data === "cappingContinueAction" && (this.determined(),
            i.preventDefault()),
            i.data === "cappingContentLoaded" && this.$modal.show(),
            i.data.message === "imaios-capping-update-height") {
                const s = this.$modal.querySelector("iframe");
                typeof s < "u" && (s.style.height = `${i.data.height}px`)
            }
        }
        ),
        document.body.appendChild(e),
        this.$modal = e.children[0],
        this.$modal.hide = () => {
            document.body.style.overflowY = "",
            e.style.display = ""
        }
        ,
        this.$modal.show = () => {
            e.style.display = "flex",
            document.body.style.overflowY = "hidden"
        }
        ,
        this.$modal.destroy = () => {
            document.body.removeChild(e)
        }
    }
    destroy() {
        super.destroy(),
        this.instanceHasInitializedCapping && (window.IMAIOS_CAPPING_EXIST = !1,
        this.$modal.destroy())
    }
}
const g_ = (t, e) => {
    const i = new m_(t);
    return i.init(t, e),
    i
}
;
class f_ extends Pe {
    constructor(e) {
        super(e),
        this.needToRestoreLastInteraction = !1
    }
    subscribe(e) {
        return [{
            from: e.handlers.pointer,
            name: K.EVENT.POINTER_DOWN,
            action: i => {
                i.preventDefault();
                const s = e.services.interaction
                  , r = s.getCurrent();
                if (i.button === Ji.MIDDLE_CLICK && r.name !== is.interactionName) {
                    s.setCurrent(is.interactionName, !1);
                    const n = s.getCurrent();
                    this.needToRestoreLastInteraction = !0,
                    n.start()
                }
            }
        }, {
            from: e.handlers.pointer,
            name: K.EVENT.POINTER_UP,
            action: () => {
                this.needToRestoreLastInteraction && (e.services.interaction.restorePreviousInteraction(),
                this.needToRestoreLastInteraction = !1)
            }
        }]
    }
}
const v_ = (t, e) => {
    const i = new f_(t);
    return i.init(t, e),
    i
}
;
class y_ extends Pe {
    constructor(e) {
        super(e),
        this.needToRestoreLastInteraction = !1,
        this.timeoutPointerUp = null
    }
    startZoomInteraction(e, i) {
        const s = e.services.interaction
          , r = s.getCurrent();
        if (i.button === Ji.RIGHT_CLICK && r.name !== ss.interactionName) {
            s.setCurrent(ss.interactionName, !1);
            const n = s.getCurrent();
            this.needToRestoreLastInteraction = !0,
            n.start()
        }
    }
    subscribe(e) {
        return [{
            from: e.handlers.pointer,
            name: K.EVENT.POINTER_DOWN,
            action: i => {
                this.timeoutPointerUp = setTimeout( () => this.startZoomInteraction(e, i), 100)
            }
        }, {
            from: e.handlers.pointer,
            name: K.EVENT.POINTER_UP,
            action: () => {
                this.timeoutPointerUp && clearTimeout(this.timeoutPointerUp),
                this.needToRestoreLastInteraction && (e.services.interaction.restorePreviousInteraction(),
                this.needToRestoreLastInteraction = !1)
            }
        }]
    }
}
const E_ = (t, e) => {
    const i = new y_(t);
    return i.init(t, e),
    i
}
  , I_ = 150;
class C_ extends Pe {
    constructor(e) {
        super(e),
        this.accumulatedWheelScroll = 0
    }
    subscribe(e) {
        return [{
            from: e.handlers.pointer,
            name: K.EVENT.MOUSE_WHEEL,
            action: i => {
                if (i.preventDefault(),
                !e.state.pointer.isDown) {
                    e.publish(Di.SET_PLACEMENT_IMAGE_VIEW, {
                        placement: W.SCROLL
                    });
                    const s = -i.deltaY || i.wheelDeltaY || -i.detail;
                    this.accumulatedWheelScroll += s,
                    Se.isFirefox() && Math.abs(s) < 150 && (this.accumulatedWheelScroll += s / Math.abs(s) * 150),
                    Math.abs(this.accumulatedWheelScroll) >= I_ && (this.accumulatedWheelScroll < 0 ? e.goToNextSlice() : e.goToPreviousSlice(),
                    this.accumulatedWheelScroll = 0)
                }
            }
        }]
    }
}
const b_ = (t, e) => {
    const i = new C_(t);
    return i.init(t, e),
    i
}
;
class S_ extends wt {
    constructor(e) {
        super(e),
        this.loop = 0,
        this.lastRender = Date.now(),
        this.FRAME_RATE = 10
    }
    onInit(e) {
        super.onInit(e),
        e.setBehavior("loop-through-slices", () => {
            this.toggleLoop(e)
        }
        )
    }
    toggleLoop(e) {
        this.loop === 0 ? this.animation(e) : this.stopLoop()
    }
    stopLoop() {
        cancelAnimationFrame(this.loop),
        this.loop = 0
    }
    animation(e) {
        const i = Date.now();
        if (this.FRAME_RATE === 0 || i - this.lastRender >= 1e3 / this.FRAME_RATE) {
            const s = e.getRelativeIndexCurrentSlice()
              , r = e.getNumberOfSlice();
            let n = s + 1;
            n > r && (n = 0),
            e.moveToSlice(n, !0),
            this.lastRender = Date.now()
        }
        this.loop = requestAnimationFrame( () => this.animation(e))
    }
}
const T_ = (t, e) => {
    const i = new S_(t);
    return i.init(t, e),
    i
}
;
class A_ extends wt {
    constructor(e) {
        super(e),
        this.hoveredPointId = null,
        this.isolatedTaxonKeys = []
    }
    onInit(e) {
        super.onInit(e)
    }
    updateLabelAlpha(e, i) {
        if (this.hoveredPointId === null)
            return;
        let s = N.ATTRIBUTE.LABELS_WEAK_ALPHA;
        const r = i.services.point.findById(this.hoveredPointId);
        e.id === r.id && (s = N.ATTRIBUTE.LABELS_FULL_ALPHA),
        e.alpha = i.services.style.get(s)
    }
    removeLabelHoverStyle(e) {
        this.hoveredPointId !== null ? e.services.label.setStyle(this.hoveredPointId, "isHovered", !1) : e.services.label.setStyle(Gl, "isHovered", !1)
    }
    subscribe(e) {
        return [{
            from: e.services.slice,
            name: Fe.EVENT.SLICE_CHANGE,
            action: () => {
                this.removeLabelHoverStyle(e),
                this.hoveredPointId = null,
                Hu(e)
            }
        }, {
            from: e.services.point,
            name: Ce.HOVER,
            action: ({resource_id: i}) => {
                rw(e, i),
                this.hoveredPointId = i,
                e.animations.redrawOnlySliceMeta.trigger()
            }
        }, {
            from: e.services.point,
            name: Ce.LOOSE_HOVER,
            action: () => {
                Hu(e),
                this.hoveredPointId = null,
                e.animations.redrawOnlySliceMeta.trigger()
            }
        }, {
            from: e.services.labelsDrawer,
            name: ge.EVENT.UPDATE_STYLE,
            action: i => {
                this.updateLabelAlpha(i, e)
            }
        }, {
            from: e,
            name: ge.EVENT.CHANGE,
            action: () => {
                this.bindSubscriptions(e)
            }
        }, {
            from: e.components.pointsCanvas,
            name: wi.EVENT.UPDATE_POINT_STYLE,
            action: i => {
                this.hoveredPointId !== null && (this.hoveredPointId !== i.id ? i.circleAlpha = e.services.style.get(N.ATTRIBUTE.LABELS_WEAK_ALPHA) : this.isolatedTaxonKeys.includes(i.taxon_key) || (i.sizeMultiplier = e.services.style.get(N.ATTRIBUTE.POINT_HOVER_MULTIPLIER)))
            }
        }, {
            from: e.handlers.pointer,
            name: K.EVENT.POINTER_MOVE,
            action: () => {
                Os(e) !== null && !e.ui.container.classList.contains("label-hover") ? e.ui.container.classList.add("label-hover") : Os(e) === null && e.ui.container.classList.contains("label-hover") && e.ui.container.classList.remove("label-hover")
            }
        }, {
            from: e.services.structure,
            name: He.EVENT.HOVER,
            action: ({resource_id: i, taxon_key: s, point_id: r}) => {
                e.services.structure.findById(i) !== null && (e.services.structure.setCurrent(i, s),
                this.hoveredPointId = r),
                e.services.label.setStyle(r, "isHovered", !0),
                e.animations.redrawOnlySliceMeta.trigger()
            }
        }, {
            from: e.services.structure,
            name: He.EVENT.LOOSE_HOVER,
            action: () => {
                this.removeLabelHoverStyle(e),
                this.hoveredPointId = null,
                e.animations.redrawOnlySliceMeta.trigger()
            }
        }, {
            from: e,
            name: Zt.START_ISOLATE,
            action: ({structure_id: i}) => {
                const s = e.services.structure.findByStructId(i);
                this.isolatedTaxonKeys = s.map(r => r.getTaxonKey())
            }
        }, {
            from: e,
            name: Zt.CLEAN_ISOLATE,
            action: () => {
                this.isolatedTaxonKeys = []
            }
        }]
    }
}
const w_ = (t, e) => {
    const i = new A_(e);
    return i.init(t, e),
    i
}
;
class __ extends Pe {
    constructor(e) {
        super(e),
        this.saveLastSeenSlice = y.debounce(i => {
            se.add(this.getKeyLastSliceSeen(e), i)
        }
        , 200)
    }
    setFirstSliceWithPoint(e) {
        const i = e.services.filter.getCurrent();
        if (e.services.filter.getCurrent() !== []) {
            const s = Object.values(e.services.point.getResources()).filter(r => i.includes(r.filter_id));
            if (s.length > 0) {
                const r = s[0].slice_id;
                try {
                    e.moveToSlice(e.getRelativeSliceIndexById(r))
                } catch (n) {}
            }
        }
    }
    getKeyLastSliceSeen(e) {
        return `${he.LAST_SLICE_SEEN}-${e.state.module.name}`
    }
    subscribe(e) {
        return [{
            from: e,
            name: F.EVENT.READY,
            action: () => {
                const i = se.get(this.getKeyLastSliceSeen(e));
                i === null ? this.setFirstSliceWithPoint(e) : e.moveToSlice(i)
            }
        }, {
            from: e,
            name: F.EVENT.IMAGE_VIEW,
            action: ({sliceIndex: i}) => {
                this.saveLastSeenSlice(i)
            }
        }]
    }
}
const L_ = (t, e) => {
    const i = new __(t);
    return i.init(t, e),
    i
}
;
class O_ extends Pe {
    constructor() {
        super(),
        this.canvasAreHidden = !1,
        this.application = null
    }
    init(e) {
        super.init(e),
        this.application = e,
        e.toggleOverlays = () => this.toggle()
    }
    toggle() {
        this.canvasAreHidden ? (this.application.components.overlaysCanvas.show(),
        this.application.data.overlaysCanvasIsHidden = !1) : (this.application.components.overlaysCanvas.hide(),
        this.application.data.overlaysCanvasIsHidden = !0),
        this.canvasAreHidden = !this.canvasAreHidden,
        this.application.publish(Uh.TOGGLE, this.canvasAreHidden)
    }
    subscribe(e) {
        return [{
            from: e,
            name: F.EVENT.SHOW_META_CANVAS,
            action: () => {
                const i = e.components.overlaysCanvas.getCanvas();
                this.canvasAreHidden && i.style.getPropertyValue("display") !== "none" && e.components.overlaysCanvas.hide()
            }
        }]
    }
}
const x_ = (t, e) => {
    const i = new O_(e);
    return i.init(t, e),
    i
}
;
class M_ extends wt {
    constructor(e) {
        super({
            subscriber_id: "point-label-feature",
            component: e
        })
    }
    subscribe(e) {
        return [{
            from: e.components.pointsCanvas,
            name: wi.EVENT.UPDATE_POINT_STYLE,
            action: i => {
                const s = e.services.structure.data;
                !s.structureSelected && !s.structureIsolated || e.services.point.onUpdatePointStyle(e, i, i.isIsolated, nw(e, i), i.isSelectedByUser)
            }
        }, {
            from: e.services.labelsDrawer,
            name: ge.EVENT.UPDATE_STYLE,
            action: i => {
                const s = e.services.point.findById(i.id)
                  , r = e.services.structure.data;
                s === null || !r.structureSelected && !r.structureIsolated || (s.isIsolated || s.isSelectedByUser ? i.alpha = e.services.style.get(N.ATTRIBUTE.LABELS_FULL_ALPHA) : i.alpha = e.services.style.get(N.ATTRIBUTE.LABELS_WEAK_ALPHA))
            }
        }]
    }
}
const N_ = (t, e) => {
    const i = new M_(t);
    return i.init(t, e),
    i
}
  , R_ = t => ({
    "emit-public-event": e => mw(e, t),
    "redraw-labels-on-language-change": ew,
    "redraw-data-on-filters-change": iw,
    "redraw-data-on-contrasts-change": yw,
    "image-auto-compute-multiplier": c_,
    "image-auto-load": s_,
    "load-image-on-idle": d_,
    "auto-compute-image-quality": o_,
    "request-fullscreen": e => ([tn.ON_FULLSCREEN, tn.ON_EXIT_FULLSCREEN].forEach(i => {
        e.subscribe(e, i, () => {
            const s = setInterval( () => {
                (e.ui.container.offsetHeight !== e.data.lastContainerHeight || e.ui.container.offsetWidth !== e.data.lastContainerWidth) && (clearInterval(s),
                e.onResize())
            }
            )
        }
        )
    }
    ),
    Jp(e, T({
        element: document.getElementById(t.parentContainer_id)
    }, t))),
    "double-click-fullscreen": p_,
    "hover-label-point": w_,
    "clickable-label": uw,
    "clickable-point": hw,
    "toggle-labels": fw,
    "toggle-overlays": x_,
    "reverse-scroll-direction": H0,
    viewzone: Nw,
    "quiz-mode": Hw,
    "show-point-according-to-filter-selection": Bw,
    "blacklist-structure": Vw,
    "isolate-structure": Dw,
    "structure-title": Sw,
    "update-structure-style": N_,
    "point-multi-click": lw,
    "point-selection": ww,
    "hide-point-without-label": B0,
    "priority-point-select": n_,
    "increase-text-opacity-for-illustration": Gw,
    "update-orientation-on-slice-change": jw,
    "update-viewer-style-on-series-change": Ww,
    "save-image": U0,
    "reset-points-on-filter-change": Zw,
    context: Qw,
    "export-data": qw,
    "pin-mode": D0,
    "switch-image-provider": w0,
    "pan-interaction": v_,
    "zoom-interaction": E_,
    "scroll-interaction": b_,
    "loop-through-all-slices": T_,
    capping: g_,
    "set-first-slice": L_,
    "share-link": t_
});
class P_ extends wt {
    isAuthorizedToSendEvents() {
        return this.data.analyticsAuthorized === !0 && !y.isEmbed()
    }
}
const D_ = {
    VITE_APP_ANALYTICS_API_ID_EANATOMY: "1:970981209057:web:cf49943fdc18b9005258a0",
    VITE_APP_ANALYTICS_API_ID_VETANATOMY: "1:970981209057:web:91d97041ee5f2eea5258a0",
    VITE_APP_ANALYTICS_API_KEY: "AIzaSyASPMQSjeGoIZgJmM2hlXTtTK_DuOl4ax0",
    VITE_APP_ANALYTICS_PROJECT_ID: "e-vet-anatomy",
    VITE_APP_ANALYTICS_SENDER_ID: "970981209057"
}
  , k_ = 10;
class Mp {
    static getConsent(e) {
        return _(this, null, function*() {
            const i = e !== yr ? e : k_
              , s = se.get(`userConsent_${i}`);
            if (s !== null && s.cookie_analytics === 1)
                return !0;
            try {
                const r = yield re.fetch("/api/user/user-consent/check");
                if (r.status === Gy.SUCCESS) {
                    const n = yield r.json();
                    if (n !== null && typeof n == "object" && typeof n.cookie_analytics < "u")
                        return parseInt(n.cookie_analytics, 10) === 1
                }
            } catch (r) {}
            return !1
        })
    }
    static initializeAnalytics(e) {
        const {VITE_APP_ANALYTICS_API_KEY: i, VITE_APP_ANALYTICS_PROJECT_ID: s, VITE_APP_ANALYTICS_SENDER_ID: r, VITE_APP_ANALYTICS_API_ID_EANATOMY: n, VITE_APP_ANALYTICS_API_ID_VETANATOMY: a} = D_
          , o = {
            apiKey: i,
            authDomain: `${s}.firebaseapp.com`,
            databaseURL: `https://${s}.firebaseio.com`,
            projectId: s,
            storageBucket: `${s}.appspot.com`,
            messagingSenderId: r,
            appId: e === Rt.EANATOMY ? n : a
        }
          , l = u1(o);
        return xm(l, {
            transport_url: "https://www.imaios.com/g"
        })
    }
}
class H_ extends P_ {
    constructor(e) {
        super(e),
        this.data = {
            analyticsAuthorized: !1,
            analyticsApp: null
        }
    }
    initializeAnalytics(e) {
        this.data.analyticsAuthorized = !0;
        const i = window.imaios.get("analyticsApp");
        typeof i < "u" && i !== null ? this.data.analyticsApp = i : this.data.analyticsApp = Mp.initializeAnalytics(e)
    }
}
const Np = {
    EANATOMY: "prd_eanat",
    VETANATOMY: "prd_vet",
    RADCORE: "prd_radcore",
    NUCCORE: "prd_nuccore",
    NMESSENTIAL: "prd_nmess",
    MSK: "prd_msk",
    IDV: "prd_idv",
    ECASES: "prd_ecases",
    EMRI: "prd_emri",
    NINJA: "prd_ninja",
    BLOG: "prd_blog",
    TAP_PACKAGE: "prd_tappackage",
    HNK_PACKAGE: "prd_hnkpackage",
    MSK_PACKAGE: "prd_mskpackage"
}
  , Bu = {
    ALBUM: "album",
    EXAM: "exam"
}
  , ko = {
    SCROLL: "scroll",
    LINK_VIEW: "link_view",
    SELECT: "select"
}
  , X = {
    SHOW_DETAILS: "show_details",
    ISOLATE: "isolate",
    FILTER: "filter",
    HIDE: "hide",
    REPORT_PROBLEM: "report_problem",
    SET_CONTRAST: "set_contrast",
    SET_LABELING: "set_labeling",
    ENABLE_PRESENTATION: "enable_presentation",
    TRANSFORM: "transform",
    CHOOSE_IMAGE: "choose_image",
    CHANGE_FONT_SIZE: "change_font_size",
    SHOW_CROSS_REF: "show_cross_ref",
    SHOW_ORIENTATION: "show_orientation",
    DARK_MODE: "dark_mode",
    OVERLAY_OPACITY: "overlay_opacity",
    TAKE_SCREENSHOT: "take_screenshot",
    REVERSE_SCROLL: "reverse_scroll",
    DISPLAY_SHORTCUTS: "display_shortcuts",
    ONE_FINGER_GESTURE: "one_finger_gesture",
    SEND_FEEDBACK: "send_feedback",
    IMPORT: "import",
    EDIT: "edit",
    DELETE: "delete",
    SHARE: "share",
    CREATE: "create",
    FILL: "fill",
    ENABLED: "enabled",
    BIOMETRY: "biometry",
    CONTACT_US: "contact_us",
    OPEN: "open",
    SCROLL: "scroll",
    CONTRAST: "contrast",
    RULER: "ruler",
    PROTRACTOR: "protractor",
    ELLIPSIS: "ellipsis",
    CHANGE_LAYOUT: "change_layout",
    LOOP_MODE: "loop_mode",
    SHOW_ANNOTATIONS: "show_annotations",
    SEARCH: "search",
    SET_CURRENT_SCREEN: "set_current_screen",
    LINK_CELL: "link_cell",
    EDIT_VIDEO_OPTIONS: "edit_video_options",
    DELETE_ACCOUNT: "delete_account",
    RECENT_TAB: "recent_tab",
    BOOKMARK_TAB: "bookmark_tab",
    CHOOSE_ITEM: "choose_item",
    COMPLETE: "COMPLETE",
    PIN_MENU: "pin_menu"
}
  , ut = {
    SUBSCRIPTION_PLAN: "subscription_plan",
    INTERFACE: "interface",
    LABELS: "labels",
    MODULE: "module",
    STRUCTURE_DETAILS: "structure_details",
    MODE: "mode",
    STATE: "state",
    SLICE: "slice",
    SOCIAL: "social",
    WINDOWING: "windowing",
    FONT_SIZE: "font_size",
    OPACITY: "opacity",
    URL: "url",
    CATEGORY: "category",
    SHAPE: "shape"
}
  , Fu = {
    ANONYMOUS: "anonymous",
    IMAIOS: "imaios"
}
  , Vu = {
    DE: "de",
    EN: "en",
    ES: "es",
    FR: "fr",
    IT: "it",
    JA: "ja",
    KO: "ko",
    PL: "pl",
    PT: "pt",
    RU: "ru",
    ZH: "zh"
}
  , z_ = {
    MANUAL: "manual",
    STYLUS: "stylus"
}
  , Ho = {
    MANUAL: "manual",
    AUTOMATIC: "automatic"
}
  , B_ = {
    RECTANGLE: "rectangle",
    ELLIPSIS: "ellipsis",
    ARROW: "arrow",
    PIN: "pin",
    FREE_FORM: "free_form",
    TEXT: "text"
}
  , F_ = {
    LAYOUT_11: "layout-1-1",
    LAYOUT_21: "layout-2-1",
    LAYOUT_12: "layout-1-2",
    LAYOUT_31: "layout-3-1",
    LAYOUT_13: "layout-1-3",
    LAYOUT_22: "layout-2-2"
}
  , V_ = {
    OTHER: "other",
    DICOM_SERVER: "dicom_server",
    VIDEO: "video",
    ECASES: "e_cases"
}
  , zo = {
    FREE: "free",
    PREMIUM: "premium"
}
  , Bo = {
    FREE: "free",
    PREMIUM: "premium"
}
  , U_ = {
    TRUE: !0,
    FALSE: !1
}
  , G_ = {
    TRUE: !0,
    FALSE: !1
}
  , $_ = {
    TRUE: !0,
    FALSE: !1
}
  , jr = {
    ROTATION_LEFT: "rotation_left",
    ROTATION_RIGHT: "rotation_right",
    VERTICAL_FLIP: "vertical_flip",
    HORIZONTAL_FLIP: "horizontal_flip"
}
  , qa = {
    ZONE: "zone",
    QUIZ: "quiz",
    PIN: "pin"
}
  , Fo = {
    ACCOUNT_STATUS: "account_status",
    VIEWER_MENU_STATE: "viewer_menu_state"
}
  , Vo = {
    LABEL: "label",
    PIN: "pin"
}
  , Ye = {
    SHARE: "share",
    SEARCH: "search",
    LAUNCH: "launch",
    SELECT_CONTENT: "select_content",
    LANGUAGE_CHANGE: "language_change",
    USE_STRUCTURE: "use_structure",
    CUSTOMER_REQUEST: "customer_request",
    CHANGE_IMAGE: "change_image",
    CHANGE_INTERFACE: "change_interface",
    SELECT_IMAGE: "select_image",
    STUDY_ACTION: "study_action",
    ALBUM_ACTION: "album_action",
    APP_RESET: "app_reset",
    MODULE_ACTION: "module_action",
    ANNOTATION_ACTION: "annotation_action",
    IMAGE_VIEW: "image_view"
}
  , Uu = {
    USER_ID: "imaios-analytics-user-id"
};
class v {
    constructor(e) {
        this.analyticsApp = e,
        this.isAvailable = this.analyticsApp !== null,
        this.isAvailable && this.setUserId()
    }
    addUserProperty(e, i) {
        if (this.isAvailable && Object.values(Fo).includes(e)) {
            const s = {};
            s[e] = i,
            Nm(this.analyticsApp, s)
        }
    }
    sendEvent(e, i={}) {
        this.isAvailable && Id(this.analyticsApp, e, i)
    }
    static makeUUID4() {
        return function e(i) {
            return i ? (i ^ Math.random() * 16 >> i / 4).toString(16) : ("10000000-1000-4000-8000" + -1e11).replace(/[018]/g, e)
        }()
    }
    setUserId() {
        if (this.isAvailable) {
            let e = v.makeUUID4();
            try {
                const i = localStorage.getItem(Uu.USER_ID);
                i !== null ? e = i : localStorage.setItem(Uu.USER_ID, e)
            } catch (i) {}
            Mm(this.analyticsApp, e)
        }
    }
    static isStringParameterValid(e) {
        return typeof e == "string" && e !== ""
    }
    static isBooleanParameterValid(e) {
        return typeof e == "boolean"
    }
    static isNumberParameterValid(e) {
        return typeof e == "number"
    }
    static addPlacement(e, i) {
        v.isStringParameterValid(i) && (e.placement = i)
    }
    static addProduct(e, i) {
        Object.values(Np).includes(i) && (e.product = i)
    }
    static addViewAccess(e, i) {
        Object.values(zo).includes(i) && (e.view_access = i)
    }
    static addUserAccess(e, i) {
        Object.values(Bo).includes(i) && (e.user_access = i)
    }
    static addIpPremium(e, i) {
        Object.values(U_).includes(i) && (e.ip_premium = i)
    }
    static addGroupPremium(e, i) {
        Object.values(G_).includes(i) && (e.group_premium = i)
    }
    static addIndividualPremium(e, i) {
        Object.values($_).includes(i) && (e.individual_premium = i)
    }
    static addAction(e, i) {
        Object.values(X).includes(i) && (e.action = i)
    }
    static addIsolateFilterSource(e, i) {
        Object.values(nt).includes(i) && (e.source = i)
    }
    static addFontSource(e, i) {
        Object.values(Ho).includes(i) && (e.source = i)
    }
    static addPresenterSource(e, i) {
        Object.values(z_).includes(i) && (e.source = i)
    }
    static addSourceString(e, i) {
        v.isStringParameterValid(i) && (e.source = i)
    }
    static addTargetName(e, i) {
        Object.values(ut).includes(i) && (e.target_name = i)
    }
    static addTargetNameString(e, i) {
        v.isStringParameterValid(i) && (e.target_name = i)
    }
    static addTargetValueString(e, i) {
        v.isStringParameterValid(i) && (e.target_value = i)
    }
    static addTargetValueNumber(e, i) {
        v.isNumberParameterValid(i) && (e.target_value = i)
    }
    static addTargetValueBoolean(e, i) {
        v.isBooleanParameterValid(i) && (e.target_value = i)
    }
    static addTargetValueAllType(e, i) {
        i !== null && (e.target_value = i)
    }
    static addModule(e, i) {
        v.isStringParameterValid(i) && (e.module = i)
    }
    static addStructure(e, i) {
        v.isStringParameterValid(i) && (e.structure = i)
    }
    static addStructureDisplayMode(e, i) {
        Object.values(Vo).includes(i) && (e.structure_display_mode = i)
    }
    static addInterfaceLanguage(e, i) {
        Object.values(Vu).includes(i) && (e.interface_language = i)
    }
    static addStructureLanguage(e, i) {
        Object.values(Vu).includes(i) && (e.structure_language = i)
    }
    static addTime(e, i) {
        v.isNumberParameterValid(i) && (e.time = i)
    }
    static addSize(e, i) {
        v.isNumberParameterValid(i) && (e.size = i)
    }
    static addQuantity(e, i) {
        v.isNumberParameterValid(i) && (e.quantity = i)
    }
    static addDebug(e, i) {
        v.isStringParameterValid(i) && (e.debug = i)
    }
    reportImageView({placement: e, product: i, viewAccess: s, userAccess: r, individualPremium: n, ipPremium: a, groupPremium: o, source: l, sliceIndex: c, module: u, structure: h, structureDisplayMode: d, interfaceLanguage: m, structureLanguage: p, fontSize: f}) {
        const g = {};
        v.addPlacement(g, e),
        v.addProduct(g, i),
        v.addViewAccess(g, s),
        v.addUserAccess(g, r),
        v.addIndividualPremium(g, n),
        v.addIpPremium(g, a),
        v.addGroupPremium(g, o),
        Object.values(ko).includes(l) && v.addSourceString(g, l),
        v.addTargetName(g, ut.SLICE),
        v.addTargetValueNumber(g, c),
        v.addModule(g, u),
        v.addStructure(g, h),
        v.addStructureDisplayMode(g, d),
        v.addInterfaceLanguage(g, m),
        v.addStructureLanguage(g, p),
        v.addSize(g, f),
        this.sendEvent(Ye.IMAGE_VIEW, g)
    }
    reportSelectContent({placement: e, product: i, viewAccess: s, userAccess: r, individualPremium: n, ipPremium: a, groupPremium: o, module: l, structure: c, structureDisplayMode: u, interfaceLanguage: h, structureLanguage: d, fontSize: m}) {
        const p = {};
        v.addPlacement(p, e),
        v.addProduct(p, i),
        v.addViewAccess(p, s),
        v.addUserAccess(p, r),
        v.addIndividualPremium(p, n),
        v.addIpPremium(p, a),
        v.addGroupPremium(p, o),
        v.addModule(p, l),
        v.addStructure(p, c),
        v.addStructureDisplayMode(p, u),
        v.addInterfaceLanguage(p, h),
        v.addStructureLanguage(p, d),
        v.addSize(p, m),
        this.sendEvent(Ye.SELECT_CONTENT, p)
    }
    reportUserReportProblem({placement: e, product: i, viewAccess: s, userAccess: r, individualPremium: n, ipPremium: a, groupPremium: o, module: l, structure: c, structureDisplayMode: u, interfaceLanguage: h, structureLanguage: d}) {
        const m = {};
        v.addPlacement(m, e),
        v.addProduct(m, i),
        v.addViewAccess(m, s),
        v.addUserAccess(m, r),
        v.addIndividualPremium(m, n),
        v.addIpPremium(m, a),
        v.addGroupPremium(m, o),
        v.addAction(m, X.REPORT_PROBLEM),
        v.addModule(m, l),
        v.addStructureLanguage(m, c),
        v.addStructureDisplayMode(m, u),
        v.addInterfaceLanguage(m, h),
        v.addStructureLanguage(m, d),
        this.sendEvent(Ye.CUSTOMER_REQUEST, m)
    }
    reportShare({placement: e, product: i, viewAccess: s, userAccess: r, individualPremium: n, ipPremium: a, groupPremium: o, source: l, shareType: c}) {
        const u = {};
        v.addPlacement(u, e),
        v.addProduct(u, i),
        v.addViewAccess(u, s),
        v.addIndividualPremium(u, n),
        v.addUserAccess(u, r),
        v.addIpPremium(u, a),
        v.addGroupPremium(u, o),
        v.addAction(u, X.SHARE),
        v.addSourceString(u, l),
        (l === Bu.EXAM || l === Bu.ALBUM) && (v.addTargetName(u, ut.MODE),
        Object.values(V_).includes(c) && v.addTargetValueString(u, c)),
        this.sendEvent(Ye.SHARE, u)
    }
    reportModuleAction({placement: e, product: i, viewAccess: s, userAccess: r, individualPremium: n, ipPremium: a, groupPremium: o, action: l, module: c, structureDisplayMode: u, interfaceLanguage: h, structureLanguage: d, downloadTime: m, fontSize: p}) {
        const f = {};
        v.addPlacement(f, e),
        v.addProduct(f, i),
        v.addViewAccess(f, s),
        v.addIndividualPremium(f, n),
        v.addUserAccess(f, r),
        v.addIpPremium(f, a),
        v.addGroupPremium(f, o),
        v.addAction(f, l),
        v.addModule(f, c),
        v.addStructureDisplayMode(f, u),
        v.addInterfaceLanguage(f, h),
        v.addStructureLanguage(f, d),
        v.addTime(f, m),
        v.addSize(f, p),
        this.sendEvent(Ye.MODULE_ACTION, f)
    }
    reportLanguageChange({placement: e, product: i, viewAccess: s, userAccess: r, individualPremium: n, ipPremium: a, groupPremium: o, oldLanguage: l, targetName: c, newLanguage: u, module: h, structureDisplayMode: d, interfaceLanguage: m, structureLanguage: p, fontSize: f}) {
        const g = {};
        v.addPlacement(g, e),
        v.addProduct(g, i),
        v.addViewAccess(g, s),
        v.addUserAccess(g, r),
        v.addIndividualPremium(g, n),
        v.addIpPremium(g, a),
        v.addGroupPremium(g, o),
        v.addSourceString(g, l),
        v.addTargetName(g, c),
        v.addTargetValueString(g, u),
        v.addModule(g, h),
        v.addStructureDisplayMode(g, d),
        v.addInterfaceLanguage(g, m),
        v.addStructureLanguage(g, p),
        v.addSize(g, f),
        this.sendEvent(Ye.LANGUAGE_CHANGE, g)
    }
    reportUseStructure({placement: e, product: i, viewAccess: s, userAccess: r, individualPremium: n, ipPremium: a, groupPremium: o, action: l, source: c, sliceIndex: u, module: h, structure: d, structureDisplayMode: m, interfaceLanguage: p, structureLanguage: f, fontSize: g}) {
        const E = {};
        v.addPlacement(E, e),
        v.addProduct(E, i),
        v.addViewAccess(E, s),
        v.addUserAccess(E, r),
        v.addIndividualPremium(E, n),
        v.addIpPremium(E, a),
        v.addGroupPremium(E, o),
        v.addAction(E, l),
        (l === X.ISOLATE || l === X.FILTER) && v.addIsolateFilterSource(E, c),
        l === X.SHOW_DETAILS ? v.addTargetName(E, ut.STRUCTURE_DETAILS) : l === X.HIDE && (v.addTargetName(E, ut.SLICE),
        v.addTargetValueNumber(E, u)),
        v.addModule(E, h),
        v.addStructure(E, d),
        v.addStructureDisplayMode(E, m),
        v.addInterfaceLanguage(E, p),
        v.addStructureLanguage(E, f),
        v.addSize(E, g),
        [X.SHOW_DETAILS, X.ISOLATE, X.FILTER].includes(l) ? v.addQuantity(E, 1) : l === X.HIDE && v.addQuantity(E, -1),
        this.sendEvent(Ye.USE_STRUCTURE, E)
    }
    reportSelectImage({placement: e, product: i, viewAccess: s, userAccess: r, individualPremium: n, ipPremium: a, groupPremium: o, action: l, sliceIndex: c, module: u, structure: h, interfaceLanguage: d, structureLanguage: m}) {
        const p = {};
        v.addPlacement(p, e),
        v.addProduct(p, i),
        v.addViewAccess(p, s),
        v.addUserAccess(p, r),
        v.addIndividualPremium(p, n),
        v.addIpPremium(p, a),
        v.addGroupPremium(p, o),
        v.addAction(p, l),
        v.addTargetName(p, ut.SLICE),
        v.addTargetValueNumber(p, c),
        v.addModule(p, u),
        v.addStructure(p, h),
        v.addInterfaceLanguage(p, d),
        v.addStructureLanguage(p, m),
        this.sendEvent(Ye.SELECT_IMAGE, p)
    }
    reportChangeImage({placement: e, product: i, viewAccess: s, userAccess: r, individualPremium: n, ipPremium: a, groupPremium: o, action: l, oldWindowing: c, targetValue: u, module: h, structureDisplayMode: d, interfaceLanguage: m, structureLanguage: p, debug: f}) {
        const g = {};
        v.addPlacement(g, e),
        v.addProduct(g, i),
        v.addViewAccess(g, s),
        v.addUserAccess(g, r),
        v.addIndividualPremium(g, n),
        v.addIpPremium(g, a),
        v.addGroupPremium(g, o),
        v.addAction(g, l),
        l === X.CONTRAST ? (v.addSourceString(g, c),
        v.addTargetName(g, ut.WINDOWING)) : l === X.TRANSFORM && v.addTargetName(g, ut.MODE),
        v.addTargetValueAllType(g, u),
        v.addModule(g, h),
        v.addStructureDisplayMode(g, d),
        v.addInterfaceLanguage(g, m),
        v.addStructureLanguage(g, p),
        v.addDebug(g, f),
        this.sendEvent(Ye.CHANGE_IMAGE, g)
    }
    reportChangeInterface({placement: e, product: i, viewAccess: s, userAccess: r, individualPremium: n, ipPremium: a, groupPremium: o, action: l, source: c, targetValue: u, module: h, structureDisplayMode: d, interfaceLanguage: m, structureLanguage: p, fontSize: f}) {
        const g = {};
        switch (v.addPlacement(g, e),
        v.addProduct(g, i),
        v.addViewAccess(g, s),
        v.addUserAccess(g, r),
        v.addIndividualPremium(g, n),
        v.addIpPremium(g, a),
        v.addGroupPremium(g, o),
        v.addAction(g, l),
        (l === X.ENABLE_PRESENTATION || l === X.CHANGE_FONT_SIZE) && v.addSourceString(g, c),
        l) {
        case X.CHANGE_FONT_SIZE:
            v.addTargetName(g, ut.FONT_SIZE),
            v.addTargetValueNumber(g, u);
            break;
        case X.CHANGE_LAYOUT:
            Object.values(F_).includes(u) && v.addTargetValueString(u);
        case X.SET_LABELING:
        case X.ONE_FINGER_GESTURE:
            v.addTargetName(g, ut.MODE);
            break;
        case X.SHOW_ORIENTATION:
        case X.DARK_MODE:
        case X.REVERSE_SCROLL:
            v.addTargetName(g, ut.STATE),
            v.addTargetValueBoolean(g, u);
            break;
        case X.OVERLAY_OPACITY:
            v.addTargetName(g, ut.OPACITY),
            v.addTargetValueNumber(g, u);
            break;
        case X.SHOW_CROSS_REF:
            v.addTargetValueBoolean(g, u);
            break;
        default:
            v.addTargetValueAllType(g, u);
            break
        }
        v.addModule(g, h),
        v.addStructureDisplayMode(g, d),
        v.addInterfaceLanguage(g, m),
        v.addStructureLanguage(g, p),
        v.addSize(g, f),
        this.sendEvent(Ye.CHANGE_INTERFACE, g)
    }
    reportSearch({placement: e, product: i, viewAccess: s, userAccess: r, individualPremium: n, ipPremium: a, groupPremium: o, searchText: l, module: c, structure: u, structureDisplayMode: h, interfaceLanguage: d, structureLanguage: m}) {
        const p = {};
        v.addPlacement(p, e),
        v.addProduct(p, i),
        v.addViewAccess(p, s),
        v.addUserAccess(p, r),
        v.addIndividualPremium(p, n),
        v.addIpPremium(p, a),
        v.addGroupPremium(p, o),
        v.addAction(p, X.SEARCH),
        v.addSourceString(p, l),
        v.addModule(p, c),
        v.addStructure(p, u),
        v.addStructureDisplayMode(p, h),
        v.addInterfaceLanguage(p, d),
        v.addStructureLanguage(p, m),
        this.sendEvent(Ye.SEARCH, p)
    }
    reportViewerLaunch({placement: e, product: i, viewAccess: s, userAccess: r, individualPremium: n, ipPremium: a, groupPremium: o}) {
        const l = {};
        v.addPlacement(l, e),
        v.addProduct(l, i),
        v.addViewAccess(l, s),
        v.addUserAccess(l, r),
        v.addIndividualPremium(l, n),
        v.addIpPremium(l, a),
        v.addGroupPremium(l, o),
        this.sendEvent(Ye.LAUNCH, l)
    }
    reportStudyAction({placement: e, product: i, viewAccess: s, userAccess: r, individualPremium: n, ipPremium: a, groupPremium: o, action: l}) {
        const c = {};
        v.addPlacement(c, e),
        v.addProduct(c, i),
        v.addViewAccess(c, s),
        v.addUserAccess(c, r),
        v.addIndividualPremium(c, n),
        v.addIpPremium(c, a),
        v.addGroupPremium(c, o),
        v.addAction(c, l),
        this.sendEvent(Ye.STUDY_ACTION, c)
    }
    reportAlbumAction({placement: e, product: i, viewAccess: s, userAccess: r, individualPremium: n, ipPremium: a, groupPremium: o, action: l}) {
        const c = {};
        v.addPlacement(c, e),
        v.addProduct(c, i),
        v.addViewAccess(c, s),
        v.addIndividualPremium(c, n),
        v.addUserAccess(c, r),
        v.addIpPremium(c, a),
        v.addGroupPremium(c, o),
        v.addAction(c, l),
        this.sendEvent(Ye.ALBUM_ACTION, c)
    }
    reportServerAction({placement: e, product: i, viewAccess: s, userAccess: r, individualPremium: n, ipPremium: a, groupPremium: o, action: l}) {
        const c = {};
        v.addPlacement(c, e),
        v.addProduct(c, i),
        v.addViewAccess(c, s),
        v.addUserAccess(c, r),
        v.addIndividualPremium(c, n),
        v.addIpPremium(c, a),
        v.addGroupPremium(c, o),
        v.addAction(c, l),
        this.sendEvent(Ye.ALBUM_ACTION, c)
    }
    reportAnnotationAction({placement: e, product: i, viewAccess: s, userAccess: r, individualPremium: n, ipPremium: a, groupPremium: o, action: l, shape: c}) {
        const u = {};
        v.addPlacement(u, e),
        v.addProduct(u, i),
        v.addViewAccess(u, s),
        v.addUserAccess(u, r),
        v.addIndividualPremium(u, n),
        v.addIpPremium(u, a),
        v.addGroupPremium(u, o),
        v.addAction(u, l),
        l === X.CREATE && (v.addTargetName(u, ut.SHAPE),
        Object.values(B_).includes(c) && v.addTargetValueString(c)),
        this.sendEvent(Ye.ANNOTATION_ACTION, u)
    }
    reportAppReset({placement: e, product: i, viewAccess: s, userAccess: r, individualPremium: n, ipPremium: a, groupPremium: o, module: l, structureDisplayMode: c, interfaceLanguage: u, structureLanguage: h}) {
        const d = {};
        v.addPlacement(d, e),
        v.addProduct(d, i),
        v.addViewAccess(d, s),
        v.addUserAccess(d, r),
        v.addIndividualPremium(d, n),
        v.addIpPremium(d, a),
        v.addGroupPremium(d, o),
        v.addModule(d, l),
        v.addStructureDisplayMode(d, c),
        v.addInterfaceLanguage(d, u),
        v.addStructureLanguage(d, h),
        this.sendEvent(Ye.APP_RESET, d)
    }
}
const j_ = "imaios-user-information"
  , Yr = {
    eanatomy: "prd_eanat",
    vetanatomy: "prd_vet"
};
class Y_ extends H_ {
    constructor(e) {
        super(e),
        e.data.analytics = this.data,
        this.analyticsEvents = null,
        this.application = e,
        this.lastPlacementImageView = null,
        this.timeoutImageView = null
    }
    bindSubscriptions(e) {
        this.createSubscriptionsFromList(this.agent, this.subscribe(e))
    }
    init(e) {
        super.init(e),
        this.agent.subscribe(e, F.EVENT.VIEWER_LAUNCH, () => {
            this.agent.subscribe(e, Di.ANALYTICS_READY, () => {
                this.analyticsEvents.reportViewerLaunch(T({
                    placement: W.VIEWER
                }, this.getDefaultParams()))
            }
            )
        }
        ),
        this.agent.subscribe(e, F.EVENT.MODULE_LOADED, ({downloadTime: i}) => {
            this.agent.subscribe(e, Di.ANALYTICS_READY, () => {
                this.analyticsEvents.reportModuleAction(Y(T(Y(T({}, this.getDefaultParams()), {
                    action: X.COMPLETE,
                    module: this.getModuleName()
                }), this.getInterfaceParams()), {
                    downloadTime: i,
                    fontSize: this.getFontSize()
                }))
            }
            )
        }
        )
    }
    isInIsolateMode() {
        return typeof this.application.getIsolatedStructureID == "function" && this.application.getIsolatedStructureID() !== null
    }
    onInit(e) {
        this.clearSubscriptions(),
        y.isEmbed() || (this.bindSubscriptions(e),
        this.getUserId().then(i => {
            Mp.getConsent(i).then(s => {
                s && (this.initializeAnalytics(e.application_id),
                this.data.analyticsApp !== null && (this.analyticsEvents = new v(this.data.analyticsApp),
                this.addUserProperties()),
                this.application.publish(Di.ANALYTICS_READY))
            }
            )
        }
        ))
    }
    addUserProperties() {
        this.analyticsEvents.addUserProperty(Fo.ACCOUNT_STATUS, this.getAccountStatus()),
        this.analyticsEvents.addUserProperty(Fo.VIEWER_MENU_STATE, this.getViewerMenuState())
    }
    getUserId() {
        return new Promise(e => {
            y.user_id === null ? y.pubSub.subscribe(y.pubSub, Cl.USER_ID_UPDATED, i => {
                e(i)
            }
            ) : e(y.user_id)
        }
        )
    }
    getUserInformation() {
        return se.get(j_)
    }
    getAccountStatus() {
        const e = this.getUserInformation();
        return e !== null && e.id !== null ? Fu.IMAIOS : Fu.ANONYMOUS
    }
    getUserAccess() {
        const e = this.getUserInformation();
        return e !== null && typeof e.access[Yr[this.application.application_id]] < "u" ? Bo.PREMIUM : Bo.FREE
    }
    getViewAccess() {
        return this.application.state.module.isFree ? zo.FREE : zo.PREMIUM
    }
    getModuleName() {
        return Object.keys(In).includes(this.application.state.module.name) ? In[this.application.state.module.name] : this.application.state.module.name
    }
    getProduct() {
        return Np[this.application.application_id]
    }
    getInterfaceLanguage() {
        return Object.keys(J).find(e => J[e] === this.application.services.language.interfaceLanguageId) || "en"
    }
    getLabelLanguage() {
        return Object.keys(J).find(e => J[e] === this.application.services.language.getCurrent()) || "en"
    }
    getIpPremium() {
        const e = this.getUserInformation()
          , i = Yr[this.application.application_id];
        return e === null || typeof e.access[i] > "u" || typeof e.access[i].ip_premium > "u" ? null : e.access[i].ip_premium
    }
    getGroupPremium() {
        const e = this.getUserInformation()
          , i = Yr[this.application.application_id];
        return e === null || typeof e.access[i] > "u" || typeof e.access[i].group_premium > "u" ? null : e.access[i].group_premium
    }
    getIndividualPremium() {
        const e = this.getUserInformation()
          , i = Yr[this.application.application_id];
        return e === null || typeof e.access[i] > "u" || typeof e.access[i].individual_premium > "u" ? null : e.access[i].individual_premium
    }
    getLanguageFromLanguageId(e) {
        return Object.keys(J).find(i => J[i] === e)
    }
    getCurrentSliceIndex() {
        return this.application.services.slice.getCurrent().sort_order
    }
    getIsolateStructureName() {
        if (this.isInIsolateMode()) {
            let e;
            const i = this.application.getPreferredTaxonKeyForIsolatedStructure();
            if (i !== null)
                e = this.application.services.structure.findByTaxonKey(i);
            else {
                const s = this.application.services.structure.findByStructId(this.application.getIsolatedStructureID());
                s.some(r => r.ta_id === 2) ? e = s.find(r => r.ta_id === 2) : e = s[0]
            }
            if (e !== null)
                return this.application.services.translator.getTranslation(e.translation_key, ie.NAMESPACE.CONTENT, J.la)
        }
        return null
    }
    getStructureDisplayMode() {
        return this.application.services.pointDrawer instanceof Tl ? Vo.PIN : Vo.LABEL
    }
    getDefaultParams() {
        return {
            product: this.getProduct(),
            viewAccess: this.getViewAccess(),
            userAccess: this.getUserAccess(),
            individualPremium: this.getIndividualPremium(),
            ipPremium: this.getIpPremium(),
            groupPremium: this.getGroupPremium()
        }
    }
    getInterfaceParams() {
        return {
            structureDisplayMode: this.getStructureDisplayMode(),
            interfaceLanguage: this.getInterfaceLanguage(),
            structureLanguage: this.getLabelLanguage()
        }
    }
    getFontSize() {
        return this.application.services.style.get("FONT_SIZE")
    }
    getViewerMenuState() {
        return this.application.data.menuIsPinned ? Fr.pin : Fr.depin
    }
    subscribe(e) {
        return [{
            from: e,
            name: k.ui.SETTINGS.RESET,
            action: () => {
                this.isAuthorizedToSendEvents() && this.analyticsEvents.reportAppReset(T(Y(T({
                    placement: W.RIGHT_MENU
                }, this.getDefaultParams()), {
                    module: this.getModuleName()
                }), this.getInterfaceParams()))
            }
        }, {
            from: e,
            name: k.ui.VIEWER.SEARCH,
            action: ({searchText: i}) => {
                this.isAuthorizedToSendEvents() && this.analyticsEvents.reportSearch(T(Y(T({
                    placement: W.SEARCH_TOP_BAR
                }, this.getDefaultParams()), {
                    searchText: i,
                    module: this.getModuleName(),
                    structure: this.getIsolateStructureName()
                }), this.getInterfaceParams()))
            }
        }, {
            from: e,
            name: k.ui.SETTINGS.DISPLAY_SHORTCUTS,
            action: () => {
                this.isAuthorizedToSendEvents() && this.analyticsEvents.reportChangeInterface(T(Y(T({
                    placement: W.RIGHT_MENU
                }, this.getDefaultParams()), {
                    action: X.DISPLAY_SHORTCUTS,
                    module: this.getModuleName()
                }), this.getInterfaceParams()))
            }
        }, {
            from: e,
            name: Al.EVENT.STATUS_CHANGE,
            action: ({isReverse: i, placement: s}) => {
                this.isAuthorizedToSendEvents() && this.analyticsEvents.reportChangeInterface(T(Y(T({
                    placement: s
                }, this.getDefaultParams()), {
                    action: X.REVERSE_SCROLL,
                    targetValue: i,
                    module: this.getModuleName()
                }), this.getInterfaceParams()))
            }
        }, {
            from: e.services.overlay,
            name: Bs.EVENT.IMAGE_OPACITY_CHANGE,
            action: ({opacity: i}) => {
                this.isAuthorizedToSendEvents() && this.analyticsEvents.reportChangeInterface(T(Y(T({
                    placement: W.RIGHT_MENU
                }, this.getDefaultParams()), {
                    action: X.OVERLAY_OPACITY,
                    targetValue: i,
                    module: this.getModuleName()
                }), this.getInterfaceParams()))
            }
        }, {
            from: e,
            name: k.ui.SETTINGS.CHANGE_THEME,
            action: ({isDarkMode: i}) => {
                this.isAuthorizedToSendEvents() && this.analyticsEvents.reportChangeInterface(T(Y(T({
                    placement: W.RIGHT_MENU
                }, this.getDefaultParams()), {
                    action: X.DARK_MODE,
                    targetValue: i,
                    module: this.getModuleName()
                }), this.getInterfaceParams()))
            }
        }, {
            from: e,
            name: k.ui.VIEWER.ORIENTATION,
            action: ({state: i}) => {
                this.isAuthorizedToSendEvents() && this.analyticsEvents.reportChangeInterface(T(Y(T({
                    placement: W.RIGHT_MENU
                }, this.getDefaultParams()), {
                    action: X.SHOW_ORIENTATION,
                    targetValue: i,
                    module: this.getModuleName()
                }), this.getInterfaceParams()))
            }
        }, {
            from: e,
            name: k.ui.VIEWER.CROSS_REFERENCES,
            action: ({placement: i, state: s}) => {
                this.isAuthorizedToSendEvents() && this.analyticsEvents.reportChangeInterface(T(Y(T({
                    placement: i
                }, this.getDefaultParams()), {
                    action: X.SHOW_CROSS_REF,
                    targetValue: s,
                    module: this.getModuleName()
                }), this.getInterfaceParams()))
            }
        }, {
            from: e.services.language,
            name: bt.EVENT.CHANGE,
            action: ({oldLanguageId: i, lang_id: s}) => {
                this.isAuthorizedToSendEvents() && this.analyticsEvents.reportLanguageChange(Y(T({
                    placement: W.RIGHT_MENU
                }, this.getDefaultParams()), {
                    oldLanguage: this.getLanguageFromLanguageId(i),
                    newLanguage: this.getLanguageFromLanguageId(s),
                    module: this.getModuleName(),
                    interfaceLanguage: this.getInterfaceLanguage(),
                    structureLanguage: this.getLabelLanguage(),
                    fontSize: this.getFontSize()
                }))
            }
        }, {
            from: e,
            name: k.ui.PANEL_STRUCTURE.OPEN,
            action: ({point_id: i}) => {
                if (this.isAuthorizedToSendEvents()) {
                    const s = e.services.point.findById(i)
                      , r = e.services.structure.findByTaxonKey(s.taxon_key)
                      , n = e.services.translator.getTranslation(r.translation_key, ie.NAMESPACE.CONTENT, J.la);
                    this.analyticsEvents.reportUseStructure(Y(T(Y(T({
                        placement: W.STRUCTURE_DETAILS
                    }, this.getDefaultParams()), {
                        action: X.SHOW_DETAILS,
                        module: this.getModuleName(),
                        structure: n
                    }), this.getInterfaceParams()), {
                        fontSize: this.getFontSize()
                    }))
                }
            }
        }, {
            from: e,
            name: Zt.START_ISOLATE,
            action: ({structure_id: i, preferredTaxonKey: s, source: r}) => {
                if (this.isAuthorizedToSendEvents() && r !== null) {
                    let n;
                    s !== null ? n = e.services.structure.findByTaxonKey(s) : n = e.services.structure.findByStructId(i)[0];
                    const a = e.services.translator.getTranslation(n.translation_key, ie.NAMESPACE.CONTENT, J.la);
                    let o = W.VIEWER;
                    r === nt.SEARCH ? o = W.SEARCH_TOP_BAR : r === nt.STRUCTURE_DETAILS && (o = W.STRUCTURE_DETAILS_TOP_RIGHT),
                    this.analyticsEvents.reportUseStructure(Y(T(Y(T({
                        placement: o
                    }, this.getDefaultParams()), {
                        action: X.ISOLATE,
                        source: r,
                        module: this.getModuleName(),
                        structure: a
                    }), this.getInterfaceParams()), {
                        fontSize: this.getFontSize()
                    }))
                }
            }
        }, {
            from: e,
            name: k.structure.FILTER,
            action: ({taxonKey: i, source: s}) => {
                if (this.isAuthorizedToSendEvents()) {
                    const r = e.services.structure.findByTaxonKey(i)
                      , n = e.services.translator.getTranslation(r.translation_key, ie.NAMESPACE.CONTENT, J.la);
                    let a = W.VIEWER;
                    s === nt.STRUCTURE_DETAILS && (a = W.STRUCTURE_DETAILS_TOP_RIGHT),
                    this.analyticsEvents.reportUseStructure(Y(T(Y(T({
                        placement: a
                    }, this.getDefaultParams()), {
                        action: X.FILTER,
                        source: s,
                        module: this.getModuleName(),
                        structure: n
                    }), this.getInterfaceParams()), {
                        fontSize: this.getFontSize()
                    }))
                }
            }
        }, {
            from: e,
            name: mi.BLACKLIST,
            action: ({structure_id: i, source: s}) => {
                if (this.isAuthorizedToSendEvents()) {
                    const r = e.services.structure.findByStructId(i)
                      , n = e.services.translator.getTranslation(r.translation_key, ie.NAMESPACE.CONTENT, J.la);
                    let a = W.VIEWER;
                    s === nt.STRUCTURE_DETAILS && (a = W.STRUCTURE_DETAILS_TOP_RIGHT),
                    this.analyticsEvents.reportUseStructure(Y(T(Y(T({
                        placement: a
                    }, this.getDefaultParams()), {
                        action: X.HIDE,
                        sliceIndex: this.getCurrentSliceIndex(),
                        module: this.getModuleName(),
                        structure: n
                    }), this.getInterfaceParams()), {
                        fontSize: this.getFontSize()
                    }))
                }
            }
        }, {
            from: e,
            name: k.ui.MODULE_GALLERY.CLICK_IMAGE,
            action: ({sliceIndex: i}) => {
                this.isAuthorizedToSendEvents() && this.analyticsEvents.reportSelectImage(Y(T({
                    placement: W.MODULE_GALLERY
                }, this.getDefaultParams()), {
                    action: X.CHOOSE_IMAGE,
                    sliceIndex: i,
                    module: this.getModuleName(),
                    structure: this.getIsolateStructureName(),
                    interfaceLanguage: this.getInterfaceLanguage(),
                    structureLanguage: this.getLabelLanguage()
                }))
            }
        }, {
            from: e,
            name: k.ui.BOTTOM_GALLERY.CLICK_IMAGE,
            action: ({relativeSliceIndex: i}) => {
                if (this.isAuthorizedToSendEvents()) {
                    const s = this.application.services.slice.getSliceByRelativeIndex(i);
                    this.analyticsEvents.reportSelectImage(Y(T({
                        placement: W.BOTTOM_GALLERY
                    }, this.getDefaultParams()), {
                        action: X.CHOOSE_IMAGE,
                        sliceIndex: s.sort_order,
                        module: this.getModuleName(),
                        structure: this.getIsolateStructureName(),
                        interfaceLanguage: this.getInterfaceLanguage(),
                        structureLanguage: this.getLabelLanguage()
                    }))
                }
            }
        }, {
            from: e,
            name: k.ui.PANEL_STRUCTURE.CLICK_IMAGE_STRUCTURE_GALLERY,
            action: ({sliceIndex: i, moduleName: s}) => {
                this.isAuthorizedToSendEvents() && this.analyticsEvents.reportSelectImage(Y(T({
                    placement: W.STRUCTURE_GALLERY
                }, this.getDefaultParams()), {
                    action: X.CHOOSE_IMAGE,
                    sliceIndex: i,
                    module: s,
                    structure: this.getIsolateStructureName(),
                    interfaceLanguage: this.getInterfaceLanguage(),
                    structureLanguage: this.getLabelLanguage()
                }))
            }
        }, {
            from: e,
            name: As.TAKE_SCREENSHOT,
            action: () => {
                this.isAuthorizedToSendEvents() && this.analyticsEvents.reportSelectImage(T(Y(T({
                    placement: W.RIGHT_MENU
                }, this.getDefaultParams()), {
                    action: X.TAKE_SCREENSHOT,
                    sliceIndex: e.services.slice.getCurrent().sort_order,
                    module: this.getModuleName(),
                    structure: this.getIsolateStructureName()
                }), this.getInterfaceParams()))
            }
        }, {
            from: e,
            name: k.ui.VIEWER.CONTRAST,
            action: ({oldContrastCode: i}) => {
                this.isAuthorizedToSendEvents() && this.analyticsEvents.reportChangeImage(Y(T({
                    placement: W.RIGHT_MENU
                }, this.getDefaultParams()), {
                    action: X.CONTRAST,
                    oldWindowing: i,
                    targetValue: e.services.contrast.getCurrentCode(),
                    module: this.getModuleName()
                }))
            }
        }, {
            from: e.services.transform,
            name: [ri.EVENT.ROTATE, ri.EVENT.FLIP],
            action: i => {
                if (this.isAuthorizedToSendEvents()) {
                    let s = null;
                    i === -90 ? s = jr.ROTATION_LEFT : i === 90 ? s = jr.ROTATION_RIGHT : i === $.ATTRIBUTE.HORIZONTAL_FLIP ? s = jr.HORIZONTAL_FLIP : i === $.ATTRIBUTE.VERTICAL_FLIP && (s = jr.VERTICAL_FLIP),
                    this.analyticsEvents.reportChangeImage(T(Y(T({
                        placement: W.RIGHT_MENU
                    }, this.getDefaultParams()), {
                        action: X.TRANSFORM,
                        targetValue: s,
                        module: this.getModuleName()
                    }), this.getInterfaceParams()))
                }
            }
        }, {
            from: e,
            name: kn.STATUS_CHANGE,
            action: ({placement: i}) => {
                this.isAuthorizedToSendEvents() && i !== null && this.analyticsEvents.reportChangeInterface(Y(T({
                    placement: i
                }, this.getDefaultParams()), {
                    action: X.SET_LABELING,
                    targetValue: qa.ZONE,
                    module: this.getModuleName(),
                    interfaceLanguage: this.getInterfaceLanguage(),
                    structureLanguage: this.getLabelLanguage()
                }))
            }
        }, {
            from: e,
            name: Dn.EVENT.STATUS_CHANGE,
            action: ({placement: i}) => {
                this.isAuthorizedToSendEvents() && this.analyticsEvents.reportChangeInterface(Y(T({
                    placement: i
                }, this.getDefaultParams()), {
                    action: X.SET_LABELING,
                    targetValue: qa.QUIZ,
                    module: this.getModuleName(),
                    interfaceLanguage: this.getInterfaceLanguage(),
                    structureLanguage: this.getLabelLanguage()
                }))
            }
        }, {
            from: e,
            name: _s.EVENT.STATUS_CHANGE,
            action: () => {
                this.isAuthorizedToSendEvents() && this.analyticsEvents.reportChangeInterface(Y(T({
                    placement: W.RIGHT_MENU
                }, this.getDefaultParams()), {
                    action: X.SET_LABELING,
                    targetValue: qa.PIN,
                    module: this.getModuleName()
                }))
            }
        }, {
            from: e,
            name: k.ui.VIEWER.MIN_FONT_UPDATE,
            action: ({auto: i, fontSize: s}) => {
                this.isAuthorizedToSendEvents() && this.analyticsEvents.reportChangeInterface(Y(T({
                    placement: W.RIGHT_MENU
                }, this.getDefaultParams()), {
                    action: X.CHANGE_FONT_SIZE,
                    source: i ? Ho.AUTOMATIC : Ho.MANUAL,
                    targetValue: s,
                    module: this.getModuleName(),
                    interfaceLanguage: this.getInterfaceLanguage(),
                    structureLanguage: this.getLabelLanguage(),
                    fontSize: this.getFontSize()
                }))
            }
        }, {
            from: e,
            name: F.EVENT.IMAGE_VIEW,
            action: () => {
                this.isAuthorizedToSendEvents() && this.lastPlacementImageView !== null && (this.timeoutImageView !== null && clearTimeout(this.timeoutImageView),
                this.timeoutImageView = setTimeout( () => {
                    let i = ko.SCROLL;
                    [W.RIGHT_MENU, W.MODULE_GALLERY, W.BOTTOM_GALLERY, W.STRUCTURE_GALLERY, W.CROSS_REFERENCES].includes(this.lastPlacementImageView) && (i = ko.SELECT),
                    this.analyticsEvents.reportImageView(Y(T(Y(T({
                        placement: this.lastPlacementImageView
                    }, this.getDefaultParams()), {
                        source: i,
                        sliceIndex: this.application.services.slice.getCurrent().sort_order,
                        module: this.getModuleName(),
                        structure: this.getIsolateStructureName()
                    }), this.getInterfaceParams()), {
                        fontSize: this.getFontSize()
                    }))
                }
                , 1e3))
            }
        }, {
            from: e,
            name: Di.SET_PLACEMENT_IMAGE_VIEW,
            action: ({placement: i}) => {
                this.lastPlacementImageView = i
            }
        }, {
            name: k.ui.VIEWER.MENU_STATE_CHANGED,
            from: e,
            action: ({isPinned: i}) => {
                this.isAuthorizedToSendEvents() && this.analyticsEvents.reportChangeInterface(T(Y(T({}, this.getDefaultParams()), {
                    action: X.PIN_MENU,
                    source: i ? Fr.pin : Fr.depin,
                    module: this.getModuleName(),
                    structure: this.getIsolateStructureName()
                }), this.getInterfaceParams()))
            }
        }, {
            name: k.series.SELECT_SERIES,
            from: e,
            action: ({placement: i}) => {
                this.isAuthorizedToSendEvents() && this.analyticsEvents.reportSelectContent(T(Y(T({
                    placement: i
                }, this.getDefaultParams()), {
                    module: this.getModuleName(),
                    structure: this.getIsolateStructureName()
                }), this.getInterfaceParams()))
            }
        }]
    }
}
const W_ = (t, e) => {
    const i = new Y_(t);
    return i.init(t, e),
    i
}
  , K_ = t => Y(T({}, R_(t)), {
    analytics: W_
})
  , Z_ = {
    [Rt.EANATOMY]: {
        application_id: Rt.EANATOMY,
        defaultLanguageId: J.la,
        languagesAllowed: [J.la, J.en, J.fr, J.es, J.de, J.cn, J.jp, J.br, J.ru, J.pl, J.it, J.ko]
    },
    [Rt.VETANATOMY]: {
        application_id: Rt.VETANATOMY,
        defaultLanguageId: J.la,
        languagesAllowed: [J.la, J.en, J.fr, J.es, J.de, J.cn, J.jp, J.br, J.ru, J.it, J.ko]
    }
};
let fe = null;
class Q_ {
    constructor(e) {
        this.context = e;
        const i = Z_[e.application_id];
        if (i)
            this.context.defaultLanguageId = i.defaultLanguageId,
            this.context.languagesAllowed = i.languagesAllowed;
        else
            throw new QA(e.application_id);
        this.bindProviderWithApplicationId()
    }
    bindProviderWithApplicationId() {
        Object.values(this.context.providers).forEach(e => {
            typeof e.setApplicationId == "function" && e.setApplicationId(this.context.application_id)
        }
        )
    }
    start() {
        try {
            const e = K_(this.context);
            fe = Object.freeze(new F(T({
                features: e
            }, this.context))),
            fe.publish(F.EVENT.VIEWER_LAUNCH),
            De([{
                name: Wt.EVENT.CONTENT_AVAILABLE,
                from: fe.services.image
            }, {
                name: F.EVENT.READY,
                from: fe
            }]).then( () => {
                this.performFirstRendering(fe)
            }
            ),
            De([{
                name: "loadPoints-end",
                from: fe
            }, {
                name: "loadSlices-end",
                from: fe
            }]).then( () => {
                const r = fe.services.slice
                  , n = fe.services.point;
                Object.values(n.getResources()).forEach( (a, o) => {
                    const l = r.findById(a.slice_id);
                    l !== null && l.points.push(a.id)
                }
                )
            }
            ),
            fe.subscribe(fe.services.image, Wt.EVENT.CONTENT_AVAILABLE, () => {
                fe.components.overlaysCanvas.enable()
            }
            );
            const i = Date.now()
              , s = this.initializeLoadingSequence(XA);
            Promise.all(s).then( () => {
                this.checkSeriesWithNoSlices(fe),
                fe.services.series.updateSeriesAndRemoveSeriesWithNoSlices(),
                fe.publish(F.EVENT.MODULE_LOADED, {
                    downloadTime: Date.now() - i
                }),
                this.initializeStates(fe),
                ZA.recordCoreSubscriptions(fe),
                new Me({
                    name: "initializer-of-features-who-required-application-ready"
                }).subscribe(fe, F.EVENT.READY, () => {
                    fe.features["request-fullscreen"].initialize(fe),
                    fe.features["point-selection"].init(fe),
                    fe.features["redraw-data-on-filters-change"].redraw(fe),
                    fe.services.roi.setApplication(fe),
                    fe.services.debug.setApplication(fe)
                }
                ),
                fe.publish(F.EVENT.STATE_HAS_BEEN_INITIALIZED)
            }
            )
        } catch (e) {}
        return fe
    }
    checkSeriesWithNoSlices(e) {
        Object.keys(e.services.series.getResources()).forEach(i => {
            if (e.services.slice.getNbSlicesBySeriesId(i) === 0) {
                const s = new qA(i);
                e.publish(F.EVENT.ERROR, {
                    from: "series-doesnt-have-slices",
                    error: s
                })
            }
        }
        )
    }
    initializeLoadingSequence(e) {
        const i = [];
        return Object.keys(e).forEach(s => {
            !Array.isArray(e[s]) || typeof this[s] != "function" || i.push(new Promise( (r, n) => {
                const a = e[s].map(o => ({
                    name: `${o}-end`,
                    from: fe
                }));
                De(a).then( () => {
                    this[s](fe).then( () => {
                        fe.publish(`${s}-end`),
                        r()
                    }
                    ).catch(n)
                }
                )
            }
            ))
        }
        ),
        i
    }
    performFirstRendering(e) {
        e.allowsDrawing(),
        e.moveToSlice(e.services.slice.getCurrentRelativeIndex()),
        e.showMetaCanvas(),
        e.enablePointerListener();
        const i = e.services.interaction.getCurrent();
        i.isPerforming === !0 && i.pause()
    }
    loadModule(e) {
        return _(this, null, function*() {
            try {
                const i = yield this.load(this.context.providers.module);
                this.context.module_id = i.id,
                e.state.module.set(i),
                e.publish(F.EVENT.MODULE_DATA_LOADED, {
                    moduleName: i.name
                })
            } catch (i) {
                throw e.publish(F.EVENT.ERROR, {
                    from: "module",
                    error: i
                }),
                i
            }
        })
    }
    loadThumbs(e) {
        return _(this, null, function*() {
            try {
                const i = e.state.module;
                yield this.context.providers.imageThumb.loadZipUrls(this.context.application_id, i),
                yield this.context.providers.imageThumb.setZipSrc(We)
            } catch (i) {
                e.publish(F.EVENT.ERROR, {
                    from: "thumbs",
                    error: i
                })
            }
        })
    }
    load(e, i={}) {
        return e.getData(T(T({}, this.context), i))
    }
    loadPoints(e) {
        return _(this, null, function*() {
            try {
                const i = yield this.load(this.context.providers.points);
                let s = 0;
                i.forEach(r => {
                    if (typeof r.id > "u") {
                        s++;
                        return
                    }
                    const n = new ve(r);
                    e.services.point.addResource(n, r.id),
                    e.services.structure.addStructureWithAPoint(e.services.structure.findByTaxonKey(n.taxon_key))
                }
                )
            } catch (i) {
                e.publish(F.EVENT.ERROR, {
                    from: "points",
                    error: i
                })
            }
        })
    }
    loadSeries(e) {
        return _(this, null, function*() {
            try {
                const i = yield this.load(this.context.providers.series);
                let s = !1;
                const r = {};
                i.forEach(n => {
                    if ((n.slices_width === 0 || n.slices_height === 0) && (s = !0),
                    n.cross_references_titles.length === 1) {
                        const a = n.cross_references_titles[0];
                        typeof r[a.name_id] > "u" && (r[a.name_id] = []),
                        r[a.name_id].push(n.id)
                    }
                    e.services.series.addResource(new Ar(n))
                }
                ),
                e.services.series.seriesIdByCr = r,
                s && import.meta.VITE_APP_DEBUG
            } catch (i) {
                e.publish(F.EVENT.ERROR, {
                    from: "series",
                    error: i
                })
            }
        })
    }
    loadContrasts(e) {
        return _(this, null, function*() {
            try {
                const i = yield this.load(this.context.providers.contrasts);
                i.forEach(s => {
                    e.services.contrast.addResource(s)
                }
                ),
                e.getSeries().some(s => i.findIndex(r => r.series_id === s.id) === -1) && e.services.contrast.addResource(Sh),
                e.services.contrast.publish(ot.EVENT.LOADED)
            } catch (i) {
                e.publish(F.EVENT.ERROR, {
                    from: "contrast",
                    error: i
                })
            }
        })
    }
    loadIcons(e) {
        return _(this, null, function*() {
            try {
                (yield this.load(this.context.providers.icon)).forEach(i => e.services.icon.addResource(i))
            } catch (i) {
                e.publish(F.EVENT.ERROR, {
                    from: "icons",
                    error: i
                })
            }
        })
    }
    loadOrientation(e) {
        return _(this, null, function*() {
            try {
                const i = yield this.load(this.context.providers.orientation);
                i.iconsNameByOrientationId.forEach(s => {
                    e.services.orientation.addResource(s)
                }
                ),
                i.translationIdByOrientationId.forEach(s => {
                    e.services.orientation.storeTranslationID(s)
                }
                )
            } catch (i) {
                e.publish(F.EVENT.ERROR, {
                    from: "orientation",
                    error: i
                })
            }
        })
    }
    loadImages(e) {
        return _(this, null, function*() {
            try {
                const i = yield this.load(this.context.providers.image);
                yield e.services.image.loadImages(i)
            } catch (i) {
                throw e.publish(F.EVENT.ERROR, {
                    from: "images",
                    error: i
                }),
                i
            }
        })
    }
    loadFilters(e) {
        return _(this, null, function*() {
            e.services.filter.setStorageName(e.state.module.name);
            try {
                const i = yield this.load(this.context.providers.filters);
                e.services.filter.parse(i)
            } catch (i) {
                e.publish(F.EVENT.ERROR, {
                    from: "filters",
                    error: i
                })
            }
        })
    }
    "record:ui-translations"(e, i) {
        try {
            Object.keys(i).forEach(s => {
                try {
                    i[s].forEach(r => {
                        e.services.translator.addTranslation(r.translation_key, r.value, s, ie.NAMESPACE.UI)
                    }
                    )
                } catch (r) {}
            }
            ),
            e.services.translator.publish(ie.EVENT.LOADED)
        } catch (s) {}
    }
    "record:translations"(e, i) {
        var s;
        try {
            if (e.data.hasAccess = (s = i.granted) != null ? s : !0,
            i.granted === !1) {
                const r = e.services.translator.getTranslation.bind(e.services.translator);
                e.services.translator.getTranslation = function(n, a, o) {
                    return a === ie.NAMESPACE.CONTENT ? i.data : r(n, a, o)
                }
            } else
                Object.keys(i).forEach(r => {
                    try {
                        i[r].forEach(n => {
                            e.services.translator.addTranslation(n.translation_key, n.value, r, ie.NAMESPACE.CONTENT)
                        }
                        )
                    } catch (n) {}
                }
                ),
                e.services.translator.publish(ie.EVENT.LOADED)
        } catch (r) {}
    }
    loadResource(e, i) {
        return new Promise(s => _(this, null, function*() {
            const r = this.context.providers[i];
            De([{
                name: ur.EVENT.CONTENT_AVAILABLE,
                from: r
            }]).then(n => {
                const a = n[0];
                this[`record:${i}`](e, a),
                e.subscribe(r, ur.EVENT.CONTENT_AVAILABLE, o => this[`record:${i}`](e, o)),
                s()
            }
            );
            try {
                yield this.load(r)
            } catch (n) {
                e.publish(F.EVENT.ERROR, {
                    from: i,
                    error: n
                })
            }
        }))
    }
    loadTranslations(e) {
        return _(this, null, function*() {
            yield this.loadResource(e, "translations")
        })
    }
    loadUITranslations(e) {
        return _(this, null, function*() {
            yield this.loadResource(e, "ui-translations")
        })
    }
    loadTextOverlays(e) {
        return _(this, null, function*() {
            const i = e.services.textOverlay;
            try {
                (yield this.load(this.context.providers.textOverlays)).forEach(s => i.addResource(s))
            } catch (s) {}
        })
    }
    loadOverlays(e) {
        return _(this, null, function*() {
            const i = e.services.overlay
              , s = e.services.textOverlay;
            try {
                const r = yield this.load(this.context.providers.overlays)
                  , n = r.map(o => o.layer)
                  , a = s.getResources();
                Object.values(a).map(o => o.layer).filter(o => o).filter(o => !n.includes(o)).forEach(o => i.addResource(new Op({
                    layer: o
                }))),
                r.forEach(o => i.addResource(o))
            } catch (r) {}
        })
    }
    loadSlices(e) {
        return _(this, null, function*() {
            const i = e.services.slice;
            try {
                (yield this.load(this.context.providers.slices)).forEach(n => {
                    i.addResource(n)
                }
                ),
                i.setRelativeSliceIndex(T({}, i.getIndex()));
                const s = 1
                  , r = i.getIdBySliceIndex(s);
                i.setDefault(r),
                i.setCurrent(r),
                i.setCurrentRelativeIndex(s),
                i.publish(Fe.EVENT.SLICE_LOADED)
            } catch (s) {
                e.publish(F.EVENT.ERROR, {
                    from: "slices",
                    error: s
                })
            }
        })
    }
    loadStructures(e) {
        return _(this, null, function*() {
            e.services.structure.setTranslatorService(e.services.translator);
            try {
                (yield this.load(this.context.providers.structures)).forEach(i => {
                    e.services.structure.addResource(i)
                }
                )
            } catch (i) {
                e.publish(F.EVENT.ERROR, {
                    from: "structures",
                    error: i
                })
            }
        })
    }
    initializeStates(e) {
        const i = this.context.services
          , s = i.slice
          , r = i.series
          , n = i.renderingContext
          , a = s.getCurrent().series_id;
        r.setDefault(a),
        r.setCurrent(a);
        const o = e.services.contrast
          , l = o.find({
            series_id: a
        }).sort( (u, h) => u - h);
        let c;
        l.length > 0 ? c = l.find(u => u.imaios_code === We).id : c = -1,
        o.setDefault(c),
        o.select(c),
        n.setContainer(e.ui.container),
        n.updateRenderingContext(),
        this.context.interactions.forEach(u => {
            const h = new u(T({
                component: e
            }, this.context));
            i.interaction.addResource(h, h.name)
        }
        ),
        i.interaction.setCurrent(Sr.interactionName);
        try {
            const u = i.language;
            y.languagesAllowed = this.context.languagesAllowed,
            y.defaultLanguageId = this.context.defaultLanguageId,
            this.context.languagesAllowed.forEach(d => {
                u.addResource(d)
            }
            ),
            u.setDefault(this.context.defaultLanguageId),
            u.setCurrent(y.getAllowedLanguage(this.context.currentLanguageId)),
            u.publish(bt.EVENT.LOADED);
            const h = this.context.services.style;
            Object.keys(this.context.style).forEach(d => {
                h.update(d, this.context.style[d])
            }
            ),
            e.services.renderingContext.setZoomSettings(this.context.zoom)
        } catch (u) {}
    }
}
Gn.startFactories();
class X_ extends Q_ {
    constructor(e={}) {
        super(T(T({}, e), Gn.getContent()))
    }
}
const Gu = {
    1: "Latina",
    2: "English",
    3: "Français",
    4: "Deutsch",
    5: "Español",
    6: "中文 (简体)",
    7: "日本語",
    8: "Italiano",
    9: "Português",
    10: "Русский",
    12: "العربية",
    15: "Polski",
    17: "한국어"
}
  , q_ = {
    namespaced: !0,
    state: () => ({
        application: null,
        applicationName: null,
        module_id: null,
        moduleName: "",
        container_id: null,
        isReady: !1,
        filters: [],
        contrasts: [],
        currentSeries: null,
        currentSlice: null,
        offsetSizeContainer: 0,
        languages: [],
        indexCurrentSlice: 0,
        numberOfSlices: 0,
        galleryThumbnails: [],
        previewThumbnail: {},
        thumbnailSliceIndex: 0,
        listSeriesImage: [],
        listSeries: [],
        seriesGallery: [],
        slicesGallery: [],
        transformations: {},
        imageAllSeries: [],
        isQuizMode: !1,
        viewZoneEnabled: !1,
        pinModeEnabled: !1,
        orientation: null,
        imageQuality: !1,
        coverImage: null,
        backgroundColor: null,
        currentLanguage: null,
        currentStructureName: null,
        isScrollInverse: !1,
        isModeFullSeries: !0,
        interfaceLanguage: null,
        otherSeriesHaveMoreThanOneContrast: !1,
        parentContainerId: null,
        defaultStructureLanguage: null,
        fontSize: null
    }),
    getters: {
        application: t => t.application,
        container_id: t => t.container_id,
        application_id: t => {
            var e;
            return (e = t.application) == null ? void 0 : e.application_id
        }
        ,
        module_id: t => t.module_id,
        filters: t => t.filters,
        isFilterSelected: t => e => {
            try {
                return e === -1 ? t.filters.every(i => t.application.isFilterSelected(i.id)) : t.application.isFilterSelected(e)
            } catch (i) {
                return !1
            }
        }
        ,
        getFilterIcon: t => e => t.application.getFilterIcon(e),
        contrasts: t => t.contrasts,
        currentSeries: t => t.currentSeries,
        currentSlice: t => t.currentSlice,
        languages: t => t.languages,
        currentLanguage: t => t.currentLanguage,
        currentLanguageId: t => () => t.application.getCurrentLanguage(),
        indexCurrentSlice: t => t.indexCurrentSlice,
        numberOfSlices: t => t.numberOfSlices,
        slices: t => t.application.getSlices(),
        sliceIndexById: t => e => t.application.getSliceIndexById(e),
        relativeSliceIndexById: t => (e, i=null) => t.application.getRelativeSliceIndexById(e, i),
        sliceByRelativeIndex: t => e => t.application.getSliceByRelativeIndex(e),
        getGalleryThumbnails: t => t.galleryThumbnails,
        getPreviewThumbnail: t => t.previewThumbnail,
        numberMaxSlices: t => t.application.getNumberMaxSlices(),
        listSeries: t => t.listSeries,
        listSeriesImage: t => t.listSeriesImage,
        seriesGallery: t => t.seriesGallery,
        imageAllSeries: t => t.imageAllSeries,
        slicesGallery: t => t.slicesGallery,
        getDefaultOverlayOpacity: t => t.application.getDefaultOverlayOpacity(),
        isModeFullSeries: t => t.isModeFullSeries,
        isQuizMode: t => t.isQuizMode,
        viewZoneEnabled: t => t.viewZoneEnabled,
        moduleName: t => t.moduleName,
        seriesIdByIndex: t => e => t.application.getSeriesIdByIndex(e),
        rotation: t => t.transformations ? t.transformations.ROTATION_ANGLE : 0,
        flipX: t => t.transformations ? t.transformations.VERTICAL_FLIP : !1,
        flipY: t => t.transformations ? t.transformations.HORIZONTAL_FLIP : !1,
        "orientation-image": t => t.orientation ? t.orientation.currentImageSrc : "",
        getCurrentStructureName: t => t.currentStructureName,
        imageQuality: t => t.imageQuality,
        hasModuleAccess: t => () => t.application.hasModuleAccess(),
        hasSubscriberAccess: t => () => t.application.hasSubscriberAccess(),
        featureHidePointWithoutLabelIsActive: t => t.application.featureHidePointWithoutLabelIsActive(),
        searchStructure: t => e => t.application.searchStructure(e),
        coverImage: t => t.coverImage,
        backgroundColor: t => t.backgroundColor,
        "get-series-background-color": t => () => {
            var e, i;
            return (i = (e = t.application) == null ? void 0 : e.getCurrentSeriesBackground()) != null ? i : ""
        }
        ,
        "contrast:get-current-code": t => () => t.application.getCurrentContrastCode(),
        isCurrentContrast: t => e => t.application.isCurrentContrast(e),
        isScrollInverse: t => t.isScrollInverse,
        minFontSize: t => () => t.application.getMinSizeFont(),
        pinModeEnabled: t => t.pinModeEnabled,
        structureByTaxonKey: t => e => t.application.getStructureByTaxonKey(e),
        structureById: t => (e, i=null) => t.application.getStructureById(e, i),
        structureWithPointsByTaxonKey: t => e => t.application.getStructureWidthPointsByTaxonKey(e),
        structureWithPointsByStructureId: t => e => t.application.getStructureWidthPointsByStructureId(e),
        "thumbnail-slice-index": t => t.thumbnailSliceIndex,
        interfaceLanguage: t => t.interfaceLanguage,
        isOnlyOneFilterSelected: t => e => t.application.isOnlyOneFilterSelected(e),
        filterById: t => e => t.application.getFilters(t.interfaceLanguage).find(i => i.id === e),
        isBlacklistedStructure: t => e => t.application.isBlacklisted(e),
        getIsolateStructureId: t => () => {
            var e;
            return (e = t.application) == null ? void 0 : e.getIsolatedStructureID()
        }
        ,
        getPaddingRightLabel: t => () => t.application.services.renderingContext.get("RIGHT_PADDING"),
        getModuleShortName: t => () => t.application.getModuleShortName(),
        getAlternativeModality: t => () => t.application.getAlternativeModality(),
        otherSeriesHaveMoreThanOneContrast: t => t.otherSeriesHaveMoreThanOneContrast,
        getSlicesIndexFromRelativeIndex: t => () => t.application.getSlicesIndexFromRelativeIndex(),
        getParentContainerId: t => t.parentContainerId,
        getFontSize: t => t.fontSize,
        "series:have-same-cr": t => () => t.application.getSeriesHaveSameCR(),
        "series:get-list-series-with-same-cr": t => e => t.application.getSeriesIdByCR(e),
        getShareLink: t => () => t.application.behave("share-link"),
        getStructureIcon: t => e => t.application.getIcon(e.icon_id),
        moduleHasCrossReferences: t => () => t.application.moduleHasCrossReferences(),
        crossRefExists: t => {
            const e = t.currentSeries;
            return e !== null && typeof e.cross_references_titles < "u" && e.cross_references_titles.length > 0
        }
        ,
        seriesAndImagesList: t => {
            const e = t.listSeries
              , i = t.listSeriesImage
              , s = [...e, ...i];
            return Object.values(s.reduce( (r, n) => (r[n.id] = T(T({}, r[n.id] || {}), n),
            r), {}))
        }
        ,
        haveBlacklistedStructures: t => () => {
            var e, i;
            return (i = (e = t.application) == null ? void 0 : e.haveBlacklistedStructures()) != null ? i : !1
        }
        ,
        haveHiddenPoints: t => () => {
            var e, i;
            return (i = (e = t.application) == null ? void 0 : e.haveHiddenPoints()) != null ? i : !1
        }
        ,
        overlaysCanvasIsHidden: t => () => {
            var e, i, s;
            return (s = (i = (e = t.application) == null ? void 0 : e.data) == null ? void 0 : i.overlaysCanvasIsHidden) != null ? s : !1
        }
    },
    mutations: {
        create(t, {container_id: e, parentContainer_id: i, fontFamily: s}) {
            var a;
            t.container_id = e;
            const r = (a = se.get(he.LANGUAGE)) != null ? a : y.transformSiteAccessToStructureLanguage(t.defaultStructureLanguage)
              , n = Object.freeze(new X_({
                application_id: t.applicationName,
                moduleName: t.module_id,
                containerId: e,
                parentContainer_id: i,
                currentLanguageId: r,
                interfaceLanguageId: t.interfaceLanguage,
                fontFamily: s
            })).start();
            t.application = n,
            t.transformations = n.services.renderingContext.state.data,
            t.orientation = n.services.orientation.data.resources
        },
        setReady(t) {
            t.isReady = !0
        },
        unselectFilter(t, e) {
            t.application.unselectFilter(e)
        },
        unselectAllFilter(t) {
            t.application.unselectAllFilters()
        },
        selectFilter(t, e) {
            t.application.selectFilter(e)
        },
        selectAllFilter(t) {
            t.application.selectAllFilters()
        },
        "filter:update"(t) {
            const e = t.application.getFilters(t.interfaceLanguage).reduce( (s, r) => (s[r.id] = r,
            s), {})
              , i = [];
            t.application.getMainsFiltersId().forEach(s => {
                const r = T({}, e[s]);
                r.children = r.children.map(n => {
                    const a = T({}, n);
                    return a.id = a.id.toString(),
                    a.name = e[a.id].name,
                    a
                }
                ).filter(n => n),
                i.push(r)
            }
            ),
            t.filters = i
        },
        "contrast:update"(t, e) {
            t.contrasts = e
        },
        "contrast:select"(t, e) {
            t.application.selectContrast(e)
        },
        viewerResize(t) {
            t.application.onResize()
        },
        updateCurrentSeries(t, e) {
            t.currentSeries = e
        },
        updateCurrentSlice(t, e) {
            t.currentSlice = e
        },
        toggleFullscreen(t) {
            t.application.behave("toggleFullScreen")
        },
        getLanguages(t) {
            const e = t.application.getLanguages();
            t.languages = e.map(i => ({
                id: i,
                name: Gu[i]
            }))
        },
        setLanguage(t, e) {
            t.application.setLanguage(e)
        },
        refreshRelativeIndexCurrentSlice(t, e) {
            t.indexCurrentSlice = e
        },
        refreshNumberOfSlices(t, e) {
            t.numberOfSlices = e
        },
        setSlice(t, e) {
            t.application.moveToSlice(e)
        },
        setSeries(t, {series_id: e, relativeSliceIndex: i, keepMode: s}) {
            t.application.moveToSeries(e, i, s)
        },
        rotateImage(t, e) {
            t.application.rotate(e)
        },
        flipHorizontalImage(t) {
            t.application.horizontalFlip()
        },
        flipVerticalImage(t) {
            t.application.verticalFlip()
        },
        resetImage(t) {
            t.application.reset()
        },
        refreshGalleryThumbs(t, e) {
            t.galleryThumbnails = e
        },
        "thumbnails:set-slice-index"(t, e) {
            t.thumbnailSliceIndex = e
        },
        updatePreviewThumbnail(t, e) {
            t.previewThumbnail = e
        },
        refreshSeriesGallery(t, e) {
            t.seriesGallery = e
        },
        refreshImageAllSeries(t, e) {
            t.imageAllSeries = e
        },
        refreshSlicesGallery(t, e) {
            t.slicesGallery = e
        },
        enableQuizMode(t) {
            t.isQuizMode = !0
        },
        disableQuizMode(t) {
            t.isQuizMode = !1
        },
        disableViewZone(t) {
            t.viewZoneEnabled = !1
        },
        enableViewZone(t) {
            t.viewZoneEnabled = !0
        },
        refreshImageQualityState(t) {
            t.imageQuality = t.application.getImageQuality()
        },
        "application:set-application-name"(t, e) {
            t.applicationName = e
        },
        "application:set-module-id"(t, e) {
            t.module_id = e
        },
        "application:set-module-name"(t, e) {
            t.moduleName = e
        },
        "inverse-scroll:toggle"(t) {
            t.application.inverseScroll(W.RIGHT_MENU)
        },
        enablePinMode(t) {
            t.pinModeEnabled = !0
        },
        disablePinMode(t) {
            t.pinModeEnabled = !1
        },
        "application:set-cover-image"(t, e) {
            t.coverImage = e
        },
        "application:set-background-color"(t, e) {
            t.backgroundColor = e
        },
        "list-series:update"(t, e) {
            t.listSeries = e
        },
        "list-series:update-images"(t, e) {
            t.listSeriesImage = e
        },
        "language:update-current"(t, e) {
            t.currentLanguage = e
        },
        "application:reverse-scroll-update"(t, e) {
            t.isScrollInverse = e
        },
        "application:set-mode-series"(t, e) {
            t.isModeFullSeries = e
        },
        "application:set-interface-language"(t, e) {
            t.interfaceLanguage = e
        },
        "contrast:set-other-series-have-more-than-one-contrast"(t, e) {
            t.otherSeriesHaveMoreThanOneContrast = e
        },
        "set-parent-container-id"(t, e) {
            t.parentContainerId = e
        },
        "application:set-default-structure-language"(t, e) {
            t.defaultStructureLanguage = e
        },
        "font-size:update"(t, e) {
            t.fontSize = e
        }
    },
    actions: {
        create({commit: t}, {container_id: e, parentContainer_id: i, fontFamily: s}) {
            t("create", {
                container_id: e,
                parentContainer_id: i,
                fontFamily: s
            }),
            t("setReady")
        },
        "set-parent-id"({commit: t}, e) {
            t("set-parent-container-id", e)
        },
        toggleFilter({commit: t, state: e, getters: i}, s) {
            const r = e.filters.find(n => {
                if (typeof n.children.find(a => a.id === s) < "u")
                    return n
            }
            );
            i.isFilterSelected(s) ? (typeof r < "u" && i.isFilterSelected(r.id) && t("unselectFilter", r.id),
            t("unselectFilter", s)) : (t("selectFilter", s),
            typeof r < "u" && r.children.every(n => i.isFilterSelected(n.id)) && t("selectFilter", r.id))
        },
        toggleAllFilters({commit: t, state: e, getters: i}) {
            const s = e.filters.every(r => i.isFilterSelected(r.id));
            t(s ? "unselectAllFilter" : "selectAllFilter")
        },
        "contrast:select"({commit: t, getters: e}, i) {
            t("contrast:select", i);
            const s = e.application.services.contrast.getCurrentCode();
            e.application.publish(k.ui.VIEWER.CONTRAST, {
                oldContrastCode: s
            })
        },
        "application:initialize": ({commit: t}, {application: e, moduleId: i, language: s}) => {
            t("application:set-application-name", e),
            t("application:set-module-id", i),
            t("application:set-default-structure-language", s)
        }
        ,
        "application:set-module-name"({commit: t}, e) {
            t("application:set-module-name", e)
        },
        "contrast:reset": ({getters: t}) => {
            t.application.resetContrast()
        }
        ,
        "viewer:resize": ({commit: t}) => {
            t("viewerResize")
        }
        ,
        "viewer:toggleFullscreen": ({commit: t}) => {
            t("toggleFullscreen")
        }
        ,
        "image:rotate": ({commit: t}, e) => {
            t("rotateImage", e)
        }
        ,
        "image:reset": ({commit: t}) => {
            t("resetImage")
        }
        ,
        "image:flip": ({commit: t}, e) => {
            e === Ci.HORIZONTAL ? t("flipHorizontalImage") : e === Ci.VERTICAL && t("flipVerticalImage")
        }
        ,
        "image:get-one": ({getters: t}) => t.application.getOneImage(),
        "image:quality-refresh"({commit: t}) {
            t("refreshImageQualityState")
        },
        "image:toggleQuality"({getters: t}) {
            t.application.toggleImageQuality()
        },
        "series:update": ({commit: t, getters: e}) => {
            t("updateCurrentSeries", e.application.getCurrentSeries()),
            t("refreshNumberOfSlices", e.application.getNumberOfSlice())
        }
        ,
        "series:set": ({commit: t, getters: e}, {seriesIndex: i, relativeSliceIndex: s=1, keepMode: r=!0, placement: n=null}) => {
            const a = e.application.getSeries(e.interfaceLanguage)
              , o = i === -1 ? i : a.find(l => l.sort_order === i).id;
            t("setSeries", {
                series_id: o,
                relativeSliceIndex: s,
                keepMode: r
            }),
            n !== null && e.application.publish(k.series.SELECT_SERIES, {
                placement: n
            })
        }
        ,
        "filter:toggleAllChild": ({commit: t, getters: e}, i) => {
            e.isFilterSelected(i.id) ? (t("unselectFilter", i.id),
            i.children.forEach(s => {
                t("unselectFilter", s.id)
            }
            )) : (i.children.forEach(s => {
                t("selectFilter", s.id)
            }
            ),
            t("selectFilter", i.id))
        }
        ,
        "filter:reset": ({getters: t}) => {
            t.application !== null && t.application.resetFilters()
        }
        ,
        "language:get": ({commit: t}) => {
            t("getLanguages")
        }
        ,
        "language:set": ({commit: t}, e) => {
            t("setLanguage", e)
        }
        ,
        "slice:set": ({commit: t, dispatch: e}, {sliceIndex: i, placement: s=null}) => {
            s !== null && e("slice:notification", s),
            t("setSlice", i)
        }
        ,
        "slice:next": ({getters: t, dispatch: e}) => {
            e("slice:notification", W.ARROW),
            t.application.triggerGoToNextSlice()
        }
        ,
        "slice:update": ({commit: t, getters: e}) => {
            t("updateCurrentSlice", e.application.getCurrentSlice(e.interfaceLanguage)),
            t("refreshRelativeIndexCurrentSlice", e.application.getRelativeIndexCurrentSlice())
        }
        ,
        "slice:previous": ({getters: t, dispatch: e}) => {
            e("slice:notification", W.ARROW),
            t.application.triggerGoToPreviousSlice()
        }
        ,
        "slice:updateRelativeIndex": ({commit: t, getters: e}) => {
            t("refreshNumberOfSlices", e.application.getNumberOfSlice()),
            t("refreshRelativeIndexCurrentSlice", e.application.getRelativeIndexCurrentSlice())
        }
        ,
        "slice:notification"({getters: t}, e) {
            t.application.publish(Di.SET_PLACEMENT_IMAGE_VIEW, {
                placement: e
            })
        },
        "fullscreen:get": ({getters: t}) => t.application.isFullscreen(),
        "thumbnails:refresh": ({commit: t, getters: e}, {sizeThumbs: i, sizeAvailable: s}) => new Promise(r => _(void 0, null, function*() {
            if (e.application !== null)
                try {
                    yield e.application.getGalleryThumbnails(i, s).then(n => {
                        t("refreshGalleryThumbs", n),
                        r()
                    }
                    )
                } catch (n) {
                    r()
                }
        })),
        "thumbnails:preview": ({commit: t, getters: e}, i) => {
            t("thumbnails:set-slice-index", i),
            e.application.getPreviewSlice(i).then(s => {
                e["thumbnail-slice-index"] === i && t("updatePreviewThumbnail", s)
            }
            )
        }
        ,
        "list-series:update"({commit: t, getters: e}) {
            t("list-series:update", e.application.getSeries(e.interfaceLanguage))
        },
        "list-series:update-images"({commit: t, getters: e}) {
            e.application.getImageAllSeries().then(i => t("refreshImageAllSeries", i)),
            e.application.getSeriesImage().then(i => t("list-series:update-images", i))
        },
        "gallery:series-update": ({commit: t, getters: e}) => new Promise(i => {
            e.application.getSeriesGallery(e.interfaceLanguage).then(s => {
                t("refreshSeriesGallery", s),
                i()
            }
            )
        }
        ),
        "gallery:slice-update": ({commit: t, getters: e}) => new Promise(i => {
            e.application.getSlicesGallery(e.interfaceLanguage).then(s => {
                t("refreshSlicesGallery", s),
                i()
            }
            )
        }
        ),
        "overlay:set-opacity": ({getters: t}, e) => {
            t.application.setImageOverlaysOpacity(e)
        }
        ,
        "quiz:refreshState": ({commit: t, getters: e}) => {
            e.isQuizMode ? t("disableQuizMode") : t("enableQuizMode")
        }
        ,
        "quiz:toggle": ({getters: t}) => {
            t.application.toggleQuizMode(W.RIGHT_MENU)
        }
        ,
        "viewZone:centered-toggle": ({getters: t}, e) => {
            t.application.toggleViewzone(t.application.getCanvasImageRelativeCenter(), e)
        }
        ,
        "viewZone:toggle": ({getters: t}, e) => {
            t.application.toggleViewzone(e)
        }
        ,
        "viewZone:show": ({getters: t}, {coords: e, placement: i}) => {
            t.viewZoneEnabled || t.application.toggleViewzone(e, i)
        }
        ,
        "viewZone:refreshState": ({commit: t, getters: e}) => {
            e.viewZoneEnabled ? t("disableViewZone") : t("enableViewZone")
        }
        ,
        "hide-point-feature:toggle": ({getters: t}) => {
            t.application.toggleFeatureHidePointWithoutLabel()
        }
        ,
        "contrast:update"({commit: t, getters: e}) {
            t("contrast:update", e.application.getContrasts(e.interfaceLanguage))
        },
        "filter:update"({commit: t}) {
            t("filter:update")
        },
        "min-font-size:change"({getters: t}, e) {
            t.application.setMinFontSize(e)
        },
        "inverse-scroll:toggle"({commit: t}) {
            t("inverse-scroll:toggle")
        },
        "pin:toggle"({getters: t}) {
            t.application.togglePinMode()
        },
        "pin:refreshState"({commit: t, getters: e}) {
            e.pinModeEnabled ? t("disablePinMode") : t("enablePinMode")
        },
        "application:set-cover-image"({commit: t, getters: e}) {
            t("application:set-cover-image", e.application.getCoverImage())
        },
        "application:set-background-color"({commit: t, getters: e}) {
            t("application:set-background-color", e.application.backgroundColor())
        },
        "language:update-current"({commit: t, getters: e}) {
            const i = e.application.getCurrentLanguage();
            t("language:update-current", Gu[i])
        },
        "application:reverse-scroll-update"({commit: t, getters: e}) {
            t("application:reverse-scroll-update", e.application.isScrollInverse())
        },
        "application:update-mode-series"({commit: t, getters: e}) {
            t("application:set-mode-series", e.application.isModeFullSeries())
        },
        "application:set-interface-language"({commit: t}, e) {
            t("application:set-interface-language", e)
        },
        "structure:blacklist"({getters: t}, {structure_id: e, source: i}) {
            t.application.blacklist(e, i)
        },
        "structure:whitelist"({getters: t}, e) {
            t.application.whitelist(e)
        },
        "structure:clear"({getters: t}) {
            t.application.clearAllHiddenStructures()
        },
        "redirect:to"(t, e) {
            typeof e < "u" && (y.isEmbed() ? window.top.location.href = `${window.top.location.origin}/${y.getSiteAccess()}/${e}` : window.location.href = `${window.location.origin}/${y.getSiteAccess()}/${e}`)
        },
        "gallery:click-image"({getters: t, dispatch: e}, i) {
            e("slice:notification", W.MODULE_GALLERY),
            t.application.publish(k.ui.MODULE_GALLERY.CLICK_IMAGE, {
                sliceIndex: i
            })
        },
        "gallery-bottom:image-click"({getters: t, dispatch: e}, i) {
            e("slice:notification", W.BOTTOM_GALLERY),
            t.application.publish(k.ui.BOTTOM_GALLERY.CLICK_IMAGE, {
                relativeSliceIndex: i
            })
        },
        "gallery-structure:image-click"({getters: t, dispatch: e}, {sliceIndex: i, moduleName: s}) {
            e("slice:notification", W.STRUCTURE_GALLERY),
            t.application.publish(k.ui.PANEL_STRUCTURE.CLICK_IMAGE_STRUCTURE_GALLERY, {
                sliceIndex: i,
                moduleName: s
            })
        },
        "application:panel-structure-open"({getters: t}, e) {
            t.application.publish(k.ui.PANEL_STRUCTURE.OPEN, e)
        },
        "application:search-click"({getters: t}, {searchText: e}) {
            t.application.publish(k.ui.VIEWER.SEARCH, {
                searchText: e
            })
        },
        "contrast:update-other-series-have-more-than-one-contrast"({getters: t, commit: e}) {
            e("contrast:set-other-series-have-more-than-one-contrast", t.application.otherSeriesHaveMoreThanOneContrast())
        },
        "send-notification"({getters: t}, e) {
            typeof e == "string" ? t.application.publish(e) : typeof e == "object" && typeof e.notification == "string" && (typeof e.args == "object" ? t.application.publish(e.notification, e.args) : t.application.publish(e.notification))
        },
        saveImage({getters: t}) {
            t.application.behave("saveImage")
        },
        "font-size:update"({getters: t, commit: e}) {
            e("font-size:update", t.application.getFontSize())
        },
        "font-size:manual"({getters: t}) {
            t.application.setFontSizeManual()
        },
        "font-size:auto"({getters: t, dispatch: e}) {
            t.application.setFontSizeAuto(),
            e("font-size:notification", t.getFontSize)
        },
        "font-size:set"({getters: t}, e) {
            t.application.setFontSize(e)
        },
        "font-size:notification"({getters: t}, e) {
            t.application.publish(k.ui.VIEWER.MIN_FONT_UPDATE, {
                auto: t.application.data.fontSizeAuto,
                fontSize: e
            })
        },
        "theme-switch-notification"({getters: t}, e) {
            t.application.publish(k.ui.SETTINGS.CHANGE_THEME, {
                isDarkMode: e
            })
        },
        reset({dispatch: t}) {
            const {ui: e} = k;
            t("send-notification", e.SETTINGS.RESET)
        },
        "pulse-animation:enable"({getters: t}) {
            t.application.enablePulseAnimationOnPoint()
        },
        "pulse-animation:disable"({getters: t}) {
            t.application.disablePulseAnimationOnPoint()
        }
    }
}
  , J_ = {
    namespaced: !0,
    state: () => ({
        currentInteraction: null
    }),
    getters: {
        currentInteraction: t => t.currentInteraction
    },
    mutations: {
        changeInteraction(t, e) {
            this.getters["anatomy/application"].selectInteraction(e)
        },
        updateInteraction(t) {
            const e = this.getters["anatomy/application"];
            t.currentInteraction = e.getCurrentInteraction()
        }
    },
    actions: {
        "interaction:change"({commit: t}, e) {
            t("changeInteraction", e)
        },
        "interaction:update": ({commit: t}) => {
            t("updateInteraction")
        }
    }
}
  , e9 = {
    namespaced: !0,
    state: () => ({
        crossReferences: [],
        crossReferencesIndicators: []
    }),
    getters: {
        "cross-references": t => t.crossReferences,
        "cross-references-indicators": t => t.crossReferencesIndicators,
        application: (t, e, i, s) => s["anatomy/application"]
    },
    mutations: {
        setCrossReferences(t, e) {
            t.crossReferences = e
        },
        setDrawIndicators(t, e) {
            t.crossReferencesIndicators = e
        }
    },
    actions: {
        "cross-references:get": ({commit: t, getters: e, rootGetters: i}) => new Promise(s => {
            e.application.getCrossReferences(i["anatomy/interfaceLanguage"]).then(r => {
                if (r === null)
                    return;
                const n = i["anatomy/currentSeries"];
                r.series_id === n.id ? (t("setCrossReferences", r.crossReferences),
                s(r.crossReferences)) : s([])
            }
            )
        }
        ),
        "cross-references:draw-indicators": ({commit: t, getters: e}) => {
            const i = e.application.getCrossReferencesIndicators();
            t("setDrawIndicators", i)
        }
    }
}
  , It = {
    default: {
        createScrollOption() {
            return {
                iconType: "svg",
                iconSrc: "ScrollSVG",
                translationKey: "context-menu.scroll",
                id: "select-scroll",
                uuid: crypto.randomUUID(),
                position: 0,
                shortcutName: "scroll"
            }
        },
        createPanOption() {
            return {
                iconType: "svg",
                iconSrc: "PanSVG",
                translationKey: "context-menu.pan",
                id: "select-pan",
                uuid: crypto.randomUUID(),
                position: 1,
                shortcutName: "pan"
            }
        },
        createZoomOption() {
            return {
                iconType: "svg",
                iconSrc: "ZoomSVG",
                translationKey: "context-menu.zoom",
                id: "select-zoom",
                uuid: crypto.randomUUID(),
                position: 2,
                shortcutName: "zoom"
            }
        },
        rotateLeftOption() {
            return {
                iconType: "svg",
                iconSrc: "RotationLeftSVG",
                translationKey: "context-menu.rotate-left",
                id: "select-rotation-left",
                uuid: crypto.randomUUID(),
                position: 3
            }
        },
        rotateRightOption() {
            return {
                iconType: "svg",
                iconSrc: "RotationRightSVG",
                translationKey: "context-menu.rotate-right",
                id: "select-rotation-right",
                uuid: crypto.randomUUID(),
                position: 4
            }
        },
        flipHorizontalOption() {
            return {
                iconType: "svg",
                iconSrc: "VerticalFlipSVG",
                translationKey: "context-menu.flip-horizontal",
                id: "select-flip-vertical",
                uuid: crypto.randomUUID(),
                position: 5
            }
        },
        flipVerticalOption() {
            return {
                iconType: "svg",
                iconSrc: "HorizontalFlipSVG",
                translationKey: "context-menu.flip-vertical",
                id: "select-flip-horizontal",
                uuid: crypto.randomUUID(),
                position: 6
            }
        },
        toggleHiddenStructures() {
            return {
                iconType: "svg",
                iconSrc: "ShowSVG",
                translationKey: "context-menu.toggleVisibility",
                id: "select-show-hide-structure",
                uuid: crypto.randomUUID(),
                position: 7,
                subMenu: !0
            }
        },
        divider() {
            return {
                id: "divider",
                uuid: crypto.randomUUID(),
                position: -2,
                type: "divider"
            }
        },
        resetOption() {
            return {
                iconType: "svg",
                iconSrc: "ResetSettingsSVG",
                translationKey: "context-menu.reset",
                id: "select-reset",
                uuid: crypto.randomUUID(),
                position: -1,
                shortcutName: "reset"
            }
        }
    },
    viewzoneOption(t=null) {
        return {
            iconType: "svg",
            iconSrc: "ViewZoneSVG",
            translationKey: "context-menu.viewzone",
            id: "select-viewzone",
            uuid: crypto.randomUUID(),
            parameter: t === null ? "mousePosition" : t,
            position: -4,
            shortcutName: "viewzone"
        }
    },
    createHideStructureOption(t, e) {
        return {
            iconType: "svg",
            iconSrc: "HideSVG",
            translationKey: "context-menu.hide",
            id: "hide-structure",
            uuid: crypto.randomUUID(),
            parameter: t,
            position: 8,
            disabled: e
        }
    },
    createShowStructureOption(t, e) {
        return {
            iconType: "svg",
            iconSrc: "ShowSVG",
            translationKey: "context-menu.show",
            id: "show-structure",
            uuid: crypto.randomUUID(),
            parameter: t,
            position: 8,
            disabled: e
        }
    },
    createIsolateStructureOption(t, e) {
        const i = e.services.structure.findByTaxonKey(t.taxon_key);
        return {
            iconType: "svg",
            iconSrc: "LockSVG",
            translationKey: "context-menu.isolate-structure",
            translationParam: e.standardGetLabelText(t.taxon_key),
            id: "isolate-structure",
            uuid: crypto.randomUUID(),
            parameter: {
                structure_id: i.id,
                preferredTaxonKey: t.taxon_key,
                source: nt.RIGHT_CLICK
            },
            position: 9
        }
    },
    createClearIsolateStructureOption(t, e) {
        return {
            iconType: "svg",
            iconSrc: "UnlockSVG",
            translationKey: "context-menu.clear-isolate-structure",
            translationParam: e.standardGetLabelText(t.taxon_key),
            uuid: crypto.randomUUID(),
            id: "clear-isolate-structure",
            position: 9
        }
    },
    createFocusOnFilterOptions(t, e, i) {
        const s = i.services.filter.findById(t)
          , r = i.services.translator.getTranslation(s.name_id, ie.NAMESPACE.UI);
        return {
            iconType: "img",
            promiseSrc: () => i.getFilterIcon(t),
            translationKey: "context-menu.select",
            translationParam: r,
            id: "focus-filter",
            uuid: crypto.randomUUID(),
            parameter: {
                filter_id: t,
                taxonKey: e,
                source: nt.RIGHT_CLICK
            },
            position: 10
        }
    },
    createBlurFilterOptions(t, e) {
        const i = e.services.filter.findById(t)
          , s = e.services.translator.getTranslation(i.name_id, ie.NAMESPACE.UI);
        return {
            iconType: "img",
            promiseSrc: () => e.getFilterIcon(t),
            translationKey: "context-menu.unselect",
            translationParam: s,
            uuid: crypto.randomUUID(),
            id: "blur-filter",
            position: 10
        }
    },
    createStructurePageLinkOption(t, e, i) {
        return {
            iconType: "svg",
            iconSrc: "tree-structureSVG",
            translationKey: "context-menu.show-structure-information",
            id: "structure-page-link",
            uuid: crypto.randomUUID(),
            parameter: `${re.baseURL}/${y.getSiteAccess()}/api/${e}/redirect/structure-page/${t.ta_id}/${t.taxon_id}/${i}`,
            position: -3
        }
    }
};
function t9(t, e, i) {
    const s = t.getIsolatedStructureID();
    return s !== null && t.services.structure.find({
        id: s
    }).some(r => r.getTaxonKey() === e) || i
}
const i9 = {
    namespaced: !0,
    state: () => ({
        options: [],
        visibility: !1
    }),
    getters: {
        options: t => t.options,
        visibility: t => t.visibility
    },
    mutations: {
        "set-options"(t, e=[]) {
            t.options = e
        },
        "set-visibility"(t, e=!1) {
            t.visibility = e
        }
    },
    actions: {
        "perform:select-zoom"({dispatch: t}) {
            t("action/interaction:change", Yt.ZOOM, {
                root: !0
            })
        },
        "perform:select-pan"({dispatch: t}) {
            t("action/interaction:change", Yt.PAN, {
                root: !0
            })
        },
        "perform:select-scroll"({dispatch: t}) {
            t("action/interaction:change", Yt.SCROLL, {
                root: !0
            })
        },
        "perform:select-rotation-left"({dispatch: t}) {
            t("anatomy/image:rotate", -90, {
                root: !0
            })
        },
        "perform:select-rotation-right"({dispatch: t}) {
            t("anatomy/image:rotate", 90, {
                root: !0
            })
        },
        "perform:select-flip-vertical"({dispatch: t}) {
            t("anatomy/image:flip", Ci.VERTICAL, {
                root: !0
            })
        },
        "perform:select-flip-horizontal"({dispatch: t}) {
            t("anatomy/image:flip", Ci.HORIZONTAL, {
                root: !0
            })
        },
        "perform:select-reset"({dispatch: t}) {
            t("anatomy/reset", {}, {
                root: !0
            })
        },
        "perform:select-viewzone"({dispatch: t}, e) {
            t("anatomy/viewZone:show", {
                coords: e,
                placement: W.RIGHT_CLICK
            }, {
                root: !0
            })
        },
        "perform:hide-structure"({rootGetters: t, dispatch: e}, i) {
            t["anatomy/application"].hasFeature("blacklist-structure") && e("anatomy/structure:blacklist", {
                structure_id: i,
                source: nt.RIGHT_CLICK
            }, {
                root: !0
            })
        },
        "perform:show-structure"({rootGetters: t, dispatch: e}, i) {
            t["anatomy/application"].hasFeature("blacklist-structure") && e("anatomy/structure:whitelist", i, {
                root: !0
            })
        },
        "perform:isolate-structure"({rootGetters: t}, {structure_id: e, preferredTaxonKey: i, source: s}) {
            t["anatomy/application"].isolateStructure(s, e, i)
        },
        "perform:select-structure"({rootGetters: t}, {structure_id: e, preferredTaxonKey: i, source: s}) {
            t["anatomy/application"].selectedStructure(s, e, i)
        },
        "perform:clear-isolate-structure"({rootGetters: t}) {
            t["anatomy/application"].cleanIsolate()
        },
        "perform:focus-filter"({rootGetters: t}, {filter_id: e, taxonKey: i, source: s}) {
            const r = t["anatomy/application"];
            r.services.filter.focus([e]),
            r.publish(k.structure.FILTER, {
                taxonKey: i,
                source: s
            })
        },
        "perform:blur-filter"({rootGetters: t}) {
            t["anatomy/application"].services.filter.blur()
        },
        "perform:structure-page-link"(t, e) {
            window.open(e, "_blank")
        },
        refresh(i) {
            return _(this, arguments, function*({dispatch: t, commit: e}) {
                const s = [].concat(yield t("get-default"), yield t("get-structure-hover-options"));
                s.sort( (n, a) => (n == null ? void 0 : n.position) - (a == null ? void 0 : a.position));
                const r = s.findLastIndex(n => (n == null ? void 0 : n.position) < 0);
                s.push(...s.splice(0, r + 1)),
                e("set-options", s)
            })
        },
        "get-default"(i) {
            return _(this, arguments, function*({rootGetters: t, dispatch: e}) {
                const s = t["anatomy/application"]
                  , r = s.getPointsStructureHovered()
                  , n = s.getPointHovered();
                return r.length < 1 && n === null ? Promise.all(Object.values(It.default).map(a => _(this, null, function*() {
                    return typeof a == "function" && (a = yield a()),
                    a
                }))) : [yield e("load-viewzone", r.length > 0 ? r[0] : null), It.default.divider(), It.default.resetOption()]
            })
        },
        "get-point-hover-blacklist-options"({rootGetters: t}, e) {
            const i = t["anatomy/application"]
              , s = i.services.structure.findByTaxonKey(e.taxon_key)
              , r = t9(i, e.taxon_key, t["anatomy/viewZoneEnabled"]);
            return i.hasFeature("blacklist-structure") ? t["anatomy/isBlacklistedStructure"](s.id) ? [It.createShowStructureOption(s.id, r)] : [It.createHideStructureOption(s.id, r)] : []
        },
        "get-taxon-hover-structure-page"({rootGetters: t}, e) {
            const i = []
              , s = t["anatomy/application"];
            return i.push(It.createStructurePageLinkOption(e, s.application_id, t["anatomy/currentLanguageId"]())),
            i
        },
        "get-point-hover-isolate-structure-option"({rootGetters: t}, e) {
            const i = []
              , s = t["anatomy/application"]
              , r = s.getIsolatedStructureID();
            let n = !1;
            return r !== null && s.services.structure.find({
                id: r
            }).forEach(a => {
                a.getTaxonKey() === e.taxon_key && (n = !0)
            }
            ),
            n ? i.push(It.createClearIsolateStructureOption(e, s)) : i.push(It.createIsolateStructureOption(e, s)),
            i
        },
        "get-point-hover-filter-option"({rootGetters: t}, e) {
            const i = []
              , s = t["anatomy/application"]
              , r = e.filter_id
              , n = s.services.filter.getCurrent();
            return n.includes(r) && n.length === 1 ? i.push(It.createBlurFilterOptions(r, s)) : i.push(It.createFocusOnFilterOptions(r, e.taxon_key, s)),
            i
        },
        "get-point-hover-options"(i) {
            return _(this, arguments, function*({dispatch: t, rootGetters: e}) {
                const s = e["anatomy/application"].getPointHovered();
                let r = [];
                return s !== null && (r = r.concat(yield t("get-point-hover-isolate-structure-option", s), yield t("get-point-hover-filter-option", s), yield t("get-taxon-hover-structure-page", s), yield t("get-point-hover-blacklist-options", s))),
                r
            })
        },
        "get-structure-hover-options"(i) {
            return _(this, arguments, function*({dispatch: t, rootGetters: e}) {
                const s = e["anatomy/application"].getPointsStructureHovered();
                let r = [];
                if (s.length > 0) {
                    const n = s[0];
                    r = r.concat(yield t("get-point-hover-isolate-structure-option", n), yield t("get-point-hover-filter-option", n), yield t("get-taxon-hover-structure-page", n), yield t("get-point-hover-blacklist-options", n))
                }
                return r
            })
        },
        "load-viewzone"({rootGetters: t}, e) {
            const i = t["anatomy/application"];
            let s = It.viewzoneOption();
            if (e !== null) {
                const r = ve.getOne();
                r.setCoords(e.x, e.y),
                i.components.pointsCanvas.applyLocalTransformationToPoint(r),
                s = It.viewzoneOption({
                    x: r.x,
                    y: r.y
                }),
                ve.recycle(r)
            }
            return s
        },
        open({dispatch: t, commit: e}) {
            t("refresh").then( () => {
                e("set-visibility", !0)
            }
            )
        },
        close({commit: t}) {
            t("set-visibility", !1)
        }
    }
}
  , s9 = {
    close: {
        iconType: "font",
        iconSrc: "❌",
        translationKey: "context-menu.close",
        id: "close",
        default: !0,
        uuid: crypto.randomUUID()
    }
}
  , r9 = {
    namespaced: !0,
    state: () => ({
        options: [],
        visibility: !1,
        widgetVisibility: !0
    }),
    getters: {
        options: t => t.options,
        visibility: t => t.visibility,
        widgetVisibility: t => t.widgetVisibility
    },
    mutations: {
        "set-options"(t, e=[]) {
            t.options = e
        },
        "set-visibility"(t, e=!1) {
            t.visibility = e
        },
        "set-widget-visibility"(t, e=!1) {
            t.widgetVisibility = e
        }
    },
    actions: {
        "perform:close"({commit: t, dispatch: e}) {
            se.add(he.ORIENTATION, !1),
            t("set-widget-visibility", !1),
            e("orientation:status-change", !1)
        },
        "perform:open"({commit: t, dispatch: e}) {
            se.add(he.ORIENTATION, !0),
            t("set-widget-visibility", !0),
            e("orientation:status-change", !0)
        },
        refresh(i) {
            return _(this, arguments, function*({dispatch: t, commit: e}) {
                const s = yield t("get-default");
                e("set-options", s)
            })
        },
        "get-default"() {
            return Object.values(s9).filter(t => t.default === !0)
        },
        open({dispatch: t, commit: e}) {
            t("refresh").then( () => {
                e("set-visibility", !0)
            }
            )
        },
        close({commit: t}) {
            t("set-visibility", !1)
        },
        "orientation:status-change"({rootGetters: t}, e) {
            t["anatomy/application"].publish(k.ui.VIEWER.ORIENTATION, {
                state: e
            })
        }
    }
}
  , n9 = {
    namespaced: !0,
    state: () => ({
        menuIsOpen: !1,
        menuIsPinned: !1,
        displayFeaturePremium: !1,
        shortcutPanelIsOpen: !1,
        displayCrossReferencesPanel: {
            display: !1,
            saveState: !0
        },
        galleryLeftIsOpen: !1,
        canDisplayCrossRefButton: !1,
        structurePanelIsOpen: !1,
        structurePanelActiveTaxonKey: null,
        menuWidth: 0
    }),
    getters: {
        menuIsOpen: t => t.menuIsOpen,
        menuIsPinned: t => t.menuIsPinned,
        displayFeaturePremium: t => t.displayFeaturePremium,
        shortcutPanelIsOpen: t => t.shortcutPanelIsOpen,
        displayCrossReferencesPanel: t => t.displayCrossReferencesPanel,
        galleryLeftIsOpen: t => t.galleryLeftIsOpen,
        canDisplayCrossRefButton: t => t.canDisplayCrossRefButton,
        structurePanelIsOpen: t => t.structurePanelIsOpen,
        structurePanelActiveTaxonKey: t => t.structurePanelActiveTaxonKey,
        "menu-width": t => t.menuWidth,
        activeLeftPanel: t => {
            const e = [];
            return t.structurePanelIsOpen && e.push("structure-panel"),
            t.displayCrossReferencesPanel.display && e.push("cross-references"),
            e
        }
    },
    mutations: {
        "menu:pin"(t, e) {
            t.menuIsPinned = e
        },
        "menu:open"(t, e) {
            t.menuIsOpen = e
        },
        "feature-premium:display"(t) {
            t.displayFeaturePremium = !0
        },
        "feature-premium:hide"(t) {
            t.displayFeaturePremium = !1
        },
        "shortcut-panel:display"(t) {
            t.shortcutPanelIsOpen = !0
        },
        "shortcut-panel:hide"(t) {
            t.shortcutPanelIsOpen = !1
        },
        "cross-references-panel:hide"(t, e) {
            t.displayCrossReferencesPanel = {
                display: !1,
                saveState: e
            }
        },
        "cross-references-panel:show"(t, e) {
            t.displayCrossReferencesPanel = {
                display: !0,
                saveState: e
            }
        },
        "gallery-left:show"(t) {
            t.galleryLeftIsOpen = !0
        },
        "gallery-left:hide"(t) {
            t.galleryLeftIsOpen = !1
        },
        "cross-references-button:display"(t) {
            t.canDisplayCrossRefButton = !0
        },
        "cross-references-button:hide"(t) {
            t.canDisplayCrossRefButton = !1
        },
        "structure-panel:hide"(t) {
            t.structurePanelIsOpen = !1,
            t.structurePanelActiveTaxonKey = null
        },
        "structure-panel:display"(t, e) {
            t.structurePanelIsOpen = !0,
            t.structurePanelActiveTaxonKey = e
        },
        "set-width"(t, e) {
            t.menuWidth = e
        }
    },
    actions: {
        "menu-pin:toggle"({commit: t, getters: e, rootGetters: i}, s) {
            const r = s != null ? s : !e.menuIsPinned;
            t("menu:pin", r);
            const n = i["anatomy/application"];
            n && (n.data.menuIsPinned = r,
            n.publish(k.ui.VIEWER.MENU_STATE_CHANGED, {
                isPinned: r
            }))
        },
        "menu:toggle"({commit: t, getters: e}, i) {
            const s = i != null ? i : !e.menuIsOpen;
            t("menu:open", s)
        },
        "feature-premium:display"({commit: t}) {
            t("feature-premium:display")
        },
        "feature-premium:hide"({commit: t}) {
            t("feature-premium:hide")
        },
        "shortcut-panel:display"({commit: t, rootGetters: e}) {
            t("shortcut-panel:display"),
            e["anatomy/application"].publish(k.ui.SETTINGS.DISPLAY_SHORTCUTS)
        },
        "shortcut-panel:hide"({commit: t}) {
            t("shortcut-panel:hide")
        },
        "cross-references:toggle"({commit: t, getters: e}, i=!0) {
            e.displayCrossReferencesPanel.display ? t("cross-references-panel:hide", i) : t("cross-references-panel:show", i)
        },
        "cross-references:notification"({getters: t, rootGetters: e}, i) {
            e["anatomy/application"].publish(k.ui.VIEWER.CROSS_REFERENCES, {
                placement: i,
                state: t.displayCrossReferencesPanel.display
            })
        },
        "gallery-left:show"({commit: t}) {
            t("gallery-left:show")
        },
        "gallery-left:hide"({commit: t}) {
            t("gallery-left:hide")
        },
        "cross-references-button:authorize-to-display"({commit: t}, e) {
            t(e ? "cross-references-button:display" : "cross-references-button:hide")
        },
        "structure-panel:toggle"({commit: t, getters: e}, i) {
            e.structurePanelIsOpen ? t("structure-panel:hide") : t("structure-panel:display", i)
        },
        "set-width"({commit: t}, e) {
            t("set-width", e)
        }
    }
}
  , a9 = {
    namespaced: !0,
    state: () => ({
        shortcutsList: []
    }),
    getters: {
        shortcutsList: t => t.shortcutsList,
        getShortcutKeyByName: t => e => {
            const i = t.shortcutsList.find(s => s.name === e);
            return typeof i > "u" ? null : typeof i.specificKey < "u" ? i.specificKey : i.key
        }
    },
    mutations: {
        "set-shortcuts"(t, e) {
            t.shortcutsList = e
        },
        "add-shortcut"(t, e) {
            t.shortcutsList.push(e)
        }
    },
    actions: {
        "refresh-shortcuts"({commit: t}) {
            const e = Bh.flatMap(i => typeof i.shortcutKey.components < "u" && i.shortcutKey.components.length > 0 ? i.shortcutKey.components.map(s => ({
                name: i.name,
                translationKey: i.translationKey,
                component: s
            })) : i.shortcutKey.specificKey ? {
                name: i.name,
                translationKey: i.translationKey,
                key: i.shortcutKey.specificKey
            } : i.shortcutKey.keys.split(zh).map(s => ({
                name: i.name,
                translationKey: i.translationKey,
                key: s
            })));
            t("set-shortcuts", Object.freeze(e))
        },
        "add-shortcut"({commit: t}, e) {
            t("add-shortcut", e)
        }
    }
}
  , o9 = {
    namespaced: !0,
    state: () => ({
        viewer: {
            height: null,
            width: null,
            top: 0,
            left: 0
        },
        container: {
            height: null,
            width: null,
            marginLeft: 0
        },
        offsetSizeContainer: 0
    }),
    getters: {
        "viewer-height": t => t.viewer.height,
        "viewer-width": t => t.viewer.width,
        "container-margin-left": t => t.container.marginLeft,
        "viewer-top": t => t.viewer.top,
        "viewer-left": t => t.viewer.left,
        "viewer-offset-size": t => t.offsetSizeContainer,
        "container-width": t => t.container.width,
        "container-height": t => t.container.height
    },
    mutations: {
        "viewer:set-width"(t, e) {
            t.viewer.width = e
        },
        "viewer:set-height"(t, e) {
            t.viewer.height = e
        },
        "container:set-margin-left"(t, e) {
            t.container.marginLeft = e
        },
        "viewer:set-top"(t, e) {
            t.viewer.top = e
        },
        "viewer:set-left"(t, e) {
            t.viewer.left = e
        },
        "viewer:set-offset-size"(t, e) {
            t.offsetSizeContainer = e
        },
        "container:set-width"(t, e) {
            t.container.width = e
        },
        "container:set-height"(t, e) {
            t.container.height = e
        }
    },
    actions: {
        "viewer:set-size"({commit: t}, {width: e, height: i}) {
            t("viewer:set-width", e),
            t("viewer:set-height", i)
        },
        "container:set-margin"({commit: t}, {marginLeft: e}) {
            t("container:set-margin-left", e),
            y.viewerContainer.marginLeft = e
        },
        "viewer:set-top"({commit: t}, e) {
            t("viewer:set-top", e)
        },
        "viewer:set-left"({commit: t}, e) {
            t("viewer:set-left", e)
        },
        "viewer:set-offset-size"({commit: t}, e) {
            t("viewer:set-offset-size", e)
        },
        "container:set-size"({commit: t}, {width: e, height: i}) {
            typeof e < "u" && (t("container:set-width", e),
            y.viewerContainer.width = e),
            typeof i < "u" && (y.viewerContainer.height = i,
            t("container:set-height", i))
        }
    }
}
  , l9 = {
    namespaced: !0,
    state: () => ({
        displayDialog: !1,
        title: "",
        message: "",
        displayCancelButton: !1,
        confirmCallback: null,
        cancelCallback: null,
        input: "",
        inputDialog: !1,
        displayInputError: !1
    }),
    getters: {
        "display-dialog": t => t.displayDialog,
        title: t => t.title,
        message: t => t.message,
        "display-cancel-button": t => t.displayCancelButton,
        input: t => t.input,
        "display-input": t => t.inputDialog,
        "display-input-error": t => t.displayInputError
    },
    mutations: {
        "title:set"(t, e) {
            t.title = e
        },
        "message:set"(t, e) {
            t.message = e
        },
        "cancel-button:display"(t) {
            t.displayCancelButton = !0
        },
        "dialog:display"(t) {
            t.displayDialog = !0
        },
        "dialog:hide"(t) {
            t.displayDialog = !1
        },
        "inputDialog:set"(t, e) {
            t.inputDialog = e
        },
        reset(t) {
            t.title = "",
            t.message = "",
            t.displayCancelButton = !1,
            t.cancelCallback = null,
            t.confirmCallback = null,
            t.input = "",
            t.inputDialog = !1,
            t.displayInputError = !1
        },
        "cancel:set-callback"(t, e) {
            t.cancelCallback = e
        },
        "confirm:set-callback"(t, e) {
            t.confirmCallback = e
        },
        "input:set"(t, e) {
            t.input = e
        },
        "inputError:display"(t) {
            t.displayInputError = !0
        }
    },
    actions: {
        display({commit: t}, {title: e, message: i, displayCancelButton: s=!1, confirmCallback: r=null, cancelCallback: n=null, inputDialog: a=!1}) {
            t("title:set", e),
            t("message:set", i),
            t("inputDialog:set", a),
            s && t("cancel-button:display"),
            t("dialog:display"),
            r !== null && t("confirm:set-callback", r),
            n !== null && t("cancel:set-callback", n)
        },
        hide({commit: t}) {
            t("dialog:hide"),
            t("reset")
        },
        confirm({dispatch: t, state: e}) {
            e.confirmCallback !== null && typeof e.confirmCallback == "function" && e.confirmCallback(),
            t("hide")
        },
        cancel({dispatch: t, state: e}) {
            e.cancelCallback !== null && typeof e.cancelCallback == "function" && e.cancelCallback(),
            t("hide")
        },
        displayError({commit: t}) {
            t("inputError:display")
        }
    }
}
  , c9 = {
    namespaced: !0,
    state: () => ({
        images: new Map
    }),
    mutations: {
        "image:loaded"(t, e) {
            t.images.set(e, !0)
        },
        "image:unload"(t, e) {
            t.images.set(e, !1)
        },
        "update-list-images"(t, e) {
            for (let i = 0; i < e; i++)
                t.images.set(i, !1)
        }
    },
    actions: {
        "image:clear-all"({commit: t, state: e, rootGetters: i}) {
            const s = i["anatomy/application"];
            e.images.forEach( (r, n) => {
                const a = s.isSliceLoaded(n + 1);
                t(a ? "image:loaded" : "image:unload", n)
            }
            )
        },
        "image:loaded"({commit: t}, e) {
            t("image:loaded", e)
        },
        "set-images"({commit: t}, e) {
            t("update-list-images", e)
        }
    }
};
class u9 {
    constructor(e) {
        Ie(this, "application", "");
        Ie(this, "icon", "");
        Ie(this, "taId", null);
        Ie(this, "taxonId", null);
        Ie(this, "structureId", null);
        Ie(this, "label", {
            current: "",
            latin: ""
        });
        Ie(this, "hierarchy", null);
        Ie(this, "structuresLocations", []);
        Ie(this, "description", {
            content: "",
            sources: ""
        });
        Ie(this, "translationPicture", "");
        Ie(this, "structurePageLink", "");
        Ie(this, "latinSynonym", null);
        Ie(this, "synonym", null);
        Ie(this, "frAnc", null);
        Ie(this, "latinEponym", null);
        Ie(this, "eponym", null);
        Ie(this, "acronym", null);
        Ie(this, "relatedTerms", null);
        Ie(this, "appLinks", []);
        this.application = e.application,
        this.icon = e.icon,
        this.taId = e.ta_id,
        this.taxonId = e.taxon_id,
        this.structureId = e.structure_id,
        this.label = e.label,
        this.hierarchy = e.hierarchy,
        this.structuresLocations = e.structures_locations,
        this.description = e.description,
        this.translationPicture = e.translation_picture,
        this.structurePageLink = e.structure_page_link,
        this.latinSynonym = e.latin_synonym,
        this.synonym = e.synonym,
        this.frAnc = e.fr_anc,
        this.latinEponym = e.latin_eponym,
        this.eponym = e.eponym,
        this.acronym = e.acronym,
        this.relatedTerms = e.related_terms,
        this.appLinks = e.app_links
    }
}
const d9 = {
    namespaced: !0,
    state: () => ({
        application: "",
        icon: "",
        taId: null,
        taxonId: null,
        structureId: null,
        label: {
            current: "",
            latin: ""
        },
        hierarchy: null,
        structuresLocations: [],
        description: {
            content: "",
            sources: ""
        },
        translationPicture: "",
        structurePageLink: "",
        latinSynonym: null,
        synonym: null,
        frAnc: null,
        latinEponym: null,
        eponym: null,
        acronym: null,
        relatedTerms: null,
        appLinks: []
    }),
    getters: {
        isLoaded: t => t.structureId !== null
    },
    mutations: {
        "fill-structure"(t, e) {
            for (let i in e)
                t.hasOwnProperty(i) && Te.set(t, i, e[i])
        }
    },
    actions: {
        "fill-structure"({commit: t, rootGetters: e}, i) {
            const s = y.getSiteAccess()
              , r = e["anatomy/application_id"]
              , n = e["anatomy/currentLanguageId"]()
              , a = y.isDarkMode() ? 1 : 0;
            return re.fetch(`${re.baseURL}/${s}/api/${r}/anatomical-parts/web/${i}/${n}/${a}`).then(o => o.json()).then(o => {
                t("fill-structure", new u9(o))
            }
            )
        }
    }
}
  , $u = 15
  , h9 = {
    namespaced: !0,
    state: () => ({
        structuresLocations: [],
        hasRequestedData: !1,
        display: !1,
        isLoading: !1,
        structureId: null,
        imaiosCode: "",
        langId: null,
        moduleName: "",
        nbLoadedImages: 0,
        selectedSeries: -1,
        galleryOpened: !1,
        previewImagesLoaded: !1
    }),
    getters: {
        nbImages: t => t.structuresLocations.reduce( (e, i) => e + i.nb_images, 0),
        isSameStructure: t => (e, i, s) => t.structureId === e && t.imaiosCode === i && t.langId === s,
        previewImages: t => t.structuresLocations.flatMap(e => e.slices.map(i => ({
            index: i.index,
            url: i.url,
            background: e.background
        }))).slice(0, $u),
        allImagesLoaded: t => t.nbLoadedImages === t.structuresLocations.reduce( (e, i) => e + i.nb_images, 0),
        allPreviewImagesLoaded: (t, e) => t.hasRequestedData && (t.previewImagesLoaded || e.previewImages.length === 0),
        canSeeMoreImages: (t, e) => e.nbImages >= $u
    },
    mutations: {
        "structuresLocations:reset"(t) {
            t.structuresLocations = [],
            t.hasRequestedData = !1
        },
        "fill-structures-locations"(t, {structuresLocations: e, imaiosCode: i, langId: s, structureId: r, moduleName: n}) {
            t.galleryOpened = !1,
            t.nbLoadedImages = 0,
            t.structuresLocations = e,
            t.imaiosCode = i,
            t.langId = s,
            t.structureId = r,
            t.moduleName = n,
            t.hasRequestedData = !0
        },
        "imaiosCode:set"(t, e) {
            t.imaiosCode = e
        },
        "moduleName:set"(t, e) {
            t.moduleName = e
        },
        "langId:set"(t, e) {
            t.langId = e
        },
        "structureId:set"(t, e) {
            t.structureId = e
        },
        "selectedSeries:set"(t, e) {
            t.selectedSeries = e
        },
        startLoading(t) {
            t.isLoading = !0
        },
        stopLoading(t) {
            t.isLoading = !1
        },
        display(t) {
            t.display = !0
        },
        hide(t) {
            t.display = !1
        },
        "nbLoadedImages:rest"(t) {
            t.nbLoadedImages = 0
        },
        "nbLoadedImages:increment"(t) {
            t.nbLoadedImages += 1
        },
        "gallery-opened"(t) {
            t.galleryOpened = !0
        },
        "previewImagesLoaded:set"(t, e) {
            t.previewImagesLoaded = e
        },
        reset(t) {
            t.structuresLocations = [],
            t.isLoading = !1,
            t.structureId = null,
            t.imaiosCode = "",
            t.langId = null,
            t.moduleName = "",
            t.selectedSeries = -1,
            t.galleryOpened = !1,
            t.nbLoadedImages = 0,
            t.hasRequestedData = !1
        }
    },
    actions: {
        startLoading({commit: t}) {
            t("startLoading")
        },
        stopLoading({commit: t}) {
            t("stopLoading")
        },
        openGallery({commit: t, dispatch: e}) {
            e("structure-in-other-modules-gallery/closeGallery", null, {
                root: !0
            }),
            t("display")
        },
        fillStructuresLocations({commit: t, rootGetters: e, state: i, getters: s}, {imaiosCode: r, structureId: n, limited: a=!1}) {
            const o = e["anatomy/currentLanguageId"]()
              , l = y.getSiteAccess()
              , c = e["anatomy/application_id"];
            if (s.isSameStructure(n, r, o) && i.galleryOpened || !s.canSeeMoreImages && i.display)
                return;
            const u = `${re.baseURL}/${l}/api/${c}/anatomical-parts/web/gallery/${r}/${n}/${o}`;
            return a && (t("structuresLocations:reset"),
            t("previewImagesLoaded:set", !1)),
            re.fetch(u + (a ? "/limited" : "")).then(h => h.json()).then(h => {
                const d = h.structures_locations.map(m => (m.id = crypto.randomUUID(),
                m));
                t("fill-structures-locations", {
                    structuresLocations: d,
                    imaiosCode: h.imaios_code,
                    langId: h.lang_id,
                    structureId: h.structure_id,
                    moduleName: h.module_name
                }),
                a || t("gallery-opened")
            }
            )
        },
        selectSeries({commit: t}, e) {
            t("selectedSeries:set", e)
        },
        closeGallery({commit: t}) {
            t("hide")
        },
        imageLoaded({commit: t}) {
            t("nbLoadedImages:increment")
        },
        setPreviewImagesLoaded({commit: t}, e) {
            t("previewImagesLoaded:set", e)
        },
        reset({commit: t}) {
            t("reset")
        }
    }
}
  , p9 = {
    namespaced: !0,
    state: () => ({
        structuresLocations: [],
        display: !1,
        structureId: null,
        imaiosCode: "",
        langId: null,
        moduleName: "",
        nbLoadedImages: 0
    }),
    getters: {
        nbImages: t => t.structuresLocations.length,
        structuresNotInCurrentModule(t, e, i) {
            const s = i.anatomy.module_id;
            return t.structuresLocations.filter(r => r.imaios_code !== s)
        },
        getModulesExcludingCurrent: (t, e) => {
            const i = []
              , s = new Set;
            for (const r of e.structuresNotInCurrentModule)
                s.has(r.imaios_code) || (i.push(r),
                s.add(r.imaios_code));
            return i
        }
    },
    mutations: {
        "fill-structures-locations"(t, e) {
            t.structuresLocations = e
        },
        "moduleName:set"(t, e) {
            t.moduleName = e
        },
        display(t, {imaiosCode: e, langId: i, structureId: s}) {
            t.display = !0,
            t.imaiosCode = e,
            t.langId = i,
            t.structureId = s
        },
        hide(t) {
            t.display = !1
        },
        reset(t) {
            t.structuresLocations = [],
            t.nbLoadedImages = 0
        }
    },
    actions: {
        openGallery({commit: t, dispatch: e}, {imaiosCode: i, langId: s=null, structureId: r=null}) {
            e("structure-in-this-module-gallery/closeGallery", null, {
                root: !0
            }),
            t("display", {
                imaiosCode: i,
                langId: s,
                structureId: r
            })
        },
        displayInOtherModuleGallery({commit: t, dispatch: e, rootState: i}) {
            const s = i["structure-details"].structuresLocations
              , r = i.anatomy.module_id;
            s.length !== 0 && (t("reset"),
            e("openGallery", {
                imaiosCode: r
            }),
            t("fill-structures-locations", s.map(n => (n.id = crypto.randomUUID(),
            n))))
        },
        closeGallery({commit: t}) {
            t("hide"),
            t("reset")
        }
    }
};
Te.use(bp);
const Rp = new bp.Store({
    state: {
        isLoading: !0,
        loadingMessage: ""
    },
    getters: {},
    mutations: {
        startLoading(t, e) {
            t.isLoading = !0,
            t.loadingMessage = e
        },
        stopLoading(t) {
            t.isLoading = !1,
            t.loadingMessage = ""
        },
        setLoadingMessage(t, e) {
            t.loadingMessage = e
        }
    },
    actions: {
        applicationIsCreated({commit: t}) {
            t("stopLoading")
        }
    },
    modules: {
        anatomy: q_,
        action: J_,
        menu: n9,
        "cross-references": e9,
        "core-context-menu": i9,
        "orientation-context-menu": r9,
        shortcut: a9,
        viewer: o9,
        "dialog-popup": l9,
        image: c9,
        "structure-details": d9,
        "structure-in-this-module-gallery": h9,
        "structure-in-other-modules-gallery": p9
    }
});
/*!
 * vue-i18n v8.28.2 
 * (c) 2022 kazuya kawaguchi
 * Released under the MIT License.
 */
var Pp = ["compactDisplay", "currency", "currencyDisplay", "currencySign", "localeMatcher", "notation", "numberingSystem", "signDisplay", "style", "unit", "unitDisplay", "useGrouping", "minimumIntegerDigits", "minimumFractionDigits", "maximumFractionDigits", "minimumSignificantDigits", "maximumSignificantDigits"]
  , m9 = ["dateStyle", "timeStyle", "calendar", "localeMatcher", "hour12", "hourCycle", "timeZone", "formatMatcher", "weekday", "era", "year", "month", "day", "hour", "minute", "second", "timeZoneName"];
function xs(t, e) {
    typeof console < "u"
}
function g9(t, e) {
    typeof console < "u"
}
var Qt = Array.isArray;
function Tt(t) {
    return t !== null && typeof t == "object"
}
function f9(t) {
    return typeof t == "boolean"
}
function $e(t) {
    return typeof t == "string"
}
var v9 = Object.prototype.toString
  , y9 = "[object Object]";
function Kt(t) {
    return v9.call(t) === y9
}
function ct(t) {
    return t == null
}
function Uo(t) {
    return typeof t == "function"
}
function $n() {
    for (var t = [], e = arguments.length; e--; )
        t[e] = arguments[e];
    var i = null
      , s = null;
    return t.length === 1 ? Tt(t[0]) || Qt(t[0]) ? s = t[0] : typeof t[0] == "string" && (i = t[0]) : t.length === 2 && (typeof t[0] == "string" && (i = t[0]),
    (Tt(t[1]) || Qt(t[1])) && (s = t[1])),
    {
        locale: i,
        params: s
    }
}
function Fs(t) {
    return JSON.parse(JSON.stringify(t))
}
function E9(t, e) {
    if (t.delete(e))
        return t
}
function I9(t) {
    var e = [];
    return t.forEach(function(i) {
        return e.push(i)
    }),
    e
}
function wr(t, e) {
    return !!~t.indexOf(e)
}
var C9 = Object.prototype.hasOwnProperty;
function b9(t, e) {
    return C9.call(t, e)
}
function ji(t) {
    for (var e = arguments, i = Object(t), s = 1; s < arguments.length; s++) {
        var r = e[s];
        if (r != null) {
            var n = void 0;
            for (n in r)
                b9(r, n) && (Tt(r[n]) ? i[n] = ji(i[n], r[n]) : i[n] = r[n])
        }
    }
    return i
}
function wn(t, e) {
    if (t === e)
        return !0;
    var i = Tt(t)
      , s = Tt(e);
    if (i && s)
        try {
            var r = Qt(t)
              , n = Qt(e);
            if (r && n)
                return t.length === e.length && t.every(function(l, c) {
                    return wn(l, e[c])
                });
            if (!r && !n) {
                var a = Object.keys(t)
                  , o = Object.keys(e);
                return a.length === o.length && a.every(function(l) {
                    return wn(t[l], e[l])
                })
            } else
                return !1
        } catch (l) {
            return !1
        }
    else
        return !i && !s ? String(t) === String(e) : !1
}
function S9(t) {
    return t.replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&apos;")
}
function T9(t) {
    return t != null && Object.keys(t).forEach(function(e) {
        typeof t[e] == "string" && (t[e] = S9(t[e]))
    }),
    t
}
function A9(t) {
    t.prototype.hasOwnProperty("$i18n") || Object.defineProperty(t.prototype, "$i18n", {
        get: function() {
            return this._i18n
        }
    }),
    t.prototype.$t = function(e) {
        for (var i = [], s = arguments.length - 1; s-- > 0; )
            i[s] = arguments[s + 1];
        var r = this.$i18n;
        return r._t.apply(r, [e, r.locale, r._getMessages(), this].concat(i))
    }
    ,
    t.prototype.$tc = function(e, i) {
        for (var s = [], r = arguments.length - 2; r-- > 0; )
            s[r] = arguments[r + 2];
        var n = this.$i18n;
        return n._tc.apply(n, [e, n.locale, n._getMessages(), this, i].concat(s))
    }
    ,
    t.prototype.$te = function(e, i) {
        var s = this.$i18n;
        return s._te(e, s.locale, s._getMessages(), i)
    }
    ,
    t.prototype.$d = function(e) {
        for (var i, s = [], r = arguments.length - 1; r-- > 0; )
            s[r] = arguments[r + 1];
        return (i = this.$i18n).d.apply(i, [e].concat(s))
    }
    ,
    t.prototype.$n = function(e) {
        for (var i, s = [], r = arguments.length - 1; r-- > 0; )
            s[r] = arguments[r + 1];
        return (i = this.$i18n).n.apply(i, [e].concat(s))
    }
}
function w9(t) {
    t === void 0 && (t = !1);
    function e() {
        this !== this.$root && this.$options.__INTLIFY_META__ && this.$el && this.$el.setAttribute("data-intlify", this.$options.__INTLIFY_META__)
    }
    return t ? {
        mounted: e
    } : {
        beforeCreate: function() {
            var i = this.$options;
            if (i.i18n = i.i18n || (i.__i18nBridge || i.__i18n ? {} : null),
            i.i18n) {
                if (i.i18n instanceof V) {
                    if (i.__i18nBridge || i.__i18n)
                        try {
                            var s = i.i18n && i.i18n.messages ? i.i18n.messages : {}
                              , r = i.__i18nBridge || i.__i18n;
                            r.forEach(function(u) {
                                s = ji(s, JSON.parse(u))
                            }),
                            Object.keys(s).forEach(function(u) {
                                i.i18n.mergeLocaleMessage(u, s[u])
                            })
                        } catch (u) {}
                    this._i18n = i.i18n,
                    this._i18nWatcher = this._i18n.watchI18nData()
                } else if (Kt(i.i18n)) {
                    var n = this.$root && this.$root.$i18n && this.$root.$i18n instanceof V ? this.$root.$i18n : null;
                    if (n && (i.i18n.root = this.$root,
                    i.i18n.formatter = n.formatter,
                    i.i18n.fallbackLocale = n.fallbackLocale,
                    i.i18n.formatFallbackMessages = n.formatFallbackMessages,
                    i.i18n.silentTranslationWarn = n.silentTranslationWarn,
                    i.i18n.silentFallbackWarn = n.silentFallbackWarn,
                    i.i18n.pluralizationRules = n.pluralizationRules,
                    i.i18n.preserveDirectiveContent = n.preserveDirectiveContent),
                    i.__i18nBridge || i.__i18n)
                        try {
                            var a = i.i18n && i.i18n.messages ? i.i18n.messages : {}
                              , o = i.__i18nBridge || i.__i18n;
                            o.forEach(function(u) {
                                a = ji(a, JSON.parse(u))
                            }),
                            i.i18n.messages = a
                        } catch (u) {}
                    var l = i.i18n
                      , c = l.sharedMessages;
                    c && Kt(c) && (i.i18n.messages = ji(i.i18n.messages, c)),
                    this._i18n = new V(i.i18n),
                    this._i18nWatcher = this._i18n.watchI18nData(),
                    (i.i18n.sync === void 0 || i.i18n.sync) && (this._localeWatcher = this.$i18n.watchLocale()),
                    n && n.onComponentInstanceCreated(this._i18n)
                }
            } else
                this.$root && this.$root.$i18n && this.$root.$i18n instanceof V ? this._i18n = this.$root.$i18n : i.parent && i.parent.$i18n && i.parent.$i18n instanceof V && (this._i18n = i.parent.$i18n)
        },
        beforeMount: function() {
            var i = this.$options;
            i.i18n = i.i18n || (i.__i18nBridge || i.__i18n ? {} : null),
            i.i18n ? i.i18n instanceof V ? (this._i18n.subscribeDataChanging(this),
            this._subscribing = !0) : Kt(i.i18n) && (this._i18n.subscribeDataChanging(this),
            this._subscribing = !0) : this.$root && this.$root.$i18n && this.$root.$i18n instanceof V ? (this._i18n.subscribeDataChanging(this),
            this._subscribing = !0) : i.parent && i.parent.$i18n && i.parent.$i18n instanceof V && (this._i18n.subscribeDataChanging(this),
            this._subscribing = !0)
        },
        mounted: e,
        beforeDestroy: function() {
            if (this._i18n) {
                var i = this;
                this.$nextTick(function() {
                    i._subscribing && (i._i18n.unsubscribeDataChanging(i),
                    delete i._subscribing),
                    i._i18nWatcher && (i._i18nWatcher(),
                    i._i18n.destroyVM(),
                    delete i._i18nWatcher),
                    i._localeWatcher && (i._localeWatcher(),
                    delete i._localeWatcher)
                })
            }
        }
    }
}
var ju = {
    name: "i18n",
    functional: !0,
    props: {
        tag: {
            type: [String, Boolean, Object],
            default: "span"
        },
        path: {
            type: String,
            required: !0
        },
        locale: {
            type: String
        },
        places: {
            type: [Array, Object]
        }
    },
    render: function(t, e) {
        var i = e.data
          , s = e.parent
          , r = e.props
          , n = e.slots
          , a = s.$i18n;
        if (a) {
            var o = r.path
              , l = r.locale
              , c = r.places
              , u = n()
              , h = a.i(o, l, _9(u) || c ? L9(u.default, c) : u)
              , d = r.tag && r.tag !== !0 || r.tag === !1 ? r.tag : "span";
            return d ? t(d, i, h) : h
        }
    }
};
function _9(t) {
    var e;
    for (e in t)
        if (e !== "default")
            return !1;
    return !!e
}
function L9(t, e) {
    var i = e ? O9(e) : {};
    if (!t)
        return i;
    t = t.filter(function(r) {
        return r.tag || r.text.trim() !== ""
    });
    var s = t.every(M9);
    return t.reduce(s ? x9 : Dp, i)
}
function O9(t) {
    return Array.isArray(t) ? t.reduce(Dp, {}) : Object.assign({}, t)
}
function x9(t, e) {
    return e.data && e.data.attrs && e.data.attrs.place && (t[e.data.attrs.place] = e),
    t
}
function Dp(t, e, i) {
    return t[i] = e,
    t
}
function M9(t) {
    return !!(t.data && t.data.attrs && t.data.attrs.place)
}
var Yu = {
    name: "i18n-n",
    functional: !0,
    props: {
        tag: {
            type: [String, Boolean, Object],
            default: "span"
        },
        value: {
            type: Number,
            required: !0
        },
        format: {
            type: [String, Object]
        },
        locale: {
            type: String
        }
    },
    render: function(t, e) {
        var i = e.props
          , s = e.parent
          , r = e.data
          , n = s.$i18n;
        if (!n)
            return null;
        var a = null
          , o = null;
        $e(i.format) ? a = i.format : Tt(i.format) && (i.format.key && (a = i.format.key),
        o = Object.keys(i.format).reduce(function(d, m) {
            var p;
            return wr(Pp, m) ? Object.assign({}, d, (p = {},
            p[m] = i.format[m],
            p)) : d
        }, null));
        var l = i.locale || n.locale
          , c = n._ntp(i.value, l, a, o)
          , u = c.map(function(d, m) {
            var p, f = r.scopedSlots && r.scopedSlots[d.type];
            return f ? f((p = {},
            p[d.type] = d.value,
            p.index = m,
            p.parts = c,
            p)) : d.value
        })
          , h = i.tag && i.tag !== !0 || i.tag === !1 ? i.tag : "span";
        return h ? t(h, {
            attrs: r.attrs,
            class: r.class,
            staticClass: r.staticClass
        }, u) : u
    }
};
function N9(t, e, i) {
    kp(t, i) && Hp(t, e, i)
}
function R9(t, e, i, s) {
    if (kp(t, i)) {
        var r = i.context.$i18n;
        D9(t, i) && wn(e.value, e.oldValue) && wn(t._localeMessage, r.getLocaleMessage(r.locale)) || Hp(t, e, i)
    }
}
function P9(t, e, i, s) {
    var r = i.context;
    if (!r) {
        xs("Vue instance does not exists in VNode context");
        return
    }
    var n = i.context.$i18n || {};
    !e.modifiers.preserve && !n.preserveDirectiveContent && (t.textContent = ""),
    t._vt = void 0,
    delete t._vt,
    t._locale = void 0,
    delete t._locale,
    t._localeMessage = void 0,
    delete t._localeMessage
}
function kp(t, e) {
    var i = e.context;
    return i ? i.$i18n ? !0 : (xs("VueI18n instance does not exists in Vue instance"),
    !1) : (xs("Vue instance does not exists in VNode context"),
    !1)
}
function D9(t, e) {
    var i = e.context;
    return t._locale === i.$i18n.locale
}
function Hp(t, e, i) {
    var s, r, n = e.value, a = k9(n), o = a.path, l = a.locale, c = a.args, u = a.choice;
    if (!o && !l && !c) {
        xs("value type not supported");
        return
    }
    if (!o) {
        xs("`path` is required in v-t directive");
        return
    }
    var h = i.context;
    u != null ? t._vt = t.textContent = (s = h.$i18n).tc.apply(s, [o, u].concat(Wu(l, c))) : t._vt = t.textContent = (r = h.$i18n).t.apply(r, [o].concat(Wu(l, c))),
    t._locale = h.$i18n.locale,
    t._localeMessage = h.$i18n.getLocaleMessage(h.$i18n.locale)
}
function k9(t) {
    var e, i, s, r;
    return $e(t) ? e = t : Kt(t) && (e = t.path,
    i = t.locale,
    s = t.args,
    r = t.choice),
    {
        path: e,
        locale: i,
        args: s,
        choice: r
    }
}
function Wu(t, e) {
    var i = [];
    return t && i.push(t),
    e && (Array.isArray(e) || Kt(e)) && i.push(e),
    i
}
var tt;
function jl(t, e) {
    e === void 0 && (e = {
        bridge: !1
    }),
    jl.installed = !0,
    tt = t,
    tt.version && Number(tt.version.split(".")[0]),
    A9(tt),
    tt.mixin(w9(e.bridge)),
    tt.directive("t", {
        bind: N9,
        update: R9,
        unbind: P9
    }),
    tt.component(ju.name, ju),
    tt.component(Yu.name, Yu);
    var i = tt.config.optionMergeStrategies;
    i.i18n = function(s, r) {
        return r === void 0 ? s : r
    }
}
var zp = function() {
    this._caches = Object.create(null)
};
zp.prototype.interpolate = function(t, e) {
    if (!e)
        return [t];
    var i = this._caches[t];
    return i || (i = B9(t),
    this._caches[t] = i),
    F9(i, e)
}
;
var H9 = /^(?:\d)+/
  , z9 = /^(?:\w)+/;
function B9(t) {
    for (var e = [], i = 0, s = ""; i < t.length; ) {
        var r = t[i++];
        if (r === "{") {
            s && e.push({
                type: "text",
                value: s
            }),
            s = "";
            var n = "";
            for (r = t[i++]; r !== void 0 && r !== "}"; )
                n += r,
                r = t[i++];
            var a = r === "}"
              , o = H9.test(n) ? "list" : a && z9.test(n) ? "named" : "unknown";
            e.push({
                value: n,
                type: o
            })
        } else
            r === "%" ? t[i] !== "{" && (s += r) : s += r
    }
    return s && e.push({
        type: "text",
        value: s
    }),
    e
}
function F9(t, e) {
    var i = []
      , s = 0
      , r = Array.isArray(e) ? "list" : Tt(e) ? "named" : "unknown";
    if (r === "unknown")
        return i;
    for (; s < t.length; ) {
        var n = t[s];
        switch (n.type) {
        case "text":
            i.push(n.value);
            break;
        case "list":
            i.push(e[parseInt(n.value, 10)]);
            break;
        case "named":
            r === "named" && i.push(e[n.value]);
            break
        }
        s++
    }
    return i
}
var Ge = 0
  , bs = 1
  , Bp = 2
  , Fp = 3
  , Go = 0
  , _n = 1
  , Ln = 2
  , pi = 3
  , ii = 4
  , On = 5
  , xn = 6
  , jn = 7
  , pr = 8
  , _i = [];
_i[Go] = {
    ws: [Go],
    ident: [pi, Ge],
    "[": [ii],
    eof: [jn]
};
_i[_n] = {
    ws: [_n],
    ".": [Ln],
    "[": [ii],
    eof: [jn]
};
_i[Ln] = {
    ws: [Ln],
    ident: [pi, Ge],
    0: [pi, Ge],
    number: [pi, Ge]
};
_i[pi] = {
    ident: [pi, Ge],
    0: [pi, Ge],
    number: [pi, Ge],
    ws: [_n, bs],
    ".": [Ln, bs],
    "[": [ii, bs],
    eof: [jn, bs]
};
_i[ii] = {
    "'": [On, Ge],
    '"': [xn, Ge],
    "[": [ii, Bp],
    "]": [_n, Fp],
    eof: pr,
    else: [ii, Ge]
};
_i[On] = {
    "'": [ii, Ge],
    eof: pr,
    else: [On, Ge]
};
_i[xn] = {
    '"': [ii, Ge],
    eof: pr,
    else: [xn, Ge]
};
var V9 = /^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;
function U9(t) {
    return V9.test(t)
}
function G9(t) {
    var e = t.charCodeAt(0)
      , i = t.charCodeAt(t.length - 1);
    return e === i && (e === 34 || e === 39) ? t.slice(1, -1) : t
}
function $9(t) {
    if (t == null)
        return "eof";
    var e = t.charCodeAt(0);
    switch (e) {
    case 91:
    case 93:
    case 46:
    case 34:
    case 39:
        return t;
    case 95:
    case 36:
    case 45:
        return "ident";
    case 9:
    case 10:
    case 13:
    case 160:
    case 65279:
    case 8232:
    case 8233:
        return "ws"
    }
    return "ident"
}
function j9(t) {
    var e = t.trim();
    return t.charAt(0) === "0" && isNaN(t) ? !1 : U9(e) ? G9(e) : "*" + e
}
function Y9(t) {
    var e = [], i = -1, s = Go, r = 0, n, a, o, l, c, u, h, d = [];
    d[bs] = function() {
        a !== void 0 && (e.push(a),
        a = void 0)
    }
    ,
    d[Ge] = function() {
        a === void 0 ? a = o : a += o
    }
    ,
    d[Bp] = function() {
        d[Ge](),
        r++
    }
    ,
    d[Fp] = function() {
        if (r > 0)
            r--,
            s = ii,
            d[Ge]();
        else {
            if (r = 0,
            a === void 0 || (a = j9(a),
            a === !1))
                return !1;
            d[bs]()
        }
    }
    ;
    function m() {
        var p = t[i + 1];
        if (s === On && p === "'" || s === xn && p === '"')
            return i++,
            o = "\\" + p,
            d[Ge](),
            !0
    }
    for (; s !== null; )
        if (i++,
        n = t[i],
        !(n === "\\" && m())) {
            if (l = $9(n),
            h = _i[s],
            c = h[l] || h.else || pr,
            c === pr || (s = c[0],
            u = d[c[1]],
            u && (o = c[2],
            o = o === void 0 ? n : o,
            u() === !1)))
                return;
            if (s === jn)
                return e
        }
}
var Yl = function() {
    this._cache = Object.create(null)
};
Yl.prototype.parsePath = function(t) {
    var e = this._cache[t];
    return e || (e = Y9(t),
    e && (this._cache[t] = e)),
    e || []
}
;
Yl.prototype.getPathValue = function(t, e) {
    if (!Tt(t))
        return null;
    var i = this.parsePath(e);
    if (i.length === 0)
        return null;
    for (var s = i.length, r = t, n = 0; n < s; ) {
        var a = r[i[n]];
        if (a == null)
            return null;
        r = a,
        n++
    }
    return r
}
;
var W9 = /<\/?[\w\s="/.':;#-\/]+>/
  , K9 = /(?:@(?:\.[a-zA-Z]+)?:(?:[\w\-_|./]+|\([\w\-_:|./]+\)))/g
  , Z9 = /^@(?:\.([a-zA-Z]+))?:/
  , Q9 = /[()]/g
  , Ku = {
    upper: function(t) {
        return t.toLocaleUpperCase()
    },
    lower: function(t) {
        return t.toLocaleLowerCase()
    },
    capitalize: function(t) {
        return "" + t.charAt(0).toLocaleUpperCase() + t.substr(1)
    }
}
  , $o = new zp
  , V = function(t) {
    var e = this;
    t === void 0 && (t = {}),
    !tt && typeof window < "u" && window.Vue && jl(window.Vue);
    var i = t.locale || "en-US"
      , s = t.fallbackLocale === !1 ? !1 : t.fallbackLocale || "en-US"
      , r = t.messages || {}
      , n = t.dateTimeFormats || t.datetimeFormats || {}
      , a = t.numberFormats || {};
    this._vm = null,
    this._formatter = t.formatter || $o,
    this._modifiers = t.modifiers || {},
    this._missing = t.missing || null,
    this._root = t.root || null,
    this._sync = t.sync === void 0 ? !0 : !!t.sync,
    this._fallbackRoot = t.fallbackRoot === void 0 ? !0 : !!t.fallbackRoot,
    this._fallbackRootWithEmptyString = t.fallbackRootWithEmptyString === void 0 ? !0 : !!t.fallbackRootWithEmptyString,
    this._formatFallbackMessages = t.formatFallbackMessages === void 0 ? !1 : !!t.formatFallbackMessages,
    this._silentTranslationWarn = t.silentTranslationWarn === void 0 ? !1 : t.silentTranslationWarn,
    this._silentFallbackWarn = t.silentFallbackWarn === void 0 ? !1 : !!t.silentFallbackWarn,
    this._dateTimeFormatters = {},
    this._numberFormatters = {},
    this._path = new Yl,
    this._dataListeners = new Set,
    this._componentInstanceCreatedListener = t.componentInstanceCreatedListener || null,
    this._preserveDirectiveContent = t.preserveDirectiveContent === void 0 ? !1 : !!t.preserveDirectiveContent,
    this.pluralizationRules = t.pluralizationRules || {},
    this._warnHtmlInMessage = t.warnHtmlInMessage || "off",
    this._postTranslation = t.postTranslation || null,
    this._escapeParameterHtml = t.escapeParameterHtml || !1,
    "__VUE_I18N_BRIDGE__"in t && (this.__VUE_I18N_BRIDGE__ = t.__VUE_I18N_BRIDGE__),
    this.getChoiceIndex = function(o, l) {
        var c = Object.getPrototypeOf(e);
        if (c && c.getChoiceIndex) {
            var u = c.getChoiceIndex;
            return u.call(e, o, l)
        }
        var h = function(d, m) {
            return d = Math.abs(d),
            m === 2 ? d ? d > 1 ? 1 : 0 : 1 : d ? Math.min(d, 2) : 0
        };
        return e.locale in e.pluralizationRules ? e.pluralizationRules[e.locale].apply(e, [o, l]) : h(o, l)
    }
    ,
    this._exist = function(o, l) {
        return !o || !l ? !1 : !!(!ct(e._path.getPathValue(o, l)) || o[l])
    }
    ,
    (this._warnHtmlInMessage === "warn" || this._warnHtmlInMessage === "error") && Object.keys(r).forEach(function(o) {
        e._checkLocaleMessage(o, e._warnHtmlInMessage, r[o])
    }),
    this._initVM({
        locale: i,
        fallbackLocale: s,
        messages: r,
        dateTimeFormats: n,
        numberFormats: a
    })
}
  , Ae = {
    vm: {
        configurable: !0
    },
    messages: {
        configurable: !0
    },
    dateTimeFormats: {
        configurable: !0
    },
    numberFormats: {
        configurable: !0
    },
    availableLocales: {
        configurable: !0
    },
    locale: {
        configurable: !0
    },
    fallbackLocale: {
        configurable: !0
    },
    formatFallbackMessages: {
        configurable: !0
    },
    missing: {
        configurable: !0
    },
    formatter: {
        configurable: !0
    },
    silentTranslationWarn: {
        configurable: !0
    },
    silentFallbackWarn: {
        configurable: !0
    },
    preserveDirectiveContent: {
        configurable: !0
    },
    warnHtmlInMessage: {
        configurable: !0
    },
    postTranslation: {
        configurable: !0
    },
    sync: {
        configurable: !0
    }
};
V.prototype._checkLocaleMessage = function(t, e, i) {
    var s = []
      , r = function(n, a, o, l) {
        if (Kt(o))
            Object.keys(o).forEach(function(h) {
                var d = o[h];
                Kt(d) ? (l.push(h),
                l.push("."),
                r(n, a, d, l),
                l.pop(),
                l.pop()) : (l.push(h),
                r(n, a, d, l),
                l.pop())
            });
        else if (Qt(o))
            o.forEach(function(h, d) {
                Kt(h) ? (l.push("[" + d + "]"),
                l.push("."),
                r(n, a, h, l),
                l.pop(),
                l.pop()) : (l.push("[" + d + "]"),
                r(n, a, h, l),
                l.pop())
            });
        else if ($e(o)) {
            var c = W9.test(o);
            if (c) {
                var u = "Detected HTML in message '" + o + "' of keypath '" + l.join("") + "' at '" + a + "'. Consider component interpolation with '<i18n>' to avoid XSS. See https://bit.ly/2ZqJzkp";
                n === "warn" ? xs(u) : n === "error" && g9(u)
            }
        }
    };
    r(e, t, i, s)
}
;
V.prototype._initVM = function(t) {
    var e = tt.config.silent;
    tt.config.silent = !0,
    this._vm = new tt({
        data: t,
        __VUE18N__INSTANCE__: !0
    }),
    tt.config.silent = e
}
;
V.prototype.destroyVM = function() {
    this._vm.$destroy()
}
;
V.prototype.subscribeDataChanging = function(t) {
    this._dataListeners.add(t)
}
;
V.prototype.unsubscribeDataChanging = function(t) {
    E9(this._dataListeners, t)
}
;
V.prototype.watchI18nData = function() {
    var t = this;
    return this._vm.$watch("$data", function() {
        for (var e = I9(t._dataListeners), i = e.length; i--; )
            tt.nextTick(function() {
                e[i] && e[i].$forceUpdate()
            })
    }, {
        deep: !0
    })
}
;
V.prototype.watchLocale = function(t) {
    if (t) {
        if (!this.__VUE_I18N_BRIDGE__)
            return null;
        var e = this
          , i = this._vm;
        return this.vm.$watch("locale", function(r) {
            i.$set(i, "locale", r),
            e.__VUE_I18N_BRIDGE__ && t && (t.locale.value = r),
            i.$forceUpdate()
        }, {
            immediate: !0
        })
    } else {
        if (!this._sync || !this._root)
            return null;
        var s = this._vm;
        return this._root.$i18n.vm.$watch("locale", function(r) {
            s.$set(s, "locale", r),
            s.$forceUpdate()
        }, {
            immediate: !0
        })
    }
}
;
V.prototype.onComponentInstanceCreated = function(t) {
    this._componentInstanceCreatedListener && this._componentInstanceCreatedListener(t, this)
}
;
Ae.vm.get = function() {
    return this._vm
}
;
Ae.messages.get = function() {
    return Fs(this._getMessages())
}
;
Ae.dateTimeFormats.get = function() {
    return Fs(this._getDateTimeFormats())
}
;
Ae.numberFormats.get = function() {
    return Fs(this._getNumberFormats())
}
;
Ae.availableLocales.get = function() {
    return Object.keys(this.messages).sort()
}
;
Ae.locale.get = function() {
    return this._vm.locale
}
;
Ae.locale.set = function(t) {
    this._vm.$set(this._vm, "locale", t)
}
;
Ae.fallbackLocale.get = function() {
    return this._vm.fallbackLocale
}
;
Ae.fallbackLocale.set = function(t) {
    this._localeChainCache = {},
    this._vm.$set(this._vm, "fallbackLocale", t)
}
;
Ae.formatFallbackMessages.get = function() {
    return this._formatFallbackMessages
}
;
Ae.formatFallbackMessages.set = function(t) {
    this._formatFallbackMessages = t
}
;
Ae.missing.get = function() {
    return this._missing
}
;
Ae.missing.set = function(t) {
    this._missing = t
}
;
Ae.formatter.get = function() {
    return this._formatter
}
;
Ae.formatter.set = function(t) {
    this._formatter = t
}
;
Ae.silentTranslationWarn.get = function() {
    return this._silentTranslationWarn
}
;
Ae.silentTranslationWarn.set = function(t) {
    this._silentTranslationWarn = t
}
;
Ae.silentFallbackWarn.get = function() {
    return this._silentFallbackWarn
}
;
Ae.silentFallbackWarn.set = function(t) {
    this._silentFallbackWarn = t
}
;
Ae.preserveDirectiveContent.get = function() {
    return this._preserveDirectiveContent
}
;
Ae.preserveDirectiveContent.set = function(t) {
    this._preserveDirectiveContent = t
}
;
Ae.warnHtmlInMessage.get = function() {
    return this._warnHtmlInMessage
}
;
Ae.warnHtmlInMessage.set = function(t) {
    var e = this
      , i = this._warnHtmlInMessage;
    if (this._warnHtmlInMessage = t,
    i !== t && (t === "warn" || t === "error")) {
        var s = this._getMessages();
        Object.keys(s).forEach(function(r) {
            e._checkLocaleMessage(r, e._warnHtmlInMessage, s[r])
        })
    }
}
;
Ae.postTranslation.get = function() {
    return this._postTranslation
}
;
Ae.postTranslation.set = function(t) {
    this._postTranslation = t
}
;
Ae.sync.get = function() {
    return this._sync
}
;
Ae.sync.set = function(t) {
    this._sync = t
}
;
V.prototype._getMessages = function() {
    return this._vm.messages
}
;
V.prototype._getDateTimeFormats = function() {
    return this._vm.dateTimeFormats
}
;
V.prototype._getNumberFormats = function() {
    return this._vm.numberFormats
}
;
V.prototype._warnDefault = function(t, e, i, s, r, n) {
    if (!ct(i))
        return i;
    if (this._missing) {
        var a = this._missing.apply(null, [t, e, s, r]);
        if ($e(a))
            return a
    }
    if (this._formatFallbackMessages) {
        var o = $n.apply(void 0, r);
        return this._render(e, n, o.params, e)
    } else
        return e
}
;
V.prototype._isFallbackRoot = function(t) {
    return (this._fallbackRootWithEmptyString ? !t : ct(t)) && !ct(this._root) && this._fallbackRoot
}
;
V.prototype._isSilentFallbackWarn = function(t) {
    return this._silentFallbackWarn instanceof RegExp ? this._silentFallbackWarn.test(t) : this._silentFallbackWarn
}
;
V.prototype._isSilentFallback = function(t, e) {
    return this._isSilentFallbackWarn(e) && (this._isFallbackRoot() || t !== this.fallbackLocale)
}
;
V.prototype._isSilentTranslationWarn = function(t) {
    return this._silentTranslationWarn instanceof RegExp ? this._silentTranslationWarn.test(t) : this._silentTranslationWarn
}
;
V.prototype._interpolate = function(t, e, i, s, r, n, a) {
    if (!e)
        return null;
    var o = this._path.getPathValue(e, i);
    if (Qt(o) || Kt(o))
        return o;
    var l;
    if (ct(o))
        if (Kt(e)) {
            if (l = e[i],
            !($e(l) || Uo(l)))
                return null
        } else
            return null;
    else if ($e(o) || Uo(o))
        l = o;
    else
        return null;
    return $e(l) && (l.indexOf("@:") >= 0 || l.indexOf("@.") >= 0) && (l = this._link(t, e, l, s, "raw", n, a)),
    this._render(l, r, n, i)
}
;
V.prototype._link = function(t, e, i, s, r, n, a) {
    var o = i
      , l = o.match(K9);
    for (var c in l)
        if (l.hasOwnProperty(c)) {
            var u = l[c]
              , h = u.match(Z9)
              , d = h[0]
              , m = h[1]
              , p = u.replace(d, "").replace(Q9, "");
            if (wr(a, p))
                return o;
            a.push(p);
            var f = this._interpolate(t, e, p, s, r === "raw" ? "string" : r, r === "raw" ? void 0 : n, a);
            if (this._isFallbackRoot(f)) {
                if (!this._root)
                    throw Error("unexpected error");
                var g = this._root.$i18n;
                f = g._translate(g._getMessages(), g.locale, g.fallbackLocale, p, s, r, n)
            }
            f = this._warnDefault(t, p, f, s, Qt(n) ? n : [n], r),
            this._modifiers.hasOwnProperty(m) ? f = this._modifiers[m](f) : Ku.hasOwnProperty(m) && (f = Ku[m](f)),
            a.pop(),
            o = f ? o.replace(u, f) : o
        }
    return o
}
;
V.prototype._createMessageContext = function(t, e, i, s) {
    var r = this
      , n = Qt(t) ? t : []
      , a = Tt(t) ? t : {}
      , o = function(h) {
        return n[h]
    }
      , l = function(h) {
        return a[h]
    }
      , c = this._getMessages()
      , u = this.locale;
    return {
        list: o,
        named: l,
        values: t,
        formatter: e,
        path: i,
        messages: c,
        locale: u,
        linked: function(h) {
            return r._interpolate(u, c[u] || {}, h, null, s, void 0, [h])
        }
    }
}
;
V.prototype._render = function(t, e, i, s) {
    if (Uo(t))
        return t(this._createMessageContext(i, this._formatter || $o, s, e));
    var r = this._formatter.interpolate(t, i, s);
    return r || (r = $o.interpolate(t, i, s)),
    e === "string" && !$e(r) ? r.join("") : r
}
;
V.prototype._appendItemToChain = function(t, e, i) {
    var s = !1;
    return wr(t, e) || (s = !0,
    e && (s = e[e.length - 1] !== "!",
    e = e.replace(/!/g, ""),
    t.push(e),
    i && i[e] && (s = i[e]))),
    s
}
;
V.prototype._appendLocaleToChain = function(t, e, i) {
    var s, r = e.split("-");
    do {
        var n = r.join("-");
        s = this._appendItemToChain(t, n, i),
        r.splice(-1, 1)
    } while (r.length && s === !0);
    return s
}
;
V.prototype._appendBlockToChain = function(t, e, i) {
    for (var s = !0, r = 0; r < e.length && f9(s); r++) {
        var n = e[r];
        $e(n) && (s = this._appendLocaleToChain(t, n, i))
    }
    return s
}
;
V.prototype._getLocaleChain = function(t, e) {
    if (t === "")
        return [];
    this._localeChainCache || (this._localeChainCache = {});
    var i = this._localeChainCache[t];
    if (!i) {
        e || (e = this.fallbackLocale),
        i = [];
        for (var s = [t]; Qt(s); )
            s = this._appendBlockToChain(i, s, e);
        var r;
        Qt(e) ? r = e : Tt(e) ? e.default ? r = e.default : r = null : r = e,
        $e(r) ? s = [r] : s = r,
        s && this._appendBlockToChain(i, s, null),
        this._localeChainCache[t] = i
    }
    return i
}
;
V.prototype._translate = function(t, e, i, s, r, n, a) {
    for (var o = this._getLocaleChain(e, i), l, c = 0; c < o.length; c++) {
        var u = o[c];
        if (l = this._interpolate(u, t[u], s, r, n, a, [s]),
        !ct(l))
            return l
    }
    return null
}
;
V.prototype._t = function(t, e, i, s) {
    for (var r, n = [], a = arguments.length - 4; a-- > 0; )
        n[a] = arguments[a + 4];
    if (!t)
        return "";
    var o = $n.apply(void 0, n);
    this._escapeParameterHtml && (o.params = T9(o.params));
    var l = o.locale || e
      , c = this._translate(i, l, this.fallbackLocale, t, s, "string", o.params);
    if (this._isFallbackRoot(c)) {
        if (!this._root)
            throw Error("unexpected error");
        return (r = this._root).$t.apply(r, [t].concat(n))
    } else
        return c = this._warnDefault(l, t, c, s, n, "string"),
        this._postTranslation && c !== null && c !== void 0 && (c = this._postTranslation(c, t)),
        c
}
;
V.prototype.t = function(t) {
    for (var e, i = [], s = arguments.length - 1; s-- > 0; )
        i[s] = arguments[s + 1];
    return (e = this)._t.apply(e, [t, this.locale, this._getMessages(), null].concat(i))
}
;
V.prototype._i = function(t, e, i, s, r) {
    var n = this._translate(i, e, this.fallbackLocale, t, s, "raw", r);
    if (this._isFallbackRoot(n)) {
        if (!this._root)
            throw Error("unexpected error");
        return this._root.$i18n.i(t, e, r)
    } else
        return this._warnDefault(e, t, n, s, [r], "raw")
}
;
V.prototype.i = function(t, e, i) {
    return t ? ($e(e) || (e = this.locale),
    this._i(t, e, this._getMessages(), null, i)) : ""
}
;
V.prototype._tc = function(t, e, i, s, r) {
    for (var n, a = [], o = arguments.length - 5; o-- > 0; )
        a[o] = arguments[o + 5];
    if (!t)
        return "";
    r === void 0 && (r = 1);
    var l = {
        count: r,
        n: r
    }
      , c = $n.apply(void 0, a);
    return c.params = Object.assign(l, c.params),
    a = c.locale === null ? [c.params] : [c.locale, c.params],
    this.fetchChoice((n = this)._t.apply(n, [t, e, i, s].concat(a)), r)
}
;
V.prototype.fetchChoice = function(t, e) {
    if (!t || !$e(t))
        return null;
    var i = t.split("|");
    return e = this.getChoiceIndex(e, i.length),
    i[e] ? i[e].trim() : t
}
;
V.prototype.tc = function(t, e) {
    for (var i, s = [], r = arguments.length - 2; r-- > 0; )
        s[r] = arguments[r + 2];
    return (i = this)._tc.apply(i, [t, this.locale, this._getMessages(), null, e].concat(s))
}
;
V.prototype._te = function(t, e, i) {
    for (var s = [], r = arguments.length - 3; r-- > 0; )
        s[r] = arguments[r + 3];
    var n = $n.apply(void 0, s).locale || e;
    return this._exist(i[n], t)
}
;
V.prototype.te = function(t, e) {
    return this._te(t, this.locale, this._getMessages(), e)
}
;
V.prototype.getLocaleMessage = function(t) {
    return Fs(this._vm.messages[t] || {})
}
;
V.prototype.setLocaleMessage = function(t, e) {
    (this._warnHtmlInMessage === "warn" || this._warnHtmlInMessage === "error") && this._checkLocaleMessage(t, this._warnHtmlInMessage, e),
    this._vm.$set(this._vm.messages, t, e)
}
;
V.prototype.mergeLocaleMessage = function(t, e) {
    (this._warnHtmlInMessage === "warn" || this._warnHtmlInMessage === "error") && this._checkLocaleMessage(t, this._warnHtmlInMessage, e),
    this._vm.$set(this._vm.messages, t, ji(typeof this._vm.messages[t] < "u" && Object.keys(this._vm.messages[t]).length ? Object.assign({}, this._vm.messages[t]) : {}, e))
}
;
V.prototype.getDateTimeFormat = function(t) {
    return Fs(this._vm.dateTimeFormats[t] || {})
}
;
V.prototype.setDateTimeFormat = function(t, e) {
    this._vm.$set(this._vm.dateTimeFormats, t, e),
    this._clearDateTimeFormat(t, e)
}
;
V.prototype.mergeDateTimeFormat = function(t, e) {
    this._vm.$set(this._vm.dateTimeFormats, t, ji(this._vm.dateTimeFormats[t] || {}, e)),
    this._clearDateTimeFormat(t, e)
}
;
V.prototype._clearDateTimeFormat = function(t, e) {
    for (var i in e) {
        var s = t + "__" + i;
        this._dateTimeFormatters.hasOwnProperty(s) && delete this._dateTimeFormatters[s]
    }
}
;
V.prototype._localizeDateTime = function(t, e, i, s, r, n) {
    for (var a = e, o = s[a], l = this._getLocaleChain(e, i), c = 0; c < l.length; c++) {
        var u = l[c];
        if (o = s[u],
        a = u,
        !(ct(o) || ct(o[r])))
            break
    }
    if (ct(o) || ct(o[r]))
        return null;
    var h = o[r], d;
    if (n)
        d = new Intl.DateTimeFormat(a,Object.assign({}, h, n));
    else {
        var m = a + "__" + r;
        d = this._dateTimeFormatters[m],
        d || (d = this._dateTimeFormatters[m] = new Intl.DateTimeFormat(a,h))
    }
    return d.format(t)
}
;
V.prototype._d = function(t, e, i, s) {
    if (!i) {
        var r = s ? new Intl.DateTimeFormat(e,s) : new Intl.DateTimeFormat(e);
        return r.format(t)
    }
    var n = this._localizeDateTime(t, e, this.fallbackLocale, this._getDateTimeFormats(), i, s);
    if (this._isFallbackRoot(n)) {
        if (!this._root)
            throw Error("unexpected error");
        return this._root.$i18n.d(t, i, e)
    } else
        return n || ""
}
;
V.prototype.d = function(t) {
    for (var e = [], i = arguments.length - 1; i-- > 0; )
        e[i] = arguments[i + 1];
    var s = this.locale
      , r = null
      , n = null;
    return e.length === 1 ? ($e(e[0]) ? r = e[0] : Tt(e[0]) && (e[0].locale && (s = e[0].locale),
    e[0].key && (r = e[0].key)),
    n = Object.keys(e[0]).reduce(function(a, o) {
        var l;
        return wr(m9, o) ? Object.assign({}, a, (l = {},
        l[o] = e[0][o],
        l)) : a
    }, null)) : e.length === 2 && ($e(e[0]) && (r = e[0]),
    $e(e[1]) && (s = e[1])),
    this._d(t, s, r, n)
}
;
V.prototype.getNumberFormat = function(t) {
    return Fs(this._vm.numberFormats[t] || {})
}
;
V.prototype.setNumberFormat = function(t, e) {
    this._vm.$set(this._vm.numberFormats, t, e),
    this._clearNumberFormat(t, e)
}
;
V.prototype.mergeNumberFormat = function(t, e) {
    this._vm.$set(this._vm.numberFormats, t, ji(this._vm.numberFormats[t] || {}, e)),
    this._clearNumberFormat(t, e)
}
;
V.prototype._clearNumberFormat = function(t, e) {
    for (var i in e) {
        var s = t + "__" + i;
        this._numberFormatters.hasOwnProperty(s) && delete this._numberFormatters[s]
    }
}
;
V.prototype._getNumberFormatter = function(t, e, i, s, r, n) {
    for (var a = e, o = s[a], l = this._getLocaleChain(e, i), c = 0; c < l.length; c++) {
        var u = l[c];
        if (o = s[u],
        a = u,
        !(ct(o) || ct(o[r])))
            break
    }
    if (ct(o) || ct(o[r]))
        return null;
    var h = o[r], d;
    if (n)
        d = new Intl.NumberFormat(a,Object.assign({}, h, n));
    else {
        var m = a + "__" + r;
        d = this._numberFormatters[m],
        d || (d = this._numberFormatters[m] = new Intl.NumberFormat(a,h))
    }
    return d
}
;
V.prototype._n = function(t, e, i, s) {
    if (!V.availabilities.numberFormat)
        return "";
    if (!i) {
        var r = s ? new Intl.NumberFormat(e,s) : new Intl.NumberFormat(e);
        return r.format(t)
    }
    var n = this._getNumberFormatter(t, e, this.fallbackLocale, this._getNumberFormats(), i, s)
      , a = n && n.format(t);
    if (this._isFallbackRoot(a)) {
        if (!this._root)
            throw Error("unexpected error");
        return this._root.$i18n.n(t, Object.assign({}, {
            key: i,
            locale: e
        }, s))
    } else
        return a || ""
}
;
V.prototype.n = function(t) {
    for (var e = [], i = arguments.length - 1; i-- > 0; )
        e[i] = arguments[i + 1];
    var s = this.locale
      , r = null
      , n = null;
    return e.length === 1 ? $e(e[0]) ? r = e[0] : Tt(e[0]) && (e[0].locale && (s = e[0].locale),
    e[0].key && (r = e[0].key),
    n = Object.keys(e[0]).reduce(function(a, o) {
        var l;
        return wr(Pp, o) ? Object.assign({}, a, (l = {},
        l[o] = e[0][o],
        l)) : a
    }, null)) : e.length === 2 && ($e(e[0]) && (r = e[0]),
    $e(e[1]) && (s = e[1])),
    this._n(t, s, r, n)
}
;
V.prototype._ntp = function(t, e, i, s) {
    if (!V.availabilities.numberFormat)
        return [];
    if (!i) {
        var r = s ? new Intl.NumberFormat(e,s) : new Intl.NumberFormat(e);
        return r.formatToParts(t)
    }
    var n = this._getNumberFormatter(t, e, this.fallbackLocale, this._getNumberFormats(), i, s)
      , a = n && n.formatToParts(t);
    if (this._isFallbackRoot(a)) {
        if (!this._root)
            throw Error("unexpected error");
        return this._root.$i18n._ntp(t, e, i, s)
    } else
        return a || []
}
;
Object.defineProperties(V.prototype, Ae);
var Ja;
Object.defineProperty(V, "availabilities", {
    get: function() {
        if (!Ja) {
            var t = typeof Intl < "u";
            Ja = {
                dateTimeFormat: t && typeof Intl.DateTimeFormat < "u",
                numberFormat: t && typeof Intl.NumberFormat < "u"
            }
        }
        return Ja
    }
});
V.install = jl;
V.version = "8.28.2";
const X9 = {
    commons: `Es ist ein Fehler aufgetreten. Wenn der Fehler weiterhin besteht, kontaktieren Sie uns bitte unter {email}.
Fehlercode: {errorCode}`,
    title: "Fehler"
}
  , q9 = {
    ok: "OK",
    cancel: "Abbrechen",
    "external-link-title": "Externer Link",
    "external-link-description": "Sie werden zu IMAIOS weitergeleitet.",
    input: {
        error: "Bitte geben Sie einen gültigen Wert ein"
    }
}
  , J9 = {
    "no-results": "Keine Ergebnisse",
    "e-anatomy": "e-Anatomy",
    "vet-anatomy": "vet-Anatomy"
}
  , e7 = {
    "all-series": "Alle Serien",
    "n-image-s": "{count} Bild(er)",
    series: "Serie"
}
  , t7 = {
    main: {
        "section-title": "Menü"
    },
    filter: {
        "show-all-structures": "Alle Strukturen anzeigen",
        "hide-all-structures": "Alle Strukturen verbergen",
        "section-title": "Anatomische Strukturen",
        "select-all": "Alle auswählen",
        "show-hidden-structures": "Versteckte Strukturen anzeigen",
        "show-all-overlays": "Alle Überlagerungen anzeigen",
        "hide-all-overlays": "Alle Überlagerungen verbergen"
    },
    contrast: {
        no_contrast_for_this_series: "Kein Kontrast für diese Serie"
    },
    favorites: {
        title: "Lesezeichen",
        add: "Lesezeichen hinzufügen",
        "add-message": "Speichern Sie diese Ansicht unter Ihren Lesezeichen"
    },
    transformation: {
        "section-title": "Transformationen"
    },
    series: {
        "section-title": "Serie",
        all: "Alle Serien",
        more: "Mehr",
        less: "Weniger"
    },
    legend: {
        "section-title": "Beschriftungen",
        practice: "Übungsmodus",
        pins: "Stecknadeln",
        viewzone: "Teilweise Kennzeichnung",
        "min-font-size": "Mindestschriftgröße",
        "font-size": "Schriftgröße"
    },
    display: {
        "section-title": "Anzeigemodus",
        description: "Menü Beschreibung",
        "dark-mode": "Dunkelmodus",
        "overlays-opacity": "Überlagerungsopazität",
        "high-quality": "Hohe Qualität",
        orientation: "Orientierung",
        "hide-point-without-label": "Punkte ohne Beschriftung ein-/ausblenden",
        "cross-references": "Querverweise anzeigen/ausblenden",
        screenshot: "Machen Sie einen Screenshot",
        "pulse-animation-toggle": "Punktanimation"
    },
    language: {
        "section-title": "Sprache"
    },
    "advanced-settings": {
        "section-title": "Erweiterte Einstellungen",
        "reset-settings": "Einstellungen zurücksetzen",
        "reverseScroll-settings": "In umgekehrter Richtung blättern",
        "shortcuts-panel": "Shortcuts anzeigen",
        share: {
            label: "Teilen",
            copied: "Erfolg"
        }
    }
}
  , i7 = {
    "not-found": "Es gibt noch keine Beschreibung für dieses anatomischen Teil."
}
  , s7 = {
    "not-available": "Für Internet Explorer nicht verfügbar",
    banner: {
        "upgrade-full-message": 'Verwenden Sie bitte einen anderen Browser, zum Beispiel  <a href="https://www.microsoft.com/edge" target="_blank">Microsoft Edge</a>, <a href="https://google.com/chrome/" target="_blank">Google Chrome</a> oder <a href="https://getfirefox.com/" target="_blank">Firefox</a>.',
        "features-not-available": "Einige Funktionen werden in Internet Explorer nicht unterstützt",
        upgrade: "Bitte verwenden Sie einen anderen Browser wie beispielsweise",
        or: "oder"
    }
}
  , r7 = {
    placeholder: "Suchen"
}
  , n7 = {
    text: "Für diese Funktion ist ein Premium-Abonnement erforderlich",
    button: {
        subscribe: "Abonnieren",
        connect: "Anmelden"
    }
}
  , a7 = {
    window: "Fenster",
    weightings: "Gewichtsfaktoren",
    default: "Kontrast"
}
  , o7 = {
    loading: "Bitte warten..."
}
  , l7 = {
    error: X9,
    dialog: q9,
    commons: J9,
    "context-menu": {
        zoom: "Vergrößern",
        pan: "Verschieben",
        scroll: "Scrollen",
        "rotate-left": "Um 90° gegen den Uhrzeigersinn drehen",
        "rotate-right": "Um 90° im Uhrzeigersinn drehen",
        "flip-horizontal": "Horizontal spiegeln",
        "flip-vertical": "Vertikal spiegeln",
        reset: "Zurücksetzen",
        viewzone: "Teilweise Kennzeichnung",
        hide: "Verbergen",
        show: "Anzeigen",
        toggleVisibility: "Ein/Ausblenden",
        "isolate-structure": "Isolieren: {param}",
        "clear-isolate-structure": "Entsperren {param}",
        unselect: "Abwählen: {param}",
        select: "Auswählen: {param}",
        close: "Schließen",
        "show-cross-reference": "Querverweise einblenden",
        "hide-cross-reference": "Querverweise ausblenden",
        "show-structure-information": "Informationen zur Struktur anzeigen"
    },
    gallery: e7,
    menu: t7,
    description: i7,
    "premium-banner": {
        "label-required-premium": "Zur Freischaltung aller Funktionen ist ein Abonnement erforderlich",
        subscribe: "Abonnieren"
    },
    ie: s7,
    search: r7,
    premium: n7,
    contrast: a7,
    "keyboard-panel": {
        title: "Shortcuts",
        "reverse-scroll": "In umgekehrter Richtung blättern",
        viewzone: "Teilweise Kennzeichnung",
        practice: "Übungsmodus",
        "menu-pin": "Menü anheften",
        "toggle-overlays": "Überlagerungen anzeigen/verbergen",
        "hide-labels": "Beschriftungen einblenden/ausblenden",
        "show-hidden-structures": "Versteckte Strukturen anzeigen",
        "show-hidden-cross-references": "Querverweise ein/ausblenden",
        "show-hidden-menu": "Menü ein-/ausblenden",
        weightings: "Modalität",
        scroll: "Scrollen",
        zoom: "Vergrößern",
        pan: "Verschieben",
        reset: "Zurücksetzen",
        save: "Screenshot",
        fullscreen: "Vollbildmodus",
        "previous-image": "Vorheriges Bild",
        "next-image": "Nächstes Bild",
        "previous-series": "Vorherige Serie",
        "next-series": "Nächste Serie",
        cine: "Film"
    },
    loader: o7,
    "panel-structure": {
        "list-actions": {
            cancel_isolate: "Entsperren",
            isolate: "Isolieren",
            hide: "Ausblenden",
            display: "Einblenden",
            select: "Auswählen",
            unselect: "Abwählen"
        }
    },
    "anatomical-parts": {
        gallery: {
            title: "Galerie",
            "in-this-module": "In diesem Modul",
            "in-other-modules": "In anderen Modulen",
            "image-one": "1 bild",
            "image-multiple": "{count} bilder",
            all: "Alle"
        },
        description: {
            title: "Definition",
            "no-description": "Es gibt noch keine Beschreibung für dieses anatomischen Teil."
        },
        hierarchy: {
            title: "Anatomische Hierarchie",
            eanatomy: {
                1: "Anatomie des Menschen 1",
                2: "Anatomie des Menschen 2",
                3: "Anatomie des Menschen IMAIOS",
                5: "Neuroanatomie des Menschen"
            },
            vetanatomy: {
                4: "Tieranatomie"
            },
            underlying: {
                none: "Es gibt keine darunterliegende Struktur",
                title: "Darunterliegende Strukturen:"
            }
        },
        translation: {
            title: "Übersetzung"
        },
        "see-more": "Mehr anzeigen",
        "see-less": "Weniger anzeigen",
        "related-terms": {
            "latin-synonym": "Lateinisches Synonym:",
            "latin-eponym": "Lateinisches Eponym:",
            synonym: "Synonym:",
            eponym: "Namensgeber:",
            acronym: "Akronym:",
            old_fr_nomenclature: "Former nomenclature:",
            "related-term": "Verwandte Bezeichnungen:"
        },
        compare: {
            animal: "Vergleichende Anatomie bei Tieren",
            human: "Vergleichende Anatomie bei Menschen"
        }
    },
    "proxy-banner": {
        "update-config": 'Bitte wenden Sie sich an Ihren IT-Administrator, um die Proxy-Konfiguration aktualisieren zu lassen. Sie können auf diesen <a target="_blank" href="%link%">Artikel</a> verweisen, und Ihr IT-Administrator kann bei Bedarf auch Kontakt zu uns aufnehmen.'
    }
}
  , c7 = {
    commons: `An error has occurred, if the error persists please contact us at {email}.
Error code: {errorCode}`,
    title: "Error"
}
  , u7 = {
    ok: "OK",
    cancel: "Cancel",
    "external-link-title": "External link",
    "external-link-description": "You will be redirected to the IMAIOS website.",
    input: {
        error: "Please enter a valid value"
    }
}
  , d7 = {
    "no-results": "No results",
    "e-anatomy": "e-Anatomy",
    "vet-anatomy": "vet-Anatomy"
}
  , h7 = {
    "all-series": "All series",
    "n-image-s": "{count} Images",
    series: "Series"
}
  , p7 = {
    main: {
        "section-title": "Menu"
    },
    filter: {
        "show-all-structures": "Show all structures",
        "hide-all-structures": "Hide all structures",
        "section-title": "Anatomical Parts",
        "select-all": "Select all",
        "show-hidden-structures": "Show hidden structures",
        "show-all-overlays": "Show all overlays",
        "hide-all-overlays": "Hide all overlays"
    },
    contrast: {
        no_contrast_for_this_series: "No contrast for this series"
    },
    favorites: {
        title: "Bookmarks",
        add: "Add to bookmarks",
        "add-message": "Save this view to your bookmarks"
    },
    transformation: {
        "section-title": "Transformations"
    },
    series: {
        "section-title": "Series",
        all: "All series",
        more: "More",
        less: "Less"
    },
    legend: {
        "section-title": "Labeling",
        practice: "Practice",
        pins: "Pins",
        viewzone: "Partial labeling",
        "min-font-size": "Minimum font size",
        "font-size": "Font size"
    },
    display: {
        "section-title": "Display mode",
        description: "Description menu",
        "dark-mode": "Dark mode",
        "overlays-opacity": "Overlay opacity",
        "high-quality": "High quality",
        orientation: "Orientation",
        "hide-point-without-label": "Show/hide anatomical points without label",
        "cross-references": "Show/hide cross references",
        screenshot: "Take a screenshot",
        "pulse-animation-toggle": "Point animation"
    },
    language: {
        "section-title": "Language"
    },
    "advanced-settings": {
        "section-title": "Advanced settings",
        "reset-settings": "Reset settings",
        "reverseScroll-settings": "Reverse scroll",
        "shortcuts-panel": "Display shortcuts",
        share: {
            label: "Share",
            copied: "Copied!"
        }
    }
}
  , m7 = {
    "not-found": "There is no description for this anatomical part yet."
}
  , g7 = {
    "not-available": "Not available for Internet Explorer",
    banner: {
        "upgrade-full-message": 'Please use another browser such as  <a href="https://www.microsoft.com/edge" target="_blank">Microsoft Edge</a>, <a href="https://google.com/chrome/" target="_blank">Google Chrome</a> or <a href="https://getfirefox.com/" target="_blank">Firefox</a>.',
        "features-not-available": "Some features are not supported on Internet Explorer",
        upgrade: "Please use another browser such as",
        or: "or"
    }
}
  , f7 = {
    placeholder: "Search in this module"
}
  , v7 = {
    text: "This feature requires a premium subscription",
    button: {
        subscribe: "Subscribe",
        connect: "Sign in"
    }
}
  , y7 = {
    window: "Window",
    weightings: "Weightings",
    default: "Contrast"
}
  , E7 = {
    loading: "Loading..."
}
  , I7 = {
    error: c7,
    dialog: u7,
    commons: d7,
    "context-menu": {
        zoom: "Zoom",
        pan: "Pan",
        scroll: "Scroll",
        "rotate-left": "Rotate 90° counter clockwise",
        "rotate-right": "Rotate 90° clockwise",
        "flip-horizontal": "Flip horizontal",
        "flip-vertical": "Flip vertical",
        reset: "Reset",
        viewzone: "Partial labeling",
        hide: "Hide",
        show: "Show",
        toggleVisibility: "Show/Hide",
        "isolate-structure": "Isolate {param}",
        "clear-isolate-structure": "Unlock {param}",
        unselect: "Unselect {param}",
        select: "Select {param}",
        close: "Close",
        "show-cross-reference": "Show cross references",
        "hide-cross-reference": "Hide cross references",
        "show-structure-information": "Show structure information"
    },
    gallery: h7,
    menu: p7,
    description: m7,
    "premium-banner": {
        "label-required-premium": "A subscription is required to unlock all features",
        subscribe: "Subscribe"
    },
    ie: g7,
    search: f7,
    premium: v7,
    contrast: y7,
    "keyboard-panel": {
        title: "Shortcuts",
        "reverse-scroll": "Reverse scroll",
        viewzone: "Partial labelling",
        practice: "Practice",
        "menu-pin": "Pin menu",
        "toggle-overlays": "Show/hide overlays",
        "hide-labels": "Show/hide labels",
        "show-hidden-structures": "Show hidden structures",
        "show-hidden-cross-references": "Show/hide cross references",
        "show-hidden-menu": "Show/hide menu",
        weightings: "Modality",
        scroll: "Scroll",
        zoom: "Zoom",
        pan: "Pan",
        reset: "Reset",
        save: "Screenshot",
        fullscreen: "Fullscreen",
        "previous-image": "Previous image",
        "next-image": "Next image",
        "previous-series": "Previous series",
        "next-series": "Next series",
        cine: "Cine"
    },
    loader: E7,
    "panel-structure": {
        "list-actions": {
            cancel_isolate: "Unlock",
            isolate: "Isolate",
            hide: "Hide",
            display: "Show",
            select: "Select",
            unselect: "Unselect"
        }
    },
    "anatomical-parts": {
        gallery: {
            title: "Gallery",
            "in-this-module": "In this module",
            "in-other-modules": "In other modules",
            "image-one": "1 image",
            "image-multiple": "{count} images",
            all: "All"
        },
        description: {
            title: "Definition",
            "no-description": "There is no description for this anatomical part yet."
        },
        hierarchy: {
            title: "Anatomical hierarchy",
            eanatomy: {
                1: "Human anatomy 1",
                2: "Human anatomy 2",
                3: "Human anatomy IMAIOS",
                5: "Human neuroanatomy"
            },
            vetanatomy: {
                4: "Animal anatomy"
            },
            underlying: {
                none: "There is no underlying structure",
                title: "Underlying structures:"
            }
        },
        translation: {
            title: "Translation"
        },
        "see-more": "See more",
        "see-less": "See less",
        "related-terms": {
            "latin-synonym": "Latin synonym:",
            "latin-eponym": "Latin eponym:",
            synonym: "Synonym:",
            eponym: "Eponym:",
            acronym: "Acronym:",
            old_fr_nomenclature: "Former nomenclature:",
            "related-term": "Related terms:"
        },
        compare: {
            animal: "Comparative anatomy in animals",
            human: "Comparative anatomy in humans"
        }
    },
    "proxy-banner": {
        "update-config": 'Please contact your IT administrator to update the proxy configuration. You can provide them with this <a target="_blank" href="%link%">article</a> and tell them to contact us if necessary.'
    }
}
  , C7 = {
    commons: `Se ha producido un error. Si el error persiste, contáctenos al correo {email}.
Código de error: {errorCode}`,
    title: "Error"
}
  , b7 = {
    ok: "OK",
    cancel: "Cancelar",
    "external-link-title": "Enlace externo",
    "external-link-description": "Será redirigido a la página web de imaios.",
    input: {
        error: "Por favor ingrese un valor válido"
    }
}
  , S7 = {
    "no-results": "Ningún resultado",
    "e-anatomy": "e-Anatomy",
    "vet-anatomy": "vet-Anatomy"
}
  , T7 = {
    "all-series": "Todas las series",
    "n-image-s": "{count} Imágenes",
    series: "Series"
}
  , A7 = {
    main: {
        "section-title": "Menú"
    },
    filter: {
        "show-all-structures": "Mostrar todas las estructuras",
        "hide-all-structures": "Ocultar todas las estructuras",
        "section-title": "Estructuras anatómicas",
        "select-all": "Seleccionar todo",
        "show-hidden-structures": "Mostrar estructuras ocultas",
        "show-all-overlays": "Mostrar todas las superposiciones",
        "hide-all-overlays": "Ocultar todas las superposiciones"
    },
    contrast: {
        no_contrast_for_this_series: "No hay contraste para esta série"
    },
    favorites: {
        title: "Favoritos",
        add: "Agregar a favoritos",
        "add-message": "Guardar esta vista en favoritos"
    },
    transformation: {
        "section-title": "Transformaciones"
    },
    series: {
        "section-title": "Series",
        all: "Todas las series",
        more: "Más",
        less: "Menos"
    },
    legend: {
        "section-title": "Etiquetas",
        practice: "Modo quiz",
        pins: "Marcadores",
        viewzone: "Etiquetado limitado",
        "min-font-size": "Tamaño mínimo del texto",
        "font-size": "Tamaño de fuente"
    },
    display: {
        "section-title": "Modo de visualización",
        description: "Menú de descripción",
        "dark-mode": "Tema oscuro",
        "overlays-opacity": "Opacidad de las superposiciones",
        "high-quality": "Alta calidad",
        orientation: "Orientación",
        "hide-point-without-label": "Mostrar/ocultar puntos anatómicos sin etiqueta",
        "cross-references": "Mostrar/ocultar las referencias cruzadas",
        screenshot: "Tomar una captura de pantalla",
        "pulse-animation-toggle": "Animación del punto"
    },
    language: {
        "section-title": "Idioma"
    },
    "advanced-settings": {
        "section-title": "Ajustes avanzados",
        "reset-settings": "Restablecer configuración",
        "reverseScroll-settings": "Desplazamiento reverso",
        "shortcuts-panel": "Mostrar atajos",
        share: {
            label: "Compartir",
            copied: "Éxito"
        }
    }
}
  , w7 = {
    "not-found": "Aún no hay descripción para esta estructura anatómica."
}
  , _7 = {
    "not-available": "No disponible para Internet Explorer",
    banner: {
        "upgrade-full-message": 'Utilice otro navegador como <a href="https://www.microsoft.com/edge" target="_blank">Microsoft Edge</a>,<a href="https://google.com/chrome/" target="_blank">Google Chrome</a>o<a href="https://getfirefox.com/" target="_blank">Firefox</a>.',
        "features-not-available": "Algunas funciones no son compatibles con Internet Explorer",
        upgrade: "Por favor utilice otro navegador como",
        or: "o"
    }
}
  , L7 = {
    placeholder: "Buscar"
}
  , O7 = {
    text: "Esta funcionalidad requiere una suscripción premium",
    button: {
        subscribe: "Suscribirse",
        connect: "Iniciar sesión"
    }
}
  , x7 = {
    window: "Ventana",
    weightings: "Ponderación",
    default: "Contraste"
}
  , M7 = {
    loading: "Cargando..."
}
  , N7 = {
    error: C7,
    dialog: b7,
    commons: S7,
    "context-menu": {
        zoom: "Zoom",
        pan: "Mover",
        scroll: "Desplazar",
        "rotate-left": "Girar 90° en sentido antihorario",
        "rotate-right": "Girar 90° en sentido horario",
        "flip-horizontal": "Girar horizontalmente",
        "flip-vertical": "Girar verticalmente",
        reset: "Restablecer",
        viewzone: "Etiquetado limitado",
        hide: "Ocultar",
        show: "Mostrar",
        toggleVisibility: "Mostrar/ocultar",
        "isolate-structure": "Aislar {param}",
        "clear-isolate-structure": "Desbloquear {param}",
        unselect: "Deseleccionar {param}",
        select: "Seleccionar {param}",
        close: "Cerrar",
        "show-cross-reference": "Mostrar las referencias cruzadas",
        "hide-cross-reference": "Ocultar las referencias cruzadas",
        "show-structure-information": "Mostrar información de la estructura"
    },
    gallery: T7,
    menu: A7,
    description: w7,
    "premium-banner": {
        "label-required-premium": "Se necesita una suscripción para desbloquear todas las funciones",
        subscribe: "Suscribirse"
    },
    ie: _7,
    search: L7,
    premium: O7,
    contrast: x7,
    "keyboard-panel": {
        title: "Atajos",
        "reverse-scroll": "Desplazamiento reverso",
        viewzone: "Etiquetado limitado",
        practice: "Modo quiz",
        "menu-pin": "Fijar menú",
        "toggle-overlays": "Mostrar/ocultar superposiciones",
        "hide-labels": "Mostrar/ocultar etiquetas anatómicas",
        "show-hidden-structures": "Mostrar estructuras ocultas",
        "show-hidden-cross-references": "Mostrar/ocultar las referencias cruzadas",
        "show-hidden-menu": "Mostrar/ocultar menú",
        weightings: "Modalidad",
        scroll: "Desplazar",
        zoom: "Zoom",
        pan: "Mover",
        reset: "Restablecer",
        save: "Captura de pantalla",
        fullscreen: "Pantalla completa",
        "previous-image": "Imagen anterior",
        "next-image": "Imagen siguiente",
        "previous-series": "Serie anterior",
        "next-series": "Serie siguiente",
        cine: "Animación"
    },
    loader: M7,
    "panel-structure": {
        "list-actions": {
            cancel_isolate: "Desbloquear",
            isolate: "Aislar",
            hide: "Ocultar",
            display: "Mostrar",
            select: "Seleccionar",
            unselect: "Deseleccionar"
        }
    },
    "anatomical-parts": {
        gallery: {
            title: "Galería",
            "in-this-module": "En este módulo",
            "in-other-modules": "En otros módulos",
            "image-one": "1 imagen",
            "image-multiple": "{count} imágenes",
            all: "Todo"
        },
        description: {
            title: "Definición",
            "no-description": "Todavía no hay descripción para esta estructura anatómica."
        },
        hierarchy: {
            title: "Jerarquía anatómica",
            eanatomy: {
                1: "Anatomía humana 1",
                2: "Anatomía humana 2",
                3: "Anatomía humana en IMAIOS",
                5: "Neuroanatomía humana"
            },
            vetanatomy: {
                4: "Anatomía animal"
            },
            underlying: {
                none: "No hay estructuras subyacentes",
                title: "Estructuras subyacentes:"
            }
        },
        translation: {
            title: "Traducción"
        },
        "see-more": "Ver más",
        "see-less": "Ver menos",
        "related-terms": {
            "latin-synonym": "Sinónimo en latín:",
            "latin-eponym": "Epónimo en latín:",
            synonym: "Sinónimo:",
            eponym: "Epónimo:",
            acronym: "Acrónimo:",
            old_fr_nomenclature: "Former nomenclature:",
            "related-term": "Términos relacionados:"
        },
        compare: {
            animal: "Anatomía comparada en animales",
            human: "Anatomía comparada en humanos"
        }
    },
    "proxy-banner": {
        "update-config": 'Por favor, póngase en contacto con su responsable IT para actualizar la configuración del proxy. Puede facilitarle este <a target="_blank" href="%link%">artículo</a> y decirle que entre en contacto con nosotros si lo requiere.'
    }
}
  , R7 = {
    commons: `Une erreur est survenue, si l'erreur persiste veuillez nous contacter à {email}. 
Code d'erreur : {errorCode}`,
    title: "Erreur"
}
  , P7 = {
    ok: "OK",
    cancel: "Annuler",
    "external-link-title": "Lien externe",
    "external-link-description": "Vous allez être redirigé vers le site internet d'IMAIOS.",
    input: {
        error: "Veuillez renseigner une valeur valide"
    }
}
  , D7 = {
    "no-results": "Aucun résultat",
    "e-anatomy": "e-Anatomy",
    "vet-anatomy": "vet-Anatomy"
}
  , k7 = {
    "all-series": "Toutes les séries",
    "n-image-s": "{count} Images",
    series: "Séries"
}
  , H7 = {
    main: {
        "section-title": "Menu"
    },
    filter: {
        "show-all-structures": "Afficher toutes les structures",
        "hide-all-structures": "Masquer toutes les structures",
        "section-title": "Structures anatomiques",
        "select-all": "Tout sélectionner",
        "show-hidden-structures": "Afficher les structures masquées",
        "show-all-overlays": "Afficher toutes les superpositions",
        "hide-all-overlays": "Masquer toutes les superpositions"
    },
    contrast: {
        no_contrast_for_this_series: "Pas de contraste pour cette série"
    },
    favorites: {
        title: "Favoris",
        add: "Ajouter aux favoris",
        "add-message": "Enregistrez cette vue dans vos favoris"
    },
    transformation: {
        "section-title": "Transformations"
    },
    series: {
        "section-title": "Séries",
        all: "Toutes les séries",
        more: "Plus",
        less: "Moins"
    },
    legend: {
        "section-title": "Légendages",
        practice: "Entraînement",
        pins: "Épingles",
        viewzone: "Légendage limité",
        "min-font-size": "Taille de police minimum",
        "font-size": "Taille de police"
    },
    display: {
        "section-title": "Mode d'affichage",
        description: "Panel description",
        "dark-mode": "Mode sombre",
        "overlays-opacity": "Opacité des superpositions",
        "high-quality": "Haute qualité",
        orientation: "Orientation",
        "hide-point-without-label": "Afficher/Masquer les points sans légende",
        "cross-references": "Afficher/Masquer les références croisées",
        screenshot: "Faire une capture d'écran",
        "pulse-animation-toggle": "Animation du point"
    },
    language: {
        "section-title": "Langue"
    },
    "advanced-settings": {
        "section-title": "Paramètres avancés",
        "reset-settings": "Réinitialiser",
        "reverseScroll-settings": "Défilement inversé",
        "shortcuts-panel": "Afficher les raccourcis",
        share: {
            label: "Partager",
            copied: "Succès"
        }
    }
}
  , z7 = {
    "not-found": "Il n'y a pas encore de description pour cette structure anatomique."
}
  , B7 = {
    "not-available": "Non disponible pour Internet Explorer",
    banner: {
        "upgrade-full-message": 'Veuillez utiliser un autre navigateur tel que <a href="https://www.microsoft.com/edge" target="_blank">Microsoft Edge</a>, <a href="https://google.com/chrome/" target="_blank">Google Chrome</a> ou <a href="https://getfirefox.com/" target="_blank">Firefox</a>.',
        "features-not-available": "Certaines fonctionnalités ne sont pas supportées sur Internet Explorer",
        upgrade: "Veuillez utiliser un autre navigateur tel que",
        or: "ou"
    }
}
  , F7 = {
    placeholder: "Rechercher dans ce module"
}
  , V7 = {
    text: "Cette fonctionnalité nécessite un abonnement premium",
    button: {
        subscribe: "S'abonner",
        connect: "Se connecter"
    }
}
  , U7 = {
    window: "Fenêtre",
    weightings: "Pondérations",
    default: "Contraste"
}
  , G7 = {
    loading: "Chargement..."
}
  , $7 = {
    error: R7,
    dialog: P7,
    commons: D7,
    "context-menu": {
        zoom: "Zoom",
        pan: "Déplacer",
        scroll: "Défiler",
        "rotate-left": "Rotation antihoraire de 90°",
        "rotate-right": "Rotation horaire de 90°",
        "flip-horizontal": "Symétrie horizontale",
        "flip-vertical": "Symétrie verticale",
        reset: "Réinitialiser",
        viewzone: "Légendage limité",
        hide: "Masquer",
        show: "Afficher",
        toggleVisibility: "Afficher/masquer",
        "isolate-structure": "Isoler {param}",
        "clear-isolate-structure": "Déverrouiller {param}",
        unselect: "Désélectionner {param}",
        select: "Sélectionner {param}",
        close: "Fermer",
        "show-cross-reference": "Afficher les références croisées",
        "hide-cross-reference": "Masquer les références croisées",
        "show-structure-information": "Afficher les informations sur la structure"
    },
    gallery: k7,
    menu: H7,
    description: z7,
    "premium-banner": {
        "label-required-premium": "Un abonnement est requis pour débloquer toutes les fonctionnalités",
        subscribe: "S'abonner"
    },
    ie: B7,
    search: F7,
    premium: V7,
    contrast: U7,
    "keyboard-panel": {
        title: "Raccourcis",
        "reverse-scroll": "Défilement inversé",
        viewzone: "Légendage limité",
        practice: "Entraînement",
        "menu-pin": "Épingler le menu",
        "toggle-overlays": "Afficher/masquer les superpositions",
        "hide-labels": "Afficher/Masquer labels",
        "show-hidden-structures": "Afficher les structures masquées",
        "show-hidden-cross-references": "Afficher/masquer les références croisées",
        "show-hidden-menu": "Afficher/maquer le menu",
        weightings: "Modalité",
        scroll: "Défiler",
        zoom: "Zoom",
        pan: "Déplacer",
        reset: "Réinitialiser",
        save: "Faire une capture d'écran",
        fullscreen: "Plein écran",
        "previous-image": "Image précédente",
        "next-image": "Image suivante",
        "previous-series": "Série précédente",
        "next-series": "Série suivante",
        cine: "Mode Cinéma"
    },
    loader: G7,
    "panel-structure": {
        "list-actions": {
            cancel_isolate: "Déverrouiller",
            isolate: "Isoler",
            hide: "Masquer",
            display: "Afficher",
            select: "Sélectionner",
            unselect: "Désélectionner"
        }
    },
    "anatomical-parts": {
        gallery: {
            title: "Galerie",
            "in-this-module": "Dans ce module",
            "in-other-modules": "Dans d'autres modules",
            "image-one": "1 image",
            "image-multiple": "{count} images",
            all: "Tous"
        },
        description: {
            title: "Définition",
            "no-description": "Il n'y a pas encore de description pour cette structure anatomique."
        },
        hierarchy: {
            title: "Hiérarchie anatomique",
            eanatomy: {
                1: "Anatomie humaine 1",
                2: "Anatomie humaine 2",
                3: "Anatomie humaine IMAIOS",
                5: "Neuroanatomie humaine"
            },
            vetanatomy: {
                4: "Anatomie animale"
            },
            underlying: {
                none: "Aucune structure sous-jacente",
                title: "Structures sous-jacentes :"
            }
        },
        translation: {
            title: "Traduction"
        },
        "see-more": "Voir plus",
        "see-less": "Voir moins",
        "related-terms": {
            "latin-synonym": "Synonyme latin :",
            "latin-eponym": "Éponyme latin :",
            synonym: "Synonyme :",
            eponym: "Éponyme :",
            acronym: "Acronyme :",
            old_fr_nomenclature: "Ancienne nomenclature :",
            "related-term": "Terme associé :"
        },
        compare: {
            animal: "Anatomie comparée chez l’animal",
            human: "Anatomie comparée chez l’homme"
        }
    },
    "proxy-banner": {
        "update-config": 'Vous devez contacter votre administrateur informatique pour mettre à jour la configuration du proxy. Vous pouvez leur fournir cet <a target="_blank" href="%link%">article</a> et leur dire de nous contacter si besoin.'
    }
}
  , j7 = {
    commons: `Si è verificato un errore. Se il problema persiste, contattaci all'indirizzo {email}. 
Codice errore: {errorCode}`,
    title: "Errore"
}
  , Y7 = {
    ok: "OK",
    cancel: "Cancellare",
    "external-link-title": "Link esterno",
    "external-link-description": "Sarai reindirizzato al sito web di IMAIOS.",
    input: {
        error: "Immettere un valore valido"
    }
}
  , W7 = {
    "no-results": "Nessun risultato",
    "e-anatomy": "e-Anatomy",
    "vet-anatomy": "vet-Anatomy"
}
  , K7 = {
    "all-series": "Tutte le serie",
    "n-image-s": "{count} Immagini",
    series: "Serie"
}
  , Z7 = {
    main: {
        "section-title": "Menu"
    },
    filter: {
        "show-all-structures": "Mostra tutte le strutture",
        "hide-all-structures": "Nascondi tutte le strutture",
        "section-title": "Strutture anatomiche",
        "select-all": "Seleziona tutto",
        "show-hidden-structures": "Mostra le strutture nascoste",
        "show-all-overlays": "Mostra tutte le sovrapposizioni",
        "hide-all-overlays": "Nascondi tutte le sovrapposizioni"
    },
    contrast: {
        no_contrast_for_this_series: "Nessun contrasto per questa serie"
    },
    favorites: {
        title: "Preferiti",
        add: "Aggiungi ai preferiti",
        "add-message": "Salva questa vista nei preferiti"
    },
    transformation: {
        "section-title": "Trasformazioni"
    },
    series: {
        "section-title": "Serie",
        all: "Tutte le serie",
        more: "Più",
        less: "Meno"
    },
    legend: {
        "section-title": "Didascalie",
        practice: "Esercitazione",
        pins: "Spille",
        viewzone: "Delimita le didascalie",
        "min-font-size": "Dimensione carattere minima",
        "font-size": "Dimensione carattere"
    },
    display: {
        "section-title": "Modalità di visualizzazione",
        description: "Menù descrizione",
        "dark-mode": "Sfondo nero",
        "overlays-opacity": "Opacità delle sovrapposizioni",
        "high-quality": "Alta qualità",
        orientation: "Orientamento",
        "hide-point-without-label": "Mostra/nascondi i punti anatomici senza didascalia",
        "cross-references": "Mostra/nascondi i riferimenti incrociati",
        screenshot: "Acquisisci schermata",
        "pulse-animation-toggle": "Animazione del punto"
    },
    language: {
        "section-title": "Lingua"
    },
    "advanced-settings": {
        "section-title": "Impostazioni avanzate",
        "reset-settings": "Ripristina impostazioni",
        "reverseScroll-settings": "Scorrimento inverso",
        "shortcuts-panel": "Mostra scorciatoie",
        share: {
            label: "Condividi",
            copied: "Copiato!"
        }
    }
}
  , Q7 = {
    "not-found": "Non ci sono ancora descrizioni per questa struttura anatomica."
}
  , X7 = {
    "not-available": "Non disponibile per Internet Explorer",
    banner: {
        "upgrade-full-message": 'Si prega di usare un altro navigatore come  <a href="https://www.microsoft.com/edge" target="_blank">Microsoft Edge</a>, <a href="https://google.com/chrome/" target="_blank">Google Chrome</a> or <a href="https://getfirefox.com/" target="_blank">Firefox</a>.',
        "features-not-available": "Alcune funzionalità non sono supportate su Internet Explorer",
        upgrade: "Si prega di usare un altro navigatore come",
        or: "o"
    }
}
  , q7 = {
    placeholder: "Cerca in questo modulo"
}
  , J7 = {
    text: "Questa funzionalità richiede abbonamento premium",
    button: {
        subscribe: "Abbonati",
        connect: "Accedi"
    }
}
  , e8 = {
    window: "Finestra",
    weightings: "Ponderazioni",
    default: "Contrasto"
}
  , t8 = {
    loading: "Caricamento in corso..."
}
  , i8 = {
    error: j7,
    dialog: Y7,
    commons: W7,
    "context-menu": {
        zoom: "Zoom",
        pan: "Muovere",
        scroll: "Scorrere",
        "rotate-left": "Ruota di 90° in senso antiorario",
        "rotate-right": "Ruota di 90° in senso orario",
        "flip-horizontal": "Capovolgi orizzontalmente",
        "flip-vertical": "Capovolgi verticalmente",
        reset: "Ripristina",
        viewzone: "Delimita le didascalie",
        hide: "Nascondere",
        show: "Esibire",
        toggleVisibility: "Mostra/Nascondi",
        "isolate-structure": "Isolare: {param}",
        "clear-isolate-structure": "Sblocca {param}",
        unselect: "Deseleziona {param}",
        select: "Selezionare: {param}",
        close: "Chiudere",
        "show-cross-reference": "Mostra i riferimenti incrociati",
        "hide-cross-reference": "Nascondi i riferimenti incrociati",
        "show-structure-information": "Mostra informazioni struttura"
    },
    gallery: K7,
    menu: Z7,
    description: Q7,
    "premium-banner": {
        "label-required-premium": "L'abbonamento è richiesto per accedere a tutte le funzionalità",
        subscribe: "Abbonati"
    },
    ie: X7,
    search: q7,
    premium: J7,
    contrast: e8,
    "keyboard-panel": {
        title: "Scorciatoie",
        "reverse-scroll": "Scorrimento inverso",
        viewzone: "Delimita le didascalie",
        practice: "Esercitazione",
        "menu-pin": "Fissa menù",
        "toggle-overlays": "Mostra/nascondi le sovrapposizioni",
        "hide-labels": "Mostra/nascondi didascalie",
        "show-hidden-structures": "Mostra le strutture nascoste",
        "show-hidden-cross-references": "Mostra/nascondi i riferimenti incrociati",
        "show-hidden-menu": "Mostra/nascondi menù",
        weightings: "Modalità",
        scroll: "Scorri",
        zoom: "Zoom",
        pan: "Sposta",
        reset: "Ripristina",
        save: "Screenshot",
        fullscreen: "Schermo intero",
        "previous-image": "Immagine precedente",
        "next-image": "Immagine successiva",
        "previous-series": "Serie precedente",
        "next-series": "Serie successiva",
        cine: "Lettura automatica"
    },
    loader: t8,
    "panel-structure": {
        "list-actions": {
            cancel_isolate: "Sblocca",
            isolate: "Isola",
            hide: "Nascondi",
            display: "Mostra",
            select: "Seleziona",
            unselect: "Deseleziona"
        }
    },
    "anatomical-parts": {
        gallery: {
            title: "Galleria",
            "in-this-module": "In questo modulo",
            "in-other-modules": "In altri moduli",
            "image-one": "1 immagine",
            "image-multiple": "{count} immagini",
            all: "Tutti"
        },
        description: {
            title: "Definizione",
            "no-description": "Non ci sono ancora descrizioni per questa struttura anatomica."
        },
        hierarchy: {
            title: "Gerarchia anatomica",
            eanatomy: {
                1: "Anatomia umana 1",
                2: "Anatomia umana 2",
                3: "Anatomia umana IMAIOS",
                5: "Neuroanatomia umana"
            },
            vetanatomy: {
                4: "Anatomia animale"
            },
            underlying: {
                none: "Non ci sono strutture sottostanti",
                title: "Strutture sottostanti:"
            }
        },
        translation: {
            title: "Traduzione"
        },
        "see-more": "Mostra altro",
        "see-less": "Mostra meno",
        "related-terms": {
            "latin-synonym": "Sinonimo latino:",
            "latin-eponym": "Eponimo latino:",
            synonym: "Sinonimo:",
            eponym: "Eponimo:",
            acronym: "Acronimo:",
            old_fr_nomenclature: "Former nomenclature:",
            "related-term": "Termini correlati:"
        },
        compare: {
            animal: "Anatomia comparata negli animali",
            human: "Anatomia comparata negli umani"
        }
    },
    "proxy-banner": {
        "update-config": 'Per favore, contatta il tuo amministratore IT per aggiornare la configurazione di proxy. Puoi fornire questo <a target="_blank" href="%link%">articolo</a> e chiedere di contattarci se necessario.'
    }
}
  , s8 = {
    commons: `エラーが発生しました。エラーが解消しない場合は、{email} までご連絡ください。
エラーコード：{errorCode}`,
    title: "エラー"
}
  , r8 = {
    ok: "OK",
    cancel: "キャンセル",
    "external-link-title": "外部リンク",
    "external-link-description": "IMAIOSのウェブサイトへリダイレクトされます。",
    input: {
        error: "有効な値を入力してください"
    }
}
  , n8 = {
    "no-results": "結果なし",
    "e-anatomy": "e-Anatomy",
    "vet-anatomy": "vet-Anatomy"
}
  , a8 = {
    "all-series": "全シリーズ",
    "n-image-s": "{count}枚の画像",
    series: "シリーズ"
}
  , o8 = {
    main: {
        "section-title": "メニュー"
    },
    filter: {
        "show-all-structures": "すべての構造を表示",
        "hide-all-structures": "すべての構造を非表示",
        "section-title": "解剖学的構造",
        "select-all": "全て選択",
        "show-hidden-structures": "非表示にした構造を表示",
        "show-all-overlays": "すべてのオーバーレイを表示",
        "hide-all-overlays": "すべてのオーバーレイを非表示"
    },
    contrast: {
        no_contrast_for_this_series: "このシリーズでは造影画像はありません"
    },
    favorites: {
        title: "お気に入り",
        add: "お気に入りに追加",
        "add-message": "この画像をお気に入りに保存します"
    },
    transformation: {
        "section-title": "回転・反転"
    },
    series: {
        "section-title": "シリーズ",
        all: "全シリーズ",
        more: "さらに表示",
        less: "非表示にする"
    },
    legend: {
        "section-title": "ラベリング",
        practice: "クイズ",
        pins: "ピン",
        viewzone: "一部のみラベリング",
        "min-font-size": "最小フォントサイズ",
        "font-size": "フォントサイズ"
    },
    display: {
        "section-title": "表示モード",
        description: "説明パネル",
        "dark-mode": "ダークモード",
        "overlays-opacity": "レイヤーの不透明度",
        "high-quality": "高画質",
        orientation: "方向",
        "hide-point-without-label": "ラベルなしで点のみ表示／非表示",
        "cross-references": "クロスレファレンスを表示／非表示",
        screenshot: "スクリーンショットを撮る",
        "pulse-animation-toggle": "点滅表示"
    },
    language: {
        "section-title": "言語"
    },
    "advanced-settings": {
        "section-title": "詳細設定",
        "reset-settings": "設定をリセット",
        "reverseScroll-settings": "逆方向にスクロール",
        "shortcuts-panel": "ショートカットを表示",
        share: {
            label: "共有",
            copied: "成功"
        }
    }
}
  , l8 = {
    "not-found": "この解剖学的構造にはまだ説明がありません。"
}
  , c8 = {
    "not-available": "Internet Explorerではご利用いただけません",
    banner: {
        "upgrade-full-message": '<a href="https://www.microsoft.com/edge" target="_blank">Microsoft Edge</a>や<a href="https://google.com/chrome/" target="_blank">Google Chrome</a>、<a href="https://getfirefox.com/" target="_blank">Firefox</a>など他のブラウザをご利用ください。',
        "features-not-available": "Internet Explorerではサポートされていない機能があります",
        upgrade: "以下の他のブラウザをご利用ください：",
        or: "または"
    }
}
  , u8 = {
    placeholder: "検索"
}
  , d8 = {
    text: "この機能を利用するにはプレミアムサブスクリプションが必要です",
    button: {
        subscribe: "サブスクリプション",
        connect: "ログイン"
    }
}
  , h8 = {
    window: "ウィンドウ",
    weightings: "強調画像",
    default: "造影画像"
}
  , p8 = {
    loading: "ロード中..."
}
  , m8 = {
    error: s8,
    dialog: r8,
    commons: n8,
    "context-menu": {
        zoom: "ズーム",
        pan: "移動",
        scroll: "スクロール",
        "rotate-left": "反時計回りに90度回転",
        "rotate-right": "時計回りに90度回転",
        "flip-horizontal": "左右反転",
        "flip-vertical": "上下反転",
        reset: "リセット",
        viewzone: "一部のみラベリング",
        hide: "隠す",
        show: "表示",
        toggleVisibility: "表示／非表示",
        "isolate-structure": "{param}のみ表示",
        "clear-isolate-structure": "{param}ロック解除",
        unselect: "{param}の選択を解除",
        select: "{param}を選択",
        close: "閉じる",
        "show-cross-reference": "クロスレファレンスを表示",
        "hide-cross-reference": "クロスレファレンスを非表示",
        "show-structure-information": "構造の情報を表示"
    },
    gallery: a8,
    menu: o8,
    description: l8,
    "premium-banner": {
        "label-required-premium": "全ての機能を利用するにはサブスクリプションが必要です",
        subscribe: "サブスクリプション"
    },
    ie: c8,
    search: u8,
    premium: d8,
    contrast: h8,
    "keyboard-panel": {
        title: "ショートカット",
        "reverse-scroll": "逆方向にスクロール",
        viewzone: "一部のみラベリング",
        practice: "クイズ",
        "menu-pin": "メニューを固定",
        "toggle-overlays": "オーバーレイを表示/非表示",
        "hide-labels": "ラベルを表示／非表示",
        "show-hidden-structures": "非表示にした構造を表示",
        "show-hidden-cross-references": "クロスレファレンスを表示／非表示",
        "show-hidden-menu": "メニューを表示/非表示",
        weightings: "モダリティ",
        scroll: "スクロール",
        zoom: "ズーム",
        pan: "移動",
        reset: "オリジナルビューにリセット",
        save: "スクリーンショット",
        fullscreen: "フルスクリーン",
        "previous-image": "前の画像",
        "next-image": "次の画像",
        "previous-series": "前のシリーズ",
        "next-series": "次のシリーズ",
        cine: "シネビュー"
    },
    loader: p8,
    "panel-structure": {
        "list-actions": {
            cancel_isolate: "ロック解除",
            isolate: "この構造のみ表示",
            hide: "隠す",
            display: "表示",
            select: "選択",
            unselect: "選択を解除"
        }
    },
    "anatomical-parts": {
        gallery: {
            title: "ギャラリー",
            "in-this-module": "このモジュール内",
            "in-other-modules": "他のモジュール内",
            "image-one": "1枚の画像",
            "image-multiple": "{count}枚の画像",
            all: "全て"
        },
        description: {
            title: "定義",
            "no-description": "この解剖学的構造にはまだ説明がありません。"
        },
        hierarchy: {
            title: "解剖学的階層",
            eanatomy: {
                1: "人体解剖学1",
                2: "人体解剖学2",
                3: "人体解剖学IMAIOS",
                5: "人体神経解剖学"
            },
            vetanatomy: {
                4: "動物解剖学"
            },
            underlying: {
                none: "下位構造はありません",
                title: "下位構造："
            }
        },
        translation: {
            title: "翻訳"
        },
        "see-more": "詳細を見る",
        "see-less": "非表示にする",
        "related-terms": {
            "latin-synonym": "ラテン語での同義語：",
            "latin-eponym": "ラテン語でのエポニム：",
            synonym: "同義語:",
            eponym: "エポニム：",
            acronym: "頭字語：",
            old_fr_nomenclature: "Former nomenclature:",
            "related-term": "関連用語："
        },
        compare: {
            animal: "動物の比較解剖学",
            human: "人間の比較解剖学"
        }
    },
    "proxy-banner": {
        "update-config": 'IT管理者に連絡し、プロキシの設定を更新してください。IT管理者にはこの<a target="_blank" href="%link%">記事</a>を送信し、必要があれば弊社に問い合わせるようお伝えください。'
    }
}
  , g8 = {
    commons: `오류가 발생했습니다. 오류가 계속되면 {email}으로 문의해 주세요.
오류 코드: {errorCode}`,
    title: "오류"
}
  , f8 = {
    ok: "확인",
    cancel: "취소",
    "external-link-title": "외부 링크",
    "external-link-description": "IMAIOS 웹사이트로 리디렉션됩니다.",
    input: {
        error: "유효한 값을 입력하십시오"
    }
}
  , v8 = {
    "no-results": "결과 없음",
    "e-anatomy": "e-Anatomy",
    "vet-anatomy": "vet-Anatomy"
}
  , y8 = {
    "all-series": "모든 시리즈",
    "n-image-s": "이미지 {count}개",
    series: "시리즈"
}
  , E8 = {
    main: {
        "section-title": "메뉴"
    },
    filter: {
        "show-all-structures": "모든 구조 보기",
        "hide-all-structures": "모든 구조 숨기기",
        "section-title": "해부학적 부위",
        "select-all": "모두 선택",
        "show-hidden-structures": "숨긴 구조 표시",
        "show-all-overlays": "모든 오버레이 표시",
        "hide-all-overlays": "모든 오버레이 숨기기"
    },
    contrast: {
        no_contrast_for_this_series: "이 시리즈에는 조영상 없음"
    },
    favorites: {
        title: "북마크",
        add: "북마크에 추가",
        "add-message": "이 보기를 즐겨찾기에 저장"
    },
    transformation: {
        "section-title": "변환"
    },
    series: {
        "section-title": "시리즈",
        all: "모든 시리즈",
        more: "더 보기",
        less: "덜 보기"
    },
    legend: {
        "section-title": "라벨링",
        practice: "연습",
        pins: "핀",
        viewzone: "부분 라벨링",
        "min-font-size": "최소 글꼴 크기",
        "font-size": "글꼴 크기"
    },
    display: {
        "section-title": "표시 모드",
        description: "설명 메뉴",
        "dark-mode": "다크 모드",
        "overlays-opacity": "오버레이 불투명도",
        "high-quality": "고품질",
        orientation: "방향",
        "hide-point-without-label": "라벨 없는 점 표시 및 숨기기",
        "cross-references": "상호 참조 표시/숨기기",
        screenshot: "스크린샷 촬영",
        "pulse-animation-toggle": "포인트 애니메이션"
    },
    language: {
        "section-title": "언어"
    },
    "advanced-settings": {
        "section-title": "고급 설정",
        "reset-settings": "설정 초기화",
        "reverseScroll-settings": "스크롤 반전",
        "shortcuts-panel": "단축키 표시",
        share: {
            label: "공유",
            copied: "성공"
        }
    }
}
  , I8 = {
    "not-found": "아직 이 해부학적 부위에 관한 설명이 없습니다."
}
  , C8 = {
    "not-available": "Internet Explorer 미지원",
    banner: {
        "upgrade-full-message": '권장 브라우저: <a href="https://www.microsoft.com/edge" target="_blank">Microsoft Edge</a>, <a href="https://google.com/chrome/" target="_blank">Google Chrome</a>, <a href="https://getfirefox.com/" target="_blank">Firefox</a>.',
        "features-not-available": "Internet Explorer에서는 일부 기능이 지원되지 않습니다",
        upgrade: "권장 브라우저:",
        or: "또는"
    }
}
  , b8 = {
    placeholder: "검색"
}
  , S8 = {
    text: "이 기능을 이용하려면 프리미엄 구독이 필요합니다",
    button: {
        subscribe: "구독하기",
        connect: "로그인"
    }
}
  , T8 = {
    window: "윈도우",
    weightings: "강조",
    default: "조영"
}
  , A8 = {
    loading: "불러오는 중..."
}
  , w8 = {
    error: g8,
    dialog: f8,
    commons: v8,
    "context-menu": {
        zoom: "확대",
        pan: "팬",
        scroll: "스크롤",
        "rotate-left": "반시계 방향으로 90° 회전",
        "rotate-right": "시계 방향으로 90° 회전",
        "flip-horizontal": "수평으로 뒤집기",
        "flip-vertical": "수직으로 뒤집기",
        reset: "초기화",
        viewzone: "부분 표지",
        hide: "숨기기",
        show: "보기",
        toggleVisibility: "표시/숨기기",
        "isolate-structure": "{param} 분리",
        "clear-isolate-structure": "{param} 잠금 해제",
        unselect: "{param} 선택 해제",
        select: "{param} 선택",
        close: "닫기",
        "show-cross-reference": "상호 참조 표시",
        "hide-cross-reference": "상호 참조 숨기기",
        "show-structure-information": "구조 정보 보기"
    },
    gallery: y8,
    menu: E8,
    description: I8,
    "premium-banner": {
        "label-required-premium": "모든 기능을 잠금 해제하려면 구독이 필요합니다",
        subscribe: "구독하기"
    },
    ie: C8,
    search: b8,
    premium: S8,
    contrast: T8,
    "keyboard-panel": {
        title: "단축키",
        "reverse-scroll": "스크롤 반전",
        viewzone: "부분 표지",
        practice: "연습",
        "menu-pin": "메뉴 고정하기",
        "toggle-overlays": "오버레이 표시하기/숨기기",
        "hide-labels": "라벨 표시/숨김",
        "show-hidden-structures": "숨겨진 구조 표시하기",
        "show-hidden-cross-references": "상호 참조 표시/숨기기",
        "show-hidden-menu": "메뉴 표시하기/숨기기",
        weightings: "모달리티",
        scroll: "스크롤",
        zoom: "확대",
        pan: "팬",
        reset: "재설정",
        save: "스크린샷",
        fullscreen: "전체 화면",
        "previous-image": "이전 이미지",
        "next-image": "다음 이미지",
        "previous-series": "이전 시리즈",
        "next-series": "다음 시리즈",
        cine: "cine"
    },
    loader: A8,
    "panel-structure": {
        "list-actions": {
            cancel_isolate: "잠금 해제",
            isolate: "분리",
            hide: "숨기기",
            display: "표시하기",
            select: "선택",
            unselect: "선택 해제"
        }
    },
    "anatomical-parts": {
        gallery: {
            title: "갤러리",
            "in-this-module": "이 모듈에서",
            "in-other-modules": "다른 모듈에서",
            "image-one": "이미지 1개",
            "image-multiple": "이미지 {count}개",
            all: "모두"
        },
        description: {
            title: "정의",
            "no-description": "아직 이 해부학적 부분에 관한 설명이 없습니다."
        },
        hierarchy: {
            title: "해부학적 계층",
            eanatomy: {
                1: "인체 해부학 1",
                2: "인체 해부학 2",
                3: "인체 해부학 IMAIOS",
                5: "인체 신경 해부학"
            },
            vetanatomy: {
                4: "동물 해부학"
            },
            underlying: {
                none: "기저 구조가 없습니다",
                title: "기저 구조:"
            }
        },
        translation: {
            title: "번역"
        },
        "see-more": "더 보기",
        "see-less": "덜 보기",
        "related-terms": {
            "latin-synonym": "라틴어 동의어:",
            "latin-eponym": "라틴어 시조:",
            synonym: "동의어:",
            eponym: "시조:",
            acronym: "약어",
            old_fr_nomenclature: "Former nomenclature:",
            "related-term": "관련 용어:"
        },
        compare: {
            animal: "동물의 비교 해부학",
            human: "인간의 비교 해부학"
        }
    },
    "proxy-banner": {
        "update-config": '프록시 구성을 업데이트하려면 고객님의 IT 관리자에게 문의하세요. IT 관리자에게 <a target="_blank" href="%link%"> 이 글</a>을 보여주고, 도음이 필요하다면 저희 고객지원팀에 문의하라고 전해주시기 바랍니다.'
    }
}
  , _8 = {
    commons: `Wystąpił błąd. Jeśli błąd będzie się powtarzał, skontaktuj się z nami pod adresem {email}.
Kod błędu: {errorCode}`,
    title: "Błąd"
}
  , L8 = {
    ok: "OK",
    cancel: "Anuluj",
    "external-link-title": "Link zewnętrzny",
    "external-link-description": "Nastąpi przekierowanie na stronę IMAIOS.",
    input: {
        error: "Wprowadź prawidłową wartość"
    }
}
  , O8 = {
    "no-results": "Brak wyników",
    "e-anatomy": "e-Anatomy",
    "vet-anatomy": "vet-Anatomy"
}
  , x8 = {
    "all-series": "Wszystkie serie",
    "n-image-s": "{count} obrazy / obrazów",
    series: "Serie"
}
  , M8 = {
    main: {
        "section-title": "Menu"
    },
    filter: {
        "show-all-structures": "Pokaż wszystkie struktury",
        "hide-all-structures": "Ukryj wszystkie struktury",
        "section-title": "Części anatomiczne",
        "select-all": "Zaznacz wszystko",
        "show-hidden-structures": "Pokaż ukryte struktury",
        "show-all-overlays": "Pokaż wszystkie nakładki",
        "hide-all-overlays": "Ukryj wszystkie nakładki"
    },
    contrast: {
        no_contrast_for_this_series: "Brak kontrastu dla tej serii"
    },
    favorites: {
        title: "Zakładki",
        add: "Dodaj do zakładek",
        "add-message": "Zapisz ten widok w swoich zakładkach"
    },
    transformation: {
        "section-title": "Zmiany"
    },
    series: {
        "section-title": "Serie",
        all: "Wszystkie serie",
        more: "Więcej",
        less: "Mniej"
    },
    legend: {
        "section-title": "Opisy",
        practice: "Ćwiczenia",
        pins: "Pinezki",
        viewzone: "Częściowe oznakowanie",
        "min-font-size": "Najmniejsza czcionka",
        "font-size": "Wielkość czcionki"
    },
    display: {
        "section-title": "Tryb wyświetlania",
        description: "Menu opisowe",
        "dark-mode": "Motyw ciemny",
        "overlays-opacity": "Przezroczystość nakładki",
        "high-quality": "W wysokiej jakości",
        orientation: "Orientacja",
        "hide-point-without-label": "Pokaż/ukryj punkty anatomiczne bez etykiety",
        "cross-references": "Pokaż/ukryj odwołania zewnętrzne",
        screenshot: "Wykonaj zrzut ekranu",
        "pulse-animation-toggle": "Animacja punktu"
    },
    language: {
        "section-title": "Język"
    },
    "advanced-settings": {
        "section-title": "Zaawansowane ustawienia",
        "reset-settings": "Zresetuj ustawienia",
        "reverseScroll-settings": "Zmiana kierunku przewijania",
        "shortcuts-panel": "Wyświetl skróty",
        share: {
            label: "Udostępnij",
            copied: "Operacja powiodła się"
        }
    }
}
  , N8 = {
    "not-found": "Jeszcze brak opisu dla tej części anatomicznej."
}
  , R8 = {
    "not-available": "Niedostępne w przeglądarce Internet Explorer",
    banner: {
        "upgrade-full-message": 'Skorzystaj z innej przeglądarki, np.: <a href="https://www.microsoft.com/edge" target="_blank">Microsoft Edge</a>, <a href="https://google.com/chrome/" target="_blank">Google Chrome</a> lub <a href="https://getfirefox.com/" target="_blank">Firefox</a>.',
        "features-not-available": "Niektóre funkcje nie są dostępne w przeglądarce Internet Explorer",
        upgrade: "Użyj innej przeglądarki, np.",
        or: "lub"
    }
}
  , P8 = {
    placeholder: "Szukaj"
}
  , D8 = {
    text: "Ta funkcja jest dostępna jedynie w subskrypcji premium",
    button: {
        subscribe: "Subskrybuj",
        connect: "Zarejestruj się"
    }
}
  , k8 = {
    window: "Okno",
    weightings: "Pomiary",
    default: "Kontrast"
}
  , H8 = {
    loading: "Ładowanie..."
}
  , z8 = {
    error: _8,
    dialog: L8,
    commons: O8,
    "context-menu": {
        zoom: "Zoom",
        pan: "Przesuń obraz",
        scroll: "Przewinąć",
        "rotate-left": "Obrót o 90° przeciwnie do ruchu wskazówek zegara",
        "rotate-right": "Obrót o 90° zgodnie z ruchem wskazówek zegara",
        "flip-horizontal": "Obrót w poziomie",
        "flip-vertical": "Obrót w pionie",
        reset: "Zresetować",
        viewzone: "Częściowe oznakowanie",
        hide: "Ukryj",
        show: "Pokaż",
        toggleVisibility: "Pokaż/ukryj",
        "isolate-structure": "Wyizoluj: {param}",
        "clear-isolate-structure": "Odblokuj {param}",
        unselect: "Usuń zaznaczenie {param}",
        select: "Zaznacz: {param}",
        close: "Zamknij",
        "show-cross-reference": "Pokaż odniesienia",
        "hide-cross-reference": "Ukryj odniesienia",
        "show-structure-information": "Pokaż informacje o strukturze"
    },
    gallery: x8,
    menu: M8,
    description: N8,
    "premium-banner": {
        "label-required-premium": "Do odblokowania niektórych funkcji niezbędna jest subskrypcja",
        subscribe: "Subskrybuj"
    },
    ie: R8,
    search: P8,
    premium: D8,
    contrast: k8,
    "keyboard-panel": {
        title: "Skróty",
        "reverse-scroll": "Zmiana kierunku przewijania",
        viewzone: "Częściowe oznakowanie",
        practice: "Ćwiczenia",
        "menu-pin": "Przypnij menu",
        "toggle-overlays": "Pokaż/ukryj nakładki",
        "hide-labels": "Pokaż/ukryj etykiety",
        "show-hidden-structures": "Pokaż ukryte struktury",
        "show-hidden-cross-references": "Pokaż/ukryj odniesienia",
        "show-hidden-menu": "Pokaż/Ukryj menu",
        weightings: "Sposoby",
        scroll: "Przewinąć",
        zoom: "Zoom",
        pan: "Przesuń obraz",
        reset: "Zresetuj",
        save: "Zrzut ekranu",
        fullscreen: "Tryb pełnoekranowy",
        "previous-image": "Poprzedni obraz",
        "next-image": "Następny obraz",
        "previous-series": "Poprzednia seria",
        "next-series": "Następna seria",
        cine: "Tryb CINE"
    },
    loader: H8,
    "panel-structure": {
        "list-actions": {
            cancel_isolate: "Odblokuj",
            isolate: "Wyodrębnij",
            hide: "Ukryj",
            display: "Wyświetl",
            select: "Zaznacz",
            unselect: "Usuń zaznaczenie"
        }
    },
    "anatomical-parts": {
        gallery: {
            title: "Galeria",
            "in-this-module": "W tym module",
            "in-other-modules": "W innych modułach",
            "image-one": "1 zdjęcie",
            "image-multiple": "{count} zdjęć",
            all: "Wszystko"
        },
        description: {
            title: "Definicja",
            "no-description": "Jeszcze brak opisu dla tej części anatomicznej."
        },
        hierarchy: {
            title: "Hierarchia anatomiczna",
            eanatomy: {
                1: "Anatomia człowieka 1",
                2: "Anatomia człowieka 2",
                3: "Anatomia człowieka IMAIOS",
                5: "Neuroanatomia człowieka"
            },
            vetanatomy: {
                4: "Anatomia zwierząt"
            },
            underlying: {
                none: "Brak powiązanej struktury",
                title: "Powiązane struktury:"
            }
        },
        translation: {
            title: "Tłumaczenie"
        },
        "see-more": "Pokaż więcej",
        "see-less": "Pokaż mniej",
        "related-terms": {
            "latin-synonym": "Synonim w języku łacińskim:",
            "latin-eponym": "Eponim łaciński:",
            synonym: "Synonim:",
            eponym: "Eponim:",
            acronym: "Akronim:",
            old_fr_nomenclature: "Former nomenclature:",
            "related-term": "Powiązane terminy:"
        },
        compare: {
            animal: "Porównawcza anatomia zwierząt",
            human: "Porównawcza anatomia człowieka"
        }
    },
    "proxy-banner": {
        "update-config": 'Skontaktuj się ze swoim administratorem IT, by zaktualizować konfigurację serwera proxy. Możesz przesłać mu ten <a target="_blank" href="%link%">artykuł</a> i zalecić, aby skontaktował się z nami w razie potrzeby.'
    }
}
  , B8 = {
    commons: `Ocorreu um erro. Se o erro persistir, entre em contato conosco pelo e-mail {email}.
Código de erro: {errorCode}`,
    title: "Erro"
}
  , F8 = {
    ok: "OK",
    cancel: "Cancelar",
    "external-link-title": "Link externo",
    "external-link-description": "Você será redirecionado para o site IMAIOS.",
    input: {
        error: "Por favor insira um valor válido"
    }
}
  , V8 = {
    "no-results": "Nenhum resultado encontrado",
    "e-anatomy": "e-Anatomy",
    "vet-anatomy": "vet-Anatomy"
}
  , U8 = {
    "all-series": "Todas as séries",
    "n-image-s": "{count} Imagens",
    series: "Séries"
}
  , G8 = {
    main: {
        "section-title": "Menu"
    },
    filter: {
        "show-all-structures": "Mostrar todas as estruturas",
        "hide-all-structures": "Ocultar todas as estruturas",
        "section-title": "Estruturas anatômicas",
        "select-all": "Selecionar tudo",
        "show-hidden-structures": "Mostrar estruturas ocultas",
        "show-all-overlays": "Mostrar todas as sobreposições",
        "hide-all-overlays": "Ocultar todas as sobreposições"
    },
    contrast: {
        no_contrast_for_this_series: "Não há contraste para esta série"
    },
    favorites: {
        title: "Favoritos",
        add: "Adicionar aos favoritos",
        "add-message": "Salvar esta visualização nos favoritos"
    },
    transformation: {
        "section-title": "Transformações"
    },
    series: {
        "section-title": "Séries",
        all: "Todas as séries",
        more: "Mais",
        less: "Menos"
    },
    legend: {
        "section-title": "Legendas",
        practice: "Modo quiz",
        pins: "Marcadores",
        viewzone: "Legendas parciais",
        "min-font-size": "Tamanho mínimo da fonte",
        "font-size": "Tamanho da fonte"
    },
    display: {
        "section-title": "Modo de exibição",
        description: "Menu descrição",
        "dark-mode": "Tema escuro",
        "overlays-opacity": "Opacidade dos calcos",
        "high-quality": "Alta resolução",
        orientation: "Orientação",
        "hide-point-without-label": "Mostrar/ocultar pontos anatômicos sem legenda",
        "cross-references": "Mostrar/ocultar referências cruzadas",
        screenshot: "Tirar um screenshot",
        "pulse-animation-toggle": "Animação do ponto"
    },
    language: {
        "section-title": "Idioma"
    },
    "advanced-settings": {
        "section-title": "Configurações avançadas",
        "reset-settings": "Reiniciar configurações",
        "reverseScroll-settings": "Modo invertido",
        "shortcuts-panel": "Mostrar atalhos",
        share: {
            label: "Compartilhar",
            copied: "Sucesso"
        }
    }
}
  , $8 = {
    "not-found": "Ainda não há descrição para esta estrutura anatômica."
}
  , j8 = {
    "not-available": "Indisponível para Internet Explorer",
    banner: {
        "upgrade-full-message": 'Por favor use outro navegador internet como <a href="https://www.microsoft.com/edge" target="_blank">Microsoft Edge</a>,<a href="https://google.com/chrome/" target="_blank">Google Chrome</a>ou<a href="https://getfirefox.com/" target="_blank">Firefox</a>.',
        "features-not-available": "Alguns recursos são incompatíveis com Internet Explorer",
        upgrade: "Por favor utilize outro navegador como",
        or: "ou"
    }
}
  , Y8 = {
    placeholder: "Buscar"
}
  , W8 = {
    text: "Este recurso requer uma assinatura premium",
    button: {
        subscribe: "Assinar",
        connect: "Conectar-se"
    }
}
  , K8 = {
    window: "Janela",
    weightings: "Ponderações",
    default: "Contraste"
}
  , Z8 = {
    loading: "Carregando..."
}
  , Q8 = {
    error: B8,
    dialog: F8,
    commons: V8,
    "context-menu": {
        zoom: "Zoom",
        pan: "Deslocar",
        scroll: "Percorrer",
        "rotate-left": "Girar 90° no sentido anti-horário",
        "rotate-right": "Girar 90° no sentido horário",
        "flip-horizontal": "Girar na horizontal",
        "flip-vertical": "Girar na vertical",
        reset: "Reiniciar",
        viewzone: "Legendas parciais",
        hide: "Ocultar",
        show: "Exibir",
        toggleVisibility: "Mostrar/ocultar",
        "isolate-structure": "Isolar {param}",
        "clear-isolate-structure": "Desbloquear {param}",
        unselect: "Anular selecção {param}",
        select: "Selecionar {param}",
        close: "Fechar",
        "show-cross-reference": "Mostrar referências cruzadas",
        "hide-cross-reference": "Ocultar referências cruzadas",
        "show-structure-information": "Mostrar as informações da estrutura"
    },
    gallery: U8,
    menu: G8,
    description: $8,
    "premium-banner": {
        "label-required-premium": "Uma assinatura é necessária para desbloquear todos os recursos",
        subscribe: "Assinar"
    },
    ie: j8,
    search: Y8,
    premium: W8,
    contrast: K8,
    "keyboard-panel": {
        title: "Atalhos",
        "reverse-scroll": "Modo invertido",
        viewzone: "Legendas parciais",
        practice: "Modo quiz",
        "menu-pin": "Fixar menu",
        "toggle-overlays": "Mostrar/ocultar sobreposições",
        "hide-labels": "Mostrar/ocultar legendas",
        "show-hidden-structures": "Mostrar estruturas ocultas",
        "show-hidden-cross-references": "Mostrar/ocultar referências cruzadas",
        "show-hidden-menu": "Mostrar/ocultar menu",
        weightings: "Modalidade",
        scroll: "Percorrer",
        zoom: "Zoom",
        pan: "Deslocar",
        reset: "Reiniciar",
        save: "Captura de tela",
        fullscreen: "Tela cheia",
        "previous-image": "Imagem anterior",
        "next-image": "Próxima imagem",
        "previous-series": "Série anterior",
        "next-series": "Próxima série",
        cine: "Filme"
    },
    loader: Z8,
    "panel-structure": {
        "list-actions": {
            cancel_isolate: "Desbloquear",
            isolate: "Isolar",
            hide: "Ocultar",
            display: "Mostrar",
            select: "Selecionar",
            unselect: "Anular selecção"
        }
    },
    "anatomical-parts": {
        gallery: {
            title: "Galeria",
            "in-this-module": "Neste módulo",
            "in-other-modules": "Em outros módulos",
            "image-one": "1 imagem",
            "image-multiple": "{count} imagens",
            all: "Todos"
        },
        description: {
            title: "Definição",
            "no-description": "Ainda não há descrição para esta parte anatômica."
        },
        hierarchy: {
            title: "Hierarquia anatômica",
            eanatomy: {
                1: "Anatomia humana 1",
                2: "Anatomia humana 2",
                3: "Anatomia humana IMAIOS",
                5: "Neuroanatomia humana"
            },
            vetanatomy: {
                4: "Anatomia animal"
            },
            underlying: {
                none: "Não há nenhuma estrutura subjacente",
                title: "Estruturas subjacentes:"
            }
        },
        translation: {
            title: "Tradução"
        },
        "see-more": "Ver mais",
        "see-less": "Ver menos",
        "related-terms": {
            "latin-synonym": "Sinônimo em latim:",
            "latin-eponym": "Epônimo em latim:",
            synonym: "Sinônimo:",
            eponym: "Epônimo:",
            acronym: "Acrônimo:",
            old_fr_nomenclature: "Former nomenclature:",
            "related-term": "Termos relacionados:"
        },
        compare: {
            animal: "Anatomia comparativa em animais",
            human: "Anatomia comparativa em humanos"
        }
    },
    "proxy-banner": {
        "update-config": 'Entre em contato com seu gerente de TI para atualizar as configurações do proxy. Pode compartilhar este <a target="_blank" href="%link%">artigo</a> e sugerir que entre em contato conosco, se precisar.'
    }
}
  , X8 = {
    commons: `Произошла ошибка. Если ошибка повторяется, пожалуйста, свяжитесь с нами по адресу {email}.
Код ошибки: {errorCode}`,
    title: "Ошибка"
}
  , q8 = {
    ok: "OK",
    cancel: "Отменить",
    "external-link-title": "Внешняя ссылка",
    "external-link-description": "Вы будете перенаправлены на веб-сайт IMAIOS.",
    input: {
        error: "Пожалуйста, введите корректное значение"
    }
}
  , J8 = {
    "no-results": "Результатов не найдено",
    "e-anatomy": "e-Anatomy",
    "vet-anatomy": "vet-Anatomy"
}
  , eL = {
    "all-series": "Все серии",
    "n-image-s": "Количество изображений: {count}",
    series: "Серии"
}
  , tL = {
    main: {
        "section-title": "Меню"
    },
    filter: {
        "show-all-structures": "Показать все структуры",
        "hide-all-structures": "Скрыть все структуры",
        "section-title": "Анатомические структуры",
        "select-all": "Выбрать все",
        "show-hidden-structures": "Показать скрытые структуры",
        "show-all-overlays": "Показать все оверлеи",
        "hide-all-overlays": "Скрыть все оверлеи"
    },
    contrast: {
        no_contrast_for_this_series: "Серия без применения контрастного вещества"
    },
    favorites: {
        title: "Закладки",
        add: "Добавить в избранное",
        "add-message": "Сохраните этот вид в своих закладках"
    },
    transformation: {
        "section-title": "Преобразования"
    },
    series: {
        "section-title": "Серии",
        all: "Все серии",
        more: "Больше",
        less: "Меньше"
    },
    legend: {
        "section-title": "Обозначение анатомических структур",
        practice: "Проверка знаний",
        pins: "Маркеры",
        viewzone: "Анатомические структуры в ограниченной области",
        "min-font-size": "Минимальный размер шрифта",
        "font-size": "Размер шрифта"
    },
    display: {
        "section-title": "Режим просмотра",
        description: "Показать описание",
        "dark-mode": "Темная тема",
        "overlays-opacity": "Прозрачность цветных наложений",
        "high-quality": "Высокое качество",
        orientation: "Ориентация",
        "hide-point-without-label": "Показать/cкрыть точки, обозначающие анатомические структуры",
        "cross-references": "Показать/скрыть перекрестные ссылки",
        screenshot: "Сделать скриншот",
        "pulse-animation-toggle": "Point animation"
    },
    language: {
        "section-title": "Язык"
    },
    "advanced-settings": {
        "section-title": "Дополнительные настройки",
        "reset-settings": "Сброс настроек",
        "reverseScroll-settings": "Обратная прокрутка",
        "shortcuts-panel": "Показать горячие клавиши",
        share: {
            label: "Поделиться",
            copied: "Успешно"
        }
    }
}
  , iL = {
    "not-found": "Пока еще нет описания к этой анатомической структуре."
}
  , sL = {
    "not-available": "Недоступно в Internet Explorer",
    banner: {
        "upgrade-full-message": 'Пожалуйста, используйте другой браузер, например  <a href="https://www.microsoft.com/edge" target="_blank">Microsoft Edge</a>, <a href="https://google.com/chrome/" target="_blank">Google Chrome</a> или <a href="https://getfirefox.com/" target="_blank">Firefox</a>.',
        "features-not-available": "Некоторые функции не поддерживаются в Internet Explorer",
        upgrade: "Пожалуйста, используйте другой браузер, например",
        or: "или"
    }
}
  , rL = {
    placeholder: "Поиск"
}
  , nL = {
    text: "Для этой функции требуется премиум-подписка",
    button: {
        subscribe: "Подписаться",
        connect: "Войти"
    }
}
  , aL = {
    window: "Окно",
    weightings: "Режимы",
    default: "Контраст"
}
  , oL = {
    loading: "Загрузка..."
}
  , lL = {
    error: X8,
    dialog: q8,
    commons: J8,
    "context-menu": {
        zoom: "Масштаб",
        pan: "Переместить",
        scroll: "Прокрутка",
        "rotate-left": "Поворот на 90° против часовой стрелки",
        "rotate-right": "Поворот на 90° по часовой стрелке",
        "flip-horizontal": "Отразить горизонтально",
        "flip-vertical": "Отразить вертикально",
        reset: "Перезагрузить",
        viewzone: "Анатомические структуры в ограниченной области",
        hide: "Скрыть",
        show: "Показать",
        toggleVisibility: "Показать/Скрыть",
        "isolate-structure": "Выделить: {param}",
        "clear-isolate-structure": "Разблокировать {param}",
        unselect: "Снять выделение {param}",
        select: "Выбрать: {param}",
        close: "Закрыть",
        "show-cross-reference": "Показать перекрестные ссылки",
        "hide-cross-reference": "Скрыть перекрестные ссылки",
        "show-structure-information": "Показать информацию о структуре"
    },
    gallery: eL,
    menu: tL,
    description: iL,
    "premium-banner": {
        "label-required-premium": "Требуется подписка",
        subscribe: "Подписаться"
    },
    ie: sL,
    search: rL,
    premium: nL,
    contrast: aL,
    "keyboard-panel": {
        title: "Горячие клавиши",
        "reverse-scroll": "Обратная прокрутка",
        viewzone: "Ограничить область просмотра",
        practice: "Проверка знаний",
        "menu-pin": "Pin menu",
        "toggle-overlays": "Показать/скрыть оверлеи",
        "hide-labels": "Показать/скрыть выноски",
        "show-hidden-structures": "Показать скрытые структуры",
        "show-hidden-cross-references": "Показать/скрыть перекрестные ссылки",
        "show-hidden-menu": "Show/hide menu",
        weightings: "Метод",
        scroll: "Cвиток",
        zoom: "Масштаб",
        pan: "Переехать",
        reset: "Cбросить настройки",
        save: "Скриншот",
        fullscreen: "Полноэкранный режим",
        "previous-image": "Предыдущее изображение",
        "next-image": "Следующее изображение",
        "previous-series": "Предыдущая серия",
        "next-series": "Следующая серия",
        cine: "Видео-режим"
    },
    loader: oL,
    "panel-structure": {
        "list-actions": {
            cancel_isolate: "Разблокировать",
            isolate: "Изолировать",
            hide: "Скрыть",
            display: "Отобразить",
            select: "Выбрать",
            unselect: "Отменить выделение"
        }
    },
    "anatomical-parts": {
        gallery: {
            title: "Галерея",
            "in-this-module": "В этом модуле",
            "in-other-modules": "В других модулях",
            "image-one": "Изображение: 1",
            "image-multiple": "количество изображений: {count}",
            all: "Все"
        },
        description: {
            title: "Определение",
            "no-description": "Пока еще нет описания к этой анатомической структуре."
        },
        hierarchy: {
            title: "Анатомическая иерархия",
            eanatomy: {
                1: "Анатомия человека 1",
                2: "Анатомия человека 2",
                3: "Анатомия человека IMAIOS",
                5: "Нейроанатомия человека"
            },
            vetanatomy: {
                4: "Анатомия животных"
            },
            underlying: {
                none: "Нет никакой основной структуры",
                title: "Основные структуры:"
            }
        },
        translation: {
            title: "Перевод"
        },
        "see-more": "Показать больше",
        "see-less": "Показать меньше",
        "related-terms": {
            "latin-synonym": "Синоним на латинском языке:",
            "latin-eponym": "Эпоним на латинском языке:",
            synonym: "Синоним:",
            eponym: "Эпоним:",
            acronym: "Аббревиатура:",
            old_fr_nomenclature: "Former nomenclature:",
            "related-term": "Связанные термины:"
        },
        compare: {
            animal: "Сравнительная анатомия животных",
            human: "Сравнительная анатомия человека"
        }
    },
    "proxy-banner": {
        "update-config": 'Обратитесь к своему ИТ-администратору для обновления конфигурации прокси-сервера. Вы можете предоставить ему эту <a target="_blank" href="%link%">статью</a> и сообщить, что можно связаться с нами при необходимости.'
    }
}
  , cL = {
    commons: `发生错误。如果错误持续存在，请通过 {email} 联系我们。
错误代码：{errorCode}`,
    title: "错误"
}
  , uL = {
    ok: "好",
    cancel: "取消",
    "external-link-title": "外部链接",
    "external-link-description": "您将被重定向到IMAIOS网站。",
    input: {
        error: "请输入有效值"
    }
}
  , dL = {
    "no-results": "没有结果",
    "e-anatomy": "e-Anatomy",
    "vet-anatomy": "vet-Anatomy"
}
  , hL = {
    "all-series": "所有系列",
    "n-image-s": "{count} 图片",
    series: "系列"
}
  , pL = {
    main: {
        "section-title": "目录"
    },
    filter: {
        "show-all-structures": " 显示所有结构",
        "hide-all-structures": "隐藏所有结构",
        "section-title": "解剖结构",
        "select-all": "选择所有",
        "show-hidden-structures": "显示已隐藏结构",
        "show-all-overlays": "显示所有叠加",
        "hide-all-overlays": "隐藏所有叠加"
    },
    contrast: {
        no_contrast_for_this_series: "此系列没有对比选项"
    },
    favorites: {
        title: "书签",
        add: "加入书签",
        "add-message": "将此图片保存到您的书签"
    },
    transformation: {
        "section-title": "转换"
    },
    series: {
        "section-title": "系列",
        all: "所有系列",
        more: "更多",
        less: "更少"
    },
    legend: {
        "section-title": "标记",
        practice: "测验",
        pins: "大头针",
        viewzone: "局部标签",
        "min-font-size": "最小字体",
        "font-size": "字体大小"
    },
    display: {
        "section-title": "显示模式",
        description: "菜单描述",
        "dark-mode": "夜间模式",
        "overlays-opacity": "覆盖不透明度",
        "high-quality": "高画质",
        orientation: "方向",
        "hide-point-without-label": "显示/隐藏标记点",
        "cross-references": "显示/隐藏交叉参考",
        screenshot: "屏幕截图",
        "pulse-animation-toggle": "提示标记点"
    },
    language: {
        "section-title": "语言"
    },
    "advanced-settings": {
        "section-title": "进阶设定",
        "reset-settings": "重新设置",
        "reverseScroll-settings": "反向滚动",
        "shortcuts-panel": "显示快捷方式",
        share: {
            label: "分享",
            copied: "成功"
        }
    }
}
  , mL = {
    "not-found": "暂没关于此解剖部分的描述"
}
  , gL = {
    "not-available": "不适用于 Internet Explorer",
    banner: {
        "upgrade-full-message": '请使用其他浏览器，例如<a href="https://www.microsoft.com/edge" target="_blank">Microsoft Edge</a>, <a href="https://google.com/chrome/" target="_blank">Google Chrome</a> 或 <a href="https://getfirefox.com/" target="_blank">Firefox</a>',
        "features-not-available": "Internet Explorer 不支持某些功能",
        upgrade: "请使用其他浏览器，例如",
        or: "或"
    }
}
  , fL = {
    placeholder: "搜寻"
}
  , vL = {
    text: "此功能需要付费订阅",
    button: {
        subscribe: "订购",
        connect: "登录"
    }
}
  , yL = {
    window: "窗口",
    weightings: "加权",
    default: "对比"
}
  , EL = {
    loading: "下载中..."
}
  , IL = {
    error: cL,
    dialog: uL,
    commons: dL,
    "context-menu": {
        zoom: "放大",
        pan: "拖动",
        scroll: "滚动",
        "rotate-left": "逆时针旋转 90°",
        "rotate-right": "顺时针旋转 90°",
        "flip-horizontal": "水平翻转",
        "flip-vertical": "垂直翻转",
        reset: "重设",
        viewzone: "局部标签",
        hide: "隐藏",
        show: "显示",
        toggleVisibility: "显示/隐藏",
        "isolate-structure": "隐藏{param}",
        "clear-isolate-structure": "解锁 {param}",
        unselect: "取消选择{param}",
        select: "选择: {param}",
        close: "关闭",
        "show-cross-reference": "显示交互参照",
        "hide-cross-reference": "隐藏交互参照",
        "show-structure-information": "显示结构信息"
    },
    gallery: hL,
    menu: pL,
    description: mL,
    "premium-banner": {
        "label-required-premium": "需要订阅才能解锁所有功能",
        subscribe: "订购"
    },
    ie: gL,
    search: fL,
    premium: vL,
    contrast: yL,
    "keyboard-panel": {
        title: "快捷方式",
        "reverse-scroll": "反向滚动",
        viewzone: "局部标签",
        practice: "测验",
        "menu-pin": "固定菜单",
        "toggle-overlays": "显示/隐藏叠加",
        "hide-labels": "显示/隐藏标签",
        "show-hidden-structures": "显示已隐藏结构",
        "show-hidden-cross-references": "显示/隐藏交叉参考",
        "show-hidden-menu": "显示/隐藏菜单",
        weightings: "模式",
        scroll: "滚动",
        zoom: "放大",
        pan: "拖动",
        reset: "重设",
        save: "截图",
        fullscreen: "全屏幕",
        "previous-image": "上一张图片",
        "next-image": "下一张图片",
        "previous-series": "上一个系列",
        "next-series": "下一个系列",
        cine: "连续播放"
    },
    loader: EL,
    "panel-structure": {
        "list-actions": {
            cancel_isolate: "解锁",
            isolate: "隐藏",
            hide: "隐藏",
            display: "显示",
            select: "选取",
            unselect: "取消选取"
        }
    },
    "anatomical-parts": {
        gallery: {
            title: "图片集",
            "in-this-module": "在这个单元",
            "in-other-modules": "在其他单元",
            "image-one": "1 图像",
            "image-multiple": "{count} 图片",
            all: "全部"
        },
        description: {
            title: "定义",
            "no-description": "暂没关于此解剖部分的描述"
        },
        hierarchy: {
            title: "解剖层次",
            eanatomy: {
                1: "人体解剖学1",
                2: "人体解剖学2",
                3: "人体解剖学IMAIOS",
                5: "人体神经解剖学"
            },
            vetanatomy: {
                4: "动物解剖"
            },
            underlying: {
                none: "没有底层结构",
                title: "底层结构："
            }
        },
        translation: {
            title: "翻译"
        },
        "see-more": "查看更多",
        "see-less": "查看更少",
        "related-terms": {
            "latin-synonym": "拉丁语近义词：",
            "latin-eponym": "拉丁名祖：",
            synonym: "同义词：",
            eponym: "命名学:",
            acronym: "首字母缩略词：",
            old_fr_nomenclature: "Former nomenclature:",
            "related-term": "相关用语:"
        },
        compare: {
            animal: "动物的比较解剖学",
            human: "人類的比较解剖学"
        }
    },
    "proxy-banner": {
        "update-config": '请联系您的 IT 管理员更新代理配置。您可以向他们提供此<a target="_blank" href="%link%">文章</a>，并告诉他们在必要时跟我们联系。'
    }
};
Te.use(V);
const CL = new V({
    locale: "en",
    fallbackLocale: "en",
    messages: {
        de: l7,
        en: I7,
        es: N7,
        fr: $7,
        it: i8,
        ja: m8,
        ko: w8,
        pl: z8,
        pt: Q8,
        ru: lL,
        zh: IL
    }
})
  , bL = {
    inserted: t => {
        function e() {
            const r = Array.from(t.children).find(n => n.nodeName === "IMG");
            r && (r.addEventListener("load", () => t.classList.add("loaded")),
            r.src = r.dataset.url)
        }
        function i(r, n) {
            r.forEach(a => {
                a.isIntersecting && (e(),
                n.unobserve(t))
            }
            )
        }
        function s() {
            new IntersectionObserver(i,{
                root: null,
                threshold: 0
            }).observe(t)
        }
        window.IntersectionObserver ? s() : e()
    }
}
  , SL = "2.22.3";
class Hi {
    static getImaiosCodeV2(e) {
        return Object.keys(In).includes(e) ? In[e] : e
    }
    static parseUserAgent() {
        return Dm(navigator.userAgent)
    }
    static buildErrorData(e, i, s, r, n, a, o, l=!1) {
        var h, d, m, p, f, g, E, I, C, w;
        const c = {
            timestamp: Date.now(),
            error_message: s,
            stack_trace: r,
            user_id: y.getUserId() !== yr ? y.getUserId() : null,
            application_info: {
                "user-agent": navigator.userAgent,
                "application-version": SL,
                "application-id": a,
                "site-access": y.getSiteAccess(),
                "package-name": "viewer-anatomy"
            },
            component_name: o,
            error_from: e,
            module: n,
            error_type: i
        }
          , u = Hi.parseUserAgent();
        return typeof u.browser.major < "u" && delete u.browser.major,
        l ? (c.browser_name = (d = (h = u.browser) == null ? void 0 : h.name) != null ? d : null,
        c.browser_version = (p = (m = u.browser) == null ? void 0 : m.version) != null ? p : null,
        c.os_name = (g = (f = u.os) == null ? void 0 : f.name) != null ? g : null,
        c.os_version = (I = (E = u.os) == null ? void 0 : E.version) != null ? I : null) : (c.application_info.browser = u.browser,
        c.application_info.os = u.os,
        c.application_info.page_url = (w = (C = window.location) == null ? void 0 : C.href) != null ? w : null),
        c
    }
    static sendError(e, i, s, r, n, a, o) {
        const l = Hi.buildErrorData(e, i, s, r, n, a, o);
        re.fetch("https://ohbdukzg7jje4gelvm6zkprom40qzqey.lambda-url.eu-west-3.on.aws/", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                "Access-Control-Allow-Origin": window.location.origin
            },
            mode: "cors",
            body: JSON.stringify(l)
        }).catch( () => {}
        )
    }
}
class Ni {
    constructor(e, i) {
        this.data = {
            application_id: e,
            moduleName: i
        }
    }
    get newrelicAgent() {
        return typeof window.NREUM < "u" ? window.NREUM : typeof window.newrelic < "u" ? window.newrelic : null
    }
    static parseStackTrace(e) {
        let i = e.split(`
`);
        i = i.map(a => a.trim()).filter(a => a);
        const s = i.shift().split(":")
          , r = s[0].trim()
          , n = s.length > 1 ? s[1].trim() : "";
        return {
            errorType: r,
            errorMessage: n
        }
    }
    sendError(e, i, s, r, n, a=null) {
        var l, c;
        const o = Hi.buildErrorData(i, null, null, null, Hi.getImaiosCodeV2(this.data.moduleName), this.data.application_id, a, !0);
        Ni.isUnwantedError(o) || (Hi.sendError(i, s, r, n, Hi.getImaiosCodeV2(this.data.moduleName), this.data.application_id, a),
        (c = (l = this.newrelicAgent) == null ? void 0 : l.noticeError) == null || c.call(l, e, o))
    }
    static isUnwantedError(e) {
        return Ni.isAbortError(e) || Ni.isBot(e)
    }
    static isBot(e) {
        return e.application_info["user-agent"].includes("bot") || e.application_info["user-agent"].includes("Baiduspider")
    }
    static isAbortError(e) {
        var i;
        return ((i = e.error_type) == null ? void 0 : i.includes("AbortError")) || /The operation was aborted/i.test(e.error_message)
    }
    sendVueError(e) {
        var n;
        if (!((n = e == null ? void 0 : e.error) != null && n.stack))
            return;
        const {errorType: i, errorMessage: s} = Ni.parseStackTrace(e.error.stack)
          , r = e.vm.$vnode.componentOptions.tag;
        this.sendError(e.error, k.errors.VUE_ERROR, i, s, e.error.stack, r)
    }
    sendCoreError(e) {
        var n;
        if (e === void 0 || e.from === void 0 && e.stack === void 0 || e.from !== void 0 && e.error === null)
            return;
        const i = e.from ? e.error : e
          , {errorType: s, errorMessage: r} = Ni.parseStackTrace(i.stack);
        this.sendError(i, (n = e == null ? void 0 : e.from) != null ? n : k.errors.CORE_ERROR, s, r, i.stack)
    }
    sendApplicationError(e, i) {
        this.sendError(e, `${F.EVENT.ERROR}--code-${i}`, e.name, e.message, e.stack)
    }
}
window.addEventListener("pageshow", t => {
    (t.persisted || typeof window.performance < "u" && window.performance.getEntriesByType("navigation").some(e => e.type === Ny)) && window.location.reload()
}
);
typeof window.imaios.pubsub < "u" && window.imaios.pubsub.subscribe(window.imaios.pubsub, Ry, t => {
    y.setUserId(t)
}
);
y.store = Rp;
Te.config.productionTip = !1;
Te.use(Ft);
Te.directive("lazy-load-image", bL);
function TL(t) {
    return typeof t == "string" && t.length > 0
}
function AL(t) {
    return typeof t == "string" && t.length > 0
}
function wL(t, e) {
    if (!y.isEmbed()) {
        const i = new Ni(t,e);
        y.errorHandler = i,
        Te.config.errorHandler = (s, r) => {
            const n = {
                error: s,
                vm: r
            };
            i.sendVueError(n)
        }
        ,
        window.addEventListener("error", ({error: s}) => {
            s instanceof DOMException || i.sendCoreError(s, !1)
        }
        )
    }
}
window.IMAIOS_ANATOMY = {
    startViewer(f) {
        return _(this, arguments, function*({containerSelector: t, moduleName: e=null, language: i=null, apiKey: s=null, userId: r=null, token: n=null, timestamp: a=null, application: o=null, baseURL: l="", imageBaseURL: c=null, key: u="", keyIV: h="", applicationHomepageUrl: d="", subscribeUrl: m="", loginUrl: p=""}) {
            y.isIMAIOSDomain() || (re.baseURL = l),
            c !== null && (re.imageBaseURL = c),
            y.url.subscribe = m !== "" ? m : window.imaios.get("subscribe_url"),
            y.url.login = p !== "" ? p : window.imaios.get("login_url"),
            y.url.applicationHomepage = d !== "" ? d : window.imaios.get("application_homepage_url"),
            u !== "" && h !== "" ? (y.key = u,
            y.keyIV = h) : (y.key = window.imaios.get(window.imaios.sha256("key_encryption")),
            y.keyIV = window.imaios.get(window.imaios.sha256("key_encryption_iv"))),
            y.siteAccess = i !== null ? y.transformLocalToSiteAccess(i) : y.getSiteAccess(),
            re.apiKey = s,
            y.isEmbedded = s !== null;
            const g = document.querySelector(t);
            if (g === null)
                throw new Sp(t);
            e === null && (e = g.getAttribute("data-module-name")),
            e = e.replace(/_v\d+/, ""),
            o === null && (o = g.getAttribute("data-application"));
            let E = g.getAttribute("data-title");
            if (!(TL(o) && AL(E)) || !y.isIMAIOSDomain())
                try {
                    const C = yield re.getDataModule(e, o, y.siteAccess);
                    o = C.application,
                    E = C.title
                } catch (C) {}
            re.apiKey !== null && (yield re.setAPIClientInfo(r, n, a),
            re.scholarlyiq_id !== null && window.imaios.pubsub.publish("anatomy-institution", {
                module: e,
                scholarlyiq_id: re.scholarlyiqId,
                application: o,
                client_id: re.APIClientId
            })),
            wL(o, e);
            const I = mr(t);
            try {
                y.id = I,
                new Te({
                    store: Rp,
                    i18n: CL,
                    render: C => C(C3, {
                        props: {
                            moduleId: e,
                            application: o,
                            title: E,
                            id: I,
                            language: y.siteAccess
                        }
                    })
                }).$mount(t)
            } catch (C) {
                y.errorHandler.sendCoreError(C)
            }
        })
    }
};
const _L = "faaeb9be3bd98ed09f606fc16d144eca";
ec.awaitConnection().then( () => {
    var e;
    const t = ec.getLocalUserData();
    tc.publish("update-anatomy-user-id", (e = t.id) != null ? e : _L),
    tc.publish("update-anatomy-user-access", t)
}
);
//# sourceMappingURL=anatomy-module-Btllvf_O.js.map
